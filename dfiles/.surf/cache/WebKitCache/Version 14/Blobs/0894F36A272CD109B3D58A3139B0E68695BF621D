new function(){if(!window.ADRUM&&!0!==window["adrum-disable"]){var e=window.ADRUM={};window["adrum-start-time"]=window["adrum-start-time"]||(new Date).getTime(),((Fe=e=e||{}).monitor||(Fe.monitor={})).Zc=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];for(t=0;t<e.length;t++){var n=e[t];n&&n.setUp()}},function(e){(e=e.conf||(e.conf={})).beaconUrlHttp="http://col.eum-appdynamics.com",e.beaconUrlHttps="https://col.eum-appdynamics.com",e.corsEndpointPath="/eumcollector/beacons/browser/v1",e.imageEndpointPath="/eumcollector/adrum.gif?",e.appKey=window["adrum-app-key"]||"AD-AAB-AAA-WSC";var t="https:"===document.location.protocol;if(e.adrumExtUrl=(t?"https://cdn.appdynamics.com":"http://cdn.appdynamics.com")+"/adrum-ext.0086dbec5e8a6e717bf36d3a06b62042.js",e.adrumXdUrl="https://cdn.appdynamics.com/adrum-xd.0086dbec5e8a6e717bf36d3a06b62042.html",e.agentVer="4.2.7.1",e.sendImageBeacon="false",window["adrum-geo-resolver-url"]){var n=window["adrum-geo-resolver-url"],i=n.indexOf("://");-1!=i&&(n=n.substring(i+3)),n=(t?"https://":"http://")+n}else n="";e.geoResolverUrl=n,e.useStrictDomainCookies=!0===window["adrum-use-strict-domain-cookies"],e.userConf=window["adrum-config"],e.$d=10}(e=e||{}),Re=e=e||{},(Ie=Re.utils||(Re.utils={})).isDefined=lt,Ie.isArray=ct,Ie.isObject=ut,Ie.isFunction=function(e){return"function"==typeof e||!1},Ie.isString=dt,Ie.isNumber=function(e){return"number"==typeof e},Ie.Ta=function(e){setTimeout(e,0)},Ie.addEventListener=function(t,n,e){function i(){try{return e.apply(this,Array.prototype.slice.call(arguments))}catch(e){Re.exception(e,"M1",n,t,e)}}Re.isDebug&&Re.log("M0",n,t),t.addEventListener?t.addEventListener(n,i,!1):t.attachEvent&&t.attachEvent("on"+n,i)},Ie.loadScriptAsync=function(e){var t=document.createElement("script");t.async=!0,t.src=e;var n=document.getElementsByTagName("script")[0];n?(n.parentNode.insertBefore(t,n),Re.log("M2",e)):Re.log("M3",e)},Ie.mergeJSON=function e(t,n){for(var i in n){var r=n[i];if(ht(n,i)){var o=t[i];ut(r)&&ut(o)?e(o,r):t[i]=ct(o)&&ct(r)?o.concat(r):r}}return t},Ie.hasOwnPropertyDefined=ht,Ie.od=function(e){var t=[];return e&&(Ie.isObject(e)?t=[e]:Ie.isArray(e)&&(t=e)),t},Ie.generateGUID=void 0!==window.crypto&&void 0!==window.crypto.getRandomValues?function(){function e(e){for(e=e.toString(16);e.length<4;)e="0"+e;return e}var t=new Uint16Array(8);return window.crypto.getRandomValues(t),e(t[0])+e(t[1])+"_"+e(t[2])+"_"+e(t[3])+"_"+e(t[4])+"_"+e(t[5])+e(t[6])+e(t[7])}:function(){return"xxxxxxxx_xxxx_4xxx_yxxx_xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},Ie.fd=function(e){return(e=e&&e.stack)&&"string"==typeof e?e:null},Ie.trim=pt,Ie.xg=function(e){var t,n,i={};if(!e)return i;var r=e.split("\n");for(n=0;n<r.length;n++){var o=r[n];t=o.indexOf(":"),e=pt(o.substr(0,t)).toLowerCase(),t=pt(o.substr(t+1)),e&&(i[e]=i[e]?i[e]+", "+t:t)}return i},Ie.tryPeriodically=function(n,i,r,o){var a=0;!function e(){if(i())r&&r();else{var t=n(++a);0<t?setTimeout(e,t):o&&o()}}()},Ie.Qb=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Ie.Ic=function(n){for(var i=[],e=1;e<arguments.length;e++)i[e-1]=arguments[e];return function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return n.apply(this,i.concat(e))}},Ie.now=Date&&Date.now||function(){return(new Date).getTime()},function(r){function n(e,t,n,i){return e=r.conf.beaconUrlHttps+"/eumcollector/error.gif?version=1&appKey="+n+"&msg="+encodeURIComponent(e.substring(0,500)),i&&(e+="&stack=",e+=encodeURIComponent(i.substring(0,1500-e.length))),e}function i(e,t){2<=a||(document.createElement("img").src=n(e,0,r.conf.appKey,t),a++)}function e(e){return 0<=e.location.search.indexOf("ADRUM_debug=true")||0<=e.cookie.search(/(^|;)\s*ADRUM_debug=true/)}r.iDR=e,r.isDebug=e(document);var o=[];r.logMessages=o,r.log=function(e){for(var t=1;t<arguments.length;t++);r.isDebug&&o.push(Array.prototype.slice.call(arguments).join(" | "))},r.error=function(e){for(var t=1;t<arguments.length;t++);t=Array.prototype.slice.call(arguments).join(" | "),r.log(t),i(t,null)},r.exception=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];arguments.length<1||(e=Array.prototype.slice.call(arguments),t=r.utils.fd(e[0]),e=e.slice(1).join(" | "),r.log(e),i(e,t))},r.assert=function(e,t){e||r.error("Assert fail: "+t)},r.dumpLog=r.isDebug?function(){for(var e="",t=0;t<o.length;t++)e+=o[t].replace(RegExp("<br/>","g"),"\n\t")+"\n";return e}:function(){},r.cIEBU=n;var a=0;r.log("M4")}(e=e||{}),De=e=e||{},st.prototype.Mf=function(){this.ka()||this.za++},st.prototype.ka=function(){return this.za>=this.max},st.prototype.reset=function(){this.za=0},Pe=st,at.prototype.submit=function(e){this.push(e)&&De.initEXTDone&&this.processQ()},at.prototype.processQ=function(){for(var e=this.ef(),t=0;t<e.length;t++){var n=e[t];"function"==typeof De.commands[n[0]]?(De.isDebug&&De.log("M5",n[0],n.slice(1).join(", ")),De.commands[n[0]].apply(De,n.slice(1))):De.error("M6",n[0])}},at.prototype.ag=function(e){return"reportXhr"===e||"reportPageError"===e},at.prototype.push=function(e){var t=e[0],n=this.ag(t),i=n?this.Va:this.Ka;return i.ka()?(De.log("M7",n?"spontaneous":"non spontaneous",t),!1):(this.ha.push(e),i.Mf(),!0)},at.prototype.ef=function(){var e=this.ha;return this.reset(),e},at.prototype.size=function(){return this.ha.length},at.prototype.reset=function(){this.ha=[],this.Va.reset(),this.Ka.reset()},at.prototype.isSpontaneousQueueDead=function(){return this.Va.ka()},at.prototype.isNonSpontaneousQueueDead=function(){return this.Ka.ka()},at.oe=100,at.ce=100,_e=at,De.Cd=_e,(Me=e=e||{}).q=new Me.Cd,Me.command=function(e){for(var t=1;t<arguments.length;t++);Me.isDebug&&Me.log("M8",e,Array.prototype.slice.call(arguments).slice(1).join(", ")),Me.q.submit(Array.prototype.slice.call(arguments))},ke=e=e||{},Ae=ke.monitor||(ke.monitor={}),ot.prototype.setUp=function(){},ot.prototype.set=function(e,t){this.status[e]=t},Te=ot,Ae.mb=Te,$e=e=e||{},Ee=$e.aop||($e.aop={}),(window.ADRUM.aop=Ee).support=function(e){return!e||"apply"in e},Ee.around=function(i,r,o,a){return $e.assert(Ee.support(i),"aop.around called on a function which does not support interception"),i=i||function(){},function(){$e.isDebug&&$e.log("M9",a,Array.prototype.slice.call(arguments).join(", "));var e,t=Array.prototype.slice.call(arguments);try{r&&(e=r.apply(this,t))}catch(e){$e.exception(e,"M10",a,e)}$e.assert(!e||"[object Array]"===Object.prototype.toString.call(e));var n=void 0;try{n=i.apply(this,e||t)}finally{try{o&&o.apply(this,t)}catch(e){$e.exception(e,"M11",a,e)}}return n}},Ee.before=function(e,t){return Ee.around(e,t)},Ee.after=function(e,t){return Ee.around(e,null,t)},(Se=(Se=e=e||{}).EventType||(Se.EventType={}))[Se.BASE_PAGE=0]="BASE_PAGE",Se[Se.IFRAME=1]="IFRAME",Se[Se.XHR=2]="XHR",Se[Se.VIRTUAL_PAGE=3]="VIRTUAL_PAGE",Se[Se.PAGE_ERROR=4]="PAGE_ERROR",Se[Se.ABSTRACT=100]="ABSTRACT",Se[Se.ADRUM_XHR=101]="ADRUM_XHR",Se[Se.NG_VIRTUAL_PAGE=102]="NG_VIRTUAL_PAGE",(Ce=(Ce=e=e||{}).events||(Ce.events={})).l={},Ce.l[100]={guid:"string",url:"string",parentGUID:"string",parentUrl:"string",parentType:"number",timestamp:"number"},Ce.l[3]={resTiming:"object"},Ce.l[102]={digestCount:"number"},Ce.l[2]={method:"string",parentPhase:"string",parentPhaseId:"number",error:"object"},Ce.l[101]={xhr:"object"},Ce.l[4]={msg:"string",line:"number",stack:"string"},fe=e=e||{},rt.prototype.mark=function(e,t){ge.mark.apply(this,arguments)},rt.prototype.getTiming=function(e){return(e=this.getEntryByName(e))&&e.startTime},rt.prototype.measure=function(e,t,n){ge.measure.apply(this,arguments)},rt.prototype.getEntryByName=function(e){return ge.getEntryByName.call(this,e)},rt.ya=function(e){return ge.ya(e)},xe=rt,fe.PerformanceTracker=xe,me=ge=ge||{},ve=fe.utils.hasOwnPropertyDefined,ye=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance,be=ye&&ye.timing&&ye.timing.navigationStart?ye.timing.navigationStart:window["adrum-start-time"],we=fe.utils.now,me.mark=function(e,t){this.w[e]={name:e,entryType:"mark",startTime:fe.utils.isDefined(t)?t:we(),duration:0}},me.measure=function(e,t,n){ve(this.w,t)&&ve(this.w,n)?this.w[e]={name:e,entryType:"measure",startTime:t?this.w[t].startTime:be,duration:(n?this.w[n].startTime:we())-(t?this.w[t].startTime:be)}:fe.error("M12",ve(this.w,t)?n:t)},me.getEntryByName=function(e){return this.w[e]||null},me.ya=function(e){return e+be},de=e=e||{},he=de.events||(de.events={}),it.prototype.type=function(){return 100},it.prototype.Yc=function(e){if(de.utils.isObject(e))for(var t in e){var n=this[t]||this["mark"+de.utils.Qb(t)];n&&de.utils.isFunction(n)&&n.call(this,e[t])}},it.Mb=function(e,t,n){return{guid:function(){return e},url:function(){return t},type:function(){return n}}},it.prototype.Cf=function(){return it.Mb(this.parentGUID(),this.parentUrl(),this.parentType())},it.prototype.parent=function(e){var t=this.Cf();return de.utils.isDefined(e)&&(this.parentGUID(e.guid()),this.parentUrl(e.url()),this.parentType(e.type())),t},pe=it,he.EventTracker=pe,he.W=nt,he.Nb=function(e,t){var n,i=function(e){var t,n={};for(t in e){var i=e[t];n[i.start]=!0,n[i.end]=!0}return n}(e=e||{});for(n in i)t["mark"+(i=de.utils.Qb(n))]=de.utils.Ic(function(e,t){this.perf.mark(e,t)},n),t["get"+i]=de.utils.Ic(function(e){return this.perf.getTiming(e)},n)},nt(he.l[100],pe.prototype);var t=this.He||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};se=e=e||{},le=se.events||(se.events={}),ce=le.EventTracker,t(tt,ce),tt.prototype.type=function(){return 4},ue=tt,le.Error=ue,le.W(le.l[4],ue.prototype),ie=e=e||{},re=ie.monitor||(ie.monitor={}),oe=re.mb,t(et,oe),et.prototype.setUp=function(){oe.prototype.setUp.call(this),ie.listenForErrors=this.Ac,this.Ac()},et.prototype.Ac=function(){if(ie.aop.support(window.onerror)){var o=this;window.onerror=ie.aop.around(window.onerror,function(e,t,n,i,r){et.Ia||(et.errorsSent>=ie.conf.$d?ie.log("M13"):(i=ie.utils.fd(r),ie.command("reportPageError",new ie.events.Error(ie.utils.mergeJSON({msg:e,url:t,line:n,stack:i},o.status))),et.errorsSent++,et.Ia=!0))},function(){et.Ia=!1},"onerror"),ie.log("M14")}else ie.log("M15")},et.Ia=!1,et.errorsSent=0,ae=et,re.ErrorMonitor=ae,re.Zb=new re.ErrorMonitor,te=e=e||{},Qe.prototype.pg=function(e){this.na(Qe.Gb,e)},Qe.prototype.rg=function(e){this.na(Qe.Ob,e)},Qe.prototype.qg=function(e){this.na(Qe.Ib,e)},Qe.prototype.na=function(e,t){this.sa.push({og:(new Date).getTime(),mg:t,Jc:e}),this.af=e},Qe.prototype.getPhaseName=function(){return this.af},Qe.prototype.getPhaseID=function(e){for(var t=0;t<Qe.Lb.length;t++)if(Qe.Lb[t]===e)return t;return null},Qe.prototype.getPhaseCallbackTime=function(e){for(var t=this.sa,n=0;n<t.length;n++)if(t[n].Jc===e)return t[n].og;return null},Qe.prototype.findPhaseAtNominalTime=function(e){te.assert(0<=e);for(var t=this.sa,n=t.length-1;0<=n;n--)if(e>=t[n].mg)return t[n].Jc;return te.error("M16",e,te.utils.ff(t)),Qe.va},Qe.Lb=[Qe.va="AFTER_FIRST_BYTE",Qe.Gb="AFTER_DOM_INTERACTIVE",Qe.Ob="AT_ONLOAD",Qe.Ib="AFTER_ONLOAD"],ne=Qe,te.ph=ne,te.lifecycle=new ne,te.lifecycle=te.lifecycle,Z=e=e||{},J=Z.events||(Z.events={}),Q=J.EventTracker,t(Je,Q),Je.prototype.type=function(){return 0},ee=Je,J.PageView=ee,Y=e=e||{},X=Y.monitor||(Y.monitor={}),Ze.prototype.setUp=function(){Ze.Lg(),Ze.Kg()},Ze.Kg=function(){Y.utils.addEventListener(window,"load",Ze.oa),Y.utils.addEventListener(window,"load",Ze.ug)},Ze.ug=function(e){Y.lifecycle.rg(e&&e.timeStamp),Y.utils.Ta(function(){var e=(new Date).getTime();Y.lifecycle.qg(e),Y.command("mark","onload",e),X.yb.perf&&(X.perfMonitor.Xe(),X.perfMonitor.Ye()),Y.command("reportOnload",new Y.events.PageView),Y.utils.loadScriptAsync(Y.conf.adrumExtUrl)}),Y.log("M17")},Ze.Lg=function(){if(document.addEventListener)document.addEventListener("DOMContentLoaded",Ze.ca,!1);else{document.attachEvent("onreadystatechange",Ze.ca);var e=null;try{e=null===window.frameElement?document.documentElement:null}catch(e){}null!=e&&e.doScroll&&function t(){if(!Ze.isReady){try{e.doScroll("left")}catch(e){return void setTimeout(t,10)}Ze.oa()}}()}Y.log("M18")},Ze.oa=function(e){Ze.Dc||(Y.lifecycle.pg(e&&e.timeStamp),Y.command("mark","onready",(new Date).getTime()),Ze.Dc=!0)},Ze.ca=function(e){document.addEventListener?(document.removeEventListener("DOMContentLoaded",Ze.ca,!1),Ze.oa(e)):"complete"===document.readyState&&(document.detachEvent("onreadystatechange",Ze.ca),Ze.oa(e))},Ze.isReady=!1,Ze.Dc=!1,K=Ze,X.Ed=K,X.df=new X.Ed,U=e=e||{},W=U.monitor||(U.monitor={}),Ke.prototype.setUp=function(){Ke.perf=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance},Ke.prototype.Xe=function(){var e=Ke.perf;if(e=e&&e.timing)if(e.navigationStart&&e.navigationStart<=e.loadEventEnd){var t,n={};for(t in e){var i=e[t];"number"==typeof i&&(n[t]=i)}this.navTiming=n}else U.log("M20");else U.log("M19")},Ke.prototype.Ye=function(){this.resTiming=this.hc()},Ke.prototype.hc=function(){var e=Ke.perf,t=[];return e&&e.getEntriesByType&&(e=e.getEntriesByType("resource"))&&e.length&&0<e.length&&e.unshift&&(t=e),0==t.length&&U.log("M21"),t},Ke.perf=null,q=Ke,W.yb=q,W.perfMonitor=new W.yb,(G=(G=(G=e=e||{}).events||(G.events={})).b||(G.b={})).navigationStart="navigationStart",G.domainLookupStart="domainLookupStart",G.domainLookupEnd="domainLookupEnd",G.connectStart="connectStart",G.secureConnectionStart="secureConnectionStart",G.connectEnd="connectEnd",G.requestStart="requestStart",G.responseStart="responseStart",G.responseEnd="responseEnd",G.domContentLoadedEventStart="domContentLoadedEventStart",G.loadEventEnd="loadEventEnd",G.Wc="sendTime",G.ac="firstByteTime",G.Sc="respAvailTime",G.Tc="respProcTime",G.cb="viewChangeStart",G.kd="viewChangeEnd",G.eb="viewDOMLoaded",G.qd="xhrRequestsCompleted",G.Wh="viewFragmentsLoaded",G.Xh="viewResourcesLoaded",G.fb="virtualPageStart",G.eh="virtualPageEnd",(j=(j=e=e||{}).events||(j.events={})).B={},j.B[0]={lf:{start:j.b.navigationStart,end:j.b.loadEventEnd,name:"PLT"},qf:{start:j.b.navigationStart,end:j.b.responseStart,name:"FBT"},Sh:{start:j.b.navigationStart,end:j.b.requestStart,name:"SCT"},Th:{start:j.b.secureConnectionStart,end:j.b.connectEnd,name:"SHT"},zh:{start:j.b.domainLookupStart,end:j.b.domainLookupEnd,name:"DLT"},Vh:{start:j.b.connectStart,end:j.b.connectEnd,name:"TCP"},Qh:{start:j.b.requestStart,end:j.b.responseStart,name:"RAT"},Bh:{start:j.b.responseStart,end:j.b.loadEventEnd,name:"FET"},Dh:{start:j.b.responseStart,end:j.b.domContentLoadedEventStart,name:"DRT"},th:{start:j.b.responseStart,end:j.b.responseEnd,name:"DDT"},xh:{start:j.b.responseEnd,end:j.b.domContentLoadedEventStart,name:"DPT"},Ph:{start:j.b.domContentLoadedEventStart,end:j.b.loadEventEnd,name:"PRT"},yh:{start:j.b.navigationStart,end:j.b.domContentLoadedEventStart,name:"DOM"}},j.B[2]={qf:{start:j.b.Wc,end:j.b.ac,name:"FBT"},Ch:{start:j.b.ac,end:j.b.Sc,name:"DDT"},sh:{start:j.b.Sc,end:j.b.Tc,name:"DPT"},lf:{start:j.b.Wc,end:j.b.Tc,name:"PLT"}},j.B[3]={Jh:{start:j.b.fb,end:j.b.eh,name:"PLT"},vh:{start:j.b.cb,end:j.b.kd,name:"DDT"},Gh:{start:j.b.cb,end:j.b.eb,name:"DRT"},kh:{start:j.b.kd,end:j.b.eb,name:"DPT"},lh:{start:j.b.cb,end:j.b.eb,name:"DOM"},Oh:{start:"viewChangeEnd",end:"xhrRequestsCompleted",name:null},Hh:{start:"viewChangeEnd",end:"viewPartialsLoaded",name:null},Fh:{start:"viewPartialsLoaded",end:"viewFragmentsLoaded",name:null},Ih:{start:"viewPartialsLoaded",end:"viewResourcesLoaded",name:null}},j.B[102]=j.B[3],V=e=e||{},H=V.events||(V.events={}),B=H.EventTracker,t(Xe,B),Xe.prototype.type=function(){return 2},z=Xe,H.Ajax=z,H.W(H.l[2],z.prototype),H.Nb(H.B[2],z.prototype),F=e=e||{},O=F.events||(F.events={}),L=O.Ajax,t(Ye,L),Ye.prototype.type=function(){return 2},N=Ye,O.AdrumAjax=N,O.W(O.l[101],N.prototype),P=e=e||{},_=P.monitor||(P.monitor={}),R=_.mb,t(qe,R),qe.Mc=function(e,t){t&&(t.include=P.utils.od(t.include),t.exclude=P.utils.od(t.exclude),P.utils.mergeJSON(e,t));var n=e.exclude;if(n)for(var i=0;i<n.length;i++){var r=n[i].urls;r&&0<r.length&&(n[i].urls=qe.Ub(r))}if(n=e.include)for(i=0;i<n.length;i++)(r=n[i].urls)&&0<r.length&&(n[i].urls=qe.Ub(r))},qe.Ub=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n].pattern;if("string"==typeof i)try{t.push(new RegExp(i))}catch(e){P.exception(e,"Parse regex pattern failed.")}else P.error("xhr filter pattern should be a string")}return t},qe.$c=function(e,t,n){var i=n&&n.include;return n=n&&n.exclude,i&&0<i.length&&!qe.xc(t,e,i)||n&&0<n.length&&qe.xc(t,e,n)},qe.prototype.setUp=function(){if(this.Wa){P.log("M27"),P.xhrConstructor=window.XMLHttpRequest,P.xhrOpen=this.xhrOpen=this.d.open,P.xhrSend=this.xhrSend=this.d.send;var a=this;this.d.open=P.aop.around(this.d.open,function(){var e=1<=arguments.length?String(arguments[0]):"",t=2<=arguments.length?String(arguments[1]):"";qe.$c(t,e,a.conf)||(this._adrumAjaxT=new P.events.AdrumAjax(P.utils.mergeJSON({method:e,url:t,xhr:this},a.status)))},null,"XHR.open"),this.d.send=P.aop.around(this.d.send,function(){var t=this,e=t._adrumAjaxT;if(e){var n=P.utils.now(),i=e.getSendTime();P.assert(null===i,"M28"),e.timestamp(n),e.markSendTime(i||n),e.parentPhase(P.lifecycle.getPhaseName()),qe.Zf(e.url())?t.setRequestHeader("ADRUM","isAjax:true"):P.log("M29",document.location.href,e.url());var r=0,o=function(){if(4==t.readyState)P.log("M30"),a.ta(t);else{var e=null;try{e=t.onreadystatechange}catch(e){return P.log("M31",e),void a.ta(t)}r++,e?P.aop.support(e)?(t.onreadystatechange=a.Vb(e,t,"XHR.onReadyStateChange"),P.log("M32",r)):(P.log("M33"),a.ta(t)):r<qe.Fe?P.utils.Ta(o):(P.log("M34"),a.ta(t))}};o()}},null,"XHR.send"),"addEventListener"in this.d&&"removeEventListener"in this.d&&P.aop.support(this.d.addEventListener)&&P.aop.support(this.d.removeEventListener)?(this.d.addEventListener=P.aop.around(this.d.addEventListener,this.$e(),null,"XHR.addEventListener"),this.d.removeEventListener=P.aop.around(this.d.removeEventListener,function(e,t){if(this._adrumAjaxT){var n=Array.prototype.slice.call(arguments);return t.__adrumInterceptor?(n[1]=t.__adrumInterceptor,P.log("M35")):P.log("M36"),n}},null,"XHR.removeEventListener")):P.log("M37"),P.log("M38")}},qe.jg=function(e,t){for(var n=!1,i=0;i<t.length;i++){var r=t[i];if(r&&r.test(e)){n=!0;break}}return n},qe.xc=function(e,t,n){var i=!1;if(t&&n)for(var r=0;r<n.length;r++){var o=n[r];if(!(o.method&&e!==o.method||o.urls&&!qe.jg(t,o.urls))){i=!0;break}}return i},qe.Zf=function(e){var t=document.createElement("a");return t.href=e,e=document.location,":"===t.protocol&&""===t.hostname&&""===t.port||t.protocol===e.protocol&&t.hostname===e.hostname&&t.port===e.port},qe.nc=function(e){var t=e._adrumAjaxT;if(t){var n=(new Date).getTime();2==e.readyState?t.markFirstByteTime(t.getFirstByteTime()||n):4==e.readyState&&(P.assert(null===t.getRespAvailTime(),"M39"),t.markRespAvailTime(t.getRespAvailTime()||n),t.markFirstByteTime(t.getFirstByteTime()||n))}},qe.prototype.Vb=function(e,n,t){return qe.ih(e,function(){qe.nc(this)},function(){var e=n._adrumAjaxT;if(e&&4==n.readyState){var t=(new Date).getTime();P.assert(null===e.getRespProcTime(),"M40"),e.markRespProcTime(e.getRespProcTime()||t),qe.a(n,e)}},t)},qe.a=function(e,t){var n=e.status;if(400<=n){var i=e.responseText;t.error({status:n,msg:P.utils.isString(i)?i:""})}P.command("reportXhr",t)},qe.prototype.ta=function(n){if(n._adrumAjaxT){var i=(new Date).getTime()+3e4,r=function(){qe.nc(n);var e=n._adrumAjaxT;if(e){var t=(new Date).getTime();4==n.readyState?(P.assert(null===e.getRespProcTime(),"M41"),e.markRespProcTime(e.markRespProcTime()||t),P.log("M42"),qe.a(n,e),delete n._adrumAjaxT):t<i?setTimeout(r,qe.lb):(delete n._adrumAjaxT,P.log("M43"))}};r()}},qe.ih=function(e,t,n,i){var r=e;return e&&"object"==typeof e&&"toString"in e&&"[xpconnect wrapped nsIDOMEventListener]"===e.toString()&&"handleEvent"in e&&(r=function(){e.handleEvent.apply(this,Array.prototype.slice.call(arguments))}),P.aop.around(r,t,n,i)},qe.prototype.$e=function(){for(var e=0;e<arguments.length;e++);var r=this;return function(e,t){if(("load"===e||"error"===e)&&t&&this._adrumAjaxT){var n;if((n=t).__adrumInterceptor)n=n.__adrumInterceptor;else if(P.aop.support(n)){var i=r.Vb(n,this,"XHR.invokeEventListener");n=n.__adrumInterceptor=i}else n=null;if(n)return(i=Array.prototype.slice.call(arguments))[1]=n,P.log("M44"),i;P.log("M45",e,t)}}},qe.Fe=5,qe.lb=50,I=qe,_.fa=I,_.hb=new _.fa,M=e=e||{},(D=M.correlation||(M.correlation={})).startTimeCookie=null,D.cookieMetadataChunks=null,D.Xb=function(e,t){M.log("M46");for(var n=t?t.length:0,i=[],r=e.split(";"),o=0;o<r.length;o++){var a=r[o],s=Ge(a,n);s?i.push(s):null!=(a=Ue(a))&&(D.startTimeCookie=a)}for(Array.prototype.sort.call(i,function(e,t){return e.index-t.index}),a=[],o=0;o<i.length;o++)a.push(i[o].value);for(o=0;o<r.length;o++)(i=je(r[o],n))&&0<i.length&&(a=a.concat(i));D.cookieMetadataChunks=a},M.correlation.eck=D.Xb,(T=e=e||{}).report=function(e){T.utils.Ta(function(){T.command("reportEvent",e)})},"APP_KEY_NOT_SET"===(A=e=e||{}).conf.appKey&&"undefined"!=typeof console&&void 0!==console.log&&console.log("AppDynamics EUM cloud application key missing. Please specify window['adrum-app-key']"),A.correlation.Xb(document.cookie,document.referrer),A.command("mark","firstbyte",window["adrum-start-time"]),A.monitor.Zc(A.monitor.Zb,A.monitor.df,A.monitor.perfMonitor,A.monitor.hb),(k=(k=(k=e=e||{}).ng||(k.ng={})).c||(k.c={})).Bc="locationChangeStart",k.gg="locationChangeSuccess",k.Uc="routeChangeStart",k.Vc="routeChangeSuccess",k.bd="stateChangeStart",k.cd="stateChangeSuccess",k.ld="viewContentLoaded",k.Jf="includeContentRequested",k.If="includeContentLoaded",k.Wb="digest",k.Lh="outstandingRequestsComplete",k.Pb="beforeNgXhrRequested",k.Hb="afterNgXhrRequested",k.Kh="ngXhrLoaded",k.Sb="$$completeOutstandingRequest",S=e=e||{},$=S.Bb||(S.Bb={}),E=S.utils.hasOwnPropertyDefined,$.VERSION="2.3.5",$.da={ye:1,qe:2,ib:3,nh:4},$.Error={Nd:100,oh:200,Md:300},$.ea="*",$.create=function(e,t){function n(e){var t=e.from instanceof Array?e.from:e.from?[e.from]:[$.ea];s[e.name]=s[e.name]||{};for(var n=0;n<t.length;n++)l[t[n]]=l[t[n]]||[],l[t[n]].push(e.name),s[e.name][t[n]]=e.to||t[n]}var i="string"==typeof e.initial?{state:e.initial}:e.initial,r=t||e.target||{},o=e.events||[],a=e.callbacks||{},s={},l={};i&&(i.event=i.event||"startup",n({name:i.event,from:"none",to:i.state}));for(var c=0;c<o.length;c++)n(o[c]);for(var u in s)E(s,u)&&(r[u]=ze(u,s[u]));for(u in a)E(a,u)&&(r[u]=a[u]);return r.current="none",r.Eh=function(e){return e instanceof Array?0<=e.indexOf(this.current):this.current===e},r.Ue=function(e){return!this.transition&&(E(s[e],this.current)||E(s[e],$.ea))},r.Ve=function(e){return!this.Ue(e)},r.sa=function(){return l[this.current]},r.error=e.error||function(e,t,n,i,r,o,a){throw a||o},i&&!i.defer&&r[i.event](),r},b=e=e||{},w=b.events||(b.events={}),x=w.EventTracker,t(He,x),He.prototype.type=function(){return 3},He.prototype.yf=function(){return w.EventTracker.Mb(this.guid(),this.url(),this.type())},He.prototype.ad=function(e){var t=this.yf();e.set("parent",t),b.log("M50",t.guid(),t.url())},He.prototype.startCorrelatingXhrs=function(){b.log("M51"),this.ad(b.monitor.hb)},He.prototype.stopCorrelatingXhrs=function(){b.monitor.hb.set("parent",null),b.log("M52")},He.prototype.Og=function(){b.log("M53"),this.ad(b.monitor.Zb)},He.prototype.start=function(){this.markVirtualPageStart(),this.startCorrelatingXhrs()},He.prototype.end=function(){this.markVirtualPageEnd(),this.stopCorrelatingXhrs()},C=He,w.VPageView=C,w.W(w.l[3],C.prototype),w.Nb(w.B[3],C.prototype),v=e=e||{},(y=(y=v.ng||(v.ng={})).conf||(y.conf={})).disabled=v.conf.userConf&&v.conf.userConf.spa&&v.conf.userConf.spa.angular&&v.conf.userConf.spa.angular.disable,y.distinguishVPwithItsTemplateUrl=!!(v.conf.userConf&&v.conf.userConf.spa&&v.conf.userConf.spa.angular&&!0===v.conf.userConf.spa.angular.distinguishVPwithItsTemplateUrl),y.xhr={},y.metrics={includeResTimingInEndUserResponseTiming:!0},v.conf.userConf&&v.conf.userConf.spa&&v.conf.userConf.spa.angular&&v.conf.userConf.spa.angular.vp&&(v.conf.userConf.spa.angular.vp.xhr&&v.monitor.fa.Mc(y.xhr,v.conf.userConf.spa.angular.vp.xhr),v.conf.userConf.spa.angular.vp.metrics&&v.utils.mergeJSON(y.metrics,v.conf.userConf.spa.angular.vp.metrics)),p=e=e||{},f=p.ng||(p.ng={}),g=p.events.VPageView,t(Ve,g),Ve.prototype.type=function(){return 3},Ve.prototype.fb=function(){this.markViewChangeStart(),this.markVirtualPageStart(this.getViewChangeStart()),this.timestamp(this.getViewChangeStart())},Ve.prototype.Kf=function(){this.digestCount(this.digestCount()+1)},Ve.prototype.Lf=function(){this.U++,p.log("increasing xhr count "+this.U+" pending xhr requests")},Ve.prototype.bf=function(){this.U--,p.log("decreasing xhr count "+this.U+" pending xhr requests")},Ve.prototype.Ff=function(){var e=this.perf.getEntryByName(p.events.b.qd);return p.log("xhrCount "+this.U+" xhrReuqestCompleted "+e),0<this.U},Ve.prototype.Re=function(){var e={ra:0},t=document.querySelectorAll("ng-view, [ng-view], .ng-view, [ui-view]");if(t&&0<t.length)for(var n in Ve.Rc)for(var i=0;i<t.length;i++){var r=angular.element(t[i]).find(n);if(0<r.length)for(var o=0;o<r.length;o++){var a=r[o][Ve.Rc[n].Ya];(a=a?decodeURIComponent(a):null)&&!e[a]&&(e[a]=n,e.ra++)}}this.Y=e},Ve.prototype.Qe=function(e){return!!this.Y[decodeURIComponent(e.name)]},Ve.prototype.Se=function(){var e=[],t=this;0<this.Y.ra&&(e=p.monitor.perfMonitor.hc().filter(function(e){return t.Qe(e)})),this.resTiming(e)},Ve.nf=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];2!==e[n].eventType&&101!==e[n].eventType||p.monitor.fa.$c(i.eventUrl,i.method,f.conf.xhr)||t.push(e[n])}return t},Ve.zf=function(e){var t,n,i=-1;for(t=0,n=e.length;t<n;t++)i=Math.max(i,e[t].timestamp+e[t].metrics.PLT);return i},Ve.prototype.Le=function(){if(f.conf.xhr){var e=Ve.nf(p.channel.getEventsWithParentGUID(this.guid()));if(0<(e=Ve.zf(e))){var t=this.perf.getEntryByName(p.events.b.qd);this.markXhrRequestsCompleted(Math.min(t&&t.startTime||Number.MAX_VALUE,e))}}},Ve.prototype.adjustTimings=function(){this.Le();var e=this.getViewDOMLoaded(),t=this.getXhrRequestsCompleted();e=Math.max(e,t),f.conf.metrics.includeResTimingInEndUserResponseTiming&&(this.Ke(),t=this.getViewResourcesLoaded(),t=Math.max(e,t),p.log("adjust this.end from %s to %s",e,t),e=t),this.markVirtualPageEnd(e)},Ve.prototype.Ke=function(){if(0<this.Y.ra){this.Se();var e=this.resTiming();if(e&&e.length>=this.Y.ra){for(var t=[],n=0;n<e.length;n++)t.push(e[n].responseEnd);e=Math.max.apply(Math,t),this.markViewResourcesLoaded(p.PerformanceTracker.ya(e))}}},Ve.prototype.identifier=function(e){var t=this.nd;return p.utils.isDefined(e)&&(this.nd=Ve.mf(e),this.url(this.nd.url)),t},Ve.mf=function(e){var t={};return e&&e.g?(t.g={Ma:""},p.utils.mergeJSON(t.g,{Ma:e.g.originalPath,Z:e.g.template,$:e.g.templateUrl})):e&&e.state&&(t.state={url:""},p.utils.mergeJSON(t.state,{url:e.state.url,name:e.state.name,Z:e.state.template,$:e.state.templateUrl})),t},Ve.Rc={img:{Ya:"src"},script:{Ya:"src"},link:{Ya:"href"}},m=Ve,f.NgVPageView=m,p.events.W(p.events.l[102],m.prototype),u=e=e||{},d=u.ng||(u.ng={}),Ne.prototype.Eg=function(){var e=this;d.conf.metrics.includeResTimingInEndUserResponseTiming?(u.log("M54"),setTimeout(function(){e.Pa()},Ne.Ae)):setTimeout(function(){e.Pa()},Ne.Be)},Ne.prototype.Pa=function(){u.log("M55");var e=this.e;u.command("call",function(){e.adjustTimings(),u.reporter.reportEvent(e)})},Ne.prototype.Jg=function(e){this.e=e},Ne.Ae=5e3,Ne.Be=2*u.monitor.fa.lb,h=Ne,d.VirtualPageStateMachine=h,u.Bb.create({events:[{name:"start",from:"none",to:"ChangeView"},{name:"viewLoaded",from:"ChangeView",to:"XhrPending"},{name:"xhrCompleted",from:"XhrPending",to:"End"},{name:"abort",from:"*",to:"none"},{name:"init",from:"*",to:"none"},{name:"locChange",from:"*",to:"*"},{name:"beforeXhrReq",from:"*",to:"*"},{name:"afterXhrReq",from:"*",to:"*"}],error:function(e){u.log("M56"+e)},callbacks:{onChangeView:function(){this.e.fb(),this.e.Og()},onviewLoaded:function(){this.e.markViewDOMLoaded()},onXhrPending:function(){this.e.vc&&this.xhrCompleted()},onleaveXhrPending:function(e,t,n){return"abort"===e?(this.Pa(),!0):"xhrCompleted"===e&&"End"===n?!this.e.Ff()&&(this.e.markXhrRequestsCompleted(),!0):void 0},onEnd:function(){this.e.Re(),this.Eg()},oninit:function(e,t,n,i){this.Jg(i)},onlocChange:function(e,t,n,i){this.e.identifier.url=i},onbeforeXhrReq:function(e,t,n,i){var r=this.e;return r.vc=!1,u.log("M57",i&&i[1]||"",r.guid()),r.Lf(),r.startCorrelatingXhrs(),i[3]&&(i[3]=u.aop.before(i[3],function(e,t,n){u.log("M58"),r.bf(),n&&(e=u.utils.xg(n)["content-type"])&&0<=e.indexOf("text/html")&&r.markViewFragmentsLoaded()})),i},onafterXhrReq:function(){this.e.stopCorrelatingXhrs()}}},h.prototype),s=e=e||{},l=s.ng||(s.ng={}),Le.prototype.h=function(e,t){switch(s.log("M59",e),e){case l.c.Uc:case l.c.bd:this.k.start();var n=new l.NgVPageView({url:t.next.url,identifier:t.next});this.distinguishVPwithItsTemplateUrl&&Le.Tf(this.k.e,n)?this.k.e.Yc({url:t.next.url,identifier:t.next}):this.Tg(n);break;case l.c.Vc:case l.c.cd:this.k.e.markViewChangeEnd();break;case l.c.ld:this.k.viewLoaded();break;case l.c.Pb:this.k.beforeXhrReq(t);break;case l.c.Hb:this.k.afterXhrReq();break;case l.c.Sb:this.k.xhrCompleted();break;case l.c.Bc:this.k.locChange(t.next.url);break;case l.c.Wb:this.k.e.Kf()}},Le.prototype.Tg=function(e){this.k.abort(),this.k.init(e),this.k.start()},Le.Tf=function(e,t){var n=e.identifier(),i=t.identifier();return!((s.utils.isDefined(n)||s.utils.isDefined(i))&&n!==i&&(!s.utils.isDefined(n)||!s.utils.isDefined(i)||(n.state||i.state?!s.utils.isDefined(n.state)||!s.utils.isDefined(i.state)||n.state.name!==i.state.name||n.state.Z!==i.state.Z||n.state.$!==i.state.$||n.state.url!==i.state.url:n.g&&i.g?n.g.Ma!==i.g.Ma||n.g.Z!==i.g.Z||n.g.$!==i.g.$:n.url!==i.url)))},c=Le,l.De=c,o=e=e||{},a=o.ng||(o.ng={}),Oe.prototype.setUp=function(){var e=this;o.utils.addEventListener(document,"DOMContentLoaded",function(){o.log("M60"),e.init()})},Oe.prototype.init=function(){if("undefined"!=typeof angular){o.log("M61");var t=this,e=angular.module("ng");e.config(["$provide",function(e){t.Qf(e),t.Pf(e)}]),e.run(["$browser",function(e){t.Of(e)}]),o.log("M62")}},Oe.prototype.Pf=function(e){var t=o.aop,n=this;e.decorator("$httpBackend",["$delegate",function(e){return t.around(e,function(){var e=Array.prototype.slice.call(arguments);return n.j.h(a.c.Pb,e),e},function(){n.j.h(a.c.Hb)})}])},Oe.prototype.Qf=function(e){var t=o.aop,r=this;e.decorator("$rootScope",["$delegate",function(e){return e.$digest=t.after(e.$digest,function(){r.j.h(a.c.Wb)}),e.$on("$locationChangeStart",function(e,t){var n={url:t},i=e&&e.X&&e.X.$state&&e.X.$state.current;i&&(n.state=i),r.j.h(a.c.Bc,{next:n})}),e.$on("$locationChangeSuccess",function(){r.j.h(a.c.gg)}),e.$on("$routeChangeStart",function(e,t){var n={url:location.href},i=t&&t.$$route;i&&(n.g=i),r.j.h(a.c.Uc,{next:n})}),e.$on("$routeChangeSuccess",function(){r.j.h(a.c.Vc)}),e.$on("$stateChangeStart",function(e,t){r.j.h(a.c.bd,{next:{state:t}})}),e.$on("$stateChangeSuccess",function(){r.j.h(a.c.cd)}),e.$on("$viewContentLoaded",function(e){var t={url:location.href};(e=e&&e.X&&e.X.$state&&e.X.$state.current)&&(t.state=e),r.j.h(a.c.ld,{next:t})}),e.$on("$includeContentRequested",function(){r.j.h(a.c.Jf)}),e.$on("$includeContentLoaded",function(){r.j.h(a.c.If)}),e}])},Oe.prototype.Of=function(e){var t=this;e.$$completeOutstandingRequest=o.aop.before(e.$$completeOutstandingRequest,function(){t.j.h(a.c.Sb)})},r=Oe,a.jh=r,a.ngMonitor=new r,n=e=e||{},(i=n.ng||(n.ng={})).conf.disabled||n.monitor.Zc(i.ngMonitor)}var n,i,o,a,r,s,l,c,u,d,h,p,f,g,m,v,y,b,w,x,C,S,$,E,k,A,T,M,D,P,_,R,I,F,O,L,N,V,H,B,z,j,G,U,W,q,Y,X,K,Z,J,Q,ee,te,ne,ie,re,oe,ae,se,le,ce,ue,de,he,pe,fe,ge,me,ve,ye,be,we,xe,Ce,Se,$e,Ee,ke,Ae,Te,Me,De,Pe,_e,Re,Ie,Fe;function Oe(){this.j=new a.De}function Le(){this.k=new l.VirtualPageStateMachine,this.distinguishVPwithItsTemplateUrl=s.ng.conf.distinguishVPwithItsTemplateUrl}function Ne(){this.e=new d.NgVPageView}function Ve(e){g.call(this,e),this.vc=!0,this.Y={},this.U=0,this.stopCorrelatingXhrs()}function He(e){x.call(this,e),this.perf=new b.PerformanceTracker,this.start()}function Be(t,e,n,i,r,o){if(e)try{return e.apply(t,[n,i,r].concat(o))}catch(e){return t.error(n,i,r,o,$.Error.Md,"an exception occurred in a caller-provided callback function",e)}}function ze(r,o){return function(){var e=this.current,t=o[e]||o[$.ea]||e,n=Array.prototype.slice.call(arguments);if(this.Ve(r))return this.error(r,e,t,n,$.Error.Nd,"event "+r+" inappropriate in current state "+this.current);if(!1===Be(this,this["onbefore"+r],r,e,t,n))return $.da.ib;if(t===$.ea&&(t=e),e===t)return Be(this,this["onafter"+r]||this["on"+r],r,e,t,n),$.da.qe;var i=this;return!(this.transition=function(){return i.transition=null,i.current=t,Be(i,i["onenter"+t]||i["on"+t],r,e,t,n),Be(i,i["onafter"+r]||i["on"+r],r,e,t,n),$.da.ye})===Be(this,this["onleave"+e],r,e,t,n)?(this.transition=null,$.da.ib):this.transition?this.transition():void 0}}function je(e,t){var n=[];if(r=/^\s*(ADRUM_BT\w*)=(.*)\s*$/i.exec(e)){var i=r[1],r=r[2].replace(/^"|"$/g,""),o=(r=decodeURIComponent(r).split("|"))[0].split(":");if("R"===o[0]&&Number(o[1])===t)for(We(i),i=1;i<r.length;i++)n.push(r[i])}return n}function Ge(e,t){var n=/^\s*(ADRUM_(\d+)_(\d+)_(\d+))=(.*)\s*$/i.exec(e);if(n){var i=n[1],r=n[4],o=n[5];if(Number(n[3])===t)return We(i),{index:Number(r),value:o}}return null}function Ue(e){var t=/^\s*ADRUM=s=([\d]+)&r=(.*)\s*/.exec(e);if(t)return M.log("M48",e),3===t.length?(We("ADRUM"),{startTime:Number(t[1]),startPage:t[2]}):(M.error("M49",e),null)}function We(e){M.log("M47",e);var t=new Date;t.setTime(t.getTime()-1e3),document.cookie=e+"=;Expires="+t.toUTCString()}function qe(){R.call(this),this.conf=null,!(this.Wa=!1)===window["adrum-xhr-disable"]?P.log("M22"):window.XMLHttpRequest?(this.conf={exclude:[{urls:[{pattern:P.conf.beaconUrlHttp+P.conf.corsEndpointPath},{pattern:P.conf.beaconUrlHttps+P.conf.corsEndpointPath}]}],include:[]},qe.Mc(this.conf,P.conf.userConf&&P.conf.userConf.xhr),(this.d=window.XMLHttpRequest.prototype)?"open"in this.d&&"send"in this.d?(this.Wa=P.aop.support(this.d.open)&&P.aop.support(this.d.send))||P.log("M26"):P.log("M25"):P.log("M24")):P.log("M23")}function Ye(e){L.call(this,e)}function Xe(e){B.call(this,e)}function Ke(){this.navTiming=this.resTiming=null}function Ze(){}function Je(){Q.apply(this,arguments)}function Qe(){this.sa=[],this.na(Qe.va,0)}function et(){oe.apply(this,arguments)}function tt(e){ce.call(this,e)}function nt(e,t){for(var n in e=e||{})t[n]=function(){var i=n,r=e[n];return function(e){var t="_"+i,n=this[t];if(de.utils.isDefined(e)){if(typeof e!==r)throw TypeError("wrong type of "+i+" value, "+typeof e+" passed in but should be a "+r+".");this[t]=e}return n}}()}function it(e){this.perf=new de.PerformanceTracker,this.timestamp(de.utils.now()),this.guid(de.utils.generateGUID()),this.url(document.URL),this.Yc(e)}function rt(){this.w={}}function ot(){this.status={}}function at(){this.ha=[],this.Va=new Pe(at.oe),this.Ka=new Pe(at.ce)}function st(e){this.max=e,this.za=0}function lt(e){return null!=e}function ct(e){return"[object Array]"===Object.prototype.toString.apply(e)}function ut(e){return"object"==typeof e&&!ct(e)&&null!==e}function dt(e){return"string"==typeof e}function ht(e,t){return Object.prototype.hasOwnProperty.call(e,t)&&lt(e[t])}function pt(e){return dt(e)?e.replace(/^\s*/,"").replace(/\s*$/,""):e}},function(){var e,t,n,i,r,o,a,s,l,c,u,d,h,p,f,g,m,v,y,b,w,x,C,S,$,E,k,A,T,M,D,P,_,R,I,F,O,L,N,V,H,B,z,j,G,U,W,q,Y,X,K,Z,J,Q,ee,te,ne,ie,re,oe,ae,se,le,ce,ue,de,he,pe,fe,ge,me,ve,ye,be,we,xe,Ce,Se,$e,Ee,ke;function Ae(e){if(!y.test(e))throw Error();e=e.split(".");for(var t=window,n=0;n<e.length;n++)t=t[e[n]];return t}function Te(e,t){return"string"==typeof e&&"string"==typeof t&&e.length>=t.length&&e.substr(0,t.length)===t}function Me(e){var t;return t=e<37?e<11?e?e+47:46:e+54:e<38?95:e+59,String.fromCharCode(t)}function De(){if(!N){N=He;try{isNaN(screen.logicalXDPI)||isNaN(screen.systemXDPI)?window.navigator.msMaxTouchPoints?N=Ne:!window.chrome||window.opera||L.H(" Opera")?0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")?N=Oe:"orientation"in window&&"webkitRequestAnimationFrame"in window?N=Fe:"webkitRequestAnimationFrame"in window?N=Ie:L.H("Opera")?N=Pe:window.devicePixelRatio?N=_e:.001<Re().zoom&&(N=Re):N=Le:N=Ve}catch(e){}}return N()}function Pe(){var e=window.top.outerWidth/window.top.innerWidth;return{zoom:e=Math.round(100*e)/100,i:e*Be()}}function _e(){return{zoom:Re().zoom,i:Be()}}function Re(){var e=function(){var o,e,t,n;o=window.matchMedia?window.matchMedia:(e=document.getElementsByTagName("head")[0],t=document.createElement("style"),e.appendChild(t),(n=document.createElement("div")).className="mediaQueryBinarySearch",n.style.display="none",document.body.appendChild(n),function(e){return t.sheet.insertRule("@media "+e+"{.mediaQueryBinarySearch {text-decoration: underline} }",0),e="underline"==getComputedStyle(n,null).textDecoration,t.sheet.deleteRule(0),{matches:e}});var i=function e(t,n,i){var r=(t+n)/2;return i<=0||n-t<1e-4?r:o("(min--moz-device-pixel-ratio:"+r+")").matches?e(r,n,i-1):e(t,r,i-1)}(0,10,20);return n&&(e.removeChild(t),document.body.removeChild(n)),i}();return{zoom:e=Math.round(100*e)/100,i:e}}function Ie(){var e=document.createElement("div");e.innerHTML="1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>0",e.setAttribute("style","font: 100px/1em sans-serif; -webkit-text-size-adjust: none; text-size-adjust: none; height: auto; width: 1em; padding: 0; overflow: visible;".replace(/;/g," !important;"));var t=document.createElement("div");return t.setAttribute("style","width:0; height:0; overflow:hidden; visibility:hidden; position: absolute;".replace(/;/g," !important;")),t.appendChild(e),document.body.appendChild(t),e=1e3/e.clientHeight,e=Math.round(100*e)/100,document.body.removeChild(t),{zoom:e,i:e*Be()}}function Fe(){var e=(90==Math.abs(window.orientation)?screen.height:screen.width)/window.innerWidth;return{zoom:e,i:e*Be()}}function Oe(){var e=Math.round(document.documentElement.clientWidth/window.innerWidth*100)/100;return{zoom:e,i:e*Be()}}function Le(){var e=Math.round(window.outerWidth/window.innerWidth*100)/100;return{zoom:e,i:e*Be()}}function Ne(){var e=Math.round(document.documentElement.offsetHeight/window.innerHeight*100)/100;return{zoom:e,i:e*Be()}}function Ve(){var e=Math.round(screen.deviceXDPI/screen.logicalXDPI*100)/100;return{zoom:e,i:e*Be()}}function He(){return{zoom:1,i:1}}function Be(){return window.devicePixelRatio||1}function ze(e){B=e.status;var t=["","",""];try{G=e.getResponseHeader("cache-control");for(var n=e.getAllResponseHeaders().toLowerCase().split("\n"),i=["warning","x-cache","via"],r=0;r<i.length;r++)for(var o=0;o<n.length;o++)if(V.startsWith(n[o],i[r]+":")){t[r]=e.getResponseHeader(i[r]);break}}catch(e){}U=t[0],W=t[1],q=t[2],200===e.status&&((e=e.getResponseHeader("Last-Modified"))||(e=(e=(void 0).getResponseHeader("Expires"))?((e=new Date(e)).setTime(e.getTime()-31536e6),e.toUTCString()):void 0),(z=e||"")||(B=7))}function je(e){if(!e)return B=4,null;if(e=!V.M(e)){var t=V.C();if(null!==t&&t<10)return B=8,null}return e}function Ge(){B=3,j=null,z=G=U=W=q=""}function Ue(e){Y=new Date(e.getTime()),X=We(1),K=We(7)}function We(e){e--;var t=Y.getTime(),n=Y.getFullYear(),i=new Date(n,e,15),r=i,o=i;return i.getTime()<=t?o=new Date(n+1,e,15):r=new Date(n-1,e,15),(t-r.getTime()<o.getTime()-t?r:o).getTimezoneOffset()}function qe(e){Ye();try{if(!e)return Ke();var t;if(null!==(t=Q.T(e)))try{t.value=Ke()}catch(e){t.value=escape(e.message)}}catch(e){}}function Ye(){te.w&&(te.w.U(),te.w=null)}function Xe(e,t){for(var n=[],i=0;i<e.length;i++)try{n.push(e[i]())}catch(e){}n=oe.ta(n),n=oe.ua(n),"function"==typeof t&&n.W(t),te.w=n}function Ke(){se=new Date,ae.va(se),ie.da();for(var e="",t=0;t<ne.h.length;t++){var n;try{n=ne.h[t]()}catch(e){n=""}e+=escape(n),e+=";"}for(e+=escape(te.v.Z())+";",t=0;t<ne.G.length;t++)e=ne.G[t](e);return le?J.R(e):e}function Ze(e){return function(){return e}}function Je(t,n,i){function r(e){a.reject(e)}function o(e){a.B(e)}var a=new $e;try{try{t[n].apply(t,i).then(o,r)}catch(e){t[n].apply(t,i.concat([o,r]))}}catch(e){r(e)}return a}f=/^\/\//,g=/^[^:]+:/,m=/^https?:\/\/[^\/]+/,v=/ (?:MSIE |Trident\/7\.0;.* rv:)(\d+)/,y=/^[^.]+(?:\.[^.]+)*$/,p=function(e){e=("0000000"+((e/1e3|0)>>>0).toString(16)).slice(-8)+"-";for(var t=9;t<36;t++){var n;e+=n=13===t||18===t||23===t?"-":14===t?"4":(n=16*Math.random()|0,19===t&&(n=3&n|8),n.toString(16))}return e},w=n=function i(){function t(e,t,n){if(0==s)for(s=e,a=n;t.length;)t.shift().call(u,n)}function r(t,n){setTimeout(function(){try{var e=n.call(null,a);e instanceof Object&&e.then&&e.then instanceof Function?e.then(t.B,t.reject):t.B(e)}catch(e){t.reject(e)}},0)}function o(e,t,n){s==n?r(e,t):(1==n?l:c).push(function(){r(e,t)})}var a,s=0,l=[],c=[],u=this;this.B=function(e){t(1,l,e)},this.reject=function(e){t(-1,c,e)},this.then=function(e,t){var n=new i;return e instanceof Function&&o(n,e,1),t instanceof Function&&o(n,t,-1),n}},i={ua:b=function(e){function t(){if(null!==a&&(clearTimeout(a),a=null),"function"==typeof e.finish)try{e.finish(n)}catch(e){}i=!0,r.B()}var n,i=!1,r=new w,o=!1,a=null,s=!1;n={g:function(){return i},b:function(){i||t()},W:function(e){r.then(function(){e()})},U:function(){i||(o=!0,t())},P:function(){return o},ya:function(){return s}},0<e.u&&(a=setTimeout(function(){a=null,i||(s=!0,t())},e.u));try{e.start(n)}catch(e){n.b()}return n},ta:function(r){var o=[];return{start:function(e){for(var t=0;t<r.length;t++)o.push(b(r[t]));if(o.length){function n(){e.g()||0<i&&0==--i&&e.b()}var i=o.length;for(t=0;t<o.length;t++)o[t].W(n)}else e.b()},finish:function(e){if(e.P())for(e=0;e<o.length;e++)o[e].U()}}}},$="",r={o:function(){var t=C.m[5],o=null;return{start:function(i){E=null,$="";var e=!(S=3);try{var r=function(e){if(!e)return S=4,null;if(e=!x.M(e)){var t=x.C();if(null!==t&&t<10)return S=8,null}return e}(t);if(null!==r){try{o=x.D()}catch(e){return void(S=9)}try{o.open("GET",t,!0)}catch(e){return void(S=1)}x.N(o,C.l,function(e,t){try{if(!i.g())if(e)S=2;else if(t)S=6;else{var n=o;S=n.status,200===n.status&&(($=n.getResponseHeader("ETag")||"")?$=$.replace(/"/g,""):S=7),$&&(E=r)}}catch(e){S=6}finally{i.b()}}),e=!0}}catch(e){S=6}finally{e||i.b()}},finish:function(e){e.P()&&(S=5),o=null}}},ha:function(){return $},K:function(){return E},L:function(){return S}},o={o:function(){return{start:function(i){try{var r,e=A.m[1],o=A.m[2];e&&o?(n=function(e){var t=new Date;if(!i.g()){try{if(e&&r.responseText){var n=r.responseText.replace(/[^ -~](?:.|\n)*/,"");k.T(o).value=n,T=t}}catch(e){}i.b()}},function(e){return!k.M(e)&&(8===(e=k.C())||9===e)}(t=e)?((r=new XDomainRequest).open("POST",t),function(e,t,n){function i(){e&&!o&&(e.onload=e.onerror=e.ontimeout=null,o=!0),e=null,n(r)}var r=!1,o=!1,a=!1;try{e.onload=function(){r=!0,i()},e.onerror=e.ontimeout=i,e.timeout=t,e.send(),a=!0}catch(e){}finally{a||i()}}(r,A.l,n)):((r=k.D()).open("POST",t,!0),k.N(r,A.l,function(){n(200===r.status)}))):i.b()}catch(e){i.b()}var t,n}}},ga:function(){return T}},D=A=C=t={m:[],j:[],l:2e3,w:null,O:[],v:null},_=P=!(a={h:[],G:[],X:function(e){return{Y:e,I:[],wa:function(e,t){for(var n=0;n<t.length;n++)this.I[e+n]=t[n]},V:function(e){this.wa(this.I.length,e)},Z:function(){for(var e=this.I,t=this.Y.toString(),n=0;n<e.length;n++)try{for(var i=t+="&",r=""+e[n](),o="",a=/[%&]+/g,s=0,l=void 0;l=a.exec(r);s=a.lastIndex)o+=r.substring(s,l.index)+encodeURIComponent(l[0]);t=i+(o+=r.substring(s))}catch(e){}return t}}}}),s={ba:function(){return{start:function(t){P=!1;try{(window.requestFileSystem||window.webkitRequestFileSystem)(0,0,function(){t.b()},function(){t.g()||(P=!0,t.b())})}catch(e){t.b()}},u:D.l}},$:function(){var e,n=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;return{start:function(t){_=!1;try{(e=n.open("pbtest")).onsuccess=function(){if(!t.g())try{e.result.close()}finally{t.b()}},e.onerror=function(){t.g()||(_=!0,t.b())}}catch(e){t.b()}},finish:function(){e=e&&(e.onsuccess=e.onerror=null),n&&n.deleteDatabase("pbtest")},u:D.l}},J:function(){var t;if(!(t=P||_))e:{if(t=window.localStorage)try{t.setItem("pbtest",1),t.removeItem("pbtest")}catch(e){t=!0;break e}t=!1}return t||window.indexedDB||(t=null!==(t=M.C())&&10<=t||M.H("Edge/")),t=t||M.H("Focus/")}},R=M=k=x=e={T:function(e){var t;try{t=document.getElementById(e)}catch(e){}if(null==t)try{t=document.getElementsByName(e)[0]}catch(e){}if(null==t)for(var n=0;n<document.forms.length;n++)for(var i=document.forms[n],r=0;r<i.elements.length;r++){var o=i[r];if(o.name===e||o.id===e)return o}return t},startsWith:Te,A:function(e){for(var t=0;t<e.length;t++)try{var n=Ae(e[t]);if(n)return n}catch(e){}return""},a:Ae,M:function(e){return f.test(e)&&(e=document.URL.match(g)[0]+e),!((e=e.match(m))&&!Te(document.URL,e[0]))},C:function(){var e=navigator.userAgent.match(v);return e?parseInt(e[1]):null},D:function(){return window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")},N:function(t,e,n){var i=!1,r=!1,o=!1;try{var a=null,s=!1,l=function(){(t.onreadystatechange=null)!==a&&(clearTimeout(a),a=null),s=!0};t.onreadystatechange=function(){s||4!=t.readyState||(l(),t=null,n(r,o))},0!==e&&(a=setTimeout(function(){s||(r=!0,l(),t.abort(),t=null,n(r,o))},e)),t.send(),i=!0}catch(e){o=!0,l(),t=null}finally{i||n(r,o)}},F:function(e,t,n,i){for(e=(t="boolean"==typeof i&&i?e.split(t):-1===(i=e.indexOf(t))?[e]:[e.substring(0,i),e.substring(i+t.length)])[0],i=1;i<t.length;i++)e+=n+t[i];return e},qa:function(e){if(!e)return 0;if(Array.prototype.reduce)return e.split("").reduce(function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e},0);for(var t=0,n=0,i=e.length;n<i;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t},H:function(e){return 0<=window.navigator.userAgent.indexOf(e)}},I=T=E=null,l={aa:function(){var e,n=null;return{start:function(t){I=null;try{(e=document.createElement("div")).setAttribute("class","pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links adsbox"),e.setAttribute("style",R.F("width:1px;height:1px;position:absolute;left:-10000px;right:-1000px;",";","!important;",!0)),document.body.appendChild(e),n=setTimeout(function(){if(n=null,!t.g())try{I=!(e&&e.parentNode&&!e.getAttribute("abp")&&e.offsetParent&&0!==e.offsetWidth&&0!==e.offsetHeight&&0!==e.clientWidth&&0!==e.clientHeight)}finally{t.b()}},100)}catch(e){t.b()}},finish:function(){e&&(e.parentNode&&e.parentNode.removeChild(e),e=null),null!==n&&(clearTimeout(n),n=null)}}},J:function(){return I}},F={1:[4,15],110:[8,239],74:[8,238],57:[7,118],56:[7,117],71:[8,233],25:[8,232],101:[5,28],104:[7,111],4:[7,110],105:[6,54],5:[7,107],109:[7,106],103:[9,423],82:[9,422],26:[8,210],6:[7,104],46:[6,51],97:[6,50],111:[6,49],7:[7,97],45:[7,96],59:[5,23],15:[7,91],11:[8,181],72:[8,180],27:[8,179],28:[8,178],16:[7,88],88:[10,703],113:[11,1405],89:[12,2809],107:[13,5617],90:[14,11233],42:[15,22465],64:[16,44929],0:[16,44928],81:[9,350],29:[8,174],118:[8,173],30:[8,172],98:[8,171],12:[8,170],99:[7,84],117:[6,41],112:[6,40],102:[9,319],68:[9,318],31:[8,158],100:[7,78],84:[6,38],55:[6,37],17:[7,73],8:[7,72],9:[7,71],77:[7,70],18:[7,69],65:[7,68],48:[6,33],116:[6,32],10:[7,63],121:[8,125],78:[8,124],80:[7,61],69:[7,60],119:[7,59],13:[8,117],79:[8,116],19:[7,57],67:[7,56],114:[6,27],83:[6,26],115:[6,25],14:[6,24],122:[8,95],95:[8,94],76:[7,46],24:[7,45],37:[7,44],50:[5,10],51:[5,9],108:[6,17],22:[7,33],120:[8,65],66:[8,64],21:[7,31],106:[7,30],47:[6,14],53:[5,6],49:[5,5],86:[8,39],85:[8,38],23:[7,18],75:[7,17],20:[7,16],2:[5,S=3],73:[8,23],43:[9,45],87:[9,44],70:[7,10],3:[6,4],52:[5,1],54:[5,0]},O="%20 ;;; %3B %2C und fin ed; %28 %29 %3A /53 ike Web 0; .0 e; on il ck 01 in Mo fa 00 32 la .1 ri it %u le".split(" "),c={R:function(e){for(var t=e,n=0;O[n];n++)t=t.split(O[n]).join(String.fromCharCode(n+1));if(void 0===(t=function(e){function t(e){for(i=i<<e[0]|e[1],r+=e[0];6<=r;)n+=Me(e=i>>r-6&63),i^=e<<(r-=6)}var n="",i=0,r=0;t([6,(7&e.length)<<3|0]),t([6,56&e.length|1]);for(var o=0;o<e.length;o++){if(void 0===F[e.charCodeAt(o)])return;t(F[e.charCodeAt(o)])}return t(F[0]),0<r&&t([6-r,0]),n}(t)))return e;n=65535;for(var i=0;i<e.length;i++)n=65535&(n>>>8|n<<8),n^=255&e.charCodeAt(i),n^=(255&n)>>4,n^=n<<12&65535,n^=(255&n)<<5&65535;return e=""+Me((n&=65535)>>>12),e+=Me(n>>>6&63),t+(e+=Me(63&n))}},L=e,u={zoom:function(){return De().zoom},S:function(){return De().i}},d=function(){var e,l={Flash:["ShockwaveFlash.ShockwaveFlash",function(e){return e.getVariable("$version")}],Director:["SWCtl.SWCtl",function(e){return e.ShockwaveVersion("")}]};try{void 0!==(e=document.createElement("span")).addBehavior&&e.addBehavior("#default#clientCaps")}catch(e){}var c={};return{f:function(t){var n="";try{void 0!==e.getComponentVersion&&(n=e.getComponentVersion(t,"ComponentID"))}catch(e){t=e.message.length,n=escape(e.message.substr(0,40<t?40:t))}return n},s:function(e){return c[e]},da:function(){for(var e="Acrobat;Flash;QuickTime;Java Plug-in;Director;Office".split(";"),t=0;t<e.length;t++){var n=r=e[t],i=r,r="";try{if(navigator.plugins&&navigator.plugins.length){var o=new RegExp(i+".* ([0-9._]+)");for(i=0;i<navigator.plugins.length;i++){var a=o.exec(navigator.plugins[i].name);null===a&&(a=o.exec(navigator.plugins[i].description)),a&&(r=a[1])}}else if(window.ActiveXObject&&l[i])try{var s=new ActiveXObject(l[i][0]);r=l[i][1](s)}catch(e){r=""}}catch(e){r=e.message}c[n]=r}},c:function(e){try{if(navigator.plugins&&navigator.plugins.length)for(var t=0;t<navigator.plugins.length;t++){var n=navigator.plugins[t];if(0<=n.name.indexOf(e))return n.name+(n.description?"|"+n.description:"")}}catch(e){}return""},ja:function(){var e="";if(navigator.plugins&&navigator.plugins.length)for(var t=0;t<navigator.plugins.length;t++){var n=navigator.plugins[t];n&&(e+=n.name+n.filename+n.description+n.version)}return e}}}(),V=e,H=t,Ge(),h={o:function(){var t=H.m[0],r=null;return{start:function(n){Ge();var e=!1;try{var i=je(t);if(null!==i){try{r=V.D()}catch(e){return void(B=9)}try{r.open("GET",t,!0)}catch(e){return void(B=1)}V.N(r,H.l,function(e,t){try{n.g()||(e?B=2:t?B=6:(ze(r),z&&(j=i)))}catch(e){B=6}finally{n.b()}}),e=!0}}catch(e){B=6}finally{e||n.b()}},finish:function(e){e.P()&&(B=5),r=null}}},xa:function(){try{var e=H.m[0];Ge();var t=je(e);if(null!==t){var n;try{n=V.D()}catch(e){return void(B=9)}try{n.open("GET",e,!1)}catch(e){return void(B=1)}n.send(),ze(n),z&&(j=t)}}catch(e){B=6}},ia:function(){return z},K:function(){return j},L:function(){return B},fa:function(){return G},na:function(){return U},pa:function(){return W},ma:function(){return q}},Ue(new Date),Z=l,J=c,Q=e,ee=u,te=t,ne=a,ie=d,re=h,oe=i,ae={va:Ue,oa:function(){return X},la:function(){return K},sa:function(){return K!==X},ra:function(){return K!==X&&Y.getTimezoneOffset()===Math.min(X,K)},ka:function(){return Math.max(X,K)}},le=!0,ce={},de=Ze(ue=""),te.v=new ne.X(3),te.v.V([function(){return ue},function(){return re.fa()},function(){return re.na().replace(/ *(\d{3}) [^ ]*( "[^"\\]*(\\(.|\n)[^"\\]*)*"){1,2} */g,function(e,t){return t})},function(){return re.pa()},function(){return re.ma()},function(){var e=Z.J();return"boolean"==typeof e?0+e:""},function(){return Q.a("devicePixelRatio")},function(){return Math.round(window.screen.width*ee.S())},function(){return Math.round(window.screen.height*ee.S())},function(){return Q.a("screen.left")},function(){return Q.a("screen.top")},function(){return Q.a("innerWidth")},function(){return Q.a("outerWidth")},function(){return ee.zoom().toFixed(2)},function(){return Q.a("navigator.languages")}]),ne.h=[Ze("TF1"),Ze("027"),function(){return ScriptEngineMajorVersion()},function(){return ScriptEngineMinorVersion()},function(){return ScriptEngineBuildVersion()},function(){return ie.f("{7790769C-0471-11D2-AF11-00C04FA35D02}")},function(){return ie.f("{89820200-ECBD-11CF-8B85-00AA005B4340}")},function(){return ie.f("{283807B5-2C60-11D0-A31D-00AA00B92C03}")},function(){return ie.f("{4F216970-C90C-11D1-B5C7-0000F8051515}")},function(){return ie.f("{44BBA848-CC51-11CF-AAFA-00AA00B6015C}")},function(){return ie.f("{9381D8F2-0288-11D0-9501-00AA00B911A5}")},function(){return ie.f("{4F216970-C90C-11D1-B5C7-0000F8051515}")},function(){return ie.f("{5A8D6EE0-3E18-11D0-821E-444553540000}")},function(){return ie.f("{89820200-ECBD-11CF-8B85-00AA005B4383}")},function(){return ie.f("{08B0E5C0-4FCB-11CF-AAA5-00401C608555}")},function(){return ie.f("{45EA75A0-A269-11D1-B5BF-0000F8051515}")},function(){return ie.f("{DE5AED00-A4BF-11D1-9948-00C04F98BBC9}")},function(){return ie.f("{22D6F312-B0F6-11D0-94AB-0080C74C7E95}")},function(){return ie.f("{44BBA842-CC51-11CF-AAFA-00AA00B6015B}")},function(){return ie.f("{3AF36230-A269-11D1-B5BF-0000F8051515}")},function(){return ie.f("{44BBA840-CC51-11CF-AAFA-00AA00B6015C}")},function(){return ie.f("{CC2A9BA0-3BDD-11D0-821E-444553540000}")},function(){return ie.f("{08B0E5C0-4FCB-11CF-AAA5-00401C608500}")},function(){return Q.a("navigator.appCodeName")},function(){return Q.a("navigator.appName")},function(){return Q.a("navigator.appVersion")},function(){return Q.A(["navigator.productSub","navigator.appMinorVersion"])},function(){return Q.a("navigator.browserLanguage")},function(){return Q.a("navigator.cookieEnabled")},function(){return Q.A(["navigator.oscpu","navigator.cpuClass"])},de,function(){return Q.a("navigator.platform")},function(){return Q.a("navigator.systemLanguage")},function(){return Q.a("navigator.userAgent")},function(){return Q.A(["navigator.language","navigator.userLanguage"])},function(){return Q.a("document.defaultCharset")},function(){return Q.a("document.domain")},function(){return Q.a("screen.deviceXDPI")},function(){return Q.a("screen.deviceYDPI")},function(){return Q.a("screen.fontSmoothingEnabled")},function(){return Q.a("screen.updateInterval")},function(){return ae.sa()},function(){return ae.ra()},function(){return"@UTC@"},function(){return-ae.ka()/60},function(){return new Date(2005,5,7,21,33,44,888).toLocaleString()},function(){return Q.a("screen.width")},function(){return Q.a("screen.height")},function(){return ie.s("Acrobat")},function(){return ie.s("Flash")},function(){return ie.s("QuickTime")},function(){return ie.s("Java Plug-in")},function(){return ie.s("Director")},function(){return ie.s("Office")},function(){return"@CT@"},function(){return ae.oa()},function(){return ae.la()},function(){return se.toLocaleString()},function(){return Q.a("screen.colorDepth")},function(){return Q.a("screen.availWidth")},function(){return Q.a("screen.availHeight")},function(){return Q.a("screen.availLeft")},function(){return Q.a("screen.availTop")},function(){return ie.c("Acrobat")},function(){return ie.c("Adobe SVG")},function(){return ie.c("Authorware")},function(){return ie.c("Citrix ICA")},function(){return ie.c("Director")},function(){return ie.c("Flash")},function(){return ie.c("MapGuide")},function(){return ie.c("MetaStream")},function(){return ie.c("PDF Viewer")},function(){return ie.c("QuickTime")},function(){return ie.c("RealOne")},function(){return ie.c("RealPlayer Enterprise")},function(){return ie.c("RealPlayer Plugin")},function(){return ie.c("Seagate Software Report")},function(){return ie.c("Silverlight")},function(){return ie.c("Windows Media")},function(){return ie.c("iPIX")},function(){return ie.c("nppdf.so")},function(){var e=document.createElement("span");e.innerHTML="&nbsp;",e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e);var t=e.offsetHeight;return document.body.removeChild(e),t},de,de,de,de,de,de,de,de,de,de,de,de,de,de,function(){return"6.9.0-0"},de,function(){return re.ia()},de,de,de,de,de,function(){var e=re.K();return"boolean"==typeof e?0+e:""},function(){return re.L()},function(){return"0"},de,de,de,de,function(){return(Q.qa(ie.ja())>>>0).toString(16)+""},function(){return Q.A(["navigator.doNotTrack","navigator.msDoNotTrack"])},de,de,de,de],ne.G=[function(e){return Q.F(e,escape("@UTC@"),(new Date).getTime())},function(e){return Q.F(e,escape("@CT@"),(new Date).getTime()-se.getTime())}],te.j.push(re.o),te.j.push(function(){return{start:function(t){ue="";try{navigator.getBattery().then(function(e){t.g()||(ue=[e.charging,e.chargingTime,e.dischargingTime,e.level].join(),t.b())})}catch(e){t.b()}},u:te.l}}),te.j.push(Z.aa),ce.ecsform1=qe,ce.f1b5=J.R,ce.initiate=function(e,t){Ye();var n=Math.random()+1&&"@_CUSTOMOPTIONS_@";for(te.m=t||("string"!=typeof n?n:[]),Xe(te.j,e),n=0;n<te.O.length;n++)te.O[n]()},ce.setResource1=function(e,t,n){Ye(),te.m=[e],2<arguments.length?Xe([re.o],n):re.xa()},he=e,pe=p,fe=r,me=o,ve=a,ye=s,be=l=function(e){var t=(e=e||{}).ctx||window;le=!e.hasOwnProperty("compress")||e.compress,t.EXPERIANUS2015_1=ce,le&&(e=navigator.userAgent.toLowerCase(),"Gecko"===navigator.product&&parseInt(e.substring(e.indexOf("rv:")+3,e.indexOf(")",e.indexOf("rv:")+3)).split(".")[0])<=2&&qe())},Se=ge=t,$e=n,Ee=window.mozRTCPeerConnection||window.webkitRTCPeerConnection||window.RTCPeerConnection,ke=[],we={ca:function(){var t=null,e=null;return{start:function(r){try{ke=[],(t=new Ee({iceServers:[]})).onicecandidate=function(e){if(!r.g()){var t;e:{try{var n=e.candidate;if(n){var i=n.candidate;if(i){ke.push(i),t=!0;break e}}}catch(e){}t=!1}t||r.b()}},e=t.createDataChannel(""),Je(t,"createOffer",[]).then(function(e){if(!r.g())return Je(t,"setLocalDescription",[e])}).then(null,function(){r.g()||r.b()})}catch(e){r.b()}},finish:function(){t&&(t.onicecandidate=null,e&&(e.close(),e=null),t.close(),t=null)},u:Se.l}},ea:function(){for(var e="",t="",n=0;n<ke.length;n++){var i=ke[n].replace(/^[^:]*:/,"").split(" ");8<=i.length&&(e+=t+i[4]+" "+i[7],t=",")}return e}},Ce=xe="",ve.G[0]=function(e){return he.F(e,escape("@UTC@"),(me.ga()||new Date).getTime())},ve.h[106]=function(){return"1"},ve.h[108]=function(){return xe},ve.h[109]=function(){return Ce},ve.h[110]=function(){return pe((new Date).getTime())},ve.h[113]=function(){return 0+ye.J()},ve.h[114]=function(){return fe.ha()},ve.h[115]=function(){var e=fe.K();return"boolean"==typeof e?0+e:""},ve.h[116]=function(){return fe.L()},ge.v.V([function(){return we.ea()}]),ge.j.push(me.o),ge.j.push(fe.o),ge.j.push(we.ca),ge.j.push(ye.$),ge.j.push(ye.ba),ge.O.push(function(){xe=Ce="";var e=ge.m,t=e[3];if(t){e=e[4];e:{for(var n=t+"=",i=document.cookie.split(/; */g),r=0;r<i.length;r++){var o=i[r];if(0===o.indexOf(n)){Ce=o.substring(n.length,o.length);break e}}Ce=""}xe=Ce?"0":(n=(new Date).getTime(),Ce=pe(n),document.cookie=t+"="+Ce+"; expires="+new Date(n+63072e6).toUTCString()+(e?"; domain=."+e:"")+"; path=/","1")}}),function(e){be(e)}()}(),function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(f,e){function t(e,t){return t.toUpperCase()}var n=[],u=n.slice,g=n.concat,s=n.push,r=n.indexOf,i={},o=i.toString,m=i.hasOwnProperty,v={},y=f.document,S=function(e,t){return new S.fn.init(e,t)},a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,l=/^-ms-/,c=/-([\da-z])/gi;function d(e){var t=e.length,n=S.type(e);return"function"!==n&&!S.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e))}S.fn=S.prototype={jquery:"2.1.1",constructor:S,selector:"",length:0,toArray:function(){return u.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:u.call(this)},pushStack:function(e){var t=S.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return S.each(this,e,t)},map:function(n){return this.pushStack(S.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:s,sort:n.sort,splice:n.splice},S.extend=S.fn.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||S.isFunction(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],a!==(i=e[t])&&(c&&i&&(S.isPlainObject(i)||(r=S.isArray(i)))?(o=r?(r=!1,n&&S.isArray(n)?n:[]):n&&S.isPlainObject(n)?n:{},a[t]=S.extend(c,o,i)):void 0!==i&&(a[t]=i));return a},S.extend({expando:"jQuery"+("2.1.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===S.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!S.isArray(e)&&0<=e-parseFloat(e)},isPlainObject:function(e){return"object"===S.type(e)&&!e.nodeType&&!S.isWindow(e)&&!(e.constructor&&!m.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?i[o.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;(e=S.trim(e))&&(1===e.indexOf("use strict")?((t=y.createElement("script")).text=e,y.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(l,"ms-").replace(c,t)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var i=0,r=e.length,o=d(e);if(n){if(o)for(;i<r&&!1!==t.apply(e[i],n);i++);else for(i in e)if(!1===t.apply(e[i],n))break}else if(o)for(;i<r&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(a,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(d(Object(e))?S.merge(n,"string"==typeof e?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:r.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,a=!n;r<o;r++)!t(e[r],r)!=a&&i.push(e[r]);return i},map:function(e,t,n){var i,r=0,o=e.length,a=[];if(d(e))for(;r<o;r++)null!=(i=t(e[r],r,n))&&a.push(i);else for(r in e)null!=(i=t(e[r],r,n))&&a.push(i);return g.apply([],a)},guid:1,proxy:function(e,t){var n,i,r;return"string"==typeof t&&(n=e[t],t=e,e=n),S.isFunction(e)?(i=u.call(arguments,2),(r=function(){return e.apply(t||this,i.concat(u.call(arguments)))}).guid=e.guid=e.guid||S.guid++,r):void 0},now:Date.now,support:v}),S.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){i["[object "+t+"]"]=t.toLowerCase()});var h=function(n){function d(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(65536+i):String.fromCharCode(i>>10|55296,1023&i|56320)}var e,f,w,o,i,g,h,m,x,c,u,v,C,r,y,b,a,s,S,$="sizzle"+-new Date,E=n.document,k=0,p=0,l=re(),A=re(),T=re(),M=function(e,t){return e===t&&(u=!0),0},D="undefined",P={}.hasOwnProperty,t=[],_=t.pop,R=t.push,I=t.push,F=t.slice,O=t.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",N="[\\x20\\t\\r\\n\\f]",V="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",H=V.replace("w","w#"),B="\\["+N+"*("+V+")(?:"+N+"*([*^$|!~]?=)"+N+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+H+"))|)"+N+"*\\]",z=":("+V+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",j=new RegExp("^"+N+"+|((?:^|[^\\\\])(?:\\\\.)*)"+N+"+$","g"),G=new RegExp("^"+N+"*,"+N+"*"),U=new RegExp("^"+N+"*([>+~]|"+N+")"+N+"*"),W=new RegExp("="+N+"*([^\\]'\"]*?)"+N+"*\\]","g"),q=new RegExp(z),Y=new RegExp("^"+H+"$"),X={ID:new RegExp("^#("+V+")"),CLASS:new RegExp("^\\.("+V+")"),TAG:new RegExp("^("+V.replace("w","w*")+")"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+N+"*(even|odd|(([+-]|)(\\d*)n|)"+N+"*(?:([+-]|)"+N+"*(\\d+)|))"+N+"*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^"+N+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+N+"*((?:-\\d)?\\d*)"+N+"*\\)|)(?=[^-]|$)","i")},K=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=/'|\\/g,ne=new RegExp("\\\\([\\da-f]{1,6}"+N+"?|("+N+")|.)","ig");try{I.apply(t=F.call(E.childNodes),E.childNodes),t[E.childNodes.length].nodeType}catch(e){I={apply:t.length?function(e,t){R.apply(e,F.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function ie(e,t,n,i){var r,o,a,s,l,c,u,d,h,p;if((t?t.ownerDocument||t:E)!==C&&v(t),n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=(t=t||C).nodeType)&&9!==s)return[];if(y&&!i){if(r=Q.exec(e))if(a=r[1]){if(9===s){if(!(o=t.getElementById(a))||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&S(t,o)&&o.id===a)return n.push(o),n}else{if(r[2])return I.apply(n,t.getElementsByTagName(e)),n;if((a=r[3])&&f.getElementsByClassName&&t.getElementsByClassName)return I.apply(n,t.getElementsByClassName(a)),n}if(f.qsa&&(!b||!b.test(e))){if(d=u=$,h=t,p=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=g(e),(u=t.getAttribute("id"))?d=u.replace(te,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",l=c.length;l--;)c[l]=d+fe(c[l]);h=ee.test(e)&&he(t.parentNode)||t,p=c.join(",")}if(p)try{return I.apply(n,h.querySelectorAll(p)),n}catch(e){}finally{u||t.removeAttribute("id")}}}return m(e.replace(j,"$1"),t,n,i)}function re(){var i=[];return function e(t,n){return i.push(t+" ")>w.cacheLength&&delete e[i.shift()],e[t+" "]=n}}function oe(e){return e[$]=!0,e}function ae(e){var t=C.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function se(e,t){for(var n=e.split("|"),i=e.length;i--;)w.attrHandle[n[i]]=t}function le(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function ce(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ue(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function de(a){return oe(function(o){return o=+o,oe(function(e,t){for(var n,i=a([],e.length,o),r=i.length;r--;)e[n=i[r]]&&(e[n]=!(t[n]=e[n]))})})}function he(e){return e&&typeof e.getElementsByTagName!==D&&e}for(e in f=ie.support={},i=ie.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},v=ie.setDocument=function(e){var t,l=e?e.ownerDocument||e:E,n=l.defaultView;return l!==C&&9===l.nodeType&&l.documentElement?(r=(C=l).documentElement,y=!i(l),n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",function(){v()},!1):n.attachEvent&&n.attachEvent("onunload",function(){v()})),f.attributes=ae(function(e){return e.className="i",!e.getAttribute("className")}),f.getElementsByTagName=ae(function(e){return e.appendChild(l.createComment("")),!e.getElementsByTagName("*").length}),f.getElementsByClassName=J.test(l.getElementsByClassName)&&ae(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),f.getById=ae(function(e){return r.appendChild(e).id=$,!l.getElementsByName||!l.getElementsByName($).length}),f.getById?(w.find.ID=function(e,t){if(typeof t.getElementById!==D&&y){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},w.filter.ID=function(e){var t=e.replace(ne,d);return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){var n=e.replace(ne,d);return function(e){var t=typeof e.getAttributeNode!==D&&e.getAttributeNode("id");return t&&t.value===n}}),w.find.TAG=f.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==D?t.getElementsByTagName(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"!==e)return o;for(;n=o[r++];)1===n.nodeType&&i.push(n);return i},w.find.CLASS=f.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==D&&y?t.getElementsByClassName(e):void 0},a=[],b=[],(f.qsa=J.test(l.querySelectorAll))&&(ae(function(e){e.innerHTML="<select msallowclip=''><option selected=''></option></select>",e.querySelectorAll("[msallowclip^='']").length&&b.push("[*^$]="+N+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||b.push("\\["+N+"*(?:value|"+L+")"),e.querySelectorAll(":checked").length||b.push(":checked")}),ae(function(e){var t=l.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&b.push("name"+N+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||b.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),b.push(",.*:")})),(f.matchesSelector=J.test(s=r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.oMatchesSelector||r.msMatchesSelector))&&ae(function(e){f.disconnectedMatch=s.call(e,"div"),s.call(e,"[s!='']:x"),a.push("!=",z)}),b=b.length&&new RegExp(b.join("|")),a=a.length&&new RegExp(a.join("|")),t=J.test(r.compareDocumentPosition),S=t||J.test(r.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},M=t?function(e,t){if(e===t)return u=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!f.sortDetached&&t.compareDocumentPosition(e)===n?e===l||e.ownerDocument===E&&S(E,e)?-1:t===l||t.ownerDocument===E&&S(E,t)?1:c?O.call(c,e)-O.call(c,t):0:4&n?-1:1)}:function(e,t){if(e===t)return u=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!r||!o)return e===l?-1:t===l?1:r?-1:o?1:c?O.call(c,e)-O.call(c,t):0;if(r===o)return le(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?le(a[i],s[i]):a[i]===E?-1:s[i]===E?1:0},l):C},ie.matches=function(e,t){return ie(e,null,null,t)},ie.matchesSelector=function(e,t){if((e.ownerDocument||e)!==C&&v(e),t=t.replace(W,"='$1']"),!(!f.matchesSelector||!y||a&&a.test(t)||b&&b.test(t)))try{var n=s.call(e,t);if(n||f.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<ie(t,C,null,[e]).length},ie.contains=function(e,t){return(e.ownerDocument||e)!==C&&v(e),S(e,t)},ie.attr=function(e,t){(e.ownerDocument||e)!==C&&v(e);var n=w.attrHandle[t.toLowerCase()],i=n&&P.call(w.attrHandle,t.toLowerCase())?n(e,t,!y):void 0;return void 0!==i?i:f.attributes||!y?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},ie.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ie.uniqueSort=function(e){var t,n=[],i=0,r=0;if(u=!f.detectDuplicates,c=!f.sortStable&&e.slice(0),e.sort(M),u){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return c=null,e},o=ie.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=o(t);return n},(w=ie.selectors={cacheLength:50,createPseudo:oe,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ne,d),e[3]=(e[3]||e[4]||e[5]||"").replace(ne,d),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ie.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ie.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return X.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&q.test(n)&&(t=g(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ne,d).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=l[e+" "];return t||(t=new RegExp("(^|"+N+")"+e+"("+N+"|$)"))&&l(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==D&&e.getAttribute("class")||"")})},ATTR:function(n,i,r){return function(e){var t=ie.attr(e,n);return null==t?"!="===i:!i||(t+="","="===i?t===r:"!="===i?t!==r:"^="===i?r&&0===t.indexOf(r):"*="===i?r&&-1<t.indexOf(r):"$="===i?r&&t.slice(-r.length)===r:"~="===i?-1<(" "+t+" ").indexOf(r):"|="===i&&(t===r||t.slice(0,r.length+1)===r+"-"))}},CHILD:function(p,e,t,f,g){var m="nth"!==p.slice(0,3),v="last"!==p.slice(-4),y="of-type"===e;return 1===f&&0===g?function(e){return!!e.parentNode}:function(e,t,n){var i,r,o,a,s,l,c=m!=v?"nextSibling":"previousSibling",u=e.parentNode,d=y&&e.nodeName.toLowerCase(),h=!n&&!y;if(u){if(m){for(;c;){for(o=e;o=o[c];)if(y?o.nodeName.toLowerCase()===d:1===o.nodeType)return!1;l=c="only"===p&&!l&&"nextSibling"}return!0}if(l=[v?u.firstChild:u.lastChild],v&&h){for(s=(i=(r=u[$]||(u[$]={}))[p]||[])[0]===k&&i[1],a=i[0]===k&&i[2],o=s&&u.childNodes[s];o=++s&&o&&o[c]||(a=s=0)||l.pop();)if(1===o.nodeType&&++a&&o===e){r[p]=[k,s,a];break}}else if(h&&(i=(e[$]||(e[$]={}))[p])&&i[0]===k)a=i[1];else for(;(o=++s&&o&&o[c]||(a=s=0)||l.pop())&&((y?o.nodeName.toLowerCase()!==d:1!==o.nodeType)||!++a||(h&&((o[$]||(o[$]={}))[p]=[k,a]),o!==e)););return(a-=g)===f||a%f==0&&0<=a/f}}},PSEUDO:function(e,o){var t,a=w.pseudos[e]||w.setFilters[e.toLowerCase()]||ie.error("unsupported pseudo: "+e);return a[$]?a(o):1<a.length?(t=[e,e,"",o],w.setFilters.hasOwnProperty(e.toLowerCase())?oe(function(e,t){for(var n,i=a(e,o),r=i.length;r--;)e[n=O.call(e,i[r])]=!(t[n]=i[r])}):function(e){return a(e,0,t)}):a}},pseudos:{not:oe(function(e){var i=[],r=[],s=h(e.replace(j,"$1"));return s[$]?oe(function(e,t,n,i){for(var r,o=s(e,null,i,[]),a=e.length;a--;)(r=o[a])&&(e[a]=!(t[a]=r))}):function(e,t,n){return i[0]=e,s(i,null,n,r),!r.pop()}}),has:oe(function(t){return function(e){return 0<ie(t,e).length}}),contains:oe(function(t){return function(e){return-1<(e.textContent||e.innerText||o(e)).indexOf(t)}}),lang:oe(function(n){return Y.test(n||"")||ie.error("unsupported lang: "+n),n=n.replace(ne,d).toLowerCase(),function(e){var t;do{if(t=y?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===r},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return Z.test(e.nodeName)},input:function(e){return K.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:de(function(){return[0]}),last:de(function(e,t){return[t-1]}),eq:de(function(e,t,n){return[n<0?n+t:n]}),even:de(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:de(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:de(function(e,t,n){for(var i=n<0?n+t:n;0<=--i;)e.push(i);return e}),gt:de(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[e]=ce(e);for(e in{submit:!0,reset:!0})w.pseudos[e]=ue(e);function pe(){}function fe(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function ge(a,e,t){var s=e.dir,l=t&&"parentNode"===s,c=p++;return e.first?function(e,t,n){for(;e=e[s];)if(1===e.nodeType||l)return a(e,t,n)}:function(e,t,n){var i,r,o=[k,c];if(n){for(;e=e[s];)if((1===e.nodeType||l)&&a(e,t,n))return!0}else for(;e=e[s];)if(1===e.nodeType||l){if((i=(r=e[$]||(e[$]={}))[s])&&i[0]===k&&i[1]===c)return o[2]=i[2];if((r[s]=o)[2]=a(e,t,n))return!0}}}function me(r){return 1<r.length?function(e,t,n){for(var i=r.length;i--;)if(!r[i](e,t,n))return!1;return!0}:r[0]}function ve(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,c=null!=t;s<l;s++)!(o=e[s])||n&&!n(o,i,r)||(a.push(o),c&&t.push(s));return a}function ye(p,f,g,m,v,e){return m&&!m[$]&&(m=ye(m)),v&&!v[$]&&(v=ye(v,e)),oe(function(e,t,n,i){var r,o,a,s=[],l=[],c=t.length,u=e||function(e,t,n){for(var i=0,r=t.length;i<r;i++)ie(e,t[i],n);return n}(f||"*",n.nodeType?[n]:n,[]),d=!p||!e&&f?u:ve(u,s,p,n,i),h=g?v||(e?p:c||m)?[]:t:d;if(g&&g(d,h,n,i),m)for(r=ve(h,l),m(r,[],n,i),o=r.length;o--;)(a=r[o])&&(h[l[o]]=!(d[l[o]]=a));if(e){if(v||p){if(v){for(r=[],o=h.length;o--;)(a=h[o])&&r.push(d[o]=a);v(null,h=[],r,i)}for(o=h.length;o--;)(a=h[o])&&-1<(r=v?O.call(e,a):s[o])&&(e[r]=!(t[r]=a))}}else h=ve(h===t?h.splice(c,h.length):h),v?v(null,t,h,i):I.apply(t,h)})}function be(e){for(var i,t,n,r=e.length,o=w.relative[e[0].type],a=o||w.relative[" "],s=o?1:0,l=ge(function(e){return e===i},a,!0),c=ge(function(e){return-1<O.call(i,e)},a,!0),u=[function(e,t,n){return!o&&(n||t!==x)||((i=t).nodeType?l(e,t,n):c(e,t,n))}];s<r;s++)if(t=w.relative[e[s].type])u=[ge(me(u),t)];else{if((t=w.filter[e[s].type].apply(null,e[s].matches))[$]){for(n=++s;n<r&&!w.relative[e[n].type];n++);return ye(1<s&&me(u),1<s&&fe(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(j,"$1"),t,s<n&&be(e.slice(s,n)),n<r&&be(e=e.slice(n)),n<r&&fe(e))}u.push(t)}return me(u)}return pe.prototype=w.filters=w.pseudos,w.setFilters=new pe,g=ie.tokenize=function(e,t){var n,i,r,o,a,s,l,c=A[e+" "];if(c)return t?0:c.slice(0);for(a=e,s=[],l=w.preFilter;a;){for(o in n&&!(i=G.exec(a))||(i&&(a=a.slice(i[0].length)||a),s.push(r=[])),n=!1,(i=U.exec(a))&&(n=i.shift(),r.push({value:n,type:i[0].replace(j," ")}),a=a.slice(n.length)),w.filter)!(i=X[o].exec(a))||l[o]&&!(i=l[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),a=a.slice(n.length));if(!n)break}return t?a.length:a?ie.error(e):A(e,s).slice(0)},h=ie.compile=function(e,t){var n,i=[],r=[],o=T[e+" "];if(!o){for(n=(t=t||g(e)).length;n--;)(o=be(t[n]))[$]?i.push(o):r.push(o);(o=T(e,function(m,v){function e(e,t,n,i,r){var o,a,s,l=0,c="0",u=e&&[],d=[],h=x,p=e||b&&w.find.TAG("*",r),f=k+=null==h?1:Math.random()||.1,g=p.length;for(r&&(x=t!==C&&t);c!==g&&null!=(o=p[c]);c++){if(b&&o){for(a=0;s=m[a++];)if(s(o,t,n)){i.push(o);break}r&&(k=f)}y&&((o=!s&&o)&&l--,e&&u.push(o))}if(l+=c,y&&c!==l){for(a=0;s=v[a++];)s(u,d,t,n);if(e){if(0<l)for(;c--;)u[c]||d[c]||(d[c]=_.call(i));d=ve(d)}I.apply(i,d),r&&!e&&0<d.length&&1<l+v.length&&ie.uniqueSort(i)}return r&&(k=f,x=h),u}var y=0<v.length,b=0<m.length;return y?oe(e):e}(r,i))).selector=e}return o},m=ie.select=function(e,t,n,i){var r,o,a,s,l,c="function"==typeof e&&e,u=!i&&g(e=c.selector||e);if(n=n||[],1===u.length){if(2<(o=u[0]=u[0].slice(0)).length&&"ID"===(a=o[0]).type&&f.getById&&9===t.nodeType&&y&&w.relative[o[1].type]){if(!(t=(w.find.ID(a.matches[0].replace(ne,d),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=X.needsContext.test(e)?0:o.length;r--&&(a=o[r],!w.relative[s=a.type]);)if((l=w.find[s])&&(i=l(a.matches[0].replace(ne,d),ee.test(o[0].type)&&he(t.parentNode)||t))){if(o.splice(r,1),!(e=i.length&&fe(o)))return I.apply(n,i),n;break}}return(c||h(e,u))(i,t,!y,n,ee.test(e)&&he(t.parentNode)||t),n},f.sortStable=$.split("").sort(M).join("")===$,f.detectDuplicates=!!u,v(),f.sortDetached=ae(function(e){return 1&e.compareDocumentPosition(C.createElement("div"))}),ae(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||se("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),f.attributes&&ae(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||se("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),ae(function(e){return null==e.getAttribute("disabled")})||se(L,function(e,t,n){var i;return n?void 0:!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),ie}(f);S.find=h,S.expr=h.selectors,S.expr[":"]=S.expr.pseudos,S.unique=h.uniqueSort,S.text=h.getText,S.isXMLDoc=h.isXML,S.contains=h.contains;var p=S.expr.match.needsContext,b=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function x(e,n,i){if(S.isFunction(n))return S.grep(e,function(e,t){return!!n.call(e,t,e)!==i});if(n.nodeType)return S.grep(e,function(e){return e===n!==i});if("string"==typeof n){if(w.test(n))return S.filter(n,e,i);n=S.filter(n,e)}return S.grep(e,function(e){return 0<=r.call(n,e)!==i})}S.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?S.find.matchesSelector(i,e)?[i]:[]:S.find.matches(e,S.grep(t,function(e){return 1===e.nodeType}))},S.fn.extend({find:function(e){var t,n=this.length,i=[],r=this;if("string"!=typeof e)return this.pushStack(S(e).filter(function(){for(t=0;t<n;t++)if(S.contains(r[t],this))return!0}));for(t=0;t<n;t++)S.find(e,r[t],i);return(i=this.pushStack(1<n?S.unique(i):i)).selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(x(this,e||[],!1))},not:function(e){return this.pushStack(x(this,e||[],!0))},is:function(e){return!!x(this,"string"==typeof e&&p.test(e)?S(e):e||[],!1).length}});var C,$=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(S.fn.init=function(e,t){var n,i;if(!e)return this;if("string"!=typeof e)return e.nodeType?(this.context=this[0]=e,this.length=1,this):S.isFunction(e)?void 0!==C.ready?C.ready(e):e(S):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),S.makeArray(e,this));if(!(n="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:$.exec(e))||!n[1]&&t)return!t||t.jquery?(t||C).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof S?t[0]:t,S.merge(this,S.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:y,!0)),b.test(n[1])&&S.isPlainObject(t))for(n in t)S.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(i=y.getElementById(n[2]))&&i.parentNode&&(this.length=1,this[0]=i),this.context=y,this.selector=e,this}).prototype=S.fn,C=S(y);var E=/^(?:parents|prev(?:Until|All))/,k={children:!0,contents:!0,next:!0,prev:!0};function A(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}S.extend({dir:function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&S(e).is(n))break;i.push(e)}return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),S.fn.extend({has:function(e){var t=S(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(S.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,o=[],a=p.test(e)||"string"!=typeof e?S(e,t||this.context):0;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&S.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?S.unique(o):o)},index:function(e){return e?"string"==typeof e?r.call(S(e),this[0]):r.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(S.unique(S.merge(this.get(),S(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),S.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return S.dir(e,"parentNode")},parentsUntil:function(e,t,n){return S.dir(e,"parentNode",n)},next:function(e){return A(e,"nextSibling")},prev:function(e){return A(e,"previousSibling")},nextAll:function(e){return S.dir(e,"nextSibling")},prevAll:function(e){return S.dir(e,"previousSibling")},nextUntil:function(e,t,n){return S.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return S.dir(e,"previousSibling",n)},siblings:function(e){return S.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return S.sibling(e.firstChild)},contents:function(e){return e.contentDocument||S.merge([],e.childNodes)}},function(i,r){S.fn[i]=function(e,t){var n=S.map(this,r,e);return"Until"!==i.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=S.filter(t,n)),1<this.length&&(k[i]||S.unique(n),E.test(i)&&n.reverse()),this.pushStack(n)}});var T,M=/\S+/g,D={};function P(){y.removeEventListener("DOMContentLoaded",P,!1),f.removeEventListener("load",P,!1),S.ready()}S.Callbacks=function(r){r="string"==typeof r?D[r]||function(e){var n=D[e]={};return S.each(e.match(M)||[],function(e,t){n[t]=!0}),n}(r):S.extend({},r);var t,n,i,o,a,s,l=[],c=!r.once&&[],u=function(e){for(t=r.memory&&e,n=!0,s=o||0,o=0,a=l.length,i=!0;l&&s<a;s++)if(!1===l[s].apply(e[0],e[1])&&r.stopOnFalse){t=!1;break}i=!1,l&&(c?c.length&&u(c.shift()):t?l=[]:d.disable())},d={add:function(){if(l){var e=l.length;!function i(e){S.each(e,function(e,t){var n=S.type(t);"function"===n?r.unique&&d.has(t)||l.push(t):t&&t.length&&"string"!==n&&i(t)})}(arguments),i?a=l.length:t&&(o=e,u(t))}return this},remove:function(){return l&&S.each(arguments,function(e,t){for(var n;-1<(n=S.inArray(t,l,n));)l.splice(n,1),i&&(n<=a&&a--,n<=s&&s--)}),this},has:function(e){return e?-1<S.inArray(e,l):!(!l||!l.length)},empty:function(){return l=[],a=0,this},disable:function(){return l=c=t=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,t||d.disable(),this},locked:function(){return!c},fireWith:function(e,t){return!l||n&&!c||(t=[e,(t=t||[]).slice?t.slice():t],i?c.push(t):u(t)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d},S.extend({Deferred:function(e){var o=[["resolve","done",S.Callbacks("once memory"),"resolved"],["reject","fail",S.Callbacks("once memory"),"rejected"],["notify","progress",S.Callbacks("memory")]],r="pending",a={state:function(){return r},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var r=arguments;return S.Deferred(function(i){S.each(o,function(e,t){var n=S.isFunction(r[e])&&r[e];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&S.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[t[0]+"With"](this===a?i.promise():this,n?[e]:arguments)})}),r=null}).promise()},promise:function(e){return null!=e?S.extend(e,a):a}},s={};return a.pipe=a.then,S.each(o,function(e,t){var n=t[2],i=t[3];a[t[1]]=n.add,i&&n.add(function(){r=i},o[1^e][2].disable,o[2][2].lock),s[t[0]]=function(){return s[t[0]+"With"](this===s?a:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){function t(t,n,i){return function(e){n[t]=this,i[t]=1<arguments.length?u.call(arguments):e,i===r?c.notifyWith(n,i):--l||c.resolveWith(n,i)}}var r,n,i,o=0,a=u.call(arguments),s=a.length,l=1!==s||e&&S.isFunction(e.promise)?s:0,c=1===l?e:S.Deferred();if(1<s)for(r=new Array(s),n=new Array(s),i=new Array(s);o<s;o++)a[o]&&S.isFunction(a[o].promise)?a[o].promise().done(t(o,i,a)).fail(c.reject).progress(t(o,n,r)):--l;return l||c.resolveWith(i,a),c.promise()}}),S.fn.ready=function(e){return S.ready.promise().done(e),this},S.extend({isReady:!1,readyWait:1,holdReady:function(e){e?S.readyWait++:S.ready(!0)},ready:function(e){(!0===e?--S.readyWait:S.isReady)||((S.isReady=!0)!==e&&0<--S.readyWait||(T.resolveWith(y,[S]),S.fn.triggerHandler&&(S(y).triggerHandler("ready"),S(y).off("ready"))))}}),S.ready.promise=function(e){return T||(T=S.Deferred(),"complete"===y.readyState?setTimeout(S.ready):(y.addEventListener("DOMContentLoaded",P,!1),f.addEventListener("load",P,!1))),T.promise(e)},S.ready.promise();var _=S.access=function(e,t,n,i,r,o,a){var s=0,l=e.length,c=null==n;if("object"===S.type(n))for(s in r=!0,n)S.access(e,t,s,n[s],!0,o,a);else if(void 0!==i&&(r=!0,S.isFunction(i)||(a=!0),c&&(t=a?(t.call(e,i),null):(c=t,function(e,t,n){return c.call(S(e),n)})),t))for(;s<l;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return r?e:c?t.call(e):l?t(e[0],n):o};function R(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=S.expando+Math.random()}S.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},R.uid=1,R.accepts=S.acceptData,R.prototype={key:function(t){if(!R.accepts(t))return 0;var n={},i=t[this.expando];if(!i){i=R.uid++;try{n[this.expando]={value:i},Object.defineProperties(t,n)}catch(e){n[this.expando]=i,S.extend(t,n)}}return this.cache[i]||(this.cache[i]={}),i},set:function(e,t,n){var i,r=this.key(e),o=this.cache[r];if("string"==typeof t)o[t]=n;else if(S.isEmptyObject(o))S.extend(this.cache[r],t);else for(i in t)o[i]=t[i];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var i;return void 0===t||t&&"string"==typeof t&&void 0===n?void 0!==(i=this.get(e,t))?i:this.get(e,S.camelCase(t)):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i,r,o=this.key(e),a=this.cache[o];if(void 0===t)this.cache[o]={};else{n=(i=S.isArray(t)?t.concat(t.map(S.camelCase)):(r=S.camelCase(t),t in a?[t,r]:(i=r)in a?[i]:i.match(M)||[])).length;for(;n--;)delete a[i[n]]}},hasData:function(e){return!S.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var I=new R,F=new R,O=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,L=/([A-Z])/g;function N(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(L,"-$1").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:O.test(n)?S.parseJSON(n):n)}catch(e){}F.set(e,t,n)}else n=void 0;return n}S.extend({hasData:function(e){return F.hasData(e)||I.hasData(e)},data:function(e,t,n){return F.access(e,t,n)},removeData:function(e,t){F.remove(e,t)},_data:function(e,t,n){return I.access(e,t,n)},_removeData:function(e,t){I.remove(e,t)}}),S.fn.extend({data:function(i,e){var t,n,r,o=this[0],a=o&&o.attributes;if(void 0!==i)return"object"==typeof i?this.each(function(){F.set(this,i)}):_(this,function(t){var e,n=S.camelCase(i);if(o&&void 0===t){if(void 0!==(e=F.get(o,i)))return e;if(void 0!==(e=F.get(o,n)))return e;if(void 0!==(e=N(o,n,void 0)))return e}else this.each(function(){var e=F.get(this,n);F.set(this,n,t),-1!==i.indexOf("-")&&void 0!==e&&F.set(this,i,t)})},null,e,1<arguments.length,null,!0);if(this.length&&(r=F.get(o),1===o.nodeType&&!I.get(o,"hasDataAttrs"))){for(t=a.length;t--;)a[t]&&(0===(n=a[t].name).indexOf("data-")&&(n=S.camelCase(n.slice(5)),N(o,n,r[n])));I.set(o,"hasDataAttrs",!0)}return r},removeData:function(e){return this.each(function(){F.remove(this,e)})}}),S.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=I.get(e,t),n&&(!i||S.isArray(n)?i=I.access(e,t,S.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=S.queue(e,t),i=n.length,r=n.shift(),o=S._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,function(){S.dequeue(e,t)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return I.get(e,n)||I.access(e,n,{empty:S.Callbacks("once memory").add(function(){I.remove(e,[t+"queue",n])})})}}),S.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?S.queue(this[0],t):void 0===n?this:this.each(function(){var e=S.queue(this,t,n);S._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&S.dequeue(this,t)})},dequeue:function(e){return this.each(function(){S.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function n(){--r||o.resolveWith(a,[a])}var i,r=1,o=S.Deferred(),a=this,s=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(i=I.get(a[s],e+"queueHooks"))&&i.empty&&(r++,i.empty.add(n));return n(),o.promise(t)}});function V(e,t){return e=t||e,"none"===S.css(e,"display")||!S.contains(e.ownerDocument,e)}var H,B,z=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,j=["Top","Right","Bottom","Left"],G=/^(?:checkbox|radio)$/i;H=y.createDocumentFragment().appendChild(y.createElement("div")),(B=y.createElement("input")).setAttribute("type","radio"),B.setAttribute("checked","checked"),B.setAttribute("name","t"),H.appendChild(B),v.checkClone=H.cloneNode(!0).cloneNode(!0).lastChild.checked,H.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!H.cloneNode(!0).lastChild.defaultValue;var U="undefined";v.focusinBubbles="onfocusin"in f;var W=/^key/,q=/^(?:mouse|pointer|contextmenu)|click/,Y=/^(?:focusinfocus|focusoutblur)$/,X=/^([^.]*)(?:\.(.+)|)$/;function K(){return!0}function Z(){return!1}function J(){try{return y.activeElement}catch(e){}}S.event={global:{},add:function(t,e,n,i,r){var o,a,s,l,c,u,d,h,p,f,g,m=I.get(t);if(m)for(n.handler&&(n=(o=n).handler,r=o.selector),n.guid||(n.guid=S.guid++),(l=m.events)||(l=m.events={}),(a=m.handle)||(a=m.handle=function(e){return typeof S!=U&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(M)||[""]).length;c--;)p=g=(s=X.exec(e[c])||[])[1],f=(s[2]||"").split(".").sort(),p&&(d=S.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,d=S.event.special[p]||{},u=S.extend({type:p,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&S.expr.match.needsContext.test(r),namespace:f.join(".")},o),(h=l[p])||((h=l[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(t,i,f,a)||t.addEventListener&&t.addEventListener(p,a,!1)),d.add&&(d.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,u):h.push(u),S.event.global[p]=!0)},remove:function(e,t,n,i,r){var o,a,s,l,c,u,d,h,p,f,g,m=I.hasData(e)&&I.get(e);if(m&&(l=m.events)){for(c=(t=(t||"").match(M)||[""]).length;c--;)if(p=g=(s=X.exec(t[c])||[])[1],f=(s[2]||"").split(".").sort(),p){for(d=S.event.special[p]||{},h=l[p=(i?d.delegateType:d.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)u=h[o],!r&&g!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(h.splice(o,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(e,u));a&&!h.length&&(d.teardown&&!1!==d.teardown.call(e,f,m.handle)||S.removeEvent(e,p,m.handle),delete l[p])}else for(p in l)S.event.remove(e,p+t[c],n,i,!0);S.isEmptyObject(l)&&(delete m.handle,I.remove(e,"events"))}},trigger:function(e,t,n,i){var r,o,a,s,l,c,u,d=[n||y],h=m.call(e,"type")?e.type:e,p=m.call(e,"namespace")?e.namespace.split("."):[];if(o=a=n=n||y,3!==n.nodeType&&8!==n.nodeType&&!Y.test(h+S.event.triggered)&&(0<=h.indexOf(".")&&(h=(p=h.split(".")).shift(),p.sort()),l=h.indexOf(":")<0&&"on"+h,(e=e[S.expando]?e:new S.Event(h,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=p.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:S.makeArray(t,[e]),u=S.event.special[h]||{},i||!u.trigger||!1!==u.trigger.apply(n,t))){if(!i&&!u.noBubble&&!S.isWindow(n)){for(s=u.delegateType||h,Y.test(s+h)||(o=o.parentNode);o;o=o.parentNode)d.push(o),a=o;a===(n.ownerDocument||y)&&d.push(a.defaultView||a.parentWindow||f)}for(r=0;(o=d[r++])&&!e.isPropagationStopped();)e.type=1<r?s:u.bindType||h,(c=(I.get(o,"events")||{})[e.type]&&I.get(o,"handle"))&&c.apply(o,t),(c=l&&o[l])&&c.apply&&S.acceptData(o)&&(e.result=c.apply(o,t),!1===e.result&&e.preventDefault());return e.type=h,i||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(d.pop(),t)||!S.acceptData(n)||l&&S.isFunction(n[h])&&!S.isWindow(n)&&((a=n[l])&&(n[l]=null),n[S.event.triggered=h](),S.event.triggered=void 0,a&&(n[l]=a)),e.result}},dispatch:function(e){e=S.event.fix(e);var t,n,i,r,o,a=[],s=u.call(arguments),l=(I.get(this,"events")||{})[e.type]||[],c=S.event.special[e.type]||{};if((s[0]=e).delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(a=S.event.handlers.call(this,e,l),t=0;(r=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(o.namespace)||(e.handleObj=o,e.data=o.data,void 0!==(i=((S.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s))&&!1===(e.result=i)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(!0!==l.disabled||"click"!==e.type){for(i=[],n=0;n<s;n++)void 0===i[r=(o=t[n]).selector+" "]&&(i[r]=o.needsContext?0<=S(r,this).index(l):S.find(r,this,null,[l]).length),i[r]&&i.push(o);i.length&&a.push({elem:l,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,o=t.button;return null==e.pageX&&null!=t.clientX&&(i=(n=e.target.ownerDocument||y).documentElement,r=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[S.expando])return e;var t,n,i,r=e.type,o=e,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=q.test(r)?this.mouseHooks:W.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new S.Event(o),t=i.length;t--;)e[n=i[t]]=o[n];return e.target||(e.target=y),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==J()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===J()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&S.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return S.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=S.extend(new S.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?S.event.trigger(r,null,t):S.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},S.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},S.Event=function(e,t){return this instanceof S.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?K:Z):this.type=e,t&&S.extend(this,t),this.timeStamp=e&&e.timeStamp||S.now(),void(this[S.expando]=!0)):new S.Event(e,t)},S.Event.prototype={isDefaultPrevented:Z,isPropagationStopped:Z,isImmediatePropagationStopped:Z,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=K,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=K,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=K,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,r){S.event.special[e]={delegateType:r,bindType:r,handle:function(e){var t,n=e.relatedTarget,i=e.handleObj;return n&&(n===this||S.contains(this,n))||(e.type=i.origType,t=i.handler.apply(this,arguments),e.type=r),t}}}),v.focusinBubbles||S.each({focus:"focusin",blur:"focusout"},function(n,i){function r(e){S.event.simulate(i,e.target,S.event.fix(e),!0)}S.event.special[i]={setup:function(){var e=this.ownerDocument||this,t=I.access(e,i);t||e.addEventListener(n,r,!0),I.access(e,i,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=I.access(e,i)-1;t?I.access(e,i,t):(e.removeEventListener(n,r,!0),I.remove(e,i))}}}),S.fn.extend({on:function(e,t,n,i,r){var o,a;if("object"==typeof e){for(a in"string"!=typeof t&&(n=n||t,t=void 0),e)this.on(a,t,n,e[a],r);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),!1===i)i=Z;else if(!i)return this;return 1===r&&(o=i,(i=function(e){return S().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=S.guid++)),this.each(function(){S.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,S(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Z),this.each(function(){S.event.remove(this,e,n,t)});for(r in e)this.off(r,t,e[r]);return this},trigger:function(e,t){return this.each(function(){S.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?S.event.trigger(e,t,n,!0):void 0}});var Q=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ee=/<([\w:]+)/,te=/<|&#?\w+;/,ne=/<(?:script|style|link)/i,ie=/checked\s*(?:[^=]|=\s*.checked.)/i,re=/^$|\/(?:java|ecma)script/i,oe=/^true\/(.*)/,ae=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,se={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function le(e,t){return S.nodeName(e,"table")&&S.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function ce(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function ue(e){var t=oe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function de(e,t){for(var n=0,i=e.length;n<i;n++)I.set(e[n],"globalEval",!t||I.get(t[n],"globalEval"))}function he(e,t){var n,i,r,o,a,s,l,c;if(1===t.nodeType){if(I.hasData(e)&&(o=I.access(e),a=I.set(t,o),c=o.events))for(r in delete a.handle,a.events={},c)for(n=0,i=c[r].length;n<i;n++)S.event.add(t,r,c[r][n]);F.hasData(e)&&(s=F.access(e),l=S.extend({},s),F.set(t,l))}}function pe(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&S.nodeName(e,t)?S.merge([e],n):n}se.optgroup=se.option,se.tbody=se.tfoot=se.colgroup=se.caption=se.thead,se.th=se.td,S.extend({clone:function(e,t,n){var i,r,o,a,s,l,c,u=e.cloneNode(!0),d=S.contains(e.ownerDocument,e);if(!(v.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||S.isXMLDoc(e)))for(a=pe(u),i=0,r=(o=pe(e)).length;i<r;i++)s=o[i],l=a[i],void 0,"input"===(c=l.nodeName.toLowerCase())&&G.test(s.type)?l.checked=s.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=s.defaultValue);if(t)if(n)for(o=o||pe(e),a=a||pe(u),i=0,r=o.length;i<r;i++)he(o[i],a[i]);else he(e,u);return 0<(a=pe(u,"script")).length&&de(a,!d&&pe(e,"script")),u},buildFragment:function(e,t,n,i){for(var r,o,a,s,l,c,u=t.createDocumentFragment(),d=[],h=0,p=e.length;h<p;h++)if((r=e[h])||0===r)if("object"===S.type(r))S.merge(d,r.nodeType?[r]:r);else if(te.test(r)){for(o=o||u.appendChild(t.createElement("div")),a=(ee.exec(r)||["",""])[1].toLowerCase(),s=se[a]||se._default,o.innerHTML=s[1]+r.replace(Q,"<$1></$2>")+s[2],c=s[0];c--;)o=o.lastChild;S.merge(d,o.childNodes),(o=u.firstChild).textContent=""}else d.push(t.createTextNode(r));for(u.textContent="",h=0;r=d[h++];)if((!i||-1===S.inArray(r,i))&&(l=S.contains(r.ownerDocument,r),o=pe(u.appendChild(r),"script"),l&&de(o),n))for(c=0;r=o[c++];)re.test(r.type||"")&&n.push(r);return u},cleanData:function(e){for(var t,n,i,r,o=S.event.special,a=0;void 0!==(n=e[a]);a++){if(S.acceptData(n)&&((r=n[I.expando])&&(t=I.cache[r]))){if(t.events)for(i in t.events)o[i]?S.event.remove(n,i):S.removeEvent(n,i,t.handle);I.cache[r]&&delete I.cache[r]}delete F.cache[n[F.expando]]}}}),S.fn.extend({text:function(e){return _(this,function(e){return void 0===e?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||le(this,e).appendChild(e)})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=le(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?S.filter(e,this):this,r=0;null!=(n=i[r]);r++)t||1!==n.nodeType||S.cleanData(pe(n)),n.parentNode&&(t&&S.contains(n.ownerDocument,n)&&de(pe(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(S.cleanData(pe(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return S.clone(this,e,t)})},html:function(e){return _(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ne.test(e)&&!se[(ee.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Q,"<$1></$2>");try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(S.cleanData(pe(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,S.cleanData(pe(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(n,i){n=g.apply([],n);var e,t,r,o,a,s,l=0,c=this.length,u=this,d=c-1,h=n[0],p=S.isFunction(h);if(p||1<c&&"string"==typeof h&&!v.checkClone&&ie.test(h))return this.each(function(e){var t=u.eq(e);p&&(n[0]=h.call(this,e,t.html())),t.domManip(n,i)});if(c&&(t=(e=S.buildFragment(n,this[0].ownerDocument,!1,this)).firstChild,1===e.childNodes.length&&(e=t),t)){for(o=(r=S.map(pe(e,"script"),ce)).length;l<c;l++)a=e,l!==d&&(a=S.clone(a,!0,!0),o&&S.merge(r,pe(a,"script"))),i.call(this[l],a,l);if(o)for(s=r[r.length-1].ownerDocument,S.map(r,ue),l=0;l<o;l++)a=r[l],re.test(a.type||"")&&!I.access(a,"globalEval")&&S.contains(s,a)&&(a.src?S._evalUrl&&S._evalUrl(a.src):S.globalEval(a.textContent.replace(ae,"")))}return this}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){S.fn[e]=function(e){for(var t,n=[],i=S(e),r=i.length-1,o=0;o<=r;o++)t=o===r?this:this.clone(!0),S(i[o])[a](t),s.apply(n,t.get());return this.pushStack(n)}});var fe,ge={};function me(e,t){var n,i=S(t.createElement(e)).appendTo(t.body),r=f.getDefaultComputedStyle&&(n=f.getDefaultComputedStyle(i[0]))?n.display:S.css(i[0],"display");return i.detach(),r}function ve(e){var t=y,n=ge[e];return n||("none"!==(n=me(e,t))&&n||((t=(fe=(fe||S("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentDocument).write(),t.close(),n=me(e,t),fe.detach()),ge[e]=n),n}var ye=/^margin/,be=new RegExp("^("+z+")(?!px)[a-z%]+$","i"),we=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)};function xe(e,t,n){var i,r,o,a,s=e.style;return(n=n||we(e))&&(a=n.getPropertyValue(t)||n[t]),n&&(""!==a||S.contains(e.ownerDocument,e)||(a=S.style(e,t)),be.test(a)&&ye.test(t)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function Ce(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}!function(){var t,n,i=y.documentElement,r=y.createElement("div"),o=y.createElement("div");if(o.style){function e(){o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o.innerHTML="",i.appendChild(r);var e=f.getComputedStyle(o,null);t="1%"!==e.top,n="4px"===e.width,i.removeChild(r)}o.style.backgroundClip="content-box",o.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===o.style.backgroundClip,r.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",r.appendChild(o),f.getComputedStyle&&S.extend(v,{pixelPosition:function(){return e(),t},boxSizingReliable:function(){return null==n&&e(),n},reliableMarginRight:function(){var e,t=o.appendChild(y.createElement("div"));return t.style.cssText=o.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",o.style.width="1px",i.appendChild(r),e=!parseFloat(f.getComputedStyle(t,null).marginRight),i.removeChild(r),e}})}}(),S.swap=function(e,t,n,i){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in r=n.apply(e,i||[]),t)e.style[o]=a[o];return r};var Se=/^(none|table(?!-c[ea]).+)/,$e=new RegExp("^("+z+")(.*)$","i"),Ee=new RegExp("^([+-])=("+z+")","i"),ke={position:"absolute",visibility:"hidden",display:"block"},Ae={letterSpacing:"0",fontWeight:"400"},Te=["Webkit","O","Moz","ms"];function Me(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),i=t,r=Te.length;r--;)if((t=Te[r]+n)in e)return t;return i}function De(e,t,n){var i=$e.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function Pe(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=S.css(e,n+j[o],!0,r)),i?("content"===n&&(a-=S.css(e,"padding"+j[o],!0,r)),"margin"!==n&&(a-=S.css(e,"border"+j[o]+"Width",!0,r))):(a+=S.css(e,"padding"+j[o],!0,r),"padding"!==n&&(a+=S.css(e,"border"+j[o]+"Width",!0,r)));return a}function _e(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=we(e),a="border-box"===S.css(e,"boxSizing",!1,o);if(r<=0||null==r){if(((r=xe(e,t,o))<0||null==r)&&(r=e.style[t]),be.test(r))return r;i=a&&(v.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+Pe(e,t,n||(a?"border":"content"),i,o)+"px"}function Re(e,t){for(var n,i,r,o=[],a=0,s=e.length;a<s;a++)(i=e[a]).style&&(o[a]=I.get(i,"olddisplay"),n=i.style.display,t?(o[a]||"none"!==n||(i.style.display=""),""===i.style.display&&V(i)&&(o[a]=I.access(i,"olddisplay",ve(i.nodeName)))):(r=V(i),"none"===n&&r||I.set(i,"olddisplay",r?n:S.css(i,"display"))));for(a=0;a<s;a++)(i=e[a]).style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[a]||"":"none"));return e}function Ie(e,t,n,i,r){return new Ie.prototype.init(e,t,n,i,r)}S.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=xe(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=S.camelCase(t),l=e.style;return t=S.cssProps[s]||(S.cssProps[s]=Me(l,s)),a=S.cssHooks[t]||S.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:l[t]:("string"===(o=typeof n)&&(r=Ee.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(S.css(e,t)),o="number"),void(null!=n&&n==n&&("number"!==o||S.cssNumber[s]||(n+="px"),v.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(l[t]=n))))}},css:function(e,t,n,i){var r,o,a,s=S.camelCase(t);return t=S.cssProps[s]||(S.cssProps[s]=Me(e.style,s)),(a=S.cssHooks[t]||S.cssHooks[s])&&"get"in a&&(r=a.get(e,!0,n)),void 0===r&&(r=xe(e,t,i)),"normal"===r&&t in Ae&&(r=Ae[t]),""===n||n?(o=parseFloat(r),!0===n||S.isNumeric(o)?o||0:r):r}}),S.each(["height","width"],function(e,r){S.cssHooks[r]={get:function(e,t,n){return t?Se.test(S.css(e,"display"))&&0===e.offsetWidth?S.swap(e,ke,function(){return _e(e,r,n)}):_e(e,r,n):void 0},set:function(e,t,n){var i=n&&we(e);return De(0,t,n?Pe(e,r,n,"border-box"===S.css(e,"boxSizing",!1,i),i):0)}}}),S.cssHooks.marginRight=Ce(v.reliableMarginRight,function(e,t){return t?S.swap(e,{display:"inline-block"},xe,[e,"marginRight"]):void 0}),S.each({margin:"",padding:"",border:"Width"},function(r,o){S.cssHooks[r+o]={expand:function(e){for(var t=0,n={},i="string"==typeof e?e.split(" "):[e];t<4;t++)n[r+j[t]+o]=i[t]||i[t-2]||i[0];return n}},ye.test(r)||(S.cssHooks[r+o].set=De)}),S.fn.extend({css:function(e,t){return _(this,function(e,t,n){var i,r,o={},a=0;if(S.isArray(t)){for(i=we(e),r=t.length;a<r;a++)o[t[a]]=S.css(e,t[a],!1,i);return o}return void 0!==n?S.style(e,t,n):S.css(e,t)},e,t,1<arguments.length)},show:function(){return Re(this,!0)},hide:function(){return Re(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){V(this)?S(this).show():S(this).hide()})}}),((S.Tween=Ie).prototype={constructor:Ie,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(S.cssNumber[n]?"":"px")},cur:function(){var e=Ie.propHooks[this.prop];return e&&e.get?e.get(this):Ie.propHooks._default.get(this)},run:function(e){var t,n=Ie.propHooks[this.prop];return this.pos=t=this.options.duration?S.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Ie.propHooks._default.set(this),this}}).init.prototype=Ie.prototype,(Ie.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=S.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){S.fx.step[e.prop]?S.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[S.cssProps[e.prop]]||S.cssHooks[e.prop])?S.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}}).scrollTop=Ie.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},S.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},S.fx=Ie.prototype.init,S.fx.step={};var Fe,Oe,Le,Ne,Ve,He=/^(?:toggle|show|hide)$/,Be=new RegExp("^(?:([+-])=|)("+z+")([a-z%]*)$","i"),ze=/queueHooks$/,je=[function(t,e,n){var i,r,o,a,s,l,c,u=this,d={},h=t.style,p=t.nodeType&&V(t),f=I.get(t,"fxshow");for(i in n.queue||(null==(s=S._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,S.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],c=S.css(t,"display"),"inline"===("none"===c?I.get(t,"olddisplay")||ve(t.nodeName):c)&&"none"===S.css(t,"float")&&(h.display="inline-block")),n.overflow&&(h.overflow="hidden",u.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),e)if(r=e[i],He.exec(r)){if(delete e[i],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!f||void 0===f[i])continue;p=!0}d[i]=f&&f[i]||S.style(t,i)}else c=void 0;if(S.isEmptyObject(d))"inline"===("none"===c?ve(t.nodeName):c)&&(h.display=c);else for(i in f?"hidden"in f&&(p=f.hidden):f=I.access(t,"fxshow",{}),o&&(f.hidden=!p),p?S(t).show():u.done(function(){S(t).hide()}),u.done(function(){var e;for(e in I.remove(t,"fxshow"),d)S.style(t,e,d[e])}),d)a=qe(p?f[i]:0,i,u),i in f||(f[i]=a.start,p&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}],Ge={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),r=Be.exec(t),o=r&&r[3]||(S.cssNumber[e]?"":"px"),a=(S.cssNumber[e]||"px"!==o&&+i)&&Be.exec(S.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o)for(o=o||a[3],r=r||[],a=+i||1;a/=s=s||".5",S.style(n.elem,e,a+o),s!==(s=n.cur()/i)&&1!==s&&--l;);return r&&(a=n.start=+a||+i||0,n.unit=o,n.end=r[1]?a+(r[1]+1)*r[2]:+r[2]),n}]};function Ue(){return setTimeout(function(){Fe=void 0}),Fe=S.now()}function We(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=j[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function qe(e,t,n){for(var i,r=(Ge[t]||[]).concat(Ge["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,t,e))return i}function Ye(o,e,t){var n,a,i=0,r=je.length,s=S.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var e=Fe||Ue(),t=Math.max(0,c.startTime+c.duration-e),n=1-(t/c.duration||0),i=0,r=c.tweens.length;i<r;i++)c.tweens[i].run(n);return s.notifyWith(o,[c,n,t]),n<1&&r?t:(s.resolveWith(o,[c]),!1)},c=s.promise({elem:o,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{}},t),originalProperties:e,originalOptions:t,startTime:Fe||Ue(),duration:t.duration,tweens:[],createTween:function(e,t){var n=S.Tween(o,c.opts,e,t,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var t=0,n=e?c.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)c.tweens[t].run(1);return e?s.resolveWith(o,[c,e]):s.rejectWith(o,[c,e]),this}}),u=c.props;for(function(e,t){var n,i,r,o,a;for(n in e)if(r=t[i=S.camelCase(n)],o=e[n],S.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(a=S.cssHooks[i])&&"expand"in a)for(n in o=a.expand(o),delete e[i],o)n in e||(e[n]=o[n],t[n]=r);else t[i]=r}(u,c.opts.specialEasing);i<r;i++)if(n=je[i].call(c,o,u,c.opts))return n;return S.map(u,qe,c),S.isFunction(c.opts.start)&&c.opts.start.call(o,c),S.fx.timer(S.extend(l,{elem:o,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}S.Animation=S.extend(Ye,{tweener:function(e,t){for(var n,i=0,r=(e=S.isFunction(e)?(t=e,["*"]):e.split(" ")).length;i<r;i++)n=e[i],Ge[n]=Ge[n]||[],Ge[n].unshift(t)},prefilter:function(e,t){t?je.unshift(e):je.push(e)}}),S.speed=function(e,t,n){var i=e&&"object"==typeof e?S.extend({},e):{complete:n||!n&&t||S.isFunction(e)&&e,duration:e,easing:n&&t||t&&!S.isFunction(t)&&t};return i.duration=S.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in S.fx.speeds?S.fx.speeds[i.duration]:S.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){S.isFunction(i.old)&&i.old.call(this),i.queue&&S.dequeue(this,i.queue)},i},S.fn.extend({fadeTo:function(e,t,n,i){return this.filter(V).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(t,e,n,i){function r(){var e=Ye(this,S.extend({},t),a);(o||I.get(this,"finish"))&&e.stop(!0)}var o=S.isEmptyObject(t),a=S.speed(e,n,i);return r.finish=r,o||!1===a.queue?this.each(r):this.queue(a.queue,r)},stop:function(r,e,o){function a(e){var t=e.stop;delete e.stop,t(o)}return"string"!=typeof r&&(o=e,e=r,r=void 0),e&&!1!==r&&this.queue(r||"fx",[]),this.each(function(){var e=!0,t=null!=r&&r+"queueHooks",n=S.timers,i=I.get(this);if(t)i[t]&&i[t].stop&&a(i[t]);else for(t in i)i[t]&&i[t].stop&&ze.test(t)&&a(i[t]);for(t=n.length;t--;)n[t].elem!==this||null!=r&&n[t].queue!==r||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||S.dequeue(this,r)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=I.get(this),n=t[a+"queue"],i=t[a+"queueHooks"],r=S.timers,o=n?n.length:0;for(t.finish=!0,S.queue(this,a,[]),i&&i.stop&&i.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===a&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),S.each(["toggle","show","hide"],function(e,i){var r=S.fn[i];S.fn[i]=function(e,t,n){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(We(i,!0),e,t,n)}}),S.each({slideDown:We("show"),slideUp:We("hide"),slideToggle:We("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,i){S.fn[e]=function(e,t,n){return this.animate(i,e,t,n)}}),S.timers=[],S.fx.tick=function(){var e,t=0,n=S.timers;for(Fe=S.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||S.fx.stop(),Fe=void 0},S.fx.timer=function(e){S.timers.push(e),e()?S.fx.start():S.timers.pop()},S.fx.interval=13,S.fx.start=function(){Oe=Oe||setInterval(S.fx.tick,S.fx.interval)},S.fx.stop=function(){clearInterval(Oe),Oe=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(i,e){return i=S.fx&&S.fx.speeds[i]||i,e=e||"fx",this.queue(e,function(e,t){var n=setTimeout(e,i);t.stop=function(){clearTimeout(n)}})},Le=y.createElement("input"),Ne=y.createElement("select"),Ve=Ne.appendChild(y.createElement("option")),Le.type="checkbox",v.checkOn=""!==Le.value,v.optSelected=Ve.selected,Ne.disabled=!0,v.optDisabled=!Ve.disabled,(Le=y.createElement("input")).value="t",Le.type="radio",v.radioValue="t"===Le.value;var Xe,Ke=S.expr.attrHandle;S.fn.extend({attr:function(e,t){return _(this,S.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){S.removeAttr(this,e)})}}),S.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute==U?S.prop(e,t,n):(1===o&&S.isXMLDoc(e)||(t=t.toLowerCase(),i=S.attrHooks[t]||(S.expr.match.bool.test(t)?Xe:void 0)),void 0===n?i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=S.find.attr(e,t))?void 0:r:null!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):void S.removeAttr(e,t))},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(M);if(o&&1===e.nodeType)for(;n=o[r++];)i=S.propFix[n]||n,S.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!v.radioValue&&"radio"===t&&S.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),Xe={set:function(e,t,n){return!1===t?S.removeAttr(e,n):e.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),function(e,t){var o=Ke[t]||S.find.attr;Ke[t]=function(e,t,n){var i,r;return n||(r=Ke[t],Ke[t]=i,i=null!=o(e,t,n)?t.toLowerCase():null,Ke[t]=r),i}});var Ze=/^(?:input|select|textarea|button)$/i;S.fn.extend({prop:function(e,t){return _(this,S.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[S.propFix[e]||e]})}}),S.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,n){var i,r,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return(1!==o||!S.isXMLDoc(e))&&(t=S.propFix[t]||t,r=S.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||Ze.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),v.optSelected||(S.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this});var Je=/[\t\r\n\f]/g;S.fn.extend({addClass:function(t){var e,n,i,r,o,a,s="string"==typeof t&&t,l=0,c=this.length;if(S.isFunction(t))return this.each(function(e){S(this).addClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(M)||[];l<c;l++)if(i=1===(n=this[l]).nodeType&&(n.className?(" "+n.className+" ").replace(Je," "):" ")){for(o=0;r=e[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");a=S.trim(i),n.className!==a&&(n.className=a)}return this},removeClass:function(t){var e,n,i,r,o,a,s=0===arguments.length||"string"==typeof t&&t,l=0,c=this.length;if(S.isFunction(t))return this.each(function(e){S(this).removeClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(M)||[];l<c;l++)if(i=1===(n=this[l]).nodeType&&(n.className?(" "+n.className+" ").replace(Je," "):"")){for(o=0;r=e[o++];)for(;0<=i.indexOf(" "+r+" ");)i=i.replace(" "+r+" "," ");a=t?S.trim(i):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(r,t){var o=typeof r;return"boolean"==typeof t&&"string"==o?t?this.addClass(r):this.removeClass(r):this.each(S.isFunction(r)?function(e){S(this).toggleClass(r.call(this,e,this.className,t),t)}:function(){if("string"==o)for(var e,t=0,n=S(this),i=r.match(M)||[];e=i[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else o!=U&&"boolean"!=o||(this.className&&I.set(this,"__className__",this.className),this.className=this.className||!1===r?"":I.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;n<i;n++)if(1===this[n].nodeType&&0<=(" "+this[n].className+" ").replace(Je," ").indexOf(t))return!0;return!1}});var Qe=/\r/g;S.fn.extend({val:function(n){var i,e,r,t=this[0];return arguments.length?(r=S.isFunction(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=r?n.call(this,e,S(this).val()):n)?t="":"number"==typeof t?t+="":S.isArray(t)&&(t=S.map(t,function(e){return null==e?"":e+""})),(i=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&void 0!==i.set(this,t,"value")||(this.value=t))})):t?(i=S.valHooks[t.type]||S.valHooks[t.nodeName.toLowerCase()])&&"get"in i&&void 0!==(e=i.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(Qe,""):null==e?"":e:void 0}}),S.extend({valHooks:{option:{get:function(e){var t=S.find.attr(e,"value");return null!=t?t:S.trim(S.text(e))}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||r<0,a=o?null:[],s=o?r+1:i.length,l=r<0?s:o?r:0;l<s;l++)if(!(!(n=i[l]).selected&&l!==r||(v.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&S.nodeName(n.parentNode,"optgroup"))){if(t=S(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,i,r=e.options,o=S.makeArray(t),a=r.length;a--;)((i=r[a]).selected=0<=S.inArray(i.value,o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(e,t){return S.isArray(t)?e.checked=0<=S.inArray(S(e).val(),t):void 0}},v.checkOn||(S.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),S.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,n){S.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),S.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var et=S.now(),tt=/\?/;S.parseJSON=function(e){return JSON.parse(e+"")},S.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||S.error("Invalid XML: "+e),t};var nt,it,rt=/#.*$/,ot=/([?&])_=[^&]*/,at=/^(.*?):[ \t]*([^\r\n]*)$/gm,st=/^(?:GET|HEAD)$/,lt=/^\/\//,ct=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,ut={},dt={},ht="*/".concat("*");try{it=location.href}catch(e){(it=y.createElement("a")).href="",it=it.href}function pt(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,i=0,r=e.toLowerCase().match(M)||[];if(S.isFunction(t))for(;n=r[i++];)"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function ft(t,r,o,a){var s={},l=t===dt;function c(e){var i;return s[e]=!0,S.each(t[e]||[],function(e,t){var n=t(r,o,a);return"string"!=typeof n||l||s[n]?l?!(i=n):void 0:(r.dataTypes.unshift(n),c(n),!1)}),i}return c(r.dataTypes[0])||!s["*"]&&c("*")}function gt(e,t){var n,i,r=S.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i=i||{})[n]=t[n]);return i&&S.extend(!0,e,i),e}nt=ct.exec(it.toLowerCase())||[],S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:it,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(nt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ht,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":S.parseJSON,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?gt(gt(e,S.ajaxSettings),t):gt(S.ajaxSettings,e)},ajaxPrefilter:pt(ut),ajaxTransport:pt(dt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var u,d,h,n,p,i,f,r,g=S.ajaxSetup({},t),m=g.context||g,v=g.context&&(m.nodeType||m.jquery)?S(m):S.event,y=S.Deferred(),b=S.Callbacks("once memory"),w=g.statusCode||{},o={},a={},x=0,s="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!n)for(n={};t=at.exec(h);)n[t[1].toLowerCase()]=t[2];t=n[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?h:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=a[n]=a[n]||e,o[e]=t),this},overrideMimeType:function(e){return x||(g.mimeType=e),this},statusCode:function(e){var t;if(e)if(x<2)for(t in e)w[t]=[w[t],e[t]];else C.always(e[C.status]);return this},abort:function(e){var t=e||s;return u&&u.abort(t),l(0,t),this}};if(y.promise(C).complete=b.add,C.success=C.done,C.error=C.fail,g.url=((e||g.url||it)+"").replace(rt,"").replace(lt,nt[1]+"//"),g.type=t.method||t.type||g.method||g.type,g.dataTypes=S.trim(g.dataType||"*").toLowerCase().match(M)||[""],null==g.crossDomain&&(i=ct.exec(g.url.toLowerCase()),g.crossDomain=!(!i||i[1]===nt[1]&&i[2]===nt[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(nt[3]||("http:"===nt[1]?"80":"443")))),g.data&&g.processData&&"string"!=typeof g.data&&(g.data=S.param(g.data,g.traditional)),ft(ut,g,t,C),2===x)return C;for(r in(f=g.global)&&0==S.active++&&S.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!st.test(g.type),d=g.url,g.hasContent||(g.data&&(d=g.url+=(tt.test(d)?"&":"?")+g.data,delete g.data),!1===g.cache&&(g.url=ot.test(d)?d.replace(ot,"$1_="+et++):d+(tt.test(d)?"&":"?")+"_="+et++)),g.ifModified&&(S.lastModified[d]&&C.setRequestHeader("If-Modified-Since",S.lastModified[d]),S.etag[d]&&C.setRequestHeader("If-None-Match",S.etag[d])),(g.data&&g.hasContent&&!1!==g.contentType||t.contentType)&&C.setRequestHeader("Content-Type",g.contentType),C.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+ht+"; q=0.01":""):g.accepts["*"]),g.headers)C.setRequestHeader(r,g.headers[r]);if(g.beforeSend&&(!1===g.beforeSend.call(m,C,g)||2===x))return C.abort();for(r in s="abort",{success:1,error:1,complete:1})C[r](g[r]);if(u=ft(dt,g,t,C)){C.readyState=1,f&&v.trigger("ajaxSend",[C,g]),g.async&&0<g.timeout&&(p=setTimeout(function(){C.abort("timeout")},g.timeout));try{x=1,u.send(o,l)}catch(e){if(!(x<2))throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,i){var r,o,a,s,l,c=t;2!==x&&(x=2,p&&clearTimeout(p),u=void 0,h=i||"",C.readyState=0<e?4:0,r=200<=e&&e<300||304===e,n&&(s=function(e,t,n){for(var i,r,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}a=a||r}o=o||a}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}(g,C,n)),s=function(e,t,n,i){var r,o,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=c[l+" "+o]||c["* "+o]))for(r in c)if((s=r.split(" "))[1]===o&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[r]:!0!==c[r]&&(o=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(g,s,C,r),r?(g.ifModified&&((l=C.getResponseHeader("Last-Modified"))&&(S.lastModified[d]=l),(l=C.getResponseHeader("etag"))&&(S.etag[d]=l)),204===e||"HEAD"===g.type?c="nocontent":304===e?c="notmodified":(c=s.state,o=s.data,r=!(a=s.error))):(a=c,!e&&c||(c="error",e<0&&(e=0))),C.status=e,C.statusText=(t||c)+"",r?y.resolveWith(m,[o,c,C]):y.rejectWith(m,[C,c,a]),C.statusCode(w),w=void 0,f&&v.trigger(r?"ajaxSuccess":"ajaxError",[C,g,r?o:a]),b.fireWith(m,[C,c]),f&&(v.trigger("ajaxComplete",[C,g]),--S.active||S.event.trigger("ajaxStop")))}return C},getJSON:function(e,t,n){return S.get(e,t,n,"json")},getScript:function(e,t){return S.get(e,void 0,t,"script")}}),S.each(["get","post"],function(e,r){S[r]=function(e,t,n,i){return S.isFunction(t)&&(i=i||n,n=t,t=void 0),S.ajax({url:e,type:r,dataType:i,data:t,success:n})}}),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){S.fn[t]=function(e){return this.on(t,e)}}),S._evalUrl=function(e){return S.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},S.fn.extend({wrapAll:function(t){var e;return S.isFunction(t)?this.each(function(e){S(this).wrapAll(t.call(this,e))}):(this[0]&&(e=S(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(n){return this.each(S.isFunction(n)?function(e){S(this).wrapInner(n.call(this,e))}:function(){var e=S(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=S.isFunction(t);return this.each(function(e){S(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(){return this.parent().each(function(){S.nodeName(this,"body")||S(this).replaceWith(this.childNodes)}).end()}}),S.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},S.expr.filters.visible=function(e){return!S.expr.filters.hidden(e)};var mt=/%20/g,vt=/\[\]$/,yt=/\r?\n/g,bt=/^(?:submit|button|image|reset|file)$/i,wt=/^(?:input|select|textarea|keygen)/i;function xt(n,e,i,r){var t;if(S.isArray(e))S.each(e,function(e,t){i||vt.test(n)?r(n,t):xt(n+"["+("object"==typeof t?e:"")+"]",t,i,r)});else if(i||"object"!==S.type(e))r(n,e);else for(t in e)xt(n+"["+t+"]",e[t],i,r)}S.param=function(e,t){function n(e,t){t=S.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)}var i,r=[];if(void 0===t&&(t=S.ajaxSettings&&S.ajaxSettings.traditional),S.isArray(e)||e.jquery&&!S.isPlainObject(e))S.each(e,function(){n(this.name,this.value)});else for(i in e)xt(i,e[i],t,n);return r.join("&").replace(mt,"+")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=S.prop(this,"elements");return e?S.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!S(this).is(":disabled")&&wt.test(this.nodeName)&&!bt.test(e)&&(this.checked||!G.test(e))}).map(function(e,t){var n=S(this).val();return null==n?null:S.isArray(n)?S.map(n,function(e){return{name:t.name,value:e.replace(yt,"\r\n")}}):{name:t.name,value:n.replace(yt,"\r\n")}}).get()}}),S.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Ct=0,St={},$t={0:200,1223:204},Et=S.ajaxSettings.xhr();f.ActiveXObject&&S(f).on("unload",function(){for(var e in St)St[e]()}),v.cors=!!Et&&"withCredentials"in Et,v.ajax=Et=!!Et,S.ajaxTransport(function(o){var a;return v.cors||Et&&!o.crossDomain?{send:function(e,t){var n,i=o.xhr(),r=++Ct;if(i.open(o.type,o.url,o.async,o.username,o.password),o.xhrFields)for(n in o.xhrFields)i[n]=o.xhrFields[n];for(n in o.mimeType&&i.overrideMimeType&&i.overrideMimeType(o.mimeType),o.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)i.setRequestHeader(n,e[n]);a=function(e){return function(){a&&(delete St[r],a=i.onload=i.onerror=null,"abort"===e?i.abort():"error"===e?t(i.status,i.statusText):t($t[i.status]||i.status,i.statusText,"string"==typeof i.responseText?{text:i.responseText}:void 0,i.getAllResponseHeaders()))}},i.onload=a(),i.onerror=a("error"),a=St[r]=a("abort");try{i.send(o.hasContent&&o.data||null)}catch(e){if(a)throw e}},abort:function(){a&&a()}}:void 0}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return S.globalEval(e),e}}}),S.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),S.ajaxTransport("script",function(n){var i,r;if(n.crossDomain)return{send:function(e,t){i=S("<script>").prop({async:!0,charset:n.scriptCharset,src:n.url}).on("load error",r=function(e){i.remove(),r=null,e&&t("error"===e.type?404:200,e.type)}),y.head.appendChild(i[0])},abort:function(){r&&r()}}});var kt=[],At=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=kt.pop()||S.expando+"_"+et++;return this[e]=!0,e}}),S.ajaxPrefilter("json jsonp",function(e,t,n){var i,r,o,a=!1!==e.jsonp&&(At.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&At.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(i=e.jsonpCallback=S.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(At,"$1"+i):!1!==e.jsonp&&(e.url+=(tt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return o||S.error(i+" was not called"),o[0]},e.dataTypes[0]="json",r=f[i],f[i]=function(){o=arguments},n.always(function(){f[i]=r,e[i]&&(e.jsonpCallback=t.jsonpCallback,kt.push(i)),o&&S.isFunction(r)&&r(o[0]),o=r=void 0}),"script"):void 0}),S.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||y;var i=b.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=S.buildFragment([e],t,r),r&&r.length&&S(r).remove(),S.merge([],i.childNodes))};var Tt=S.fn.load;S.fn.load=function(e,t,n){if("string"!=typeof e&&Tt)return Tt.apply(this,arguments);var i,r,o,a=this,s=e.indexOf(" ");return 0<=s&&(i=S.trim(e.slice(s)),e=e.slice(0,s)),S.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),0<a.length&&S.ajax({url:e,type:r,dataType:"html",data:t}).done(function(e){o=arguments,a.html(i?S("<div>").append(S.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){a.each(n,o||[e.responseText,t,e])}),this},S.expr.filters.animated=function(t){return S.grep(S.timers,function(e){return t===e.elem}).length};var Mt=f.document.documentElement;function Dt(e){return S.isWindow(e)?e:9===e.nodeType&&e.defaultView}S.offset={setOffset:function(e,t,n){var i,r,o,a,s,l,c=S.css(e,"position"),u=S(e),d={};"static"===c&&(e.style.position="relative"),s=u.offset(),o=S.css(e,"top"),l=S.css(e,"left"),r=("absolute"===c||"fixed"===c)&&-1<(o+l).indexOf("auto")?(a=(i=u.position()).top,i.left):(a=parseFloat(o)||0,parseFloat(l)||0),S.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+r),"using"in t?t.using.call(e,d):u.css(d)}},S.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){S.offset.setOffset(this,t,e)});var e,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;return o?(e=o.documentElement,S.contains(e,i)?(typeof i.getBoundingClientRect!=U&&(r=i.getBoundingClientRect()),n=Dt(o),{top:r.top+n.pageYOffset-e.clientTop,left:r.left+n.pageXOffset-e.clientLeft}):r):void 0},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===S.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),S.nodeName(e[0],"html")||(i=e.offset()),i.top+=S.css(e[0],"borderTopWidth",!0),i.left+=S.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-S.css(n,"marginTop",!0),left:t.left-i.left-S.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Mt;e&&!S.nodeName(e,"html")&&"static"===S.css(e,"position");)e=e.offsetParent;return e||Mt})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,r){var o="pageYOffset"===r;S.fn[t]=function(e){return _(this,function(e,t,n){var i=Dt(e);return void 0===n?i?i[r]:e[t]:void(i?i.scrollTo(o?f.pageXOffset:n,o?n:f.pageYOffset):e[t]=n)},t,e,arguments.length,null)}}),S.each(["top","left"],function(e,n){S.cssHooks[n]=Ce(v.pixelPosition,function(e,t){return t?(t=xe(e,n),be.test(t)?S(e).position()[n]+"px":t):void 0})}),S.each({Height:"height",Width:"width"},function(o,a){S.each({padding:"inner"+o,content:a,"":"outer"+o},function(i,e){S.fn[e]=function(e,t){var n=arguments.length&&(i||"boolean"!=typeof e),r=i||(!0===e||!0===t?"margin":"border");return _(this,function(e,t,n){var i;return S.isWindow(e)?e.document.documentElement["client"+o]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+o],i["scroll"+o],e.body["offset"+o],i["offset"+o],i["client"+o])):void 0===n?S.css(e,t,r):S.style(e,t,n,r)},a,n?e:void 0,n,null)}})}),S.fn.size=function(){return this.length},S.fn.andSelf=S.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return S});var Pt=f.jQuery,_t=f.$;return S.noConflict=function(e){return f.$===S&&(f.$=_t),e&&f.jQuery===S&&(f.jQuery=Pt),S},typeof e==U&&(f.jQuery=f.$=S),S}),function(oe){"use strict";function e(e){if(!he(e))return qn;k(e.objectMaxDepth)&&(qn.objectMaxDepth=i(e.objectMaxDepth)?e.objectMaxDepth:NaN),k(e.urlErrorParamsEnabled)&&ye(e.urlErrorParamsEnabled)&&(qn.urlErrorParamsEnabled=e.urlErrorParamsEnabled)}function i(e){return p(e)&&0<e}function T(i,r){return r=r||Error,function(){var e,t=arguments[0];for(e="["+(i?i+":":"")+t+"] http://errors.angularjs.org/1.7.2/"+(i?i+"/":"")+t,t=1;t<arguments.length;t++){var n;e=e+(1==t?"?":"&")+"p"+(t-1)+"=",e+=encodeURIComponent(n="function"==typeof(n=arguments[t])?n.toString().replace(/ \{[\s\S]*$/,""):void 0===n?"undefined":"string"!=typeof n?JSON.stringify(n):n)}return new r(e)}}function M(e){if(null==e||c(e))return!1;if(fe(e)||pe(e)||Gn&&e instanceof Gn)return!0;var t="length"in Object(e)&&e.length;return p(t)&&(0<=t&&t-1 in e||"function"==typeof e.item)}function ae(e,t,n){var i,r;if(e)if(me(e))for(i in e)"prototype"!==i&&"length"!==i&&"name"!==i&&e.hasOwnProperty(i)&&t.call(n,e[i],i,e);else if(fe(e)||M(e)){var o="object"!=typeof e;for(i=0,r=e.length;i<r;i++)(o||i in e)&&t.call(n,e[i],i,e)}else if(e.forEach&&e.forEach!==ae)e.forEach(t,n,e);else if(l(e))for(i in e)t.call(n,e[i],i,e);else if("function"==typeof e.hasOwnProperty)for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e);else for(i in e)Xn.call(e,i)&&t.call(n,e[i],i,e);return e}function o(e,t,n){for(var i=Object.keys(e).sort(),r=0;r<i.length;r++)t.call(n,e[i[r]],i[r]);return i}function m(n){return function(e,t){n(t,e)}}function h(e,t,n){for(var i=e.$$hashKey,r=0,o=t.length;r<o;++r){var a=t[r];if(he(a)||me(a))for(var s=Object.keys(a),l=0,c=s.length;l<c;l++){var u=s[l],d=a[u];n&&he(d)?y(d)?e[u]=new Date(d.valueOf()):f(d)?e[u]=new RegExp(d):d.nodeName?e[u]=d.cloneNode(!0):g(d)?e[u]=d.clone():(he(e[u])||(e[u]=fe(d)?[]:{}),h(e[u],[d],!0)):e[u]=d}}return i?e.$$hashKey=i:delete e.$$hashKey,e}function se(e){return h(e,Jn.call(arguments,1),!1)}function t(e){return h(e,Jn.call(arguments,1),!0)}function u(e){return parseInt(e,10)}function le(e,t){return se(Object.create(e),t)}function ce(){}function ue(e){return e}function E(e){return function(){return e}}function d(e){return me(e.toString)&&e.toString!==ti}function de(e){return void 0===e}function k(e){return void 0!==e}function he(e){return null!==e&&"object"==typeof e}function l(e){return null!==e&&"object"==typeof e&&!ni(e)}function pe(e){return"string"==typeof e}function p(e){return"number"==typeof e}function y(e){return"[object Date]"===ti.call(e)}function fe(e){return Array.isArray(e)||e instanceof Array}function ge(e){switch(ti.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}}function me(e){return"function"==typeof e}function f(e){return"[object RegExp]"===ti.call(e)}function c(e){return e&&e.window===e}function ve(e){return e&&e.$evalAsync&&e.$watch}function ye(e){return"boolean"==typeof e}function g(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function be(e){return Kn(e.nodeName||e[0]&&e[0].nodeName)}function we(e,t){var n=e.indexOf(t);return 0<=n&&e.splice(n,1),n}function A(e,n,t){function r(e,t,n){if(--n<0)return"...";var i,r=t.$$hashKey;if(fe(e)){i=0;for(var o=e.length;i<o;i++)t.push(a(e[i],n))}else if(l(e))for(i in e)t[i]=a(e[i],n);else if(e&&"function"==typeof e.hasOwnProperty)for(i in e)e.hasOwnProperty(i)&&(t[i]=a(e[i],n));else for(i in e)Xn.call(e,i)&&(t[i]=a(e[i],n));return r?t.$$hashKey=r:delete t.$$hashKey,t}function a(e,t){if(!he(e))return e;if(-1!==(n=o.indexOf(e)))return s[n];if(c(e)||ve(e))throw ii("cpws");var n=!1,i=function(e){switch(ti.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(a(e.buffer),e.byteOffset,e.length);case"[object ArrayBuffer]":if(e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t;case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":return(t=new RegExp(e.source,e.toString().match(/[^/]*$/)[0])).lastIndex=e.lastIndex,t;case"[object Blob]":return new e.constructor([e],{type:e.type})}if(me(e.cloneNode))return e.cloneNode(!0)}(e);return void 0===i&&(i=fe(e)?[]:Object.create(ni(e)),n=!0),o.push(e),s.push(i),n?r(e,i,t):i}var o=[],s=[];if(t=i(t)?t:NaN,n){if(function(e){return e&&p(e.length)&&ci.test(ti.call(e))}(n)||"[object ArrayBuffer]"===ti.call(n))throw ii("cpta");if(e===n)throw ii("cpi");return fe(n)?n.length=0:ae(n,function(e,t){"$$hashKey"!==t&&delete n[t]}),o.push(e),s.push(n),r(e,n,t)}return a(e,t)}function xe(e,t){return e===t||e!=e&&t!=t}function Ce(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!=e&&t!=t)return!0;var n,i=typeof e;if(i===typeof t&&"object"===i){if(!fe(e)){if(y(e))return!!y(t)&&xe(e.getTime(),t.getTime());if(f(e))return!!f(t)&&e.toString()===t.toString();if(ve(e)||ve(t)||c(e)||c(t)||fe(t)||y(t)||f(t))return!1;for(n in i=Ae(),e)if("$"!==n.charAt(0)&&!me(e[n])){if(!Ce(e[n],t[n]))return!1;i[n]=!0}for(n in t)if(!(n in i)&&"$"!==n.charAt(0)&&k(t[n])&&!me(t[n]))return!1;return!0}if(!fe(t))return!1;if((i=e.length)===t.length){for(n=0;n<i;n++)if(!Ce(e[n],t[n]))return!1;return!0}}return!1}function D(e,t,n){return e.concat(Jn.call(t,n))}function Se(e,t){var n=2<arguments.length?Jn.call(arguments,2):[];return!me(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,D(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function r(e,t){var n=t;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?n=void 0:c(t)?n="$WINDOW":t&&oe.document===t?n="$DOCUMENT":ve(t)&&(n="$SCOPE"),n}function a(e,t){if(!de(e))return p(t)||(t=t?2:null),JSON.stringify(e,r,t)}function s(e){return pe(e)?JSON.parse(e):e}function b(e,t){e=e.replace(fi,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return ai(n)?t:n}function w(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}function x(e,t,n){n=n?-1:1;var i=e.getTimezoneOffset();return w(e,n*((t=b(t,i))-i))}function $e(e){e=Gn(e).clone().empty();var t=Gn("<div></div>").append(e).html();try{return e[0].nodeType===bi?Kn(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(e,t){return"<"+Kn(t)})}catch(e){return Kn(t)}}function v(e){try{return decodeURIComponent(e)}catch(e){}}function S(e){var r={};return ae((e||"").split("&"),function(e){var t,n,i;e&&(n=e=e.replace(/\+/g,"%20"),-1!==(t=e.indexOf("="))&&(n=e.substring(0,t),i=e.substring(t+1)),k(n=v(n))&&(i=!k(i)||v(i),Xn.call(r,n)?fe(r[n])?r[n].push(i):r[n]=[r[n],i]:r[n]=i))}),r}function n(e){var n=[];return ae(e,function(e,t){fe(e)?ae(e,function(e){n.push($(t,!0)+(!0===e?"":"="+$(e,!0)))}):n.push($(t,!0)+(!0===e?"":"="+$(e,!0)))}),n.length?n.join("&"):""}function C(e){return $(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function $(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function P(n,e){var i,r,t={};ae(gi,function(e){e+="app",!i&&n.hasAttribute&&n.hasAttribute(e)&&(r=(i=n).getAttribute(e))}),ae(gi,function(e){var t;e+="app",!i&&(t=n.querySelector("["+e.replace(":","\\:")+"]"))&&(r=(i=t).getAttribute(e))}),i&&(mi?(t.strictDi=null!==function(e,t){var n,i,r=gi.length;for(i=0;i<r;++i)if(n=gi[i]+t,pe(n=e.getAttribute(n)))return n;return null}(i,"strict-di"),e(i,r?[r]:[],t)):oe.console.error("AngularJS: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match."))}function _(t,n,i){he(i)||(i={}),i=se({strictDi:!1},i);function r(){if((t=Gn(t)).injector()){var e=t[0]===oe.document?"document":$e(t);throw ii("btstrpd",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}return(n=n||[]).unshift(["$provide",function(e){e.value("$rootElement",t)}]),i.debugInfoEnabled&&n.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),n.unshift("ng"),(e=Ve(n,i.strictDi)).invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,i){e.$apply(function(){t.data("$injector",i),n(t)(e)})}]),e}var e=/^NG_ENABLE_DEBUG_INFO!/,o=/^NG_DEFER_BOOTSTRAP!/;if(oe&&e.test(oe.name)&&(i.debugInfoEnabled=!0,oe.name=oe.name.replace(e,"")),oe&&!o.test(oe.name))return r();oe.name=oe.name.replace(o,""),ri.resumeBootstrap=function(e){return ae(e,function(e){n.push(e)}),r()},me(ri.resumeDeferredBootstrap)&&ri.resumeDeferredBootstrap()}function R(){oe.name="NG_ENABLE_DEBUG_INFO!"+oe.name,oe.location.reload()}function I(e){if(!(e=ri.element(e).injector()))throw ii("test");return e.get("$$testability")}function Ee(e,n){return n=n||"_",e.replace(vi,function(e,t){return(t?n:"")+e.toLowerCase()})}function ke(e,t,n){if(!e)throw ii("areq",t||"?",n||"required");return e}function F(e,t,n){return n&&fe(e)&&(e=e[e.length-1]),ke(me(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function V(e,t){if("hasOwnProperty"===e)throw ii("badname",t)}function O(e){for(var t,n=e[0],i=e[e.length-1],r=1;n!==i&&(n=n.nextSibling);r++)!t&&e[r]===n||(t=t||Gn(Jn.call(e,0,r))).push(n);return t||e}function Ae(){return Object.create(null)}function L(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=!d(e)||fe(e)||y(e)?a(e):e.toString()}return e}function N(e,t){if(fe(e)){t=t||[];for(var n=0,i=e.length;n<i;n++)t[n]=e[n]}else if(he(e))for(n in t=t||{},e)"$"===n.charAt(0)&&"$"===n.charAt(1)||(t[n]=e[n]);return t||e}function H(e,t){var n=[];return i(t)&&(e=ri.copy(e,null,t)),JSON.stringify(e,function(e,t){if(he(t=r(e,t))){if(0<=n.indexOf(t))return"...";n.push(t)}return t})}function B(e,t){return t.toUpperCase()}function z(e){return e.replace(Si,B)}function j(e){return 1===(e=e.nodeType)||!e||9===e}function G(e,t){var n,i,r=t.createDocumentFragment(),o=[];if(Ti.test(e)){for(n=r.appendChild(t.createElement("div")),i=(Mi.exec(e)||["",""])[1].toLowerCase(),i=Pi[i]||Pi._default,n.innerHTML=i[1]+e.replace(Di,"<$1></$2>")+i[2],i=i[0];i--;)n=n.lastChild;o=D(o,n.childNodes),(n=r.firstChild).textContent=""}else o.push(t.createTextNode(e));return r.textContent="",r.innerHTML="",ae(o,function(e){r.appendChild(e)}),r}function U(e){if(e instanceof U)return e;var t,n;if(pe(e)&&(e=ui(e),t=!0),!(this instanceof U)){if(t&&"<"!==e.charAt(0))throw ki("nosel");return new U(e)}t?(t=oe.document,ne(this,e=(n=Ai.exec(e))?[t.createElement(n[1])]:(n=G(e,t))?n.childNodes:[])):me(e)?Pe(e):ne(this,e)}function Te(e){return e.cloneNode(!0)}function W(e,t){!t&&j(e)&&Gn.cleanData([e]),e.querySelectorAll&&Gn.cleanData(e.querySelectorAll("*"))}function q(e){for(var t in e)return!1;return!0}function Y(e){var t,n=e.ng339,i=(t=n&&xi[n])&&t.events;(t=t&&t.data)&&!q(t)||i&&!q(i)||(delete xi[n],e.ng339=void 0)}function X(n,e,i,t){if(k(t))throw ki("offargs");var r=(t=Z(n))&&t.events,o=t&&t.handle;if(o){if(e){var a=function(e){var t=r[e];k(i)&&we(t||[],i),k(i)&&t&&0<t.length||(n.removeEventListener(e,o),delete r[e])};ae(e.split(" "),function(e){a(e),Ei[e]&&a(Ei[e])})}else for(e in r)"$destroy"!==e&&n.removeEventListener(e,o),delete r[e];Y(n)}}function K(e,t){var n=e.ng339;(n=n&&xi[n])&&(t?delete n.data[t]:n.data={},Y(e))}function Z(e,t){var n=(n=e.ng339)&&xi[n];return t&&!n&&(e.ng339=n=++Ci,n=xi[n]={events:{},data:{},handle:void 0}),n}function J(e,t,n){if(j(e)){var i,r=k(n),o=!r&&t&&!he(t),a=!t;if(e=(e=Z(e,!o))&&e.data,r)e[z(t)]=n;else{if(a)return e;if(o)return e&&e[z(t)];for(i in t)e[z(i)]=t[i]}}}function Q(e,t){return!!e.getAttribute&&-1<(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")}function ee(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),i=n;ae(t.split(" "),function(e){e=ui(e),i=i.replace(" "+e+" "," ")}),i!==n&&e.setAttribute("class",ui(i))}}function te(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),i=n;ae(t.split(" "),function(e){e=ui(e),-1===i.indexOf(" "+e+" ")&&(i+=e+" ")}),i!==n&&e.setAttribute("class",ui(i))}}function ne(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var i=0;i<n;i++)e[e.length++]=t[i]}else e[e.length++]=t}}function ie(e,t){return re(e,"$"+(t||"ngController")+"Controller")}function re(e,t,n){for(9===e.nodeType&&(e=e.documentElement),t=fe(t)?t:[t];e;){for(var i=0,r=t.length;i<r;i++)if(k(n=Gn.data(e,t[i])))return n;e=e.parentNode||11===e.nodeType&&e.host}}function Me(e){for(W(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function De(e,t){t||W(e);var n=e.parentNode;n&&n.removeChild(e)}function Pe(e){function t(){oe.document.removeEventListener("DOMContentLoaded",t),oe.removeEventListener("load",t),e()}"complete"===oe.document.readyState?oe.setTimeout(e):(oe.document.addEventListener("DOMContentLoaded",t),oe.addEventListener("load",t))}function _e(e,t){var n=Ii[t.toLowerCase()];return n&&Fi[be(e)]&&n}function Re(e,t,n){n.call(e,t)}function Ie(e,t,n){var i=t.relatedTarget;i&&(i===e||_i.call(e,i))||n.call(e,t)}function Fe(){this.$get=function(){return se(U,{hasClass:function(e,t){return e.attr&&(e=e[0]),Q(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),te(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),ee(e,t)}})}}function Oe(e,t){var n=e&&e.$$hashKey;return n?("function"==typeof n&&(n=e.$$hashKey()),n):"function"===(n=typeof e)||"object"===n&&null!==e?e.$$hashKey=n+":"+(t||function(){return++oi})():n+":"+e}function Le(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}function Ne(e){return(e=Function.prototype.toString.call(e).replace(Ui,"")).match(Bi)||e.match(zi)}function Ve(e,l){function t(n){return function(e,t){if(!he(e))return n(e,t);ae(e,m(n))}}function i(e,t){if(V(e,"service"),(me(t)||fe(t))&&(t=d.instantiate(t)),!t.$get)throw Wi("pget",e);return u[e+"Provider"]=t}function n(e,t,n){return i(e,{$get:!1!==n?function(t,n){return function(){var e=f.invoke(n,this);if(de(e))throw Wi("undef",t);return e}}(e,t):t})}function r(e){ke(de(e)||fe(e),"modulesToLoad","not an array");var n,i=[];return ae(e,function(t){function e(e){var t,n;for(t=0,n=e.length;t<n;t++){var i=e[t],r=d.get(i[0]);r[i[1]].apply(r,i[2])}}if(!s.get(t)){s.set(t,!0);try{pe(t)?(n=Wn(t),f.modules[t]=n,i=i.concat(r(n.requires)).concat(n._runBlocks),e(n._invokeQueue),e(n._configBlocks)):me(t)?i.push(d.invoke(t)):fe(t)?i.push(d.invoke(t)):F(t,"module")}catch(e){throw fe(t)&&(t=t[t.length-1]),e.message&&e.stack&&-1===e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),Wi("modulerr",t,e.stack||e.message||e)}}}),i}function o(n,i){function s(t,e){if(n.hasOwnProperty(t)){if(n[t]===a)throw Wi("cdep",t+" <- "+c.join(" <- "));return n[t]}try{return c.unshift(t),n[t]=a,n[t]=i(t,e),n[t]}catch(e){throw n[t]===a&&delete n[t],e}finally{c.shift()}}function o(e,t,n){for(var i=[],r=0,o=(e=Ve.$$annotate(e,l,n)).length;r<o;r++){var a=e[r];if("string"!=typeof a)throw Wi("itkn",a);i.push(t&&t.hasOwnProperty(a)?t[a]:s(a,n))}return i}return{invoke:function(e,t,n,i){if("string"==typeof n&&(i=n,n=null),n=o(e,n,i),fe(e)&&(e=e[e.length-1]),i=e,jn||"function"!=typeof i)i=!1;else{var r=i.$$ngIsClass;ye(r)||(r=i.$$ngIsClass=/^class\b/.test(Function.prototype.toString.call(i))),i=r}return i?(n.unshift(null),new(Function.prototype.bind.apply(e,n))):e.apply(t,n)},instantiate:function(e,t,n){var i=fe(e)?e[e.length-1]:e;return(e=o(e,t,n)).unshift(null),new(Function.prototype.bind.apply(i,e))},get:s,annotate:Ve.$$annotate,has:function(e){return u.hasOwnProperty(e+"Provider")||n.hasOwnProperty(e)}}}l=!0===l;var a={},c=[],s=new Vi,u={$provide:{provider:t(i),factory:t(n),service:t(function(e,t){return n(e,["$injector",function(e){return e.instantiate(t)}])}),value:t(function(e,t){return n(e,E(t),!1)}),constant:t(function(e,t){V(e,"constant"),u[e]=t,h[e]=t}),decorator:function(e,t){var n=d.get(e+"Provider"),i=n.$get;n.$get=function(){var e=f.invoke(i,n);return f.invoke(t,null,{$delegate:e})}}}},d=u.$injector=o(u,function(e,t){throw ri.isString(t)&&c.push(t),Wi("unpr",c.join(" <- "))}),h={},p=o(h,function(e,t){var n=d.get(e+"Provider",t);return f.invoke(n.$get,n,void 0,e)}),f=p;u.$injectorProvider={$get:E(p)},f.modules=d.modules=Ae();var g=r(e);return(f=p.get("$injector")).strictDi=l,ae(g,function(e){e&&f.invoke(e)}),f.loadNewModules=function(e){ae(r(e),function(e){e&&f.invoke(e)})},f}function He(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(n,i,r){function o(e){var t;e?(e.scrollIntoView(),me(t=a.yOffset)?t=t():g(t)?(t=t[0],t="fixed"!==n.getComputedStyle(t).position?0:t.getBoundingClientRect().bottom):p(t)||(t=0),t&&(e=e.getBoundingClientRect().top,n.scrollBy(0,e-t))):n.scrollTo(0,0)}function a(e){var t;(e=pe(e)?e:p(e)?e.toString():i.hash())?(t=s.getElementById(e))?o(t):(t=function(e){var t=null;return Array.prototype.some.call(e,function(e){if("a"===be(e))return t=e,!0}),t}(s.getElementsByName(e)))?o(t):"top"===e&&o(null):o(null)}var s=n.document;return e&&r.$watch(function(){return i.hash()},function(e,t){e===t&&""===e||function(e,t){"complete"===(t=t||oe).document.readyState?t.setTimeout(e):Gn(t).on("load",e)}(function(){r.$evalAsync(a)})}),a}]}function Be(e,t){return e||t?e?t?(fe(e)&&(e=e.join(" ")),fe(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function ze(e){return he(e)?e:{}}function je(o,e,t,a){function i(e){try{e.apply(null,Jn.call(arguments,1))}finally{if(0===--f)for(;g.length;)try{g.pop()()}catch(e){t.error(e)}}}function n(){w=null,r()}function s(){Ce(m=de(m=x())?null:m,$)&&(m=$),v=$=m}function r(){var e=v;s(),y===l.url()&&e===m||(y=l.url(),v=m,ae(C,function(e){e(l.url(),m)}))}var l=this,c=o.location,u=o.history,d=o.setTimeout,h=o.clearTimeout,p={};l.isMock=!1;var f=0,g=[];l.$$completeOutstandingRequest=i,l.$$incOutstandingRequestCount=function(){f++},l.notifyWhenNoOutstandingRequests=function(e){0===f?e():g.push(e)};var m,v,y=c.href,b=e.find("base"),w=null,x=a.history?function(){try{return u.state}catch(e){}}:ce;s(),l.url=function(e,t,n){if(de(n)&&(n=null),c!==o.location&&(c=o.location),u!==o.history&&(u=o.history),e){var i=v===n;if(y===e&&(!a.history||i))return l;var r=y&&bt(y)===bt(e);return y=e,v=n,!a.history||r&&i?(r||(w=e),t?c.replace(e):r?(t=c,n=-1===(n=e.indexOf("#"))?"":e.substr(n),t.hash=n):c.href=e,c.href!==e&&(w=e)):(u[t?"replaceState":"pushState"](n,"",e),s()),w=w&&e,l}return w||c.href},l.state=function(){return m};var C=[],S=!1,$=null;l.onUrlChange=function(e){return S||(a.history&&Gn(o).on("popstate",n),Gn(o).on("hashchange",n),S=!0),C.push(e),e},l.$$applicationDestroyed=function(){Gn(o).off("hashchange popstate",n)},l.$$checkUrlChange=r,l.baseHref=function(){var e=b.attr("href");return e?e.replace(/^(https?:)?\/\/[^/]*/,""):""},l.defer=function(e,t){var n;return f++,n=d(function(){delete p[n],i(e)},t||0),p[n]=!0,n},l.defer.cancel=function(e){return!!p[e]&&(delete p[e],h(e),i(ce),!0)}}function Ge(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,i){return new je(e,i,t,n)}]}function Ue(){this.$get=function(){function e(e,t){function n(e){e!==c&&(u?u===e&&(u=e.n):u=e,i(e.n,e.p),i(e,c),(c=e).n=null)}function i(e,t){e!==t&&(e&&(e.p=t),t&&(t.n=e))}if(e in d)throw T("$cacheFactory")("iid",e);var r=0,o=se({},t,{id:e}),a=Ae(),s=t&&t.capacity||Number.MAX_VALUE,l=Ae(),c=null,u=null;return d[e]={put:function(e,t){if(!de(t)){if(s<Number.MAX_VALUE)n(l[e]||(l[e]={key:e}));return e in a||r++,a[e]=t,s<r&&this.remove(u.key),t}},get:function(e){if(s<Number.MAX_VALUE){var t=l[e];if(!t)return;n(t)}return a[e]},remove:function(e){if(s<Number.MAX_VALUE){var t=l[e];if(!t)return;t===c&&(c=t.p),t===u&&(u=t.n),i(t.n,t.p),delete l[e]}e in a&&(delete a[e],r--)},removeAll:function(){a=Ae(),r=0,l=Ae(),c=u=null},destroy:function(){l=o=a=null,delete d[e]},info:function(){return se({},o,{size:r})}}}var d={};return e.info=function(){var n={};return ae(d,function(e,t){n[t]=e.info()}),n},e.get=function(e){return d[e]},e}}function We(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function qe(n,t){function g(e,i,r){var o=/^([@&]|[=<](\*?))(\??)\s*([\w$]*)$/,a=Ae();return ae(e,function(e,t){if((e=e.trim())in s)a[t]=s[e];else{var n=e.match(o);if(!n)throw er("iscp",i,t,e,r?"controller bindings definition":"isolate scope definition");a[t]={mode:n[1][0],collection:"*"===n[2],optional:"?"===n[3],attrName:n[4]||t},n[4]&&(s[e]=a[t])}}),a}var P={},_=/^\s*directive:\s*([\w-]+)\s+(.*)$/,R=/(([\w-]+)(?::([^;]+))?;?)/,c=function(e){var t,n={};for(e=e.split(","),t=0;t<e.length;t++)n[e[t]]=!0;return n}("ngSrc,ngSrcset,src,srcset"),I=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,F=/^(on[a-z]+|formaction)$/,s=Ae();this.directive=function e(l,t){return ke(l,"name"),V(l,"directive"),pe(l)?(function(e){var t=e.charAt(0);if(!t||t!==Kn(t))throw er("baddir",e);if(e!==e.trim())throw er("baddir",e)}(l),ke(t,"directiveFactory"),P.hasOwnProperty(l)||(P[l]=[],n.factory(l+"Directive",["$injector","$exceptionHandler",function(o,a){var s=[];return ae(P[l],function(e,t){try{var n=o.invoke(e);me(n)?n={compile:E(n)}:!n.compile&&n.link&&(n.compile=E(n.link)),n.priority=n.priority||0,n.index=t,n.name=n.name||l,n.require=function(e){var i=e.require||e.controller&&e.name;return!fe(i)&&he(i)&&ae(i,function(e,t){var n=e.match(I);e.substring(n[0].length)||(i[t]=n[0]+t)}),i}(n);var i=n,r=n.restrict;if(r&&(!pe(r)||!/[EACM]/.test(r)))throw er("badrestrict",r,l);i.restrict=r||"EA",n.$$moduleName=e.$$moduleName,s.push(n)}catch(e){a(e)}}),s}])),P[l].push(t)):ae(l,m(e)),this},this.component=function e(t,r){function n(i){function e(n){return me(n)||fe(n)?function(e,t){return i.invoke(n,this,{$element:e,$attrs:t})}:n}var t=r.template||r.templateUrl?r.template:"",n={controller:o,controllerAs:function(e,t){if(t&&pe(t))return t;if(pe(e)){var n=ar.exec(e);if(n)return n[3]}}(r.controller)||r.controllerAs||"$ctrl",template:e(t),templateUrl:e(r.templateUrl),transclude:r.transclude,scope:{},bindToController:r.bindings||{},restrict:"E",require:r.require};return ae(r,function(e,t){"$"===t.charAt(0)&&(n[t]=e)}),n}if(!pe(t))return ae(t,m(Se(this,e))),this;var o=r.controller||function(){};return ae(r,function(e,t){"$"===t.charAt(0)&&(n[t]=e,me(o)&&(o[t]=e))}),n.$inject=["$injector"],this.directive(t,n)},this.aHrefSanitizationWhitelist=function(e){return k(e)?(t.aHrefSanitizationWhitelist(e),this):t.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return k(e)?(t.imgSrcSanitizationWhitelist(e),this):t.imgSrcSanitizationWhitelist()};var l=!0,O=!(this.debugInfoEnabled=function(e){return k(e)?(l=e,this):l});this.strictComponentBindingsEnabled=function(e){return k(e)?(O=e,this):O};var L=10;this.onChangesTtl=function(e){return arguments.length?(L=e,this):L};var N=!0;this.commentDirectivesEnabled=function(e){return arguments.length?(N=e,this):N};var re=!0;this.cssClassDirectivesEnabled=function(e){return arguments.length?(re=e,this):re},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate",function(p,v,V,e,y,H,o,u,i){function a(){try{if(!--t)throw s=void 0,er("infchng",L);o.$apply(function(){for(var e=0,t=s.length;e<t;++e)try{s[e]()}catch(e){V(e)}s=void 0})}finally{t++}}function B(e,t){if(t){var n,i,r,o=Object.keys(t);for(n=0,i=o.length;n<i;n++)this[r=o[n]]=t[r]}else this.$attr={};this.$$element=e}function S(e,t){try{e.addClass(t)}catch(e){}}function z(a,e,t,n,s){a instanceof Gn||(a=Gn(a));var l=$(a,e,a,t,n,s);z.$$addScopeClass(a);var c=null;return function(e,t,n){if(!a)throw er("multilink");ke(e,"scope"),s&&s.needsNewScope&&(e=e.$parent.$new());var i=(n=n||{}).parentBoundTranscludeFn,r=n.transcludeControllers;if(n=n.futureParentElement,i&&i.$$boundTransclude&&(i=i.$$boundTransclude),n="html"!==(c=c||((n=n&&n[0])&&"foreignobject"!==be(n)&&ti.call(n).match(/SVG/)?"svg":"html"))?Gn(J(c,Gn("<div></div>").append(a).html())):t?Ri.clone.call(a):a,r)for(var o in r)n.data("$"+o+"Controller",r[o].instance);return z.$$addScopeInfo(n,e),t&&t(n,e),l&&l(e,n,n,i),t||(a=l=null),n}}function $(e,u,t,n,i,r){for(var o,a,s,l,d,h=[],c=fe(e)||e instanceof Gn,p=0;p<e.length;p++)o=new B,11===jn&&f(e,p,c),(r=(a=j(e[p],[],o,0===p?n:void 0,i)).length?k(a,e[p],o,u,t,null,[],[],r):null)&&r.scope&&z.$$addScopeClass(o.$$element),o=r&&r.terminal||!(s=e[p].childNodes)||!s.length?null:$(s,r?(r.transcludeOnThisElement||!r.templateOnThisElement)&&r.transclude:u),(r||o)&&(h.push(p,r,o),l=!0,d=d||r),r=null;return l?function(e,t,n,i){var r,o,a,s,l,c;if(d)for(c=Array(t.length),s=0;s<h.length;s+=3)c[r=h[s]]=t[r];else c=t;for(s=0,l=h.length;s<l;)o=c[h[s++]],t=h[s++],r=h[s++],t?(t.scope?(a=e.$new(),z.$$addScopeInfo(Gn(o),a)):a=e,t(r,a,o,n,t.transcludeOnThisElement?E(e,t.transclude,i):!t.templateOnThisElement&&i?i:!i&&u?E(e,u):null)):r&&r(e,o.childNodes,void 0,i)}:null}function f(e,t,n){var i,r=e[t],o=r.parentNode;if(r.nodeType===bi)for(;(i=o?r.nextSibling:e[t+1])&&i.nodeType===bi;)r.nodeValue+=i.nodeValue,i.parentNode&&i.parentNode.removeChild(i),n&&i===e[t+1]&&e.splice(t+1,1)}function E(o,a,s){function e(e,t,n,i,r){return e||((e=o.$new(!1,r)).$$transcluded=!0),a(e,t,{parentBoundTranscludeFn:s,transcludeControllers:n,futureParentElement:i})}var t,n=e.$$slots=Ae();for(t in a.$$slots)n[t]=a.$$slots[t]?E(o,a.$$slots[t],s):null;return e}function j(e,t,n,i,r){var o,a=n.$attr;switch(e.nodeType){case 1:m(t,Xe(o=be(e)),"E",i,r);for(var s,l,c,u,d=e.attributes,h=0,p=d&&d.length;h<p;h++){var f=!1,g=!1;l=(s=d[h]).name,c=s.value,s=Xe(l),(u=M.test(s))&&(l=l.replace(ir,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()})),(s=s.match(D))&&b(s[1])&&(g=(f=l).substr(0,l.length-5)+"end",l=l.substr(0,l.length-6)),a[s=Xe(l.toLowerCase())]=l,!u&&n.hasOwnProperty(s)||(n[s]=c,_e(e,s)&&(n[s]=!0)),x(e,t,c,s,u),m(t,s,"A",i,r,f,g)}if("input"===o&&"hidden"===e.getAttribute("type")&&e.setAttribute("autocomplete","off"),!T)break;if(he(a=e.className)&&(a=a.animVal),pe(a)&&""!==a)for(;e=R.exec(a);)m(t,s=Xe(e[2]),"C",i,r)&&(n[s]=ui(e[3])),a=a.substr(e.index+e[0].length);break;case bi:!function(e,t){var r=v(t,!0);r&&e.push({priority:0,compile:function(e){var i=!!(e=e.parent()).length;return i&&z.$$addBindingClass(e),function(e,t){var n=t.parent();i||z.$$addBindingClass(n),z.$$addBindingInfo(n,r.expressions),e.$watch(r,function(e){t[0].nodeValue=e})}}})}(t,e.nodeValue);break;case 8:if(!A)break;!function(e,t,n,i,r){try{var o=_.exec(e.nodeValue);if(o){var a=Xe(o[1]);m(t,a,"M",i,r)&&(n[a]=ui(o[2]))}}catch(e){}}(e,t,n,i,r)}return t.sort(w),t}function G(e,t,n){var i=[],r=0;if(t&&e.hasAttribute&&e.hasAttribute(t))do{if(!e)throw er("uterdir",t,n);1===e.nodeType&&(e.hasAttribute(t)&&r++,e.hasAttribute(n)&&r--),i.push(e),e=e.nextSibling}while(0<r);else i.push(e);return Gn(i)}function U(o,a,s){return function(e,t,n,i,r){return t=G(t[0],a,s),o(e,t,n,i,r)}}function W(e,t,n,i,r,o){var a;return e?z(t,n,i,r,o):function(){return a||(a=z(t,n,i,r,o),t=n=o=null),a.apply(this,arguments)}}function k(e,g,m,t,n,i,v,y,r){function o(e,t,n,i){e&&(n&&(e=U(e,n,i)),e.require=s.require,e.directiveName=l,x!==s&&!s.$$isolateScope||(e=ee(e,{isolateScope:!0})),v.push(e)),t&&(n&&(t=U(t,n,i)),t.require=s.require,t.directiveName=l,x!==s&&!s.$$isolateScope||(t=ee(t,{isolateScope:!0})),y.push(t))}function a(e,t,n,i,a){var r,o,s,l,c,u,d,h;for(r in g===n?h=(i=m).$$element:i=new B(h=Gn(n),m),c=t,x?l=t.$new(!0):b&&(c=t.$parent),a&&((d=function(e,t,n,i){var r;if(ve(e)||(i=n,n=t,t=e,e=void 0),$&&(r=u),n=n||($?h.parent():h),!i)return a(e,t,r,n,f);var o=a.$$slots[i];if(o)return o(e,t,r,n,f);if(de(o))throw er("noslot",i,$e(h))}).$$boundTransclude=a,d.isSlotFilled=function(e){return!!a.$$slots[e]}),w&&(u=function(e,t,n,i,r,o,a){var s,l=Ae();for(s in i){var c=i[s],u={$scope:c===a||c.$$isolateScope?r:o,$element:e,$attrs:t,$transclude:n},d=c.controller;"@"===d&&(d=t[c.name]),u=H(d,u,!0,c.controllerAs),l[c.name]=u,e.data("$"+c.name+"Controller",u.instance)}return l}(h,i,d,w,l,t,x)),x&&(z.$$addScopeInfo(h,l,!0,!(C&&(C===x||C===x.$$originalDirective))),z.$$addScopeClass(h,!0),l.$$isolateBindings=x.$$isolateBindings,(o=ne(t,i,l,l.$$isolateBindings,x)).removeWatches&&l.$on("$destroy",o.removeWatches)),u){o=w[r],s=u[r];var p=o.$$bindings.bindToController;s.instance=s(),h.data("$"+o.name+"Controller",s.instance),s.bindingInfo=ne(c,i,s.instance,p,o)}for(ae(w,function(e,t){var n=e.require;e.bindToController&&!fe(n)&&he(n)&&se(u[t].instance,q(t,n,h,u))}),ae(u,function(e){var t=e.instance;if(me(t.$onChanges))try{t.$onChanges(e.bindingInfo.initialChanges)}catch(e){V(e)}if(me(t.$onInit))try{t.$onInit()}catch(e){V(e)}me(t.$doCheck)&&(c.$watch(function(){t.$doCheck()}),t.$doCheck()),me(t.$onDestroy)&&c.$on("$destroy",function(){t.$onDestroy()})}),r=0,o=v.length;r<o;r++)te(s=v[r],s.isolateScope?l:t,h,i,s.require&&q(s.directiveName,s.require,h,u),d);var f=t;for(x&&(x.template||null===x.templateUrl)&&(f=l),e&&e(f,n.childNodes,void 0,a),r=y.length-1;0<=r;r--)te(s=y[r],s.isolateScope?l:t,h,i,s.require&&q(s.directiveName,s.require,h,u),d);ae(u,function(e){me((e=e.instance).$postLink)&&e.$postLink()})}r=r||{};for(var s,l,c,u,d,h=-Number.MAX_VALUE,b=r.newScopeDirective,w=r.controllerDirectives,x=r.newIsolateScopeDirective,C=r.templateDirective,p=r.nonTlbTranscludeDirective,f=!1,S=!1,$=r.hasElementTranscludeDirective,E=m.$$element=Gn(g),k=t,A=!1,T=!1,M=0,D=e.length;M<D;M++){var P=(s=e[M]).$$start,_=s.$$end;if(P&&(E=G(g,P,_)),c=void 0,h>s.priority)break;if((d=s.scope)&&(s.templateUrl||(he(d)?(Z("new/isolated scope",x||b,s,E),x=s):Z("new/isolated scope",x,s,E)),b=b||s),l=s.name,!A&&(s.replace&&(s.templateUrl||s.template)||s.transclude&&!s.$$tlb)){for(d=M+1;A=e[d++];)if(A.transclude&&!A.$$tlb||A.replace&&(A.templateUrl||A.template)){T=!0;break}A=!0}if(!s.templateUrl&&s.controller&&(w=w||Ae(),Z("'"+l+"' controller",w[l],s,E),w[l]=s),d=s.transclude)if(f=!0,s.$$tlb||(Z("transclusion",p,s,E),p=s),"element"===d)$=!0,h=s.priority,c=E,E=m.$$element=Gn(z.$$createComment(l,m[l])),g=E[0],Q(n,Jn.call(c,0),g),k=W(T,c,t,h,i&&i.name,{nonTlbTranscludeDirective:p});else{var R=Ae();if(he(d)){c=oe.document.createDocumentFragment();var I=Ae(),F=Ae();for(var O in ae(d,function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,I[e]=t,R[t]=null,F[t]=n}),ae(E.contents(),function(e){var t=I[Xe(be(e))];t?(F[t]=!0,R[t]=R[t]||oe.document.createDocumentFragment(),R[t].appendChild(e)):c.appendChild(e)}),ae(F,function(e,t){if(!e)throw er("reqslot",t)}),R)R[O]&&(R[O]=W(T,R[O].childNodes,t));c=c.childNodes}else c=Gn(Te(g)).contents();E.empty(),(k=W(T,c,t,void 0,void 0,{needsNewScope:s.$$isolateScope||s.$$newScope})).$$slots=R}if(s.template)if(S=!0,Z("template",C,s,E),d=me((C=s).template)?s.template(E,m):s.template,d=ie(d),s.replace){if(i=s,c=Ti.test(d)?Ze(J(s.templateNamespace,ui(d))):[],g=c[0],1!==c.length||1!==g.nodeType)throw er("tplrt",l,"");Q(n,E,g),d=j(g,[],D={$attr:{}});var L=e.splice(M+1,e.length-(M+1));(x||b)&&Y(d,x,b),e=e.concat(d).concat(L),X(m,D),D=e.length}else E.html(d);if(s.templateUrl)S=!0,Z("template",C,s,E),(C=s).replace&&(i=s),a=K(e.splice(M,e.length-M),E,m,n,f&&k,v,y,{controllerDirectives:w,newScopeDirective:b!==s&&b,newIsolateScopeDirective:x,templateDirective:C,nonTlbTranscludeDirective:p}),D=e.length;else if(s.compile)try{u=s.compile(E,m,k);var N=s.$$originalDirective||s;me(u)?o(null,Se(N,u),P,_):u&&o(Se(N,u.pre),Se(N,u.post),P,_)}catch(e){V(e,$e(E))}s.terminal&&(a.terminal=!0,h=Math.max(h,s.priority))}return a.scope=b&&!0===b.scope,a.transcludeOnThisElement=f,a.templateOnThisElement=S,a.transclude=k,r.hasElementTranscludeDirective=$,a}function q(n,e,i,r){var o;if(pe(e)){var t=e.match(I);e=e.substring(t[0].length);var a=t[1]||t[3];t="?"===t[2];if("^^"===a?i=i.parent():o=(o=r&&r[e])&&o.instance,!o){var s="$"+e+"Controller";o=a?i.inheritedData(s):i.data(s)}if(!o&&!t)throw er("ctreq",e,n)}else if(fe(e))for(o=[],a=0,t=e.length;a<t;a++)o[a]=q(n,e[a],i,r);else he(e)&&(o={},ae(e,function(e,t){o[t]=q(n,e,i,r)}));return o||null}function Y(e,t,n){for(var i=0,r=e.length;i<r;i++)e[i]=le(e[i],{$$isolateScope:t,$$newScope:n})}function m(e,t,n,i,r,o,a){if(t===r)return null;var s=null;if(P.hasOwnProperty(t))for(var l=0,c=(r=p.get(t+"Directive")).length;l<c;l++)if(t=r[l],(de(i)||i>t.priority)&&-1!==t.restrict.indexOf(n)){if(o&&(t=le(t,{$$start:o,$$end:a})),!t.$$bindings){var u=s=t,d=t.name,h={isolateScope:null,bindToController:null};if(he(u.scope)&&(!0===u.bindToController?(h.bindToController=g(u.scope,d,!0),h.isolateScope={}):h.isolateScope=g(u.scope,d,!1)),he(u.bindToController)&&(h.bindToController=g(u.bindToController,d,!0)),h.bindToController&&!u.controller)throw er("noctrl",d);he((s=s.$$bindings=h).isolateScope)&&(t.$$isolateBindings=s.isolateScope)}e.push(t),s=t}return s}function b(e){if(P.hasOwnProperty(e))for(var t=p.get(e+"Directive"),n=0,i=t.length;n<i;n++)if((e=t[n]).multiElement)return!0;return!1}function X(n,i){var r=i.$attr,o=n.$attr;ae(n,function(e,t){"$"!==t.charAt(0)&&(i[t]&&i[t]!==e&&(e=e.length?e+("style"===t?";":" ")+i[t]:i[t]),n.$set(t,e,!0,r[t]))}),ae(i,function(e,t){n.hasOwnProperty(t)||"$"===t.charAt(0)||(n[t]=e,"class"!==t&&"style"!==t&&(o[t]=r[t]))})}function K(s,l,c,u,d,h,p,f){var g,m,v=[],y=l[0],b=s.shift(),w=le(b,{templateUrl:null,transclude:null,replace:null,$$originalDirective:b}),x=me(b.templateUrl)?b.templateUrl(l,c):b.templateUrl,C=b.templateNamespace;return l.empty(),e(x).then(function(e){var n,t;if(e=ie(e),b.replace){if(e=Ti.test(e)?Ze(J(C,ui(e))):[],n=e[0],1!==e.length||1!==n.nodeType)throw er("tplrt",b.name,x);e={$attr:{}},Q(u,l,n);var i=j(n,[],e);he(b.scope)&&Y(i,!0),s=i.concat(s),X(c,e)}else n=y,l.html(e);for(s.unshift(w),g=k(s,n,c,d,l,b,h,p,f),ae(u,function(e,t){e===n&&(u[t]=l[0])}),m=$(l[0].childNodes,d);v.length;){e=v.shift(),t=v.shift();var r=v.shift(),o=v.shift();i=l[0];if(!e.$$destroyed){if(t!==y){var a=t.className;f.hasElementTranscludeDirective&&b.replace||(i=Te(n)),Q(r,Gn(t),i),S(Gn(i),a)}t=g.transcludeOnThisElement?E(e,g.transclude,o):o,g(m,e,i,u,t)}}v=null}).catch(function(e){ge(e)&&V(e)}),function(e,t,n,i,r){e=r,t.$$destroyed||(v?v.push(t,n,i,e):(g.transcludeOnThisElement&&(e=E(t,g.transclude,r)),g(m,t,n,i,e)))}}function w(e,t){var n=t.priority-e.priority;return 0!=n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function Z(e,t,n,i){function r(e){return e?" (module: "+e+")":""}if(t)throw er("multidir",t.name,r(t.$$moduleName),n.name,r(n.$$moduleName),e,$e(i))}function J(e,t){switch(e=Kn(e||"html")){case"svg":case"math":var n=oe.document.createElement("div");return n.innerHTML="<"+e+">"+t+"</"+e+">",n.childNodes[0].childNodes;default:return t}}function x(e,t,r,o,n){var a=function(e,t){if("srcdoc"===t)return u.HTML;var n=be(e);return"src"===t||"ngSrc"===t?-1===["img","video","audio","source","track"].indexOf(n)?u.RESOURCE_URL:u.MEDIA_URL:"xlinkHref"===t?"image"===n?u.MEDIA_URL:"a"===n?u.URL:u.RESOURCE_URL:"form"===n&&"action"===t||"base"===n&&"href"===t||"link"===n&&"href"===t?u.RESOURCE_URL:"a"!==n||"href"!==t&&"ngHref"!==t?void 0:u.URL}(e,o),s=c[o]||n,l=v(r,!n,a,s);if(l){if("multiple"===o&&"select"===be(e))throw er("selmulti",$e(e));if(F.test(o))throw er("nodomevents");t.push({priority:100,compile:function(){return{pre:function(e,t,n){t=n.$$observers||(n.$$observers=Ae());var i=n[o];i!==r&&(l=i&&v(i,!0,a,s),r=i),l&&(n[o]=l(e),(t[o]||(t[o]=[])).$$inter=!0,(n.$$observers&&n.$$observers[o].$$scope||e).$watch(l,function(e,t){"class"===o&&e!==t?n.$updateClass(e,t):n.$set(o,e)}))}}}})}}function Q(e,t,n){var i,r,o=t[0],a=t.length,s=o.parentNode;if(e)for(i=0,r=e.length;i<r;i++)if(e[i]===o){e[i++]=n,r=i+a-1;for(var l=e.length;i<l;i++,r++)r<l?e[i]=e[r]:delete e[i];e.length-=a-1,e.context===o&&(e.context=n);break}for(s&&s.replaceChild(n,o),e=oe.document.createDocumentFragment(),i=0;i<a;i++)e.appendChild(t[i]);for(Gn.hasData(o)&&(Gn.data(n,Gn.data(o)),Gn(o).off("$destroy")),Gn.cleanData(e.querySelectorAll("*")),i=1;i<a;i++)delete t[i];t[0]=n,t.length=1}function ee(e,t){return se(function(){return e.apply(null,arguments)},e,t)}function te(e,t,n,i,r,o){try{e(t,n,i,r,o)}catch(e){V(e,$e(n))}}function C(e,t){if(O)throw er("missingattr",e,t)}function ne(u,d,h,e,p){function f(e,t,n){me(h.$onChanges)&&!xe(t,n)&&(s||(u.$$postDigest(a),s=[]),r||(r={},s.push(i)),r[e]&&(n=r[e].previousValue),r[e]=new Ye(n,t))}function i(){h.$onChanges(r),r=void 0}var r,g=[],m={};return ae(e,function(e,n){var t,i,r,o,a=e.attrName,s=e.optional;switch(e.mode){case"@":s||Xn.call(d,a)||(C(a,p.name),h[n]=d[a]=void 0),s=d.$observe(a,function(e){(pe(e)||ye(e))&&(f(n,e,h[n]),h[n]=e)}),d.$$observers[a].$$scope=u,pe(t=d[a])?h[n]=v(t)(u):ye(t)&&(h[n]=t),m[n]=new Ye(tr,h[n]),g.push(s);break;case"=":if(!Xn.call(d,a)){if(s)break;C(a,p.name),d[a]=void 0}if(s&&!d[a])break;i=y(d[a]),o=i.literal?Ce:xe,r=i.assign||function(){throw t=h[n]=i(u),er("nonassign",d[a],a,p.name)},t=h[n]=i(u),(s=function(e){return o(e,h[n])||(o(e,t)?r(u,e=h[n]):h[n]=e),t=e}).$stateful=!0,s=e.collection?u.$watchCollection(d[a],s):u.$watch(y(d[a],s),null,i.literal),g.push(s);break;case"<":if(!Xn.call(d,a)){if(s)break;C(a,p.name),d[a]=void 0}if(s&&!d[a])break;var l=(i=y(d[a])).literal,c=h[n]=i(u);m[n]=new Ye(tr,h[n]),s=u[e.collection?"$watchCollection":"$watch"](i,function(e,t){if(t===e){if(t===c||l&&Ce(t,c))return;t=c}f(n,e,t),h[n]=e}),g.push(s);break;case"&":if(s||Xn.call(d,a)||C(a,p.name),(i=d.hasOwnProperty(a)?y(d[a]):ce)===ce&&s)break;h[n]=function(e){return i(u,e)}}}),{initialChanges:m,removeWatches:g.length&&function(){for(var e=0,t=g.length;e<t;++e)g[e]()}}}var s,d=/^\w/,h=oe.document.createElement("div"),A=N,T=re,t=L;B.prototype={$normalize:Xe,$addClass:function(e){e&&0<e.length&&i.addClass(this.$$element,e)},$removeClass:function(e){e&&0<e.length&&i.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=Ke(e,t);n&&n.length&&i.addClass(this.$$element,n),(n=Ke(t,e))&&n.length&&i.removeClass(this.$$element,n)},$set:function(e,t,n,i){var r=_e(this.$$element[0],e),o=Oi[e],a=e;if(r?(this.$$element.prop(e,t),i=r):o&&(this[o]=t,a=o),this[e]=t,i?this.$attr[e]=i:(i=this.$attr[e])||(this.$attr[e]=i=Ee(e,"-")),"img"===be(this.$$element)&&"srcset"===e&&t){if(!pe(t))throw er("srcset",t.toString());r="",o=ui(t);for(var s=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,l=(s=/\s/.test(o)?s:/(,)/,o=o.split(s),s=Math.floor(o.length/2),0);l<s;l++){var c=2*l;r=(r=r+u.getTrustedMediaUrl(ui(o[c])))+" "+ui(o[1+c])}o=ui(o[2*l]).split(/\s/),r+=u.getTrustedMediaUrl(ui(o[0])),2===o.length&&(r+=" "+ui(o[1])),this[e]=t=r}!1!==n&&(null===t||de(t)?this.$$element.removeAttr(i):d.test(i)?this.$$element.attr(i,t):function(e,t,n){h.innerHTML="<span "+t+">";var i=(t=h.firstChild.attributes)[0];t.removeNamedItem(i.name),i.value=n,e.attributes.setNamedItem(i)}(this.$$element[0],i,t)),(e=this.$$observers)&&ae(e[a],function(e){try{e(t)}catch(e){V(e)}})},$observe:function(e,t){var n=this,i=n.$$observers||(n.$$observers=Ae()),r=i[e]||(i[e]=[]);return r.push(t),o.$evalAsync(function(){r.$$inter||!n.hasOwnProperty(e)||de(n[e])||t(n[e])}),function(){we(r,t)}}};var n=v.startSymbol(),r=v.endSymbol(),ie="{{"===n&&"}}"===r?ue:function(e){return e.replace(/\{\{/g,n).replace(/}}/g,r)},M=/^ngAttr[A-Z]/,D=/^(.+)Start$/;return z.$$addBindingInfo=l?function(e,t){var n=e.data("$binding")||[];fe(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:ce,z.$$addBindingClass=l?function(e){S(e,"ng-binding")}:ce,z.$$addScopeInfo=l?function(e,t,n,i){e.data(n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope",t)}:ce,z.$$addScopeClass=l?function(e,t){S(e,t?"ng-isolate-scope":"ng-scope")}:ce,z.$$createComment=function(e,t){var n="";return l&&(n=" "+(e||"")+": ",t&&(n+=t+" ")),oe.document.createComment(n)},z}]}function Ye(e,t){this.previousValue=e,this.currentValue=t}function Xe(e){return e.replace(ir,"").replace(rr,function(e,t,n){return n?t.toUpperCase():t})}function Ke(e,t){var n="",i=e.split(/\s+/),r=t.split(/\s+/),o=0;e:for(;o<i.length;o++){for(var a=i[o],s=0;s<r.length;s++)if(a===r[s])continue e;n+=(0<n.length?" ":"")+a}return n}function Ze(e){var t=(e=Gn(e)).length;if(t<=1)return e;for(;t--;){var n=e[t];(8===n.nodeType||n.nodeType===bi&&""===n.nodeValue.trim())&&Qn.call(e,t,1)}return e}function Je(){var c={};this.has=function(e){return c.hasOwnProperty(e)},this.register=function(e,t){V(e,"controller"),he(e)?se(c,e):c[e]=t},this.$get=["$injector",function(s){function l(e,t,n,i){if(!e||!he(e.$scope))throw T("$controller")("noscp",i,t);e.$scope[t]=n}return function(t,n,e,i){var r,o,a;if(e=!0===e,i&&pe(i)&&(a=i),pe(t)){if(!(i=t.match(ar)))throw or("ctrlfmt",t);if(o=i[1],a=a||i[3],!(t=c.hasOwnProperty(o)?c[o]:function(e,t,n){if(!t)return e;for(var i,r=e,o=(t=t.split(".")).length,a=0;a<o;a++)i=t[a],e=e&&(r=e)[i];return!n&&me(e)?Se(r,e):e}(n.$scope,o,!0)))throw or("ctrlreg",o);F(t,o,!0)}return e?(e=(fe(t)?t[t.length-1]:t).prototype,r=Object.create(e||null),a&&l(n,a,r,o||t.name),se(function(){var e=s.invoke(t,r,n,o);return e!==r&&(he(e)||me(e))&&(r=e,a&&l(n,a,r,o||t.name)),r},{instance:r,identifier:a})):(r=s.instantiate(t,n,o),a&&l(n,a,r,o||t.name),r)}}]}function Qe(){this.$get=["$window",function(e){return Gn(e.document)}]}function et(){this.$get=["$document","$rootScope",function(e,t){function n(){r=i.hidden}var i=e[0],r=i&&i.hidden;return e.on("visibilitychange",n),t.$on("$destroy",function(){e.off("visibilitychange",n)}),function(){return r}}]}function tt(){this.$get=["$log",function(n){return function(e,t){n.error.apply(n,arguments)}}]}function nt(e){return he(e)?y(e)?e.toISOString():a(e):e}function it(){this.$get=function(){return function(e){if(!e)return"";var n=[];return o(e,function(e,t){null===e||de(e)||me(e)||(fe(e)?ae(e,function(e){n.push($(t)+"="+$(nt(e)))}):n.push($(t)+"="+$(nt(e))))}),n.join("&")}}}function rt(){this.$get=function(){return function(e){if(!e)return"";var t=[];return function n(e,i,r){fe(e)?ae(e,function(e,t){n(e,i+"["+(he(e)?t:"")+"]")}):he(e)&&!y(e)?o(e,function(e,t){n(e,i+(r?"":"[")+t+(r?"":"]"))}):(me(e)&&(e=e()),t.push($(i)+"="+(null==e?"":$(nt(e)))))}(e,"",!0),t.join("&")}}}function ot(t,e){if(pe(t)){var n,i,r=t.replace(dr,"").trim();if(r)if((i=n=(n=e("Content-Type"))&&0===n.indexOf(sr))||(i=(i=r.match(cr))&&ur[i[0]].test(r)),i)try{t=s(r)}catch(e){if(!n)return t;throw hr("baddata",t,e)}}return t}function at(e){var n,r=Ae();return pe(e)?ae(e.split("\n"),function(e){n=e.indexOf(":");var t=Kn(ui(e.substr(0,n)));e=ui(e.substr(n+1)),t&&(r[t]=r[t]?r[t]+", "+e:e)}):he(e)&&ae(e,function(e,t){var n=Kn(t),i=ui(e);n&&(r[n]=r[n]?r[n]+", "+i:i)}),r}function st(t){var n;return function(e){return n=n||at(t),e?(void 0===(e=n[Kn(e)])&&(e=null),e):n}}function lt(t,n,i,e){return me(e)?e(t,n,i):(ae(e,function(e){t=e(t,n,i)}),t)}function ct(){var x=this.defaults={transformResponse:[ot],transformRequest:[function(e){return he(e)&&"[object File]"!==ti.call(e)&&"[object Blob]"!==ti.call(e)&&"[object FormData]"!==ti.call(e)?a(e):e}],headers:{common:{Accept:"application/json, text/plain, */*"},post:N(lr),put:N(lr),patch:N(lr)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},C=!1;this.useApplyAsync=function(e){return k(e)?(C=!!e,this):C};var t=this.interceptors=[],n=this.xsrfWhitelistedOrigins=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(a,p,f,e,g,m,s,v){function y(e){function t(e,t){for(var n=0,i=t.length;n<i;){var r=t[n++],o=t[n++];e=e.then(r,o)}return t.length=0,e}function i(e){var t=se({},e);return t.data=lt(e.data,e.headers,e.status,n.transformResponse),200<=(e=e.status)&&e<300?t:m.reject(t)}if(!he(e))throw T("$http")("badreq",e);if(!pe(v.valueOf(e.url)))throw T("$http")("badreq",e.url);var n=se({method:"get",transformRequest:x.transformRequest,transformResponse:x.transformResponse,paramSerializer:x.paramSerializer,jsonpCallbackParam:x.jsonpCallbackParam},e);n.headers=function(e){var t,n,i,r=x.headers,o=se({},e.headers);r=se({},r.common,r[Kn(e.method)]);e:for(t in r){for(i in n=Kn(t),o)if(Kn(i)===n)continue e;o[t]=r[t]}return function(e,n){var i,r={};return ae(e,function(e,t){me(e)?null!=(i=e(n))&&(r[t]=i):r[t]=e}),r}(o,N(e))}(e),n.method=Zn(n.method),n.paramSerializer=pe(n.paramSerializer)?s.get(n.paramSerializer):n.paramSerializer,a.$$incOutstandingRequestCount();var r=[],o=[];return e=m.resolve(n),ae(l,function(e){(e.request||e.requestError)&&r.unshift(e.request,e.requestError),(e.response||e.responseError)&&o.push(e.response,e.responseError)}),(e=t(e=(e=t(e,r)).then(function(e){var n=e.headers,t=lt(e.data,st(n),void 0,e.transformRequest);return de(t)&&ae(n,function(e,t){"content-type"===Kn(t)&&delete n[t]}),de(e.withCredentials)&&!de(x.withCredentials)&&(e.withCredentials=x.withCredentials),function(o,e){function t(e){if(e){var t={};return ae(e,function(n,e){t[e]=function(e){function t(){n(e)}C?g.$applyAsync(t):g.$$phase?t():g.$apply(t)}}),t}}function a(e,t,n,i,r){(200<=(t=-1<=t?t:0)&&t<300?l.resolve:l.reject)({data:e,status:t,headers:st(n),config:o,statusText:i,xhrStatus:r})}function n(e){a(e.data,e.status,N(e.headers()),e.statusText,e.xhrStatus)}function i(){var e=y.pendingRequests.indexOf(o);-1!==e&&y.pendingRequests.splice(e,1)}var s,r,l=m.defer(),c=l.promise,u=o.headers,d="jsonp"===Kn(o.method),h=o.url;return d?h=v.getTrustedResourceUrl(h):pe(h)||(h=v.valueOf(h)),h=function(e,t){return 0<t.length&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}(h,o.paramSerializer(o.params)),d&&(h=function(n,i){var e=n.split("?");if(2<e.length)throw hr("badjsonp",n);return ae(e=S(e[1]),function(e,t){if("JSON_CALLBACK"===e)throw hr("badjsonp",n);if(t===i)throw hr("badjsonp",i,n)}),n+=(-1===n.indexOf("?")?"?":"&")+i+"=JSON_CALLBACK"}(h,o.jsonpCallbackParam)),y.pendingRequests.push(o),c.then(i,i),!o.cache&&!x.cache||!1===o.cache||"GET"!==o.method&&"JSONP"!==o.method||(s=he(o.cache)?o.cache:he(x.cache)?x.cache:b),s&&(k(r=s.get(h))?r&&me(r.then)?r.then(n,n):fe(r)?a(r[1],r[0],N(r[2]),r[3],r[4]):a(r,200,{},"OK","complete"):s.put(h,c)),de(r)&&((r=w(o.url)?f()[o.xsrfCookieName||x.xsrfCookieName]:void 0)&&(u[o.xsrfHeaderName||x.xsrfHeaderName]=r),p(o.method,h,e,function(e,t,n,i,r){function o(){a(t,e,n,i,r)}s&&(200<=e&&e<300?s.put(h,[e,t,at(n),i,r]):s.remove(h)),C?g.$applyAsync(o):(o(),g.$$phase||g.$apply())},u,o.timeout,o.withCredentials,o.responseType,t(o.eventHandlers),t(o.uploadEventHandlers))),c}(e,t).then(i,i)}),o)).finally(function(){a.$$completeOutstandingRequest(ce)})}var b=e("$http");x.paramSerializer=pe(x.paramSerializer)?s.get(x.paramSerializer):x.paramSerializer;var l=[];ae(t,function(e){l.unshift(pe(e)?s.get(e):s.invoke(e))});var w=function(e){var t=[Fr].concat(e.map(Qt));return function(e){return e=Qt(e),t.some(en.bind(null,e))}}(n);return y.pendingRequests=[],function(e){ae(arguments,function(n){y[n]=function(e,t){return y(se({},t||{},{method:n,url:e}))}})}("get","delete","head","jsonp"),function(e){ae(arguments,function(i){y[i]=function(e,t,n){return y(se({},n||{},{method:i,url:e,data:t}))}})}("post","put","patch"),y.defaults=x,y}]}function ut(){this.$get=function(){return function(){return new oe.XMLHttpRequest}}}function dt(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(e,t,n,i){return function(v,y,b,w,x){return function(e,i,t,r,n,o,a,s,l,c){function u(e){g="timeout"===e,p&&p(),f&&f.abort()}function d(e,t,n,i,r,o){k(m)&&b.cancel(m),p=f=null,e(t,n,i,r,o)}if(i=i||v.url(),"jsonp"===Kn(e))var h=w.createCallback(i),p=function(e,i,r){e=e.replace("JSON_CALLBACK",i);var o=x.createElement("script"),a=null;return o.type="text/javascript",o.src=e,o.async=!0,a=function(e){o.removeEventListener("load",a),o.removeEventListener("error",a),x.body.removeChild(o),o=null;var t=-1,n="unknown";e&&("load"!==e.type||w.wasCalled(i)||(e={type:"error"}),n=e.type,t="error"===e.type?404:200),r&&r(t,n)},o.addEventListener("load",a),o.addEventListener("error",a),x.body.appendChild(o),a}(i,h,function(e,t){var n=200===e&&w.getResponse(h);d(r,e,n,"",t,"complete"),w.removeCallback(h)});else{var f=y(e,i),g=!1;if(f.open(e,i,!0),ae(n,function(e,t){k(e)&&f.setRequestHeader(t,e)}),f.onload=function(){var e=f.statusText||"",t="response"in f?f.response:f.responseText,n=1223===f.status?204:f.status;0===n&&(n=t?200:"file"===Qt(i).protocol?404:0),d(r,n,t,f.getAllResponseHeaders(),e,"complete")},f.onerror=function(){d(r,-1,null,null,"","error")},f.ontimeout=function(){d(r,-1,null,null,"","timeout")},f.onabort=function(){d(r,-1,null,null,"",g?"timeout":"abort")},ae(l,function(e,t){f.addEventListener(t,e)}),ae(c,function(e,t){f.upload.addEventListener(t,e)}),a&&(f.withCredentials=!0),s)try{f.responseType=s}catch(e){if("json"!==s)throw e}f.send(de(t)?null:t)}if(0<o)var m=b(function(){u("timeout")},o);else o&&me(o.then)&&o.then(function(){u(k(o.$$timeoutId)?"timeout":"abort")})}}(e,i,e.defer,t,n[0])}]}function ht(){var S="{{",$="}}";this.startSymbol=function(e){return e?(S=e,this):S},this.endSymbol=function(e){return e?($=e,this):$},this.$get=["$parse","$exceptionHandler","$sce",function(m,v,y){function e(e){return"\\\\\\"+e}function b(e){return e.replace(n,S).replace(i,$)}function w(e,t,n,i){var r=e.$watch(function(e){return r(),i(e)},t,n);return r}function t(r,e,i,o){var a=i===y.URL||i===y.MEDIA_URL;if(!r.length||-1===r.indexOf(S)){if(e&&!a)return;return e=b(r),a&&(e=y.getTrusted(i,e)),(e=E(e)).exp=r,e.expressions=[],e.$$watchDelegate=w,e}o=!!o;for(var t,n,s,l,c=0,u=[],d=r.length,h=[],p=[];c<d;){if(-1===(t=r.indexOf(S,c))||-1===(n=r.indexOf($,t+x))){c!==d&&h.push(b(r.substring(c)));break}c!==t&&h.push(b(r.substring(c,t))),c=r.substring(t+x,n),u.push(c),c=n+C,p.push(h.length),h.push("")}l=1===h.length&&1===p.length;var f=a&&l?void 0:function(e){try{return e=i&&!a?y.getTrusted(i,e):y.valueOf(e),o&&!k(e)?e:L(e)}catch(e){v(pr.interr(r,e))}};if(s=u.map(function(e){return m(e,f)}),!e||u.length){var g=function(e){for(var t=0,n=u.length;t<n;t++){if(o&&de(e[t]))return;h[p[t]]=e[t]}return a?y.getTrusted(i,l?h[0]:h.join("")):(i&&1<h.length&&pr.throwNoconcat(r),h.join(""))};return se(function(e){var t=0,n=u.length,i=Array(n);try{for(;t<n;t++)i[t]=s[t](e);return g(i)}catch(e){v(pr.interr(r,e))}},{exp:r,expressions:u,$$watchDelegate:function(i,r){var o;return i.$watchGroup(s,function(e,t){var n=g(e);r.call(this,n,e!==t?o:n,i),o=n})}})}}var x=S.length,C=$.length,n=new RegExp(S.replace(/./g,e),"g"),i=new RegExp($.replace(/./g,e),"g");return t.startSymbol=function(){return S},t.endSymbol=function(){return $},t}]}function pt(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(p,f,g,m,v){function e(e,t,n,i){function r(){o?e.apply(null,a):e(c)}var o=4<arguments.length,a=o?Jn.call(arguments,4):[],s=f.setInterval,l=f.clearInterval,c=0,u=k(i)&&!i,d=(u?m:g).defer(),h=d.promise;return n=k(n)?n:0,h.$$intervalId=s(function(){u?v.defer(r):p.$evalAsync(r),d.notify(c++),0<n&&n<=c&&(d.resolve(c),l(h.$$intervalId),delete y[h.$$intervalId]),u||p.$apply()},t),y[h.$$intervalId]=d,h}var y={};return e.cancel=function(e){if(!e)return!1;if(!e.hasOwnProperty("$$intervalId"))throw gr("badprom");if(!y.hasOwnProperty(e.$$intervalId))return!1;e=e.$$intervalId;var t=y[e];return t.promise.$$state.pur=!0,t.reject("canceled"),f.clearInterval(e),delete y[e],!0},e}]}function ft(e){for(var t=(e=e.split("/")).length;t--;)e[t]=C(e[t].replace(/%2F/g,"/"));return e.join("/")}function gt(e,t){var n=Qt(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=u(n.port)||vr[n.protocol]||null}function mt(e,t,n){if(br.test(e))throw yr("badpath",e);(i="/"!==e.charAt(0))&&(e="/"+e),e=Qt(e);for(var i,r=(i=(i&&"/"===e.pathname.charAt(0)?e.pathname.substring(1):e.pathname).split("/")).length;r--;)i[r]=decodeURIComponent(i[r]),n&&(i[r]=i[r].replace(/\//g,"%2F"));n=i.join("/"),t.$$path=n,t.$$search=S(e.search),t.$$hash=decodeURIComponent(e.hash),t.$$path&&"/"!==t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function vt(e,t){return e.slice(0,t.length)===t}function yt(e,t){if(vt(t,e))return t.substr(e.length)}function bt(e){var t=e.indexOf("#");return-1===t?e:e.substr(0,t)}function wt(e){return e.replace(/(#.+)|#$/,"$1")}function xt(r,o,a){this.$$html5=!0,a=a||"",gt(r,this),this.$$parse=function(e){var t=yt(o,e);if(!pe(t))throw yr("ipthprfx",e,o);mt(t,this,!0),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=n(this.$$search),t=this.$$hash?"#"+C(this.$$hash):"";this.$$url=ft(this.$$path)+(e?"?"+e:"")+t,this.$$absUrl=o+this.$$url.substr(1),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(e,t){return t&&"#"===t[0]?(this.hash(t.slice(1)),!0):(k(n=yt(r,e))?(i=n,i=a&&k(n=yt(a,n))?o+(yt("/",n)||n):r+i):k(n=yt(o,e))?i=o+n:o===e+"/"&&(i=o),i&&this.$$parse(i),!!i);var n,i}}function Ct(r,o,a){gt(r,this),this.$$parse=function(e){var t;de(n=yt(r,e)||yt(o,e))||"#"!==n.charAt(0)?this.$$html5?t=n:(t="",de(n)&&(r=e,this.replace())):de(t=yt(a,n))&&(t=n),mt(t,this,!1),e=this.$$path;var n,i=/^\/[A-Z]:(\/.*)/;vt(t,n=r)&&(t=t.replace(n,"")),i.exec(t)||(e=(t=i.exec(e))?t[1]:e),this.$$path=e,this.$$compose()},this.$$compose=function(){var e=n(this.$$search),t=this.$$hash?"#"+C(this.$$hash):"";this.$$url=ft(this.$$path)+(e?"?"+e:"")+t,this.$$absUrl=r+(this.$$url?a+this.$$url:""),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(e,t){return bt(r)===bt(e)&&(this.$$parse(e),!0)}}function St(r,o,a){this.$$html5=!0,Ct.apply(this,arguments),this.$$parseLinkUrl=function(e,t){return t&&"#"===t[0]?(this.hash(t.slice(1)),!0):(r===bt(e)?n=e:(i=yt(o,e))?n=r+a+i:o===e+"/"&&(n=o),n&&this.$$parse(n),!!n);var n,i},this.$$compose=function(){var e=n(this.$$search),t=this.$$hash?"#"+C(this.$$hash):"";this.$$url=ft(this.$$path)+(e?"?"+e:"")+t,this.$$absUrl=r+a+this.$$url,this.$$urlUpdatedByLocation=!0}}function $t(e){return function(){return this[e]}}function Et(t,n){return function(e){return de(e)?this[t]:(this[t]=n(e),this.$$compose(),this)}}function kt(){var f="!",g={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return k(e)?(f=e,this):f},this.html5Mode=function(e){return ye(e)?(g.enabled=e,this):he(e)?(ye(e.enabled)&&(g.enabled=e.enabled),ye(e.requireBase)&&(g.requireBase=e.requireBase),(ye(e.rewriteLinks)||pe(e.rewriteLinks))&&(g.rewriteLinks=e.rewriteLinks),this):g},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(a,s,t,r,e){function l(e,t,n){var i=u.url(),r=u.$$state;try{s.url(e,t,n),u.$$state=s.state()}catch(e){throw u.url(i),u.$$state=r,e}}function c(e,t){a.$broadcast("$locationChangeSuccess",u.absUrl(),e,u.$$state,t)}var u,n;n=s.baseHref();var i,o=s.url();if(g.enabled){if(!n&&g.requireBase)throw yr("nobase");i=o.substring(0,o.indexOf("/",o.indexOf("//")+2))+(n||"/"),n=t.history?xt:St}else i=bt(o),n=Ct;var d=i.substr(0,bt(i).lastIndexOf("/")+1);(u=new n(i,d,"#"+f)).$$parseLinkUrl(o,o),u.$$state=s.state();var h=/^\s*(javascript|mailto):/i;r.on("click",function(e){if((n=g.rewriteLinks)&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!==e.which&&2!==e.button){for(var t=Gn(e.target);"a"!==be(t[0]);)if(t[0]===r[0]||!(t=t.parent())[0])return;if(!pe(n)||!de(t.attr(n))){var n=t.prop("href"),i=t.attr("href")||t.attr("xlink:href");he(n)&&"[object SVGAnimatedString]"===n.toString()&&(n=Qt(n.animVal).href),h.test(n)||!n||t.attr("target")||e.isDefaultPrevented()||!u.$$parseLinkUrl(n,i)||(e.preventDefault(),u.absUrl()!==s.url()&&a.$apply())}}}),wt(u.absUrl())!==wt(o)&&s.url(u.absUrl(),!0);var p=!0;return s.onUrlChange(function(i,r){vt(i,d)?(a.$evalAsync(function(){var e,t=u.absUrl(),n=u.$$state;i=wt(i),u.$$parse(i),u.$$state=r,e=a.$broadcast("$locationChangeStart",i,t,r,n).defaultPrevented,u.absUrl()===i&&(e?(u.$$parse(t),l(t,!1,u.$$state=n)):(p=!1,c(t,n)))}),a.$$phase||a.$digest()):e.location.href=i}),a.$watch(function(){if(p||u.$$urlUpdatedByLocation){u.$$urlUpdatedByLocation=!1;var n=wt(s.url()),e=wt(u.absUrl()),i=s.state(),r=u.$$replace,o=n!==e||u.$$html5&&t.history&&i!==u.$$state;(p||o)&&(p=!1,a.$evalAsync(function(){var e=u.absUrl(),t=a.$broadcast("$locationChangeStart",e,n,u.$$state,i).defaultPrevented;u.absUrl()===e&&(t?(u.$$parse(n),u.$$state=i):(o&&l(e,r,i===u.$$state?null:u.$$state),c(n,i)))}))}u.$$replace=!1}),u}]}function At(){var i=!0,o=this;this.debugEnabled=function(e){return k(e)?(i=e,this):i},this.$get=["$window",function(t){function e(e){var n=t.console||{},i=n[e]||n.log||ce;return function(){var t=[];return ae(arguments,function(e){t.push(function(e){return ge(e)&&(e.stack&&r?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}(e))}),Function.prototype.apply.call(i,n,t)}}var n,r=jn||/\bEdge\//.test(t.navigator&&t.navigator.userAgent);return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:(n=e("debug"),function(){i&&n.apply(o,arguments)})}}]}function Tt(e){return e+""}function Mt(e,t){return void 0!==e?e:t}function Dt(e,t){return void 0===e?t:void 0===t?e:e+t}function Pt(e,t,n){var i,r,o=e.isPure=function(e,t){switch(e.type){case kr.MemberExpression:if(e.computed)return!1;break;case kr.UnaryExpression:return 1;case kr.BinaryExpression:return"+"!==e.operator&&1;case kr.CallExpression:return!1}return void 0===t?Ar:t}(e,n);switch(e.type){case kr.Program:i=!0,ae(e.body,function(e){Pt(e.expression,t,o),i=i&&e.expression.constant}),e.constant=i;break;case kr.Literal:e.constant=!0,e.toWatch=[];break;case kr.UnaryExpression:Pt(e.argument,t,o),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case kr.BinaryExpression:Pt(e.left,t,o),Pt(e.right,t,o),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case kr.LogicalExpression:Pt(e.left,t,o),Pt(e.right,t,o),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case kr.ConditionalExpression:Pt(e.test,t,o),Pt(e.alternate,t,o),Pt(e.consequent,t,o),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case kr.Identifier:e.constant=!1,e.toWatch=[e];break;case kr.MemberExpression:Pt(e.object,t,o),e.computed&&Pt(e.property,t,o),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=e.constant?[]:[e];break;case kr.CallExpression:i=n=!!e.filter&&!t(e.callee.name).$stateful,r=[],ae(e.arguments,function(e){Pt(e,t,o),i=i&&e.constant,r.push.apply(r,e.toWatch)}),e.constant=i,e.toWatch=n?r:[e];break;case kr.AssignmentExpression:Pt(e.left,t,o),Pt(e.right,t,o),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case kr.ArrayExpression:i=!0,r=[],ae(e.elements,function(e){Pt(e,t,o),i=i&&e.constant,r.push.apply(r,e.toWatch)}),e.constant=i,e.toWatch=r;break;case kr.ObjectExpression:i=!0,r=[],ae(e.properties,function(e){Pt(e.value,t,o),i=i&&e.value.constant,r.push.apply(r,e.value.toWatch),e.computed&&(Pt(e.key,t,!1),i=i&&e.key.constant,r.push.apply(r,e.key.toWatch))}),e.constant=i,e.toWatch=r;break;case kr.ThisExpression:e.constant=!1,e.toWatch=[];break;case kr.LocalsExpression:e.constant=!1,e.toWatch=[]}}function _t(e){if(1===e.length){var t=(e=e[0].expression).toWatch;return 1!==t.length?t:t[0]!==e?t:void 0}}function Rt(e){return e.type===kr.Identifier||e.type===kr.MemberExpression}function It(e){if(1===e.body.length&&Rt(e.body[0].expression))return{type:kr.AssignmentExpression,left:e.body[0].expression,right:{type:kr.NGValueParameter},operator:"="}}function Ft(e){this.$filter=e}function Ot(e){this.$filter=e}function Lt(e,t,n){this.ast=new kr(e,n),this.astCompiler=n.csp?new Ot(t):new Ft(t)}function Nt(e){return me(e.valueOf)?e.valueOf():Cr.call(e)}function Vt(){var s,l,c=Ae(),u={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(e,t){u[e]=t},this.setIdentifierFns=function(e,t){return s=e,l=t,this},this.$get=["$filter",function(r){function e(e,t){var n,i;switch(typeof e){case"string":return i=e=e.trim(),(n=c[i])||(n=new Lt(n=new Er(a),r,a).parse(e),c[i]=f(n)),o(n,t);case"function":return o(e,t);default:return o(ce,t)}}function h(e,t,n){return null==e||null==t?e===t:!("object"==typeof e&&("object"==typeof(e=Nt(e))&&!n))&&(e===t||e!=e&&t!=t)}function t(e,t,n,o,i){var a;if(1===(s=o.inputs).length){var r=h,s=s[0];return e.$watch(function(e){var t=s(e);return h(t,r,s.isPure)||(a=o(e,void 0,void 0,[t]),r=t&&Nt(t)),a},t,n,i)}for(var l=[],c=[],u=0,d=s.length;u<d;u++)l[u]=h,c[u]=null;return e.$watch(function(e){for(var t=!1,n=0,i=s.length;n<i;n++){var r=s[n](e);(t=t||!h(r,l[n],s[n].isPure))&&(c[n]=r,l[n]=r&&Nt(r))}return t&&(a=o(e,void 0,void 0,c)),a},t,n,i)}function n(e,t,n,i,r){function o(){c(l)&&s()}function a(e,t,n,i){return l=h&&i?i[0]:u(e,t,n,i),c(l)&&e.$$postDigest(o),d(l)}var s,l,c=i.literal?p:k,u=i.$$intercepted||i,d=i.$$interceptor||ue,h=i.inputs&&!u.inputs;return a.literal=i.literal,a.constant=i.constant,a.inputs=i.inputs,f(a),s=e.$watch(a,t,n,r)}function p(e){var t=!0;return ae(e,function(e){k(e)||(t=!1)}),t}function i(e,t,n,i){var r=e.$watch(function(e){return r(),i(e)},t,n);return r}function f(e){return e.constant?e.$$watchDelegate=i:e.oneTime?e.$$watchDelegate=n:e.inputs&&(e.$$watchDelegate=t),e}function o(r,o){if(!o)return r;r.$$interceptor&&(o=function(t,n){function e(e){return n(t(e))}return e.$stateful=t.$stateful||n.$stateful,e.$$pure=t.$$pure&&n.$$pure,e}(r.$$interceptor,o),r=r.$$intercepted);function e(e,t,n,i){return e=a&&i?i[0]:r(e,t,n,i),o(e)}var a=!1;return e.$$intercepted=r,e.$$interceptor=o,e.literal=r.literal,e.oneTime=r.oneTime,e.constant=r.constant,o.$stateful||(a=!r.inputs,e.inputs=r.inputs?r.inputs:[r],o.$$pure||(e.inputs=e.inputs.map(function(t){return t.isPure===Ar?function(e){return t(e)}:t}))),f(e)}var a={csp:hi().noUnsafeEval,literals:A(u),isIdentifierStart:me(s)&&s,isIdentifierContinue:me(l)&&l};return e.$$getAst=function(e){return new Lt(new Er(a),r,a).getAst(e).ast},e}]}function Ht(){var n=!0;this.$get=["$rootScope","$exceptionHandler",function(t,e){return zt(function(e){t.$evalAsync(e)},e,n)}],this.errorOnUnhandledRejections=function(e){return k(e)?(n=e,this):n}}function Bt(){var n=!0;this.$get=["$browser","$exceptionHandler",function(t,e){return zt(function(e){t.defer(e)},e,n)}],this.errorOnUnhandledRejections=function(e){return k(e)?(n=e,this):n}}function zt(a,s,l){function n(){return new e}function e(){var t=this.promise=new o;this.resolve=function(e){d(t,e)},this.reject=function(e){h(t,e)},this.notify=function(e){f(t,e)}}function o(){this.$$state={status:0}}function c(){for(;!v&&y.length;){var e=y.shift();if(!e.pur){e.pur=!0;var t="Possibly unhandled rejection: "+("function"==typeof(t=e.value)?t.toString().replace(/ \{[\s\S]*$/,""):de(t)?"undefined":"string"!=typeof t?H(t,void 0):t);ge(e.value)?s(e.value,t):s(t)}}}function u(o){!l||o.pending||2!==o.status||o.pur||(0===v&&0===y.length&&a(c),y.push(o)),!o.processScheduled&&o.pending&&(o.processScheduled=!0,++v,a(function(){var e,t,n;n=o.pending,o.processScheduled=!1,o.pending=void 0;try{for(var i=0,r=n.length;i<r;++i){o.pur=!0,t=n[i][0],e=n[i][o.status];try{me(e)?d(t,e(o.value)):1===o.status?d(t,o.value):h(t,o.value)}catch(e){h(t,e),e&&!0===e.$$passToExceptionHandler&&s(e)}}}finally{--v,l&&0===v&&a(c)}}))}function d(e,t){e.$$state.status||(t===e?p(e,m("qcycle",t)):function t(n,e){function i(e){s||(s=!0,t(n,e))}function r(e){s||(s=!0,p(n,e))}function o(e){f(n,e)}var a,s=!1;try{(he(e)||me(e))&&(a=e.then),me(a)?(n.$$state.status=-1,a.call(e,i,r,o)):(n.$$state.value=e,n.$$state.status=1,u(n.$$state))}catch(e){r(e)}}(e,t))}function h(e,t){e.$$state.status||p(e,t)}function p(e,t){e.$$state.value=t,e.$$state.status=2,u(e.$$state)}function f(e,r){var o=e.$$state.pending;e.$$state.status<=0&&o&&o.length&&a(function(){for(var e,t,n=0,i=o.length;n<i;n++){t=o[n][0],e=o[n][3];try{f(t,me(e)?e(r):r)}catch(e){s(e)}}})}function r(e){var t=new o;return h(t,e),t}function i(e,t,n){var i=null;try{me(n)&&(i=n())}catch(e){return r(e)}return i&&me(i.then)?i.then(function(){return t(e)},r):t(e)}function g(e,t,n,i){var r=new o;return d(r,e),r.then(t,n,i)}function t(e){if(!me(e))throw m("norslvr",e);var t=new o;return e(function(e){d(t,e)},function(e){h(t,e)}),t}var m=T("$q",TypeError),v=0,y=[];se(o.prototype,{then:function(e,t,n){if(de(e)&&de(t)&&de(n))return this;var i=new o;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,e,t,n]),0<this.$$state.status&&u(this.$$state),i},catch:function(e){return this.then(null,e)},finally:function(t,e){return this.then(function(e){return i(e,b,t)},function(e){return i(e,r,t)},e)}});var b=g;return t.prototype=o.prototype,t.defer=n,t.reject=r,t.when=g,t.resolve=b,t.all=function(e){var n=new o,i=0,r=fe(e)?[]:{};return ae(e,function(e,t){i++,g(e).then(function(e){r[t]=e,--i||d(n,r)},function(e){h(n,e)})}),0===i&&d(n,r),n},t.race=function(e){var t=n();return ae(e,function(e){g(e).then(t.resolve,t.reject)}),t.promise},t}function jt(){this.$get=["$window","$timeout",function(e,n){var i=e.requestAnimationFrame||e.webkitRequestAnimationFrame,r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,t=!!i,o=t?function(e){var t=i(e);return function(){r(t)}}:function(e){var t=n(e,16.66,!1);return function(){n.cancel(t)}};return o.supported=t,o}]}function Gt(){var x=10,C=T("$rootScope"),S=null,$=null;this.digestTtl=function(e){return arguments.length&&(x=e),x},this.$get=["$exceptionHandler","$parse","$browser",function(d,f,h){function i(e){e.currentScope.$$destroyed=!0}function r(){this.$id=++oi,this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,(this.$root=this).$$suspended=this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function p(e){if(v.$$phase)throw C("inprog",v.$$phase);v.$$phase=e}function l(e,t){for(;e.$$watchersCount+=t,e=e.$parent;);}function o(e,t,n){for(;e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n],e=e.$parent;);}function g(){}function m(){for(;n.length;)try{n.shift()()}catch(e){d(e)}$=null}r.prototype={constructor:r,$new:function(e,t){var n;return t=t||this,e?(n=new r).$root=this.$root:(this.$$ChildScope||(this.$$ChildScope=function(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=++oi,this.$$ChildScope=null,this.$$suspended=!1}return t.prototype=e,t}(this)),n=new this.$$ChildScope),n.$parent=t,n.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=n,t.$$childTail=n):t.$$childHead=t.$$childTail=n,!e&&t===this||n.$on("$destroy",i),n},$watch:function(e,t,n,i){var r=f(e);if(t=me(t)?t:ce,r.$$watchDelegate)return r.$$watchDelegate(this,t,n,r,e);var o=this,a=o.$$watchers,s={fn:t,last:g,get:r,exp:i||e,eq:!!n};return S=null,a||((a=o.$$watchers=[]).$$digestWatchIndex=-1),a.unshift(s),a.$$digestWatchIndex++,l(this,1),function(){var e=we(a,s);0<=e&&(l(o,-1),e<a.$$digestWatchIndex&&a.$$digestWatchIndex--),S=null}},$watchGroup:function(t,i){function r(){c=!1;try{n?(n=!1,i(a,a,l)):i(a,o,l)}finally{for(var e=0;e<t.length;e++)o[e]=a[e]}}var o=Array(t.length),a=Array(t.length),s=[],l=this,c=!1,n=!0;if(t.length)return 1===t.length?this.$watch(t[0],function(e,t,n){a[0]=e,o[0]=t,i(a,e===t?a:o,n)}):(ae(t,function(e,t){var n=l.$watch(e,function(e){a[t]=e,c||(c=!0,l.$evalAsync(r))});s.push(n)}),function(){for(;s.length;)s.shift()()});var e=!0;return l.$evalAsync(function(){e&&i(a,a,l)}),function(){e=!1}},$watchCollection:function(e,t){function n(e){var t,n,i;if(!de(r=e)){if(he(r))if(M(r))for(o!==u&&(p=(o=u).length=0,l++),e=r.length,p!==e&&(l++,o.length=p=e),t=0;t<e;t++)i=o[t],n=r[t],i!=i&&n!=n||i===n||(l++,o[t]=n);else{for(t in o!==d&&(o=d={},p=0,l++),e=0,r)Xn.call(r,t)&&(e++,n=r[t],i=o[t],t in o?i!=i&&n!=n||i===n||(l++,o[t]=n):(p++,o[t]=n,l++));if(e<p)for(t in l++,o)Xn.call(r,t)||(p--,delete o[t])}else o!==r&&(o=r,l++);return l}}n.$$pure=f(e).literal,n.$stateful=!n.$$pure;var r,o,i,a=this,s=1<t.length,l=0,c=f(e,n),u=[],d={},h=!0,p=0;return this.$watch(c,function(){if(h?(h=!1,t(r,r,a)):t(r,i,a),s)if(he(r))if(M(r)){i=Array(r.length);for(var e=0;e<r.length;e++)i[e]=r[e]}else for(e in i={},r)Xn.call(r,e)&&(i[e]=r[e]);else i=r})},$digest:function(){var e,t,n,i,r,o,a,s,l=x,c=y.length?v:this,u=[];p("$digest"),h.$$checkUrlChange(),this===v&&null!==$&&(h.defer.cancel($),m()),S=null;do{for(r=!1,o=c,i=0;i<y.length;i++){try{(0,(s=y[i]).fn)(s.scope,s.locals)}catch(e){d(e)}S=null}y.length=0;e:do{if(i=!o.$$suspended&&o.$$watchers)for(i.$$digestWatchIndex=i.length;i.$$digestWatchIndex--;)try{if(e=i[i.$$digestWatchIndex])if((t=(0,e.get)(o))===(n=e.last)||(e.eq?Ce(t,n):ai(t)&&ai(n))){if(e===S){r=!1;break e}}else r=!0,(S=e).last=e.eq?A(t,null):t,(0,e.fn)(t,n===g?t:n,o),l<5&&(u[a=4-l]||(u[a]=[]),u[a].push({msg:me(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:t,oldVal:n}))}catch(e){d(e)}if(!(i=!o.$$suspended&&o.$$watchersCount&&o.$$childHead||o!==c&&o.$$nextSibling))for(;o!==c&&!(i=o.$$nextSibling);)o=o.$parent}while(o=i);if((r||y.length)&&!l--)throw v.$$phase=null,C("infdig",x,u)}while(r||y.length);for(v.$$phase=null;w<b.length;)try{b[w++]()}catch(e){d(e)}b.length=w=0,h.$$checkUrlChange()},$suspend:function(){this.$$suspended=!0},$isSuspended:function(){return this.$$suspended},$resume:function(){this.$$suspended=!1},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;for(var t in this.$broadcast("$destroy"),this.$$destroyed=!0,this===v&&h.$$applicationDestroyed(),l(this,-this.$$watchersCount),this.$$listenerCount)o(this,this.$$listenerCount[t],t);e&&e.$$childHead===this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail===this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=ce,this.$on=this.$watch=this.$watchGroup=function(){return ce},this.$$listeners={},this.$$nextSibling=null,function e(t){9===jn&&(t.$$childHead&&e(t.$$childHead),t.$$nextSibling&&e(t.$$nextSibling)),t.$parent=t.$$nextSibling=t.$$prevSibling=t.$$childHead=t.$$childTail=t.$root=t.$$watchers=null}(this)}},$eval:function(e,t){return f(e)(this,t)},$evalAsync:function(e,t){v.$$phase||y.length||h.defer(function(){y.length&&v.$digest()}),y.push({scope:this,fn:f(e),locals:t})},$$postDigest:function(e){b.push(e)},$apply:function(e){try{p("$apply");try{return this.$eval(e)}finally{v.$$phase=null}}catch(e){d(e)}finally{try{v.$digest()}catch(e){throw d(e),e}}},$applyAsync:function(e){var t=this;e&&n.push(function(){t.$eval(e)}),e=f(e),null===$&&($=h.defer(function(){v.$apply(m)}))},$on:function(t,n){var i=this.$$listeners[t];i||(this.$$listeners[t]=i=[]),i.push(n);for(var e=this;e.$$listenerCount[t]||(e.$$listenerCount[t]=0),e.$$listenerCount[t]++,e=e.$parent;);var r=this;return function(){var e=i.indexOf(n);-1!==e&&(delete i[e],o(r,1,t))}},$emit:function(e,t){var n,i,r,o=[],a=this,s=!1,l={name:e,targetScope:a,stopPropagation:function(){s=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},c=D([l],arguments,1);do{for(n=a.$$listeners[e]||o,l.currentScope=a,i=0,r=n.length;i<r;i++)if(n[i])try{n[i].apply(null,c)}catch(e){d(e)}else n.splice(i,1),i--,r--;if(s)break;a=a.$parent}while(a);return l.currentScope=null,l},$broadcast:function(e,t){var n=this,i=this,r={name:e,targetScope:this,preventDefault:function(){r.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[e])return r;for(var o,a,s=D([r],arguments,1);n=i;){for(o=0,a=(i=(r.currentScope=n).$$listeners[e]||[]).length;o<a;o++)if(i[o])try{i[o].apply(null,s)}catch(e){d(e)}else i.splice(o,1),o--,a--;if(!(i=n.$$listenerCount[e]&&n.$$childHead||n!==this&&n.$$nextSibling))for(;n!==this&&!(i=n.$$nextSibling);)n=n.$parent}return r.currentScope=null,r}};var v=new r,y=v.$$asyncQueue=[],b=v.$$postDigestQueue=[],n=v.$$applyAsyncQueue=[],w=0;return v}]}function Ut(){var r=/^\s*(https?|s?ftp|mailto|tel|file):/,o=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return k(e)?(r=e,this):r},this.imgSrcSanitizationWhitelist=function(e){return k(e)?(o=e,this):o},this.$get=function(){return function(e,t){var n=t?o:r,i=Qt(e&&e.trim()).href;return""===i||i.match(n)?e:"unsafe:"+i}}}function Wt(e){var t=[];return k(e)&&ae(e,function(e){t.push(function(e){if("self"===e)return e;if(pe(e)){if(-1<e.indexOf("***"))throw Mr("iwcard",e);return e=di(e).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+e+"$")}if(f(e))return new RegExp("^"+e.source+"$");throw Mr("imatcher")}(e))}),t}function qt(){this.SCE_CONTEXTS=Dr;var u=["self"],d=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(u=Wt(e)),u},this.resourceUrlBlacklist=function(e){return arguments.length&&(d=Wt(e)),d},this.$get=["$injector","$$sanitizeUri",function(e,a){function s(e,t){var n;return"self"===e?(n=en(t,Fr))||(n=en(t,n=oe.document.baseURI?oe.document.baseURI:(Tr||((Tr=oe.document.createElement("a")).href=".",Tr=Tr.cloneNode(!1)),Tr.href))):n=!!e.exec(t.href),n}function t(e){function t(e){this.$$unwrapTrustedValue=function(){return e}}return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}var l=function(e){throw Mr("unsafe")};e.has("$sanitize")&&(l=e.get("$sanitize"));var n=t(),c={};return c[Dr.HTML]=t(n),c[Dr.CSS]=t(n),c[Dr.MEDIA_URL]=t(n),c[Dr.URL]=t(c[Dr.MEDIA_URL]),c[Dr.JS]=t(n),c[Dr.RESOURCE_URL]=t(c[Dr.URL]),{trustAs:function(e,t){var n=c.hasOwnProperty(e)?c[e]:null;if(!n)throw Mr("icontext",e,t);if(null===t||de(t)||""===t)return t;if("string"!=typeof t)throw Mr("itype",e);return new n(t)},getTrusted:function(e,t){if(null===t||de(t)||""===t)return t;if((r=c.hasOwnProperty(e)?c[e]:null)&&t instanceof r)return t.$$unwrapTrustedValue();if(me(t.$$unwrapTrustedValue)&&(t=t.$$unwrapTrustedValue()),e===Dr.MEDIA_URL||e===Dr.URL)return a(t,e===Dr.MEDIA_URL);if(e===Dr.RESOURCE_URL){var n,i,r=Qt(t.toString()),o=!1;for(n=0,i=u.length;n<i;n++)if(s(u[n],r)){o=!0;break}if(o)for(n=0,i=d.length;n<i;n++)if(s(d[n],r)){o=!1;break}if(o)return t;throw Mr("insecurl",t.toString())}if(e===Dr.HTML)return l(t);throw Mr("unsafe")},valueOf:function(e){return e instanceof n?e.$$unwrapTrustedValue():e}}}]}function Yt(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(i,e){if(t&&jn<8)throw Mr("iequirks");var r=N(Dr);r.isEnabled=function(){return t},r.trustAs=e.trustAs,r.getTrusted=e.getTrusted,r.valueOf=e.valueOf,t||(r.trustAs=r.getTrusted=function(e,t){return t},r.valueOf=ue),r.parseAs=function(t,e){var n=i(e);return n.literal&&n.constant?n:i(e,function(e){return r.getTrusted(t,e)})};var o=r.parseAs,a=r.getTrusted,s=r.trustAs;return ae(Dr,function(t,e){var n=Kn(e);r[("parse_as_"+n).replace(Pr,B)]=function(e){return o(t,e)},r[("get_trusted_"+n).replace(Pr,B)]=function(e){return a(t,e)},r[("trust_as_"+n).replace(Pr,B)]=function(e){return s(t,e)}}),r}]}function Xt(){this.$get=["$window","$document",function(e,t){var n={},i=!((!e.nw||!e.nw.process)&&e.chrome&&(e.chrome.app&&e.chrome.app.runtime||!e.chrome.app&&e.chrome.runtime&&e.chrome.runtime.id))&&e.history&&e.history.pushState,r=u((/android (\d+)/.exec(Kn((e.navigator||{}).userAgent))||[])[1]),o=/Boxee/i.test((e.navigator||{}).userAgent),a=t[0]||{},s=a.body&&a.body.style,l=!1,c=!1;return s&&(l=!!("transition"in s||"webkitTransition"in s),c=!!("animation"in s||"webkitAnimation"in s)),{history:!(!i||r<4||o),hasEvent:function(e){if("input"===e&&jn)return!1;if(de(n[e])){var t=a.createElement("div");n[e]="on"+e in t}return n[e]},csp:hi(),transitions:l,animations:c,android:r}}]}function Kt(){var c;this.httpOptions=function(e){return e?(c=e,this):c},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(i,r,o,a,s){function l(t,n){l.totalPendingRequests++,pe(t)&&!de(r.get(t))||(t=s.getTrustedResourceUrl(t));var e=o.defaults&&o.defaults.transformResponse;return fe(e)?e=e.filter(function(e){return e!==ot}):e===ot&&(e=null),o.get(t,se({cache:r,transformResponse:e},c)).finally(function(){l.totalPendingRequests--}).then(function(e){return r.put(t,e.data)},function(e){return n||(e=_r("tpload",t,e.status,e.statusText),i(e)),a.reject(e)})}return l.totalPendingRequests=0,l}]}function Zt(){this.$get=["$rootScope","$browser","$location",function(t,n,i){return{findBindings:function(e,n,i){e=e.getElementsByClassName("ng-binding");var r=[];return ae(e,function(t){var e=ri.element(t).data("$binding");e&&ae(e,function(e){i?new RegExp("(^|\\s)"+di(n)+"(\\s|\\||$)").test(e)&&r.push(t):-1!==e.indexOf(n)&&r.push(t)})}),r},findModels:function(e,t,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var o=e.querySelectorAll("["+i[r]+"model"+(n?"=":"*=")+'"'+t+'"]');if(o.length)return o}},getLocation:function(){return i.url()},setLocation:function(e){e!==i.url()&&(i.url(e),t.$digest())},whenStable:function(e){n.notifyWhenNoOutstandingRequests(e)}}}]}function Jt(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(l,c,u,d,h){function e(e,t,n){me(e)||(n=t,t=e,e=ce);var i,r=Jn.call(arguments,3),o=k(n)&&!n,a=(o?d:u).defer(),s=a.promise;return i=c.defer(function(){try{a.resolve(e.apply(null,r))}catch(e){a.reject(e),h(e)}finally{delete p[s.$$timeoutId]}o||l.$apply()},t),s.$$timeoutId=i,p[i]=a,s}var p={};return e.cancel=function(e){if(!e)return!1;if(!e.hasOwnProperty("$$timeoutId"))throw Rr("badprom");if(!p.hasOwnProperty(e.$$timeoutId))return!1;e=e.$$timeoutId;var t=p[e];return t.promise.$$state.pur=!0,t.reject("canceled"),delete p[e],c.defer.cancel(e)},e}]}function Qt(e){return pe(e)?(jn&&(Ir.setAttribute("href",e),e=Ir.href),Ir.setAttribute("href",e),{href:Ir.href,protocol:Ir.protocol?Ir.protocol.replace(/:$/,""):"",host:Ir.host,search:Ir.search?Ir.search.replace(/^\?/,""):"",hash:Ir.hash?Ir.hash.replace(/^#/,""):"",hostname:Ir.hostname,port:Ir.port,pathname:"/"===Ir.pathname.charAt(0)?Ir.pathname:"/"+Ir.pathname}):e}function en(e,t){return e=Qt(e),t=Qt(t),e.protocol===t.protocol&&e.host===t.host}function tn(){this.$get=E(oe)}function nn(e){function o(t){try{return decodeURIComponent(t)}catch(e){return t}}var a=e[0]||{},s={},l="";return function(){var t,e,n,i,r;try{t=a.cookie||""}catch(e){t=""}if(t!==l)for(t=(l=t).split("; "),s={},n=0;n<t.length;n++)0<(i=(e=t[n]).indexOf("="))&&(r=o(e.substring(0,i)),de(s[r])&&(s[r]=o(e.substring(i+1))));return s}}function rn(){this.$get=nn}function on(i){function r(e,t){if(he(e)){var n={};return ae(e,function(e,t){n[t]=r(t,e)}),n}return i.factory(e+"Filter",t)}this.register=r,this.$get=["$injector",function(t){return function(e){return t.get(e+"Filter")}}],r("currency",cn),r("date",yn),r("filter",an),r("json",bn),r("limitTo",wn),r("lowercase",zr),r("number",un),r("orderBy",Cn),r("uppercase",jr)}function an(){return function(e,t,n,i){if(!M(e)){if(null==e)return e;throw T("filter")("notarray",e)}var r;switch(i=i||"$",ln(t)){case"function":break;case"boolean":case"null":case"number":case"string":r=!0;case"object":t=function(t,n,i,r){var o=he(t)&&i in t;return!0===n?n=Ce:me(n)||(n=function(e,t){return!de(e)&&(null===e||null===t?e===t:!(he(t)||he(e)&&!d(e))&&(e=Kn(""+e),t=Kn(""+t),-1!==e.indexOf(t)))}),function(e){return o&&!he(e)?sn(e,t[i],n,i,!1):sn(e,t,n,i,r)}}(t,n,i,r);break;default:return e}return Array.prototype.filter.call(e,t)}}function sn(e,t,n,i,r,o){var a=ln(e),s=ln(t);if("string"===s&&"!"===t.charAt(0))return!sn(e,t.substring(1),n,i,r);if(fe(e))return e.some(function(e){return sn(e,t,n,i,r)});switch(a){case"object":var l;if(r){for(l in e)if(l.charAt&&"$"!==l.charAt(0)&&sn(e[l],t,n,i,!0))return!0;return!o&&sn(e,t,n,i,!1)}if("object"!==s)return n(e,t);for(l in t)if(!me(o=t[l])&&!de(o)&&!sn((a=l===i)?e:e[l],o,n,i,a,a))return!1;return!0;case"function":return!1;default:return n(e,t)}}function ln(e){return null===e?"null":typeof e}function cn(e){var r=e.NUMBER_FORMATS;return function(e,t,n){de(t)&&(t=r.CURRENCY_SYM),de(n)&&(n=r.PATTERNS[1].maxFrac);var i=t?/\u00A4/g:/\s*\u00A4\s*/g;return null==e?e:dn(e,r.PATTERNS[1],r.GROUP_SEP,r.DECIMAL_SEP,n).replace(i,t)}}function un(e){var n=e.NUMBER_FORMATS;return function(e,t){return null==e?e:dn(e,n.PATTERNS[0],n.GROUP_SEP,n.DECIMAL_SEP,t)}}function dn(e,t,n,i,r){if(!pe(e)&&!p(e)||isNaN(e))return"";var o=!isFinite(e),a=!1,s=Math.abs(e)+"",l="";if(o)l="";else{for(function(e,t,n,i){var r=e.d,o=r.length-e.i;if(i=r[n=(t=de(t)?Math.min(Math.max(n,o),i):+t)+e.i],0<n){r.splice(Math.max(e.i,n));for(var a=n;a<r.length;a++)r[a]=0}else for(o=Math.max(0,o),e.i=1,r.length=Math.max(1,n=t+1),r[0]=0,a=1;a<n;a++)r[a]=0;if(5<=i)if(n-1<0){for(i=0;n<i;i--)r.unshift(0),e.i++;r.unshift(1),e.i++}else r[n-1]++;for(;o<Math.max(0,t);o++)r.push(0);(t=r.reduceRight(function(e,t,n,i){return t+=e,i[n]=t%10,Math.floor(t/10)},0))&&(r.unshift(t),e.i++)}(a=function(e){var t,n,i,r,o,a=0;for(-1<(n=e.indexOf(Lr))&&(e=e.replace(Lr,"")),0<(i=e.search(/e/i))?(n<0&&(n=i),n+=+e.slice(i+1),e=e.substring(0,i)):n<0&&(n=e.length),i=0;e.charAt(i)===Nr;i++);if(i===(o=e.length))t=[0],n=1;else{for(o--;e.charAt(o)===Nr;)o--;for(n-=i,t=[],r=0;i<=o;i++,r++)t[r]=+e.charAt(i)}return Or<n&&(t=t.splice(0,Or-1),a=n-1,n=1),{d:t,e:a,i:n}}(s),r,t.minFrac,t.maxFrac),l=a.d,s=a.i,r=a.e,o=[],a=l.reduce(function(e,t){return e&&!t},!0);s<0;)l.unshift(0),s++;for(0<s?o=l.splice(s,l.length):(o=l,l=[0]),s=[],l.length>=t.lgSize&&s.unshift(l.splice(-t.lgSize,l.length).join(""));l.length>t.gSize;)s.unshift(l.splice(-t.gSize,l.length).join(""));l.length&&s.unshift(l.join("")),l=s.join(n),o.length&&(l+=i+o.join("")),r&&(l+="e+"+r)}return e<0&&!a?t.negPre+l+t.negSuf:t.posPre+l+t.posSuf}function hn(e,t,n,i){var r="";for((e<0||i&&e<=0)&&(i?e=1-e:(e=-e,r="-")),e=""+e;e.length<t;)e=Nr+e;return n&&(e=e.substr(e.length-t)),r+e}function pn(t,n,i,r,o){return i=i||0,function(e){return e=e["get"+t](),(0<i||-i<e)&&(e+=i),0===e&&-12===i&&(e=12),hn(e,n,r,o)}}function fn(i,r,o){return function(e,t){var n=e["get"+i]();return t[Zn((o?"STANDALONE":"")+(r?"SHORT":"")+i)][n]}}function gn(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(t<=4?5:12)-t)}function mn(n){return function(e){var t=gn(e.getFullYear());return e=+new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))-+t,hn(e=1+Math.round(e/6048e5),n)}}function vn(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}function yn(l){var c=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(t,e,n){var i,r,o="",a=[];if(e=e||"mediumDate",e=l.DATETIME_FORMATS[e]||e,pe(t)&&(t=Br.test(t)?u(t):function(e){var t;if(t=e.match(c)){e=new Date(0);var n=0,i=0,r=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=u(t[9]+t[10]),i=u(t[9]+t[11])),r.call(e,u(t[1]),u(t[2])-1,u(t[3])),n=u(t[4]||0)-n,i=u(t[5]||0)-i,r=u(t[6]||0),t=Math.round(1e3*parseFloat("0."+(t[7]||0))),o.call(e,n,i,r,t)}return e}(t)),p(t)&&(t=new Date(t)),!y(t)||!isFinite(t.getTime()))return t;for(;e;)e=(r=Hr.exec(e))?(a=D(a,r,1)).pop():(a.push(e),null);var s=t.getTimezoneOffset();return n&&(s=b(n,s),t=x(t,n,!0)),ae(a,function(e){i=Vr[e],o+=i?i(t,l.DATETIME_FORMATS,s):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),o}}function bn(){return function(e,t){return de(t)&&(t=2),a(e,t)}}function wn(){return function(e,t,n){return t=1/0===Math.abs(Number(t))?Number(t):u(t),ai(t)?e:(p(e)&&(e=e.toString()),M(e)?(n=(n=!n||isNaN(n)?0:u(n))<0?Math.max(0,e.length+n):n,0<=t?xn(e,n,n+t):0===n?xn(e,t,e.length):xn(e,Math.max(0,n+t),n)):e)}}function xn(e,t,n){return pe(e)?e.slice(t,n):Jn.call(e,t,n)}function Cn(r){function l(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function c(e,t){var n=0,i=e.type;if(i===(r=t.type)){var r=e.value,o=t.value;"string"===i?(r=r.toLowerCase(),o=o.toLowerCase()):"object"===i&&(he(r)&&(r=e.index),he(o)&&(o=t.index)),r!==o&&(n=r<o?-1:1)}else n="undefined"===i?1:"undefined"===r?-1:"null"===i?1:"null"===r?-1:i<r?-1:1;return n}return function(e,t,n,i){if(null==e)return e;if(!M(e))throw T("orderBy")("notarray",e);fe(t)||(t=[t]),0===t.length&&(t=["+"]);var o=function(e){return e.map(function(e){var t=1,n=ue;if(me(e))n=e;else if(pe(e)&&("+"!==e.charAt(0)&&"-"!==e.charAt(0)||(t="-"===e.charAt(0)?-1:1,e=e.substring(1)),""!==e&&(n=r(e)).constant)){var i=n();n=function(e){return e[i]}}return{get:n,descending:t}})}(t),a=n?-1:1,s=me(i)?i:c;return(e=Array.prototype.map.call(e,function(n,i){return{value:n,tieBreaker:{value:i,type:"number",index:i},predicateValues:o.map(function(e){var t=e.get(n);return e=typeof t,null===t?e="null":"object"===e&&(me(t.valueOf)&&l(t=t.valueOf())||d(t)&&l(t=t.toString())),{value:t,type:e,index:i}})}})).sort(function(e,t){for(var n=0,i=o.length;n<i;n++){var r=s(e.predicateValues[n],t.predicateValues[n]);if(r)return r*o[n].descending*a}return(s(e.tieBreaker,t.tieBreaker)||c(e.tieBreaker,t.tieBreaker))*a}),e.map(function(e){return e.value})}}function Sn(e){return me(e)&&(e={link:e}),e.restrict=e.restrict||"AC",E(e)}function $n(e,t,n,i,r){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=r(t.name||t.ngForm||"")(n),this.$dirty=!1,this.$valid=this.$pristine=!0,this.$submitted=this.$invalid=!1,this.$$parentForm=Wr,this.$$element=e,this.$$animate=i,En(this)}function En(e){e.$$classCache={},e.$$classCache[To]=!(e.$$classCache[Ao]=e.$$element.hasClass(Ao))}function kn(e){function i(e,t,n){n&&!e.$$classCache[t]?(e.$$animate.addClass(e.$$element,t),e.$$classCache[t]=!0):!n&&e.$$classCache[t]&&(e.$$animate.removeClass(e.$$element,t),e.$$classCache[t]=!1)}function r(e,t,n){t=t?"-"+Ee(t,"-"):"",i(e,Ao+t,!0===n),i(e,To+t,!1===n)}var o=e.set,a=e.unset;e.clazz.prototype.$setValidity=function(e,t,n){de(t)?(this.$pending||(this.$pending={}),o(this.$pending,e,n)):(this.$pending&&a(this.$pending,e,n),An(this.$pending)&&(this.$pending=void 0)),ye(t)?t?(a(this.$error,e,n),o(this.$$success,e,n)):(o(this.$error,e,n),a(this.$$success,e,n)):(a(this.$error,e,n),a(this.$$success,e,n)),this.$pending?(i(this,"ng-pending",!0),this.$valid=this.$invalid=void 0,r(this,"",null)):(i(this,"ng-pending",!1),this.$valid=An(this.$error),this.$invalid=!this.$valid,r(this,"",this.$valid)),r(this,e,t=this.$pending&&this.$pending[e]?void 0:!this.$error[e]&&(!!this.$$success[e]||null)),this.$$parentForm.$setValidity(e,t,this)}}function An(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function Tn(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function Mn(e,n,i,r,t,o){var a=Kn(n[0].type);if(!t.android){var s=!1;n.on("compositionstart",function(){s=!0}),n.on("compositionupdate",function(e){!de(e.data)&&""!==e.data||(s=!1)}),n.on("compositionend",function(){s=!1,c()})}var l,c=function(e){if(l&&(o.defer.cancel(l),l=null),!s){var t=n.val();e=e&&e.type,"password"===a||i.ngTrim&&"false"===i.ngTrim||(t=ui(t)),(r.$viewValue!==t||""===t&&r.$$hasNativeValidators)&&r.$setViewValue(t,e)}};if(t.hasEvent("input"))n.on("input",c);else{var u=function(e,t,n){l=l||o.defer(function(){l=null,t&&t.value===n||c(e)})};n.on("keydown",function(e){var t=e.keyCode;91===t||15<t&&t<19||37<=t&&t<=40||u(e,this,this.value)}),t.hasEvent("paste")&&n.on("paste cut drop",u)}n.on("change",c),oo[a]&&r.$$hasNativeValidators&&a===i.type&&n.on("keydown wheel mousedown",function(e){if(!l){var t=this.validity,n=t.badInput,i=t.typeMismatch;l=o.defer(function(){l=null,t.badInput===n&&t.typeMismatch===i||c(e)})}}),r.$render=function(){var e=r.$isEmpty(r.$viewValue)?"":r.$viewValue;n.val()!==e&&n.val(e)}}function Dn(r,o){return function(e,t){var n,i;if(y(e))return e;if(pe(e)){if('"'===e.charAt(0)&&'"'===e.charAt(e.length-1)&&(e=e.substring(1,e.length-1)),Kr.test(e))return new Date(e);if(r.lastIndex=0,n=r.exec(e))return n.shift(),i=t?{yyyy:t.getFullYear(),MM:t.getMonth()+1,dd:t.getDate(),HH:t.getHours(),mm:t.getMinutes(),ss:t.getSeconds(),sss:t.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},ae(n,function(e,t){t<o.length&&(i[o[t]]=+e)}),n=new Date(i.yyyy,i.MM-1,i.dd,i.HH,i.mm,i.ss||0,1e3*i.sss||0),i.yyyy<100&&n.setFullYear(i.yyyy),n}return NaN}}function Pn(f,g,m,v){return function(e,t,n,r,i,o,a){function s(e){return e&&!(e.getTime&&e.getTime()!=e.getTime())}function l(e){return k(e)&&!y(e)?c(e)||void 0:e}function c(e,t){var n=r.$options.getOption("timezone");d&&d!==n&&(t=w(t,b(d)));var i=m(e,t);return!isNaN(i)&&n&&(i=x(i,n)),i}var u,d,h,p;_n(e,t,n,r,f),Mn(0,t,n,r,i,o),r.$parsers.push(function(e){return r.$isEmpty(e)?null:g.test(e)?c(e,u):void(r.$$parserName=f)}),r.$formatters.push(function(e){if(e&&!y(e))throw Po("datefmt",e);if(s(e)){u=e;var t=r.$options.getOption("timezone");return t&&(u=x(u,d=t,!0)),a("date")(e,v,t)}return d=u=null,""}),(k(n.min)||n.ngMin)&&(r.$validators.min=function(e){return!s(e)||de(h)||m(e)>=h},n.$observe("min",function(e){h=l(e),r.$validate()}));(k(n.max)||n.ngMax)&&(r.$validators.max=function(e){return!s(e)||de(p)||m(e)<=p},n.$observe("max",function(e){p=l(e),r.$validate()}))}}function _n(e,n,t,i,r){(i.$$hasNativeValidators=he(n[0].validity))&&i.$parsers.push(function(e){var t=n.prop("validity")||{};if(!t.badInput&&!t.typeMismatch)return e;i.$$parserName=r})}function Rn(t){t.$parsers.push(function(e){return t.$isEmpty(e)?null:Qr.test(e)?parseFloat(e):void(t.$$parserName="number")}),t.$formatters.push(function(e){if(!t.$isEmpty(e)){if(!p(e))throw Po("numfmt",e);e=e.toString()}return e})}function In(e){return k(e)&&!p(e)&&(e=parseFloat(e)),ai(e)?void 0:e}function Fn(e){var t=e.toString(),n=t.indexOf(".");return-1===n?-1<e&&e<1&&(e=/e-(\d+)$/.exec(t))?Number(e[1]):0:t.length-n-1}function On(e,t,n){var i=(0|(e=Number(e)))!==e,r=(0|t)!==t,o=(0|n)!==n;if(i||r||o){var a=i?Fn(e):0,s=r?Fn(t):0,l=o?Fn(n):0;a=Math.max(a,s,l);e*=a=Math.pow(10,a),t*=a,n*=a,i&&(e=Math.round(e)),r&&(t=Math.round(t)),o&&(n=Math.round(n))}return 0==(e-t)%n}function Ln(e,t,n,i,r){if(k(i)){if(!(e=e(i)).constant)throw Po("constexpr",n,i);return e(t)}return r}function Nn(l,c){function u(e,t){if(!e||!e.length)return[];if(!t||!t.length)return e;var n=[],i=0;e:for(;i<e.length;i++){for(var r=e[i],o=0;o<t.length;o++)if(r===t[o])continue e;n.push(r)}return n}function d(t){var e=t;return fe(t)?e=t.map(d).join(" "):he(t)&&(e=Object.keys(t).filter(function(e){return t[e]}).join(" ")),e}var h;return l="ngClass"+l,["$parse",function(n){return{restrict:"AC",link:function(e,t,r){function o(e,t){var n=[];return ae(e,function(e){(0<t||i[e])&&(i[e]=(i[e]||0)+t,i[e]===+(0<t)&&n.push(e))}),n.join(" ")}var a,i=t.data("$classCounts"),s=!0;i||(i=Ae(),t.data("$classCounts",i)),"ngClass"!==l&&(h=h||n("$index",function(e){return 1&e}),e.$watch(h,function(e){if(e===c){var t=o((t=a)&&t.split(" "),1);r.$addClass(t)}else t=o((t=a)&&t.split(" "),-1),r.$removeClass(t);s=e})),e.$watch(n(r[l],d),function(e){if(s===c){var t=a&&a.split(" "),n=e&&e.split(" "),i=u(t,n);t=u(n,t),i=o(i,-1),t=o(t,1);r.$addClass(t),r.$removeClass(i)}a=e})}}}]}function Vn(e,t,n,i,r,o,a,s,l){this.$modelValue=this.$viewValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=l(n.name||"",!1)(e),this.$$parentForm=Wr,this.$options=_o,this.$$updateEvents="",this.$$updateEventHandler=this.$$updateEventHandler.bind(this),this.$$parsedNgModel=r(n.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$parserName="parse",this.$$currentValidationRunId=0,this.$$scope=e,this.$$rootScope=e.$root,this.$$attr=n,this.$$element=i,this.$$animate=o,this.$$timeout=a,this.$$parse=r,this.$$q=s,this.$$exceptionHandler=t,En(this),function(t){t.$$scope.$watch(function(e){return(e=t.$$ngModelGet(e))===t.$modelValue||t.$modelValue!=t.$modelValue&&e!=e||t.$$setModelValue(e),e})}(this)}function Hn(e){this.$$options=e}function Bn(n,e){ae(e,function(e,t){k(n[t])||(n[t]=e)})}function zn(e,t){e.prop("selected",t),e.attr("selected",t)}var jn,Gn,Un,Wn,qn={objectMaxDepth:5,urlErrorParamsEnabled:!0},Yn=/^\/(.+)\/([a-z]*)$/,Xn=Object.prototype.hasOwnProperty,Kn=function(e){return pe(e)?e.toLowerCase():e},Zn=function(e){return pe(e)?e.toUpperCase():e},Jn=[].slice,Qn=[].splice,ei=[].push,ti=Object.prototype.toString,ni=Object.getPrototypeOf,ii=T("ng"),ri=oe.angular||(oe.angular={}),oi=0;jn=oe.document.documentMode;var ai=Number.isNaN||function(e){return e!=e};ce.$inject=[],ue.$inject=[];var si,li,ci=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,ui=function(e){return pe(e)?e.trim():e},di=function(e){return e.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},hi=function(){if(!k(hi.rules)){var e=oe.document.querySelector("[ng-csp]")||oe.document.querySelector("[data-ng-csp]");if(e){var t=e.getAttribute("ng-csp")||e.getAttribute("data-ng-csp");hi.rules={noUnsafeEval:!t||-1!==t.indexOf("no-unsafe-eval"),noInlineStyle:!t||-1!==t.indexOf("no-inline-style")}}else{e=hi;try{new Function(""),t=!1}catch(e){t=!0}e.rules={noUnsafeEval:t,noInlineStyle:!1}}}return hi.rules},pi=function(){if(k(pi.name_))return pi.name_;var e,t,n,i,r=gi.length;for(t=0;t<r;++t)if(n=gi[t],e=oe.document.querySelector("["+n.replace(":","\\:")+"jq]")){i=e.getAttribute(n+"jq");break}return pi.name_=i},fi=/:/g,gi=["ng-","data-ng-","ng:","x-ng-"],mi=(si=oe.document,!(li=si.currentScript)||(li instanceof oe.HTMLScriptElement||li instanceof oe.SVGScriptElement)&&[(li=li.attributes).getNamedItem("src"),li.getNamedItem("href"),li.getNamedItem("xlink:href")].every(function(e){if(!e)return!0;if(!e.value)return!1;var t=si.createElement("a");if(t.href=e.value,si.location.origin===t.origin)return!0;switch(t.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}})),vi=/[A-Z]/g,yi=!1,bi=3,wi={full:"1.7.2",major:1,minor:7,dot:2,codeName:"extreme-compatiplication"};U.expando="ng339";var xi=U.cache={},Ci=1;U._data=function(e){return this.cache[e[this.expando]]||{}};var Si=/-([a-z])/g,$i=/^-ms-/,Ei={mouseleave:"mouseout",mouseenter:"mouseover"},ki=T("jqLite"),Ai=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Ti=/<|&#?\w+;/,Mi=/<([\w:-]+)/,Di=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Pi={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Pi.optgroup=Pi.option,Pi.tbody=Pi.tfoot=Pi.colgroup=Pi.caption=Pi.thead,Pi.th=Pi.td;var _i=oe.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))},Ri=U.prototype={ready:Pe,toString:function(){var t=[];return ae(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(e){return Gn(0<=e?this[e]:this[this.length+e])},length:0,push:ei,sort:[].sort,splice:[].splice},Ii={};ae("multiple selected checked disabled readOnly required open".split(" "),function(e){Ii[Kn(e)]=e});var Fi={};ae("input select option textarea button form details".split(" "),function(e){Fi[e]=!0});var Oi={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};function Li(e,t){if(de(t)){var n=e.nodeType;return 1===n||n===bi?e.textContent:""}e.textContent=t}ae({data:J,removeData:K,hasData:function(e){for(var t in xi[e.ng339])return!0;return!1},cleanData:function(e){for(var t=0,n=e.length;t<n;t++)K(e[t]),X(e[t])}},function(e,t){U[t]=e}),ae({data:J,inheritedData:re,scope:function(e){return Gn.data(e,"$scope")||re(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return Gn.data(e,"$isolateScope")||Gn.data(e,"$isolateScopeNoTemplate")},controller:ie,injector:function(e){return re(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:Q,css:function(e,t,n){if(t=z(t.replace($i,"ms-")),!k(n))return e.style[t];e.style[t]=n},attr:function(e,t,n){if((i=e.nodeType)!==bi&&2!==i&&8!==i&&e.getAttribute){var i=Kn(t),r=Ii[i];if(!k(n))return e=e.getAttribute(t),r&&null!==e&&(e=i),null===e?void 0:e;null===n||!1===n&&r?e.removeAttribute(t):e.setAttribute(t,r?i:n)}},prop:function(e,t,n){if(!k(n))return e[t];e[t]=n},text:(Li.$dv="",Li),val:function(e,t){if(de(t)){if(e.multiple&&"select"===be(e)){var n=[];return ae(e.options,function(e){e.selected&&n.push(e.value||e.text)}),n}return e.value}e.value=t},html:function(e,t){if(de(t))return e.innerHTML;W(e,!0),e.innerHTML=t},empty:Me},function(a,e){U.prototype[e]=function(e,t){var n,i,r=this.length;if(a!==Me&&de(2===a.length&&a!==Q&&a!==ie?e:t)){if(he(e)){for(n=0;n<r;n++)if(a===J)a(this[n],e);else for(i in e)a(this[n],i,e[i]);return this}for(r=de(n=a.$dv)?Math.min(r,1):r,i=0;i<r;i++){var o=a(this[i],e,t);n=n?n+o:o}return n}for(n=0;n<r;n++)a(this[n],e,t);return this}}),ae({removeData:K,on:function(r,e,o,t){if(k(t))throw ki("onargs");if(j(r)){var a=(t=Z(r,!0)).events,s=t.handle;s=s||(t.handle=function(s,l){function e(e,t){e.isDefaultPrevented=function(){return e.defaultPrevented};var n=l[t||e.type],i=n?n.length:0;if(i){if(de(e.immediatePropagationStopped)){var r=e.stopImmediatePropagation;e.stopImmediatePropagation=function(){e.immediatePropagationStopped=!0,e.stopPropagation&&e.stopPropagation(),r&&r.call(e)}}e.isImmediatePropagationStopped=function(){return!0===e.immediatePropagationStopped};var o=n.specialHandlerWrapper||Re;1<i&&(n=N(n));for(var a=0;a<i;a++)e.isImmediatePropagationStopped()||o(s,e,n[a])}}return e.elem=s,e}(r,a));for(var n=(t=0<=e.indexOf(" ")?e.split(" "):[e]).length,i=function(e,t,n){var i=a[e];i||((i=a[e]=[]).specialHandlerWrapper=t,"$destroy"===e||n||r.addEventListener(e,s)),i.push(o)};n--;)e=t[n],Ei[e]?(i(Ei[e],Ie),i(e,void 0,!0)):i(e)}},off:X,one:function(t,n,i){(t=Gn(t)).on(n,function e(){t.off(n,i),t.off(n,e)}),t.on(n,i)},replaceWith:function(t,e){var n,i=t.parentNode;W(t),ae(new U(e),function(e){n?i.insertBefore(e,n.nextSibling):i.replaceChild(e,t),n=e})},children:function(e){var t=[];return ae(e.childNodes,function(e){1===e.nodeType&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){if(1===(n=e.nodeType)||11===n)for(var n=0,i=(t=new U(t)).length;n<i;n++)e.appendChild(t[n])},prepend:function(t,e){if(1===t.nodeType){var n=t.firstChild;ae(new U(e),function(e){t.insertBefore(e,n)})}},wrap:function(e,t){var n=Gn(t).eq(0).clone()[0],i=e.parentNode;i&&i.replaceChild(n,e),n.appendChild(e)},remove:De,detach:function(e){De(e,!0)},after:function(e,t){var n=e,i=e.parentNode;if(i)for(var r=0,o=(t=new U(t)).length;r<o;r++){var a=t[r];i.insertBefore(a,n.nextSibling),n=a}},addClass:te,removeClass:ee,toggleClass:function(n,e,i){e&&ae(e.split(" "),function(e){var t=i;de(t)&&(t=!Q(n,e)),(t?te:ee)(n,e)})},parent:function(e){return(e=e.parentNode)&&11!==e.nodeType?e:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:Te,triggerHandler:function(t,e,n){var i,r,o=e.type||e,a=Z(t);(a=(a=a&&a.events)&&a[o])&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:ce,type:o,target:t},e.type&&(i=se(i,e)),e=N(a),r=n?[i].concat(n):[i],ae(e,function(e){i.isImmediatePropagationStopped()||e.apply(t,r)}))}},function(a,e){U.prototype[e]=function(e,t,n){for(var i,r=0,o=this.length;r<o;r++)de(i)?k(i=a(this[r],e,t,n))&&(i=Gn(i)):ne(i,a(this[r],e,t,n));return k(i)?i:this}}),U.prototype.bind=U.prototype.on,U.prototype.unbind=U.prototype.off;var Ni=Object.create(null);Le.prototype={_idx:function(e){return e===this._lastKey?this._lastIndex:(this._lastKey=e,this._lastIndex=this._keys.indexOf(e))},_transformKey:function(e){return ai(e)?Ni:e},get:function(e){if(e=this._transformKey(e),-1!==(e=this._idx(e)))return this._values[e]},set:function(e,t){e=this._transformKey(e);var n=this._idx(e);-1===n&&(n=this._lastIndex=this._keys.length),this._keys[n]=e,this._values[n]=t},delete:function(e){return e=this._transformKey(e),-1!==(e=this._idx(e))&&(this._keys.splice(e,1),this._values.splice(e,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var Vi=Le,Hi=[function(){this.$get=[function(){return Vi}]}],Bi=/^([^(]+?)=>/,zi=/^[^(]*\(\s*([^)]*)\)/m,ji=/,/,Gi=/^\s*(_?)(\S+?)\1\s*$/,Ui=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Wi=T("$injector");Ve.$$annotate=function(e,t,n){var i;if("function"==typeof e){if(!(i=e.$inject)){if(i=[],e.length){if(t)throw pe(n)&&n||(n=e.name||function(e){return(e=Ne(e))?"function("+(e[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}(e)),Wi("strictdi",n);ae((t=Ne(e))[1].split(ji),function(e){e.replace(Gi,function(e,t,n){i.push(n)})})}e.$inject=i}}else fe(e)?(F(e[t=e.length-1],"fn"),i=e.slice(0,t)):F(e,"fn",!0);return i};function qi(){this.$get=ce}function Yi(){var l=new Vi,c=[];this.$get=["$$AnimateRunner","$rootScope",function(r,o){function a(t,e,n){var i=!1;return e&&ae(e=pe(e)?e.split(" "):fe(e)?e:[],function(e){e&&(i=!0,t[e]=n)}),i}function s(){ae(c,function(e){var t=l.get(e);if(t){var n=function(e){pe(e)&&(e=e.split(" "));var t=Ae();return ae(e,function(e){e.length&&(t[e]=!0)}),t}(e.attr("class")),i="",r="";ae(t,function(e,t){e!==!!n[t]&&(e?i+=(i.length?" ":"")+t:r+=(r.length?" ":"")+t)}),ae(e,function(e){i&&te(e,i),r&&ee(e,r)}),l.delete(e)}}),c.length=0}return{enabled:ce,on:ce,off:ce,pin:ce,push:function(e,t,n,i){return i&&i(),(n=n||{}).from&&e.css(n.from),n.to&&e.css(n.to),(n.addClass||n.removeClass)&&(t=n.addClass,i=n.removeClass,t=a(n=l.get(e)||{},t,!0),i=a(n,i,!1),(t||i)&&(l.set(e,n),c.push(e),1===c.length&&o.$$postDigest(s))),(e=new r).complete(),e}}}]}function Xi(){this.$get=["$$rAF",function(t){function n(e){i.push(e),1<i.length||t(function(){for(var e=0;e<i.length;e++)i[e]();i=[]})}var i=[];return function(){var t=!1;return n(function(){t=!0}),function(e){t?e():n(e)}}}]}function Ki(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(t,e,n,i,r){function o(e){this.setHost(e);var t=n();this._doneCallbacks=[],this._tick=function(e){i()?r(e,0,!1):t(e)},this._state=0}return o.chain=function(e,n){var i=0;!function t(){i===e.length?n(!0):e[i](function(e){!1===e?n(!1):(i++,t())})}()},o.all=function(t,n){function i(e){o=o&&e,++r===t.length&&n(o)}var r=0,o=!0;ae(t,function(e){e.done(i)})},o.prototype={setHost:function(e){this.host=e||{}},done:function(e){2===this._state?e():this._doneCallbacks.push(e)},progress:ce,getPromise:function(){if(!this.promise){var e=this;this.promise=t(function(t,n){e.done(function(e){!1===e?n():t()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},catch:function(e){return this.getPromise().catch(e)},finally:function(e){return this.getPromise().finally(e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;0===t._state&&(t._state=1,t._tick(function(){t._resolve(e)}))},_resolve:function(t){2!==this._state&&(ae(this._doneCallbacks,function(e){e(t)}),this._doneCallbacks.length=0,this._state=2)}},o}]}function Zi(){this.$get=["$$rAF","$q","$$AnimateRunner",function(a,e,s){return function(e,t){function n(){return a(function(){i.addClass&&(e.addClass(i.addClass),i.addClass=null),i.removeClass&&(e.removeClass(i.removeClass),i.removeClass=null),i.to&&(e.css(i.to),i.to=null),r||o.complete(),r=!0}),o}var i=t||{};i.$$prepared||(i=A(i)),i.cleanupStyles&&(i.from=i.to=null),i.from&&(e.css(i.from),i.from=null);var r,o=new s;return{start:n,end:n}}}]}var Ji=T("$animate"),Qi=["$provide",function(i){var r=this,t=null,n=null;this.$$registeredAnimations=Object.create(null),this.register=function(e,t){if(e&&"."!==e.charAt(0))throw Ji("notcsel",e);var n=e+"-animation";r.$$registeredAnimations[e.substr(1)]=n,i.factory(n,t)},this.customFilter=function(e){return 1===arguments.length&&(n=me(e)?e:null),n},this.classNameFilter=function(e){if(1===arguments.length&&(t=e instanceof RegExp?e:null)&&/[(\s|\/)]ng-animate[(\s|\/)]/.test(t.toString()))throw t=null,Ji("nongcls","ng-animate");return t},this.$get=["$$animateQueue",function(o){function r(e,t,n){if(n){var i;e:{for(i=0;i<n.length;i++){var r=n[i];if(1===r.nodeType){i=r;break e}}i=void 0}!i||i.parentNode||i.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:o.on,off:o.off,pin:o.pin,enabled:o.enabled,cancel:function(e){e.cancel&&e.cancel()},enter:function(e,t,n,i){return t=t&&Gn(t),n=n&&Gn(n),r(e,t=t||n.parent(),n),o.push(e,"enter",ze(i))},move:function(e,t,n,i){return t=t&&Gn(t),n=n&&Gn(n),r(e,t=t||n.parent(),n),o.push(e,"move",ze(i))},leave:function(e,t){return o.push(e,"leave",ze(t),function(){e.remove()})},addClass:function(e,t,n){return(n=ze(n)).addClass=Be(n.addclass,t),o.push(e,"addClass",n)},removeClass:function(e,t,n){return(n=ze(n)).removeClass=Be(n.removeClass,t),o.push(e,"removeClass",n)},setClass:function(e,t,n,i){return(i=ze(i)).addClass=Be(i.addClass,t),i.removeClass=Be(i.removeClass,n),o.push(e,"setClass",i)},animate:function(e,t,n,i,r){return(r=ze(r)).from=r.from?se(r.from,t):t,r.to=r.to?se(r.to,n):n,r.tempClasses=Be(r.tempClasses,i||"ng-inline-animate"),o.push(e,"animate",r)}}}]}],er=T("$compile"),tr=new function(){};qe.$inject=["$provide","$$sanitizeUriProvider"],Ye.prototype.isFirstChange=function(){return this.previousValue===tr};function nr(){this.$get=["$document",function(t){return function(e){return e?!e.nodeType&&e instanceof Gn&&(e=e[0]):e=t[0].body,e.offsetWidth+1}}]}var ir=/^((?:x|data)[:\-_])/i,rr=/[:\-_]+(.)/g,or=T("$controller"),ar=/^(\S+)(\s+as\s+([\w$]+))?$/,sr="application/json",lr={"Content-Type":sr+";charset=utf-8"},cr=/^\[|^\{(?!\{)/,ur={"[":/]$/,"{":/}$/},dr=/^\)]\}',?\n/,hr=T("$http"),pr=ri.$interpolateMinErr=T("$interpolate");pr.throwNoconcat=function(e){throw pr("noconcat",e)},pr.interr=function(e,t){return pr("interr",e,t.toString())};function fr(){this.$get=function(){var i=ri.callbacks,r={};return{createCallback:function(e){var t="angular.callbacks."+(e="_"+(i.$$counter++).toString(36)),n=function(e){var t=function(e){t.data=e,t.called=!0};return t.id=e,t}(e);return r[t]=i[e]=n,t},wasCalled:function(e){return r[e].called},getResponse:function(e){return r[e].data},removeCallback:function(e){delete i[r[e].id],delete r[e]}}}}var gr=T("$interval"),mr=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,vr={http:80,https:443,ftp:21},yr=T("$location"),br=/^\s*[\\/]{2,}/,wr={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:$t("$$absUrl"),url:function(e){if(de(e))return this.$$url;var t=mr.exec(e);return!t[1]&&""!==e||this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:$t("$$protocol"),host:$t("$$host"),port:$t("$$port"),path:Et("$$path",function(e){return"/"===(e=null!==e?e.toString():"").charAt(0)?e:"/"+e}),search:function(n,e){switch(arguments.length){case 0:return this.$$search;case 1:if(pe(n)||p(n))n=n.toString(),this.$$search=S(n);else{if(!he(n))throw yr("isrcharg");ae(n=A(n,{}),function(e,t){null==e&&delete n[t]}),this.$$search=n}break;default:de(e)||null===e?delete this.$$search[n]:this.$$search[n]=e}return this.$$compose(),this},hash:Et("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};ae([St,Ct,xt],function(t){t.prototype=Object.create(wr),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==xt||!this.$$html5)throw yr("nostate");return this.$$state=de(e)?null:e,this.$$urlUpdatedByLocation=!0,this}});var xr=T("$parse"),Cr={}.constructor.prototype.valueOf,Sr=Ae();ae("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){Sr[e]=!0});var $r={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},Er=function(e){this.options=e};Er.prototype={constructor:Er,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;)if('"'===(e=this.text.charAt(this.index))||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var t=e+this.peek(),n=t+this.peek(2),i=Sr[t],r=Sr[n];Sr[e]||i||r?(e=r?n:i?t:e,this.tokens.push({index:this.index,text:e,operator:!0}),this.index+=e.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){return e=e||1,this.index+e<this.text.length&&this.text.charAt(this.index+e)},isNumber:function(e){return"0"<=e&&e<="9"&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\v"===e||""===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var n=e.charCodeAt(0),i=t.charCodeAt(0);return 55296<=n&&n<=56319&&56320<=i&&i<=57343?e+t:e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){throw n=n||this.index,t=k(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n,xr("lexerr",e,t,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=Kn(this.text.charAt(this.index));if("."===n||this.isNumber(n))e+=n;else{var i=this.peek();if("e"===n&&this.isExpOperator(i))e+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"===e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!==e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",i=e,r=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);i=i+o;if(r)"u"===o?((r=this.text.substring(this.index+1,this.index+5)).match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+r+"]"),this.index+=4,n+=String.fromCharCode(parseInt(r,16))):n+=$r[o]||o,r=!1;else if("\\"===o)r=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:i,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var kr=function(e,t){this.lexer=e,this.options=t};kr.Program="Program",kr.ExpressionStatement="ExpressionStatement",kr.AssignmentExpression="AssignmentExpression",kr.ConditionalExpression="ConditionalExpression",kr.LogicalExpression="LogicalExpression",kr.BinaryExpression="BinaryExpression",kr.UnaryExpression="UnaryExpression",kr.CallExpression="CallExpression",kr.MemberExpression="MemberExpression",kr.Identifier="Identifier",kr.Literal="Literal",kr.ArrayExpression="ArrayExpression",kr.Property="Property",kr.ObjectExpression="ObjectExpression",kr.ThisExpression="ThisExpression",kr.LocalsExpression="LocalsExpression",kr.NGValueParameter="NGValueParameter",kr.prototype={ast:function(e){return this.text=e,this.tokens=this.lexer.lex(e),e=this.program(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var e=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:kr.Program,body:e}},expressionStatement:function(){return{type:kr.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();if(this.expect("=")){if(!Rt(e))throw xr("lval");e={type:kr.AssignmentExpression,left:e,right:this.assignment(),operator:"="}}return e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:kr.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:kr.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:kr.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:kr.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:kr.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:kr.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:kr.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:kr.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e,t;for(this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=A(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:kr.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());t=this.expect("(","[",".");)"("===t.text?(e={type:kr.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:kr.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:kr.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){e=[e];for(var t={type:kr.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return t},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)for(;e.push(this.filterChain()),this.expect(","););return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:kr.Identifier,name:e.text}},constant:function(){return{type:kr.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:kr.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:kr.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:kr.ObjectExpression,properties:t}},throwError:function(e,t){throw xr("syntax",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw xr("ueoe",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw xr("ueoe",this.text);return this.tokens[0]},peek:function(e,t,n,i){return this.peekAhead(0,e,t,n,i)},peekAhead:function(e,t,n,i,r){if(this.tokens.length>e){var o=(e=this.tokens[e]).text;if(o===t||o===n||o===i||o===r||!(t||n||i||r))return e}return!1},expect:function(e,t,n,i){return!!(e=this.peek(e,t,n,i))&&(this.tokens.shift(),e)},selfReferential:{this:{type:kr.ThisExpression},$locals:{type:kr.LocalsExpression}}};var Ar=2;Ft.prototype={compile:function(e){var r=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Pt(e,r.$filter);var t,n="";return this.stage="assign",(t=It(e))&&(this.state.computing="assign",n=this.nextId(),this.recurse(t,n),this.return_(n),n="fn.assign="+this.generateFunction("assign","s,v,l")),t=_t(e.body),r.stage="inputs",ae(t,function(e,t){var n="fn"+t;r.state[n]={vars:[],body:[],own:{}},r.state.computing=n;var i=r.nextId();r.recurse(e,i),r.return_(i),r.state.inputs.push({name:n,isPure:e.isPure}),e.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(e),e='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+n+this.watchFns()+"return fn;",e=new Function("$filter","getStringValue","ifDefined","plus",e)(this.$filter,Tt,Mt,Dt),this.state=this.stage=void 0,e},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,n=this;return ae(e,function(e){t.push("var "+e.name+"="+n.generateFunction(e.name,"s")),e.isPure&&t.push(e.name,".isPure="+JSON.stringify(e.isPure)+";")}),e.length&&t.push("fn.inputs=["+e.map(function(e){return e.name}).join(",")+"];"),t.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var n=[],i=this;return ae(this.state.filters,function(e,t){n.push(e+"=$filter("+i.escape(t)+")")}),n.length?"var "+n.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(n,t,e,i,r,o){var a,s,l,c,u,d=this;if(i=i||ce,!o&&k(n.watchId))t=t||this.nextId(),this.if_("i",this.lazyAssign(t,this.computedMember("i",n.watchId)),this.lazyRecurse(n,t,e,i,r,!0));else switch(n.type){case kr.Program:ae(n.body,function(e,t){d.recurse(e.expression,void 0,void 0,function(e){s=e}),t!==n.body.length-1?d.current().body.push(s,";"):d.return_(s)});break;case kr.Literal:c=this.escape(n.value),this.assign(t,c),i(t||c);break;case kr.UnaryExpression:this.recurse(n.argument,void 0,void 0,function(e){s=e}),c=n.operator+"("+this.ifDefined(s,0)+")",this.assign(t,c),i(c);break;case kr.BinaryExpression:this.recurse(n.left,void 0,void 0,function(e){a=e}),this.recurse(n.right,void 0,void 0,function(e){s=e}),c="+"===n.operator?this.plus(a,s):"-"===n.operator?this.ifDefined(a,0)+n.operator+this.ifDefined(s,0):"("+a+")"+n.operator+"("+s+")",this.assign(t,c),i(c);break;case kr.LogicalExpression:t=t||this.nextId(),d.recurse(n.left,t),d.if_("&&"===n.operator?t:d.not(t),d.lazyRecurse(n.right,t)),i(t);break;case kr.ConditionalExpression:t=t||this.nextId(),d.recurse(n.test,t),d.if_(t,d.lazyRecurse(n.alternate,t),d.lazyRecurse(n.consequent,t)),i(t);break;case kr.Identifier:t=t||this.nextId(),e&&(e.context="inputs"===d.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",n.name)+"?l:s"),e.computed=!1,e.name=n.name),d.if_("inputs"===d.stage||d.not(d.getHasOwnProperty("l",n.name)),function(){d.if_("inputs"===d.stage||"s",function(){r&&1!==r&&d.if_(d.isNull(d.nonComputedMember("s",n.name)),d.lazyAssign(d.nonComputedMember("s",n.name),"{}")),d.assign(t,d.nonComputedMember("s",n.name))})},t&&d.lazyAssign(t,d.nonComputedMember("l",n.name))),i(t);break;case kr.MemberExpression:a=e&&(e.context=this.nextId())||this.nextId(),t=t||this.nextId(),d.recurse(n.object,a,void 0,function(){d.if_(d.notNull(a),function(){n.computed?(s=d.nextId(),d.recurse(n.property,s),d.getStringValue(s),r&&1!==r&&d.if_(d.not(d.computedMember(a,s)),d.lazyAssign(d.computedMember(a,s),"{}")),c=d.computedMember(a,s),d.assign(t,c),e&&(e.computed=!0,e.name=s)):(r&&1!==r&&d.if_(d.isNull(d.nonComputedMember(a,n.property.name)),d.lazyAssign(d.nonComputedMember(a,n.property.name),"{}")),c=d.nonComputedMember(a,n.property.name),d.assign(t,c),e&&(e.computed=!1,e.name=n.property.name))},function(){d.assign(t,"undefined")}),i(t)},!!r);break;case kr.CallExpression:t=t||this.nextId(),n.filter?(s=d.filter(n.callee.name),l=[],ae(n.arguments,function(e){var t=d.nextId();d.recurse(e,t),l.push(t)}),c=s+"("+l.join(",")+")",d.assign(t,c),i(t)):(s=d.nextId(),a={},l=[],d.recurse(n.callee,s,a,function(){d.if_(d.notNull(s),function(){ae(n.arguments,function(e){d.recurse(e,n.constant?void 0:d.nextId(),void 0,function(e){l.push(e)})}),c=a.name?d.member(a.context,a.name,a.computed)+"("+l.join(",")+")":s+"("+l.join(",")+")",d.assign(t,c)},function(){d.assign(t,"undefined")}),i(t)}));break;case kr.AssignmentExpression:s=this.nextId(),a={},this.recurse(n.left,void 0,a,function(){d.if_(d.notNull(a.context),function(){d.recurse(n.right,s),c=d.member(a.context,a.name,a.computed)+n.operator+s,d.assign(t,c),i(t||c)})},1);break;case kr.ArrayExpression:l=[],ae(n.elements,function(e){d.recurse(e,n.constant?void 0:d.nextId(),void 0,function(e){l.push(e)})}),c="["+l.join(",")+"]",this.assign(t,c),i(t||c);break;case kr.ObjectExpression:u=!(l=[]),ae(n.properties,function(e){e.computed&&(u=!0)}),u?(t=t||this.nextId(),this.assign(t,"{}"),ae(n.properties,function(e){e.computed?(a=d.nextId(),d.recurse(e.key,a)):a=e.key.type===kr.Identifier?e.key.name:""+e.key.value,s=d.nextId(),d.recurse(e.value,s),d.assign(d.member(t,a,e.computed),s)})):(ae(n.properties,function(t){d.recurse(t.value,n.constant?void 0:d.nextId(),void 0,function(e){l.push(d.escape(t.key.type===kr.Identifier?t.key.name:""+t.key.value)+":"+e)})}),c="{"+l.join(",")+"}",this.assign(t,c)),i(t||c);break;case kr.ThisExpression:this.assign(t,"s"),i(t||"s");break;case kr.LocalsExpression:this.assign(t,"l"),i(t||"l");break;case kr.NGValueParameter:this.assign(t,"v"),i(t||"v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),i[n]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(!0===e)t();else{var i=this.current().body;i.push("if(",e,"){"),t(),i.push("}"),n&&(i.push("else{"),n(),i.push("}"))}},not:function(e){return"!("+e+")"},isNull:function(e){return e+"==null"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(t)?e+"."+t:e+'["'+t.replace(/[^$_a-zA-Z0-9]/g,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},lazyRecurse:function(e,t,n,i,r,o){var a=this;return function(){a.recurse(e,t,n,i,r,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(pe(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(p(e))return e.toString();if(!0===e)return"true";if(!1===e)return"false";if(null===e)return"null";if(void 0===e)return"undefined";throw xr("esc")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},Ot.prototype={compile:function(e){var t,i,r,o=this;Pt(e,o.$filter),(t=It(e))&&(i=this.recurse(t)),(t=_t(e.body))&&(r=[],ae(t,function(e,t){var n=o.recurse(e);n.isPure=e.isPure,e.input=n,r.push(n),e.watchId=t}));var a=[];return ae(e.body,function(e){a.push(o.recurse(e.expression))}),e=0===e.body.length?ce:1===e.body.length?a[0]:function(t,n){var i;return ae(a,function(e){i=e(t,n)}),i},i&&(e.assign=function(e,t,n){return i(e,n,t)}),r&&(e.inputs=r),e},recurse:function(e,s,t){var o,l,c,n=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case kr.Literal:return this.value(e.value,s);case kr.UnaryExpression:return l=this.recurse(e.argument),this["unary"+e.operator](l,s);case kr.BinaryExpression:case kr.LogicalExpression:return o=this.recurse(e.left),l=this.recurse(e.right),this["binary"+e.operator](o,l,s);case kr.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),s);case kr.Identifier:return n.identifier(e.name,s,t);case kr.MemberExpression:return o=this.recurse(e.object,!1,!!t),e.computed||(l=e.property.name),e.computed&&(l=this.recurse(e.property)),e.computed?this.computedMember(o,l,s,t):this.nonComputedMember(o,l,s,t);case kr.CallExpression:return c=[],ae(e.arguments,function(e){c.push(n.recurse(e))}),e.filter&&(l=this.$filter(e.callee.name)),e.filter||(l=this.recurse(e.callee,!0)),e.filter?function(e,t,n,i){for(var r=[],o=0;o<c.length;++o)r.push(c[o](e,t,n,i));return e=l.apply(void 0,r,i),s?{context:void 0,name:void 0,value:e}:e}:function(e,t,n,i){var r,o=l(e,t,n,i);if(null!=o.value){r=[];for(var a=0;a<c.length;++a)r.push(c[a](e,t,n,i));r=o.value.apply(o.context,r)}return s?{value:r}:r};case kr.AssignmentExpression:return o=this.recurse(e.left,!0,1),l=this.recurse(e.right),function(e,t,n,i){var r=o(e,t,n,i);return e=l(e,t,n,i),r.context[r.name]=e,s?{value:e}:e};case kr.ArrayExpression:return c=[],ae(e.elements,function(e){c.push(n.recurse(e))}),function(e,t,n,i){for(var r=[],o=0;o<c.length;++o)r.push(c[o](e,t,n,i));return s?{value:r}:r};case kr.ObjectExpression:return c=[],ae(e.properties,function(e){e.computed?c.push({key:n.recurse(e.key),computed:!0,value:n.recurse(e.value)}):c.push({key:e.key.type===kr.Identifier?e.key.name:""+e.key.value,computed:!1,value:n.recurse(e.value)})}),function(e,t,n,i){for(var r={},o=0;o<c.length;++o)c[o].computed?r[c[o].key(e,t,n,i)]=c[o].value(e,t,n,i):r[c[o].key]=c[o].value(e,t,n,i);return s?{value:r}:r};case kr.ThisExpression:return function(e){return s?{value:e}:e};case kr.LocalsExpression:return function(e,t){return s?{value:t}:t};case kr.NGValueParameter:return function(e,t,n){return s?{value:n}:n}}},"unary+":function(r,o){return function(e,t,n,i){return e=k(e=r(e,t,n,i))?+e:0,o?{value:e}:e}},"unary-":function(r,o){return function(e,t,n,i){return e=k(e=r(e,t,n,i))?-e:-0,o?{value:e}:e}},"unary!":function(r,o){return function(e,t,n,i){return e=!r(e,t,n,i),o?{value:e}:e}},"binary+":function(o,a,s){return function(e,t,n,i){var r=o(e,t,n,i);return r=Dt(r,e=a(e,t,n,i)),s?{value:r}:r}},"binary-":function(o,a,s){return function(e,t,n,i){var r=o(e,t,n,i);return e=a(e,t,n,i),r=(k(r)?r:0)-(k(e)?e:0),s?{value:r}:r}},"binary*":function(r,o,a){return function(e,t,n,i){return e=r(e,t,n,i)*o(e,t,n,i),a?{value:e}:e}},"binary/":function(r,o,a){return function(e,t,n,i){return e=r(e,t,n,i)/o(e,t,n,i),a?{value:e}:e}},"binary%":function(r,o,a){return function(e,t,n,i){return e=r(e,t,n,i)%o(e,t,n,i),a?{value:e}:e}},"binary===":function(r,o,a){return function(e,t,n,i){return e=r(e,t,n,i)===o(e,t,n,i),a?{value:e}:e}},"binary!==":function(r,o,a){return function(e,t,n,i){return e=r(e,t,n,i)!==o(e,t,n,i),a?{value:e}:e}},"binary==":function(r,o,a){return function(e,t,n,i){return e=r(e,t,n,i)==o(e,t,n,i),a?{value:e}:e}},"binary!=":function(r,o,a){return function(e,t,n,i){return e=r(e,t,n,i)!=o(e,t,n,i),a?{value:e}:e}},"binary<":function(r,o,a){return function(e,t,n,i){return e=r(e,t,n,i)<o(e,t,n,i),a?{value:e}:e}},"binary>":function(r,o,a){return function(e,t,n,i){return e=r(e,t,n,i)>o(e,t,n,i),a?{value:e}:e}},"binary<=":function(r,o,a){return function(e,t,n,i){return e=r(e,t,n,i)<=o(e,t,n,i),a?{value:e}:e}},"binary>=":function(r,o,a){return function(e,t,n,i){return e=r(e,t,n,i)>=o(e,t,n,i),a?{value:e}:e}},"binary&&":function(r,o,a){return function(e,t,n,i){return e=r(e,t,n,i)&&o(e,t,n,i),a?{value:e}:e}},"binary||":function(r,o,a){return function(e,t,n,i){return e=r(e,t,n,i)||o(e,t,n,i),a?{value:e}:e}},"ternary?:":function(r,o,a,s){return function(e,t,n,i){return e=r(e,t,n,i)?o(e,t,n,i):a(e,t,n,i),s?{value:e}:e}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(r,o,a){return function(e,t,n,i){return e=t&&r in t?t:e,a&&1!==a&&e&&null==e[r]&&(e[r]={}),t=e?e[r]:void 0,o?{context:e,name:r,value:t}:t}},computedMember:function(s,l,c,u){return function(e,t,n,i){var r,o,a=s(e,t,n,i);return null!=a&&(r=l(e,t,n,i),r+="",u&&1!==u&&a&&!a[r]&&(a[r]={}),o=a[r]),c?{context:a,name:r,value:o}:o}},nonComputedMember:function(r,o,a,s){return function(e,t,n,i){return e=r(e,t,n,i),s&&1!==s&&e&&null==e[o]&&(e[o]={}),t=null!=e?e[o]:void 0,a?{context:e,name:o,value:t}:t}},inputs:function(r,o){return function(e,t,n,i){return i?i[o]:r(e,t,n)}}},Lt.prototype={constructor:Lt,parse:function(e){e=this.getAst(e);var t=this.astCompiler.compile(e.ast),n=e.ast;return t.literal=0===n.body.length||1===n.body.length&&(n.body[0].expression.type===kr.Literal||n.body[0].expression.type===kr.ArrayExpression||n.body[0].expression.type===kr.ObjectExpression),t.constant=e.ast.constant,t.oneTime=e.oneTime,t},getAst:function(e){var t=!1;return":"===(e=e.trim()).charAt(0)&&":"===e.charAt(1)&&(t=!0,e=e.substring(2)),{ast:this.ast.ast(e),oneTime:t}}};var Tr,Mr=T("$sce"),Dr={HTML:"html",CSS:"css",MEDIA_URL:"mediaUrl",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Pr=/_([a-z])/g,_r=T("$templateRequest"),Rr=T("$timeout"),Ir=oe.document.createElement("a"),Fr=Qt(oe.location.href);nn.$inject=["$document"],on.$inject=["$provide"];var Or=22,Lr=".",Nr="0";cn.$inject=["$locale"];var Vr={yyyy:pn("FullYear",4,0,!(un.$inject=["$locale"]),!0),yy:pn("FullYear",2,0,!0,!0),y:pn("FullYear",1,0,!1,!0),MMMM:fn("Month"),MMM:fn("Month",!0),MM:pn("Month",2,1),M:pn("Month",1,1),LLLL:fn("Month",!1,!0),dd:pn("Date",2),d:pn("Date",1),HH:pn("Hours",2),H:pn("Hours",1),hh:pn("Hours",2,-12),h:pn("Hours",1,-12),mm:pn("Minutes",2),m:pn("Minutes",1),ss:pn("Seconds",2),s:pn("Seconds",1),sss:pn("Milliseconds",3),EEEE:fn("Day"),EEE:fn("Day",!0),a:function(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]},Z:function(e,t,n){return(0<=(e=-1*n)?"+":"")+(hn(Math[0<e?"floor":"ceil"](e/60),2)+hn(Math.abs(e%60),2))},ww:mn(2),w:mn(1),G:vn,GG:vn,GGG:vn,GGGG:function(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}},Hr=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,Br=/^-?\d+$/;yn.$inject=["$locale"];var zr=E(Kn),jr=E(Zn);Cn.$inject=["$parse"];var Gr=E({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===ti.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),Ur={};ae(Ii,function(e,i){function r(e,t,n){e.$watch(n[o],function(e){n.$set(i,!!e)})}if("multiple"!==e){var o=Xe("ng-"+i),t=r;"checked"===e&&(t=function(e,t,n){n.ngModel!==n[o]&&r(e,0,n)}),Ur[o]=function(){return{restrict:"A",priority:100,link:t}}}}),ae(Oi,function(e,i){Ur[i]=function(){return{priority:100,link:function(e,t,n){"ngPattern"===i&&"/"===n.ngPattern.charAt(0)&&(t=n.ngPattern.match(Yn))?n.$set("ngPattern",new RegExp(t[1],t[2])):e.$watch(n[i],function(e){n.$set(i,e)})}}}}),ae(["src","srcset","href"],function(o){var a=Xe("ng-"+o);Ur[a]=function(){return{priority:99,link:function(e,t,n){var i=o,r=o;"href"===o&&"[object SVGAnimatedString]"===ti.call(t.prop("href"))&&(r="xlinkHref",n.$attr[r]="xlink:href",i=null),n.$observe(a,function(e){e?(n.$set(r,e),jn&&i&&t.prop(i,n[r])):"href"===o&&n.$set(r,null)})}}}});var Wr={$addControl:ce,$$renameControl:function(e,t){e.$name=t},$removeControl:ce,$setValidity:ce,$setDirty:ce,$setPristine:ce,$setSubmitted:ce,$$setSubmitted:ce};$n.$inject=["$element","$attrs","$scope","$animate","$interpolate"],$n.prototype={$rollbackViewValue:function(){ae(this.$$controls,function(e){e.$rollbackViewValue()})},$commitViewValue:function(){ae(this.$$controls,function(e){e.$commitViewValue()})},$addControl:function(e){V(e.$name,"input"),this.$$controls.push(e),e.$name&&(this[e.$name]=e),e.$$parentForm=this},$$renameControl:function(e,t){var n=e.$name;this[n]===e&&delete this[n],(this[t]=e).$name=t},$removeControl:function(n){n.$name&&this[n.$name]===n&&delete this[n.$name],ae(this.$pending,function(e,t){this.$setValidity(t,null,n)},this),ae(this.$error,function(e,t){this.$setValidity(t,null,n)},this),ae(this.$$success,function(e,t){this.$setValidity(t,null,n)},this),we(this.$$controls,n),n.$$parentForm=Wr},$setDirty:function(){this.$$animate.removeClass(this.$$element,Mo),this.$$animate.addClass(this.$$element,Do),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Mo,Do+" ng-submitted"),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,ae(this.$$controls,function(e){e.$setPristine()})},$setUntouched:function(){ae(this.$$controls,function(e){e.$setUntouched()})},$setSubmitted:function(){for(var e=this;e.$$parentForm&&e.$$parentForm!==Wr;)e=e.$$parentForm;e.$$setSubmitted()},$$setSubmitted:function(){this.$$animate.addClass(this.$$element,"ng-submitted"),this.$submitted=!0,ae(this.$$controls,function(e){e.$$setSubmitted&&e.$$setSubmitted()})}},kn({clazz:$n,set:function(e,t,n){var i=e[t];i?-1===i.indexOf(n)&&i.push(n):e[t]=[n]},unset:function(e,t,n){var i=e[t];i&&(we(i,n),0===i.length&&delete e[t])}});function qr(n){return["$timeout","$parse",function(l,t){function c(e){return""===e?t('this[""]').assign:t(e).assign||ce}return{name:"form",restrict:n?"EAC":"E",require:["form","^^?form"],controller:$n,compile:function(e,t){e.addClass(Mo).addClass(Ao);var s=t.name?"name":!(!n||!t.ngForm)&&"ngForm";return{pre:function(t,e,n,i){var r=i[0];if(!("action"in n)){var o=function(e){t.$apply(function(){r.$commitViewValue(),r.$setSubmitted()}),e.preventDefault()};e[0].addEventListener("submit",o),e.on("$destroy",function(){l(function(){e[0].removeEventListener("submit",o)},0,!1)})}(i[1]||r.$$parentForm).$addControl(r);var a=s?c(r.$name):ce;s&&(a(t,r),n.$observe(s,function(e){r.$name!==e&&(a(t,void 0),r.$$parentForm.$$renameControl(r,e),(a=c(r.$name))(t,r))})),e.on("$destroy",function(){r.$$parentForm.$removeControl(r),a(t,void 0),se(r,Wr)})}}}}}]}var Yr=qr(),Xr=qr(!0),Kr=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,Zr=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Jr=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,Qr=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,eo=/^(\d{4,})-(\d{2})-(\d{2})$/,to=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,no=/^(\d{4,})-W(\d\d)$/,io=/^(\d{4,})-(\d\d)$/,ro=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,oo=Ae();ae(["date","datetime-local","month","time","week"],function(e){oo[e]=!0});function ao(){function i(e,t,n){var i=k(n)?n:9===jn?"":null;e.prop("value",i),t.$set("value",n)}return{restrict:"A",priority:100,compile:function(e,t){return co.test(t.ngValue)?function(e,t,n){i(t,n,e=e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){i(t,n,e)})}}}}var so={text:function(e,t,n,i,r,o){Mn(0,t,n,i,r,o),Tn(i)},date:Pn("date",eo,Dn(eo,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Pn("datetimelocal",to,Dn(to,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:Pn("time",ro,Dn(ro,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Pn("week",no,function(e,t){if(y(e))return e;if(pe(e)){no.lastIndex=0;var n=no.exec(e);if(n){var i=+n[1],r=+n[2],o=n=0,a=0,s=0,l=gn(i);r=7*(r-1);return t&&(n=t.getHours(),o=t.getMinutes(),a=t.getSeconds(),s=t.getMilliseconds()),new Date(i,0,l.getDate()+r,n,o,a,s)}}return NaN},"yyyy-Www"),month:Pn("month",io,Dn(io,["yyyy","MM"]),"yyyy-MM"),number:function(e,t,n,i,r,o){var a,s,l;_n(0,t,0,i,"number"),Rn(i),Mn(0,t,n,i,r,o),(k(n.min)||n.ngMin)&&(i.$validators.min=function(e,t){return i.$isEmpty(t)||de(a)||a<=t},n.$observe("min",function(e){a=In(e),i.$validate()})),(k(n.max)||n.ngMax)&&(i.$validators.max=function(e,t){return i.$isEmpty(t)||de(s)||t<=s},n.$observe("max",function(e){s=In(e),i.$validate()})),(k(n.step)||n.ngStep)&&(i.$validators.step=function(e,t){return i.$isEmpty(t)||de(l)||On(t,a||0,l)},n.$observe("step",function(e){l=In(e),i.$validate()}))},url:function(e,t,n,i,r,o){Mn(0,t,n,i,r,o),Tn(i),i.$validators.url=function(e,t){var n=e||t;return i.$isEmpty(n)||Zr.test(n)}},email:function(e,t,n,i,r,o){Mn(0,t,n,i,r,o),Tn(i),i.$validators.email=function(e,t){var n=e||t;return i.$isEmpty(n)||Jr.test(n)}},radio:function(e,n,i,r){var o=!i.ngTrim||"false"!==ui(i.ngTrim);de(i.name)&&n.attr("name",++oi),n.on("change",function(e){var t;n[0].checked&&(t=i.value,o&&(t=ui(t)),r.$setViewValue(t,e&&e.type))}),r.$render=function(){var e=i.value;o&&(e=ui(e)),n[0].checked=e===r.$viewValue},i.$observe("value",r.$render)},range:function(e,n,i,r,t,o){function a(e,t){n.attr(e,i[e]),i.$observe(e,t)}_n(0,n,0,r,"range"),Rn(r),Mn(0,n,i,r,t,o);var s=r.$$hasNativeValidators&&"range"===n[0].type,l=s?0:void 0,c=s?100:void 0,u=s?1:void 0,d=n[0].validity;e=k(i.min),t=k(i.max),o=k(i.step);var h=r.$render;r.$render=s&&k(d.rangeUnderflow)&&k(d.rangeOverflow)?function(){h(),r.$setViewValue(n.val())}:h,e&&(r.$validators.min=s?function(){return!0}:function(e,t){return r.$isEmpty(t)||de(l)||l<=t},a("min",function(e){l=In(e),ai(r.$modelValue)||(s?((e=n.val())<l&&(e=l,n.val(e)),r.$setViewValue(e)):r.$validate())})),t&&(r.$validators.max=s?function(){return!0}:function(e,t){return r.$isEmpty(t)||de(c)||t<=c},a("max",function(e){c=In(e),ai(r.$modelValue)||(s?(e=n.val(),c<e&&(n.val(c),e=c<l?l:c),r.$setViewValue(e)):r.$validate())})),o&&(r.$validators.step=s?function(){return!d.stepMismatch}:function(e,t){return r.$isEmpty(t)||de(u)||On(t,l||0,u)},a("step",function(e){u=In(e),ai(r.$modelValue)||(s&&r.$viewValue!==n.val()?r.$setViewValue(n.val()):r.$validate())}))},checkbox:function(e,t,n,i,r,o,a,s){var l=Ln(s,e,"ngTrueValue",n.ngTrueValue,!0),c=Ln(s,e,"ngFalseValue",n.ngFalseValue,!1);t.on("change",function(e){i.$setViewValue(t[0].checked,e&&e.type)}),i.$render=function(){t[0].checked=i.$viewValue},i.$isEmpty=function(e){return!1===e},i.$formatters.push(function(e){return Ce(e,l)}),i.$parsers.push(function(e){return e?l:c})},hidden:ce,button:ce,submit:ce,reset:ce,file:ce},lo=["$browser","$sniffer","$filter","$parse",function(r,o,a,s){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,t,n,i){i[0]&&(so[Kn(n.type)]||so.text)(e,t,n,i[0],o,r,a,s)}}}}],co=/^(true|false|\d+)$/,uo=["$compile",function(i){return{restrict:"AC",compile:function(e){return i.$$addBindingClass(e),function(e,t,n){i.$$addBindingInfo(t,n.ngBind),t=t[0],e.$watch(n.ngBind,function(e){t.textContent=L(e)})}}}}],ho=["$interpolate","$compile",function(i,r){return{compile:function(e){return r.$$addBindingClass(e),function(e,t,n){e=i(t.attr(n.$attr.ngBindTemplate)),r.$$addBindingInfo(t,e.expressions),t=t[0],n.$observe("ngBindTemplate",function(e){t.textContent=de(e)?"":e})}}}}],po=["$sce","$parse","$compile",function(o,n,a){return{restrict:"A",compile:function(e,t){var i=n(t.ngBindHtml),r=n(t.ngBindHtml,function(e){return o.valueOf(e)});return a.$$addBindingClass(e),function(t,n,e){a.$$addBindingInfo(n,e.ngBindHtml),t.$watch(r,function(){var e=i(t);n.html(o.getTrustedHtml(e)||"")})}}}}],fo=E({restrict:"A",require:"ngModel",link:function(e,t,n,i){i.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),go=Nn("",!0),mo=Nn("Odd",0),vo=Nn("Even",1),yo=Sn({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),bo=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],wo={},xo={blur:!0,focus:!0};ae("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(o){var a=Xe("ng-"+o);wo[a]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(e,t){var i=n(t[a]);return function(n,e){e.on(o,function(e){function t(){i(n,{$event:e})}xo[o]&&r.$$phase?n.$evalAsync(t):n.$apply(t)})}}}}]});function Co(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,i){var r=n.ngList||", ",o="false"!==n.ngTrim,a=o?ui(r):r;i.$parsers.push(function(e){if(!de(e)){var t=[];return e&&ae(e.split(a),function(e){e&&t.push(o?ui(e):e)}),t}}),i.$formatters.push(function(e){if(fe(e))return e.join(r)}),i.$isEmpty=function(e){return!e||!e.length}}}}var So=["$animate","$compile",function(l,c){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(e,n,i,t,r){var o,a,s;e.$watch(i.ngIf,function(e){e?a||r(function(e,t){a=t,e[e.length++]=c.$$createComment("end ngIf",i.ngIf),o={clone:e},l.enter(e,n.parent(),n)}):(s&&(s.remove(),s=null),a&&(a.$destroy(),a=null),o&&(s=O(o.clone),l.leave(s).done(function(e){!1!==e&&(s=null)}),o=null))})}}}],$o=["$templateRequest","$anchorScroll","$animate",function(g,m,v){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:ri.noop,compile:function(e,t){var n=t.ngInclude||t.src,p=t.onload||"",f=t.autoscroll;return function(o,a,e,s,l){function c(){t&&(t.remove(),t=null),u&&(u.$destroy(),u=null),d&&(v.leave(d).done(function(e){!1!==e&&(t=null)}),t=d,d=null)}var u,t,d,h=0;o.$watch(n,function(n){function i(e){!1===e||!k(f)||f&&!o.$eval(f)||m()}var r=++h;n?(g(n,!0).then(function(e){if(!o.$$destroyed&&r===h){var t=o.$new();s.template=e,e=l(t,function(e){c(),v.enter(e,null,a).done(i)}),d=e,(u=t).$emit("$includeContentLoaded",n),o.$eval(p)}},function(){o.$$destroyed||r!==h||(c(),o.$emit("$includeContentError",n))}),o.$emit("$includeContentRequested",n)):(c(),s.template=null)})}}}}],Eo=["$compile",function(r){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(e,t,n,i){ti.call(t[0]).match(/SVG/)?(t.empty(),r(G(i.template,oe.document).childNodes)(e,function(e){t.append(e)},{futureParentElement:t})):(t.html(i.template),r(t.contents())(e))}}}],ko=Sn({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),Ao="ng-valid",To="ng-invalid",Mo="ng-pristine",Do="ng-dirty",Po=T("ngModel");Vn.$inject="$scope $exceptionHandler $attrs $element $parse $animate $timeout $q $interpolate".split(" "),Vn.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var n=this.$$parse(this.$$attr.ngModel+"()"),i=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(e){var t=this.$$parsedNgModel(e);return me(t)&&(t=n(e)),t},this.$$ngModelSet=function(e,t){me(this.$$parsedNgModel(e))?i(e,{$$$p:t}):this.$$parsedNgModelAssign(e,t)}}else if(!this.$$parsedNgModel.assign)throw Po("nonassign",this.$$attr.ngModel,$e(this.$$element))},$render:ce,$isEmpty:function(e){return de(e)||""===e||null===e||e!=e},$$updateEmptyClasses:function(e){this.$isEmpty(e)?(this.$$animate.removeClass(this.$$element,"ng-not-empty"),this.$$animate.addClass(this.$$element,"ng-empty")):(this.$$animate.removeClass(this.$$element,"ng-empty"),this.$$animate.addClass(this.$$element,"ng-not-empty"))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,Do),this.$$animate.addClass(this.$$element,Mo)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Mo),this.$$animate.addClass(this.$$element,Do),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,"ng-untouched","ng-touched")},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,"ng-touched","ng-untouched")},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!ai(this.$modelValue)){var e=this.$$lastCommittedViewValue,t=this.$$rawModelValue,n=this.$valid,i=this.$modelValue,r=this.$options.getOption("allowInvalid"),o=this;this.$$runValidators(t,e,function(e){r||n===e||(o.$modelValue=e?t:void 0,o.$modelValue!==i&&o.$$writeModelToScope())})}},$$runValidators:function(i,r,t){function o(e,t){c===u.$$currentValidationRunId&&u.$setValidity(e,t)}function e(e){c===u.$$currentValidationRunId&&t(e)}this.$$currentValidationRunId++;var a,s,l,n,c=this.$$currentValidationRunId,u=this;n=u.$$parserName,(de(u.$$parserValid)?(o(n,null),1):(u.$$parserValid||(ae(u.$validators,function(e,t){o(t,null)}),ae(u.$asyncValidators,function(e,t){o(t,null)})),o(n,u.$$parserValid),u.$$parserValid))?(l=!0,ae(u.$validators,function(e,t){var n=Boolean(e(i,r));l=l&&n,o(t,n)}),l||(ae(u.$asyncValidators,function(e,t){o(t,null)}),0)?(a=[],s=!0,ae(u.$asyncValidators,function(e,t){var n=e(i,r);if(!n||!me(n.then))throw Po("nopromise",n);o(t,void 0),a.push(n.then(function(){o(t,!0)},function(){o(t,s=!1)}))}),a.length?u.$$q.all(a).then(function(){e(s)},ce):e(!0)):e(!1)):e(!1)},$commitViewValue:function(){var e=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==e||""===e&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(e),this.$$lastCommittedViewValue=e,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){var t=this.$$lastCommittedViewValue,n=this;if(this.$$parserValid=!de(t)||void 0,this.$setValidity(this.$$parserName,null),this.$$parserName="parse",this.$$parserValid)for(var e=0;e<this.$parsers.length;e++)if(de(t=this.$parsers[e](t))){this.$$parserValid=!1;break}ai(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var i=this.$modelValue,r=this.$options.getOption("allowInvalid");this.$$rawModelValue=t,r&&(this.$modelValue=t,n.$modelValue!==i&&n.$$writeModelToScope()),this.$$runValidators(t,this.$$lastCommittedViewValue,function(e){r||(n.$modelValue=e?t:void 0,n.$modelValue!==i&&n.$$writeModelToScope())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),ae(this.$viewChangeListeners,function(e){try{e()}catch(e){this.$$exceptionHandler(e)}},this)},$setViewValue:function(e,t){this.$viewValue=e,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(t)},$$debounceViewValueCommit:function(e){var t=this.$options.getOption("debounce");p(t[e])?t=t[e]:p(t.default)&&-1===this.$options.getOption("updateOn").indexOf(e)?t=t.default:p(t["*"])&&(t=t["*"]),this.$$timeout.cancel(this.$$pendingDebounce);var n=this;0<t?this.$$pendingDebounce=this.$$timeout(function(){n.$commitViewValue()},t):this.$$rootScope.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){n.$commitViewValue()})},$overrideModelOptions:function(e){this.$options=this.$options.createChild(e),this.$$setUpdateOnEvents()},$processModelValue:function(){var e=this.$$format();this.$viewValue!==e&&(this.$$updateEmptyClasses(e),this.$viewValue=this.$$lastCommittedViewValue=e,this.$render(),this.$$runValidators(this.$modelValue,this.$viewValue,ce))},$$format:function(){for(var e=this.$formatters,t=e.length,n=this.$modelValue;t--;)n=e[t](n);return n},$$setModelValue:function(e){this.$modelValue=this.$$rawModelValue=e,this.$$parserValid=void 0,this.$processModelValue()},$$setUpdateOnEvents:function(){this.$$updateEvents&&this.$$element.off(this.$$updateEvents,this.$$updateEventHandler),(this.$$updateEvents=this.$options.getOption("updateOn"))&&this.$$element.on(this.$$updateEvents,this.$$updateEventHandler)},$$updateEventHandler:function(e){this.$$debounceViewValueCommit(e&&e.type)}},kn({clazz:Vn,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]}});var _o,Ro=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Vn,priority:1,compile:function(e){return e.addClass(Mo).addClass("ng-untouched").addClass(Ao),{pre:function(e,t,n,i){var r=i[0];t=i[1]||r.$$parentForm,(i=i[2])&&(r.$options=i.$options),r.$$initGetterSetters(),t.$addControl(r),n.$observe("name",function(e){r.$name!==e&&r.$$parentForm.$$renameControl(r,e)}),e.$on("$destroy",function(){r.$$parentForm.$removeControl(r)})},post:function(e,t,n,i){function r(){o.$setTouched()}var o=i[0];o.$$setUpdateOnEvents(),t.on("blur",function(){o.$touched||(a.$$phase?e.$evalAsync(r):e.$apply(r))})}}}}}],Io=/(\s+|^)default(\s+|$)/;Hn.prototype={getOption:function(e){return this.$$options[e]},createChild:function(n){var i=!1;return ae(n=se({},n),function(e,t){"$inherit"===e?"*"===t?i=!0:(n[t]=this.$$options[t],"updateOn"===t&&(n.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===t&&(n.updateOnDefault=!1,n[t]=ui(e.replace(Io,function(){return n.updateOnDefault=!0," "})))},this),i&&(delete n["*"],Bn(n,this.$$options)),Bn(n,_o.$$options),new Hn(n)}},_o=new Hn({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});function Fo(){function e(e,t){this.$$attrs=e,this.$$scope=t}return e.$inject=["$attrs","$scope"],e.prototype={$onInit:function(){var e=this.parentCtrl?this.parentCtrl.$options:_o,t=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=e.createChild(t)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:e}}function Oo(){return{restrict:"E",require:["select","?ngModel"],controller:la,priority:1,link:{pre:function(e,i,t,n){var r=n[0],o=n[1];if(o){if(r.ngModelCtrl=o,i.on("change",function(){r.removeUnknownOption(),e.$apply(function(){o.$setViewValue(r.readValue())})}),t.multiple){r.multiple=!0,r.readValue=function(){var t=[];return ae(i.find("option"),function(e){e.selected&&!e.disabled&&(e=e.value,t.push(e in r.selectValueMap?r.selectValueMap[e]:e))}),t},r.writeValue=function(n){ae(i.find("option"),function(e){var t=!!n&&(-1!==Array.prototype.indexOf.call(n,e.value)||-1!==Array.prototype.indexOf.call(n,r.selectValueMap[e.value]));t!==e.selected&&zn(Gn(e),t)})};var a,s=NaN;e.$watch(function(){s!==o.$viewValue||Ce(a,o.$viewValue)||(a=N(o.$viewValue),o.$render()),s=o.$viewValue}),o.$isEmpty=function(e){return!e||0===e.length}}}else r.registerOption=ce},post:function(e,t,n,i){var r=i[1];if(r){var o=i[0];r.$render=function(){o.writeValue(r.$viewValue)}}}}}}function Lo(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){i&&(n.required=!0,i.$validators.required=function(e,t){return!n.required||!i.$isEmpty(t)},n.$observe("required",function(){i.$validate()}))}}}function No(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var r,o=n.ngPattern||n.pattern;n.$observe("pattern",function(e){if(pe(e)&&0<e.length&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw T("ngPattern")("noregexp",o,e,$e(t));r=e||void 0,i.$validate()}),i.$validators.pattern=function(e,t){return i.$isEmpty(t)||de(r)||r.test(t)}}}}}function Vo(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var r=-1;n.$observe("maxlength",function(e){e=u(e),r=ai(e)?-1:e,i.$validate()}),i.$validators.maxlength=function(e,t){return r<0||i.$isEmpty(t)||t.length<=r}}}}}function Ho(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var r=0;n.$observe("minlength",function(e){r=u(e)||0,i.$validate()}),i.$validators.minlength=function(e,t){return i.$isEmpty(t)||t.length>=r}}}}}var Bo,zo,jo,Go=Sn({terminal:!0,priority:1e3}),Uo=T("ngOptions"),Wo=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,qo=["$compile","$document","$parse",function(f,g,x){var m=oe.document.createElement("option"),v=oe.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,i){i[0].registerOption=ce},post:function(e,r,t,n){function i(e){var t=(e=d.getOptionFromViewValue(e))&&e.element;return t&&!t.selected&&(t.selected=!0),e}function o(e,t){(e.element=t).disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),t.value=e.selectValue}var a=n[0],s=n[1],l=t.multiple;n=0;for(var c=r.children(),u=c.length;n<u;n++)if(""===c[n].value){a.hasEmptyOption=!0,a.emptyOption=c.eq(n);break}r.empty(),n=!!a.emptyOption,Gn(m.cloneNode(!1)).val("?");var d,h=function(e,t,c){function u(e,t,n,i,r){this.selectValue=e,this.viewValue=t,this.label=n,this.group=i,this.disabled=r}function d(e){var t;if(!i&&M(e))t=e;else for(var n in t=[],e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n);return t}var s=e.match(Wo);if(!s)throw Uo("iexp",e,$e(t));var n=s[5]||s[7],i=s[6];e=/ as /.test(s[0])&&s[1];var h=s[9];function p(e,t){return g(e,w(e,t))}t=x(s[2]?s[1]:n);var f=e&&x(e)||t,r=h&&x(h),g=h?function(e,t){return r(c,t)}:function(e){return Oe(e)},m=x(s[2]||s[1]),v=x(s[3]||""),y=x(s[4]||""),b=x(s[8]),o={},w=i?function(e,t){return o[i]=t,o[n]=e,o}:function(e){return o[n]=e,o};return{trackBy:h,getTrackByValue:p,getWatchables:x(b,function(e){for(var t=[],n=d(e=e||[]),i=n.length,r=0;r<i;r++){var o=e[a=e===n?r:n[r]],a=w(o,a);o=g(o,a);t.push(o),(s[2]||s[1])&&(o=m(c,a),t.push(o)),s[4]&&(a=y(c,a),t.push(a))}return t}),getOptions:function(){for(var e=[],t={},n=b(c)||[],i=d(n),r=i.length,o=0;o<r;o++){var a=n===i?o:i[o],s=w(n[a],a),l=f(c,s);l=new u(a=g(l,s),l,m(c,s),v(c,s),s=y(c,s));e.push(l),t[a]=l}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[p(e)]},getViewValueFromOption:function(e){return h?A(e.viewValue):e.viewValue}}}}}(t.ngOptions,r,e),p=g[0].createDocumentFragment();a.generateUnknownOptionValue=function(e){return"?"},l?(a.writeValue=function(e){if(d){var t=e&&e.map(i)||[];d.items.forEach(function(e){e.element.selected&&-1===Array.prototype.indexOf.call(t,e)&&(e.element.selected=!1)})}},a.readValue=function(){var e=r.val()||[],t=[];return ae(e,function(e){(e=d.selectValueMap[e])&&!e.disabled&&t.push(d.getViewValueFromOption(e))}),t},h.trackBy&&e.$watchCollection(function(){if(fe(s.$viewValue))return s.$viewValue.map(function(e){return h.getTrackByValue(e)})},function(){s.$render()})):(a.writeValue=function(e){if(d){var t=r[0].options[r[0].selectedIndex],n=d.getOptionFromViewValue(e);t&&t.removeAttribute("selected"),n?(r[0].value!==n.selectValue&&(a.removeUnknownOption(),r[0].value=n.selectValue,n.element.selected=!0),n.element.setAttribute("selected","selected")):a.selectUnknownOrEmptyOption(e)}},a.readValue=function(){var e=d.selectValueMap[r.val()];return e&&!e.disabled?(a.unselectEmptyOption(),a.removeUnknownOption(),d.getViewValueFromOption(e)):null},h.trackBy&&e.$watch(function(){return h.getTrackByValue(s.$viewValue)},function(){s.$render()})),n&&(f(a.emptyOption)(e),r.prepend(a.emptyOption),8===a.emptyOption[0].nodeType?(a.hasEmptyOption=!1,a.registerOption=function(e,t){""===t.val()&&(a.hasEmptyOption=!0,a.emptyOption=t,a.emptyOption.removeClass("ng-scope"),s.$render(),t.on("$destroy",function(){var e=a.$isEmptyOptionSelected();a.hasEmptyOption=!1,a.emptyOption=void 0,e&&s.$render()}))}):a.emptyOption.removeClass("ng-scope")),e.$watchCollection(h.getWatchables,function(){var e=d&&a.readValue();if(d)for(var t=d.items.length-1;0<=t;t--){var n=d.items[t];k(n.group)?De(n.element.parentNode):De(n.element)}d=h.getOptions();var i={};d.items.forEach(function(e){var t;if(k(e.group)){(t=i[e.group])||(t=v.cloneNode(!1),p.appendChild(t),t.label=null===e.group?"null":e.group,i[e.group]=t);var n=m.cloneNode(!1);t.appendChild(n),o(e,n)}else t=m.cloneNode(!1),p.appendChild(t),o(e,t)}),r[0].appendChild(p),s.$render(),s.$isEmpty(e)||(t=a.readValue(),(h.trackBy||l?Ce(e,t):e===t)||(s.$setViewValue(t),s.$render()))})}}}}],Yo=["$locale","$interpolate","$log",function(f,g,m){var v=/{}/g,y=/^when(Minus)?(.+)$/;return{link:function(i,r,o){function a(e){r.text(e||"")}var s,e=o.count,l=o.$attr.when&&r.attr(o.$attr.when),c=o.offset||0,u=i.$eval(l)||{},d={},t=g.startSymbol(),n=g.endSymbol(),h=t+e+"-"+c+n,p=ri.noop;ae(o,function(e,t){var n=y.exec(t);n&&(n=(n[1]?"-":"")+Kn(n[2]),u[n]=r.attr(o.$attr[t]))}),ae(u,function(e,t){d[t]=g(e.replace(v,h))}),i.$watch(e,function(e){var t=parseFloat(e),n=ai(t);n||t in u||(t=f.pluralCat(t-c)),t===s||n&&ai(s)||(p(),de(n=d[t])?(null!=e&&m.debug("ngPluralize: no rule defined for '"+t+"' in "+l),p=ce,a()):p=i.$watch(n,a),s=t)})}}}],Xo=T("ngRef"),Ko=["$parse",function(t){return{priority:-1,restrict:"A",compile:function(e,r){var o=Xe(be(e)),a=t(r.ngRef),s=a.assign||function(){throw Xo("nonassign",r.ngRef)};return function(e,t,n){var i;if(n.hasOwnProperty("ngRefRead")){if("$element"===n.ngRefRead)i=t;else if(!(i=t.data("$"+n.ngRefRead+"Controller")))throw Xo("noctrl",n.ngRefRead,r.ngRef)}else i=t.data("$"+o+"Controller");s(e,i=i||t),t.on("$destroy",function(){a(e)===i&&s(e,null)})}}}}],Zo=["$parse","$animate","$compile",function(l,E,c){function k(e,t,n,i,r,o,a){e[n]=i,r&&(e[r]=o),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0==(1&t))}var A=T("ngRepeat");return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(e,t){var v=t.ngRepeat,y=c.$$createComment("end ngRepeat",v);if(!(n=v.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/)))throw A("iexp",v);var n,i=n[1],r=n[2],b=n[3],o=n[4];if(!(n=i.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/)))throw A("iidexp",i);var w=n[3]||n[1],x=n[2];if(b&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(b)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(b)))throw A("badident",b);var a,C,S,$,s={$id:Oe};return o?a=l(o):(S=function(e,t){return Oe(t)},$=function(e){return e}),function(p,f,e,t,g){a&&(C=function(e,t,n){return x&&(s[x]=e),s[w]=t,s.$index=n,a(p,s)});var m=Ae();p.$watchCollection(r,function(e){var i,t,n,r,o,a,s,l,c,u,d=f[0],h=Ae();if(b&&(p[b]=e),M(e))l=e,t=C||S;else for(u in t=C||$,l=[],e)Xn.call(e,u)&&"$"!==u.charAt(0)&&l.push(u);for(r=l.length,u=Array(r),i=0;i<r;i++)if(o=e===l?i:l[i],a=e[o],s=t(o,a,i),m[s])c=m[s],delete m[s],h[s]=c,u[i]=c;else{if(h[s])throw ae(u,function(e){e&&e.scope&&(m[e.id]=e)}),A("dupes",v,s,a);u[i]={id:s,scope:void 0,clone:void 0},h[s]=!0}for(n in m){if(s=O((c=m[n]).clone),E.leave(s),s[0].parentNode)for(i=0,t=s.length;i<t;i++)s[i].$$NG_REMOVED=!0;c.scope.$destroy()}for(i=0;i<r;i++)if(o=e===l?i:l[i],a=e[o],(c=u[i]).scope){for(n=d;(n=n.nextSibling)&&n.$$NG_REMOVED;);c.clone[0]!==n&&E.move(O(c.clone),null,d),d=c.clone[c.clone.length-1],k(c.scope,i,w,a,x,o,r)}else g(function(e,t){c.scope=t;var n=y.cloneNode(!1);e[e.length++]=n,E.enter(e,null,d),d=n,c.clone=e,h[c.id]=c,k(c.scope,i,w,a,x,o,r)});m=h})}}}}],Jo=["$animate",function(i){return{restrict:"A",multiElement:!0,link:function(e,t,n){e.$watch(n.ngShow,function(e){i[e?"removeClass":"addClass"](t,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Qo=["$animate",function(i){return{restrict:"A",multiElement:!0,link:function(e,t,n){e.$watch(n.ngHide,function(e){i[e?"addClass":"removeClass"](t,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],ea=Sn(function(e,n,t){e.$watchCollection(t.ngStyle,function(e,t){t&&e!==t&&ae(t,function(e,t){n.css(t,"")}),e&&n.css(e)})}),ta=["$animate","$compile",function(u,d){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(e,t,n,r){function o(t,n){return function(e){!1!==e&&t.splice(n,1)}}var a=[],s=[],l=[],c=[];e.$watch(n.ngSwitch||n.on,function(e){for(var t,n;l.length;)u.cancel(l.pop());for(t=0,n=c.length;t<n;++t){var i=O(s[t].clone);c[t].$destroy(),(l[t]=u.leave(i)).done(o(l,t))}s.length=0,c.length=0,(a=r.cases["!"+e]||r.cases["?"])&&ae(a,function(i){i.transclude(function(e,t){c.push(t);var n=i.element;e[e.length++]=d.$$createComment("end ngSwitchWhen"),s.push({clone:e}),u.enter(e,n.parent(),n)})})})}}}],na=Sn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,r){ae(n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter(function(e,t,n){return n[t-1]!==e}),function(e){i.cases["!"+e]=i.cases["!"+e]||[],i.cases["!"+e].push({transclude:r,element:t})})}}),ia=Sn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:t})}}),ra=T("ngTransclude"),oa=["$compile",function(t){return{restrict:"EAC",compile:function(e){var r=t(e.contents());return e.empty(),function(e,o,t,n,i){function a(){r(e,function(e){o.append(e)})}if(!i)throw ra("orphan",$e(o));t.ngTransclude===t.$attr.ngTransclude&&(t.ngTransclude=""),i(function(e,t){var n;if(n=e.length)e:{n=0;for(var i=e.length;n<i;n++){var r=e[n];if(r.nodeType!==bi||r.nodeValue.trim()){n=!0;break e}}n=void 0}n?o.append(e):(a(),t.$destroy())},null,t=t.ngTransclude||t.ngTranscludeSlot),t&&!i.isSlotFilled(t)&&a()}}}}],aa=["$templateCache",function(n){return{restrict:"E",terminal:!0,compile:function(e,t){"text/ng-template"===t.type&&n.put(t.id,e[0].text)}}}],sa={$setViewValue:ce,$render:ce},la=["$element","$scope",function(n,t){function s(){e||(e=!0,t.$$postDigest(function(){e=!1,c.ngModelCtrl.$render()}))}function l(e){r||(r=!0,t.$$postDigest(function(){t.$$destroyed||(r=!1,c.ngModelCtrl.$setViewValue(c.readValue()),e&&c.ngModelCtrl.$render())}))}var c=this,i=new Vi;c.selectValueMap={},c.ngModelCtrl=sa,c.multiple=!1,c.unknownOption=Gn(oe.document.createElement("option")),c.hasEmptyOption=!1,c.emptyOption=void 0,c.renderUnknownOption=function(e){e=c.generateUnknownOptionValue(e),c.unknownOption.val(e),n.prepend(c.unknownOption),zn(c.unknownOption,!0),n.val(e)},c.updateUnknownOption=function(e){e=c.generateUnknownOptionValue(e),c.unknownOption.val(e),zn(c.unknownOption,!0),n.val(e)},c.generateUnknownOptionValue=function(e){return"? "+Oe(e)+" ?"},c.removeUnknownOption=function(){c.unknownOption.parent()&&c.unknownOption.remove()},c.selectEmptyOption=function(){c.emptyOption&&(n.val(""),zn(c.emptyOption,!0))},c.unselectEmptyOption=function(){c.hasEmptyOption&&zn(c.emptyOption,!1)},t.$on("$destroy",function(){c.renderUnknownOption=ce}),c.readValue=function(){var e=(e=n.val())in c.selectValueMap?c.selectValueMap[e]:e;return c.hasOption(e)?e:null},c.writeValue=function(e){var t=n[0].options[n[0].selectedIndex];t&&zn(Gn(t),!1),c.hasOption(e)?(c.removeUnknownOption(),t=Oe(e),n.val(t in c.selectValueMap?t:e),zn(Gn(n[0].options[n[0].selectedIndex]),!0)):c.selectUnknownOrEmptyOption(e)},c.addOption=function(e,t){if(8!==t[0].nodeType){V(e,'"option value"'),""===e&&(c.hasEmptyOption=!0,c.emptyOption=t);var n=i.get(e)||0;i.set(e,n+1),s()}},c.removeOption=function(e){var t=i.get(e);t&&(1===t?(i.delete(e),""===e&&(c.hasEmptyOption=!1,c.emptyOption=void 0)):i.set(e,t-1))},c.hasOption=function(e){return!!i.get(e)},c.$hasEmptyOption=function(){return c.hasEmptyOption},c.$isUnknownOptionSelected=function(){return n[0].options[0]===c.unknownOption[0]},c.$isEmptyOptionSelected=function(){return c.hasEmptyOption&&n[0].options[n[0].selectedIndex]===c.emptyOption[0]};var e=!(c.selectUnknownOrEmptyOption=function(e){null==e&&c.emptyOption?(c.removeUnknownOption(),c.selectEmptyOption()):c.unknownOption.parent().length?c.updateUnknownOption(e):c.renderUnknownOption(e)}),r=!1;c.registerOption=function(e,i,r,t,n){if(r.$attr.ngValue){var o,a=NaN;r.$observe("value",function(e){var t,n=i.prop("selected");k(a)&&(c.removeOption(o),delete c.selectValueMap[a],t=!0),a=Oe(e),o=e,c.selectValueMap[a]=e,c.addOption(e,i),i.attr("value",a),t&&n&&l()})}else t?r.$observe("value",function(e){c.readValue();var t,n=i.prop("selected");k(o)&&(c.removeOption(o),t=!0),o=e,c.addOption(e,i),t&&n&&l()}):n?e.$watch(n,function(e,t){r.$set("value",e);var n=i.prop("selected");t!==e&&c.removeOption(t),c.addOption(e,i),t&&n&&l()}):c.addOption(r.value,i);r.$observe("disabled",function(e){("true"===e||e&&i.prop("selected"))&&(c.multiple?l(!0):(c.ngModelCtrl.$setViewValue(null),c.ngModelCtrl.$render()))}),i.on("$destroy",function(){var e=c.readValue(),t=r.value;c.removeOption(t),s(),(c.multiple&&e&&-1!==e.indexOf(t)||e===t)&&l(!0)})}}],ca=["$interpolate",function(n){return{restrict:"E",priority:100,compile:function(e,t){var r,o;return k(t.ngValue)||(k(t.value)?r=n(t.value,!0):(o=n(e.text(),!0))||t.$set("value",e.text())),function(e,t,n){var i=t.parent();(i=i.data("$selectController")||i.parent().data("$selectController"))&&i.registerOption(e,t,n,r,o)}}}}];function ua(e,t,n){return e[t]||(e[t]=n())}oe.angular.bootstrap?oe.console&&console.log("WARNING: Tried to load AngularJS more than once."):(function(){var r;if(!yi){var e=pi();(Un=de(e)?oe.jQuery:e?oe[e]:void 0)&&Un.fn.on?se((Gn=Un).fn,{scope:Ri.scope,isolateScope:Ri.isolateScope,controller:Ri.controller,injector:Ri.injector,inheritedData:Ri.inheritedData}):Gn=U,r=Gn.cleanData,Gn.cleanData=function(e){for(var t,n,i=0;null!=(n=e[i]);i++)(t=Gn._data(n).events)&&t.$destroy&&Gn(n).triggerHandler("$destroy");r(e)},ri.element=Gn,yi=!0}}(),se(ri,{errorHandlingConfig:e,bootstrap:_,copy:A,extend:se,merge:t,equals:Ce,element:Gn,forEach:ae,injector:Ve,noop:ce,bind:Se,toJson:a,fromJson:s,identity:ue,isUndefined:de,isDefined:k,isString:pe,isFunction:me,isObject:he,isNumber:p,isElement:g,isArray:fe,version:wi,isDate:y,callbacks:{$$counter:0},getTestability:I,reloadWithDebugInfo:R,$$minErr:T,$$csp:hi,$$encodeUriSegment:C,$$encodeUriQuery:$,$$lowercase:Kn,$$stringify:L,$$uppercase:Zn}),(Bo=oe,zo=T("$injector"),jo=T("ng"),(Bo=ua(Bo,"angular",Object)).$$minErr=Bo.$$minErr||T,(Wn=ua(Bo,"module",function(){var e={};return function(s,l,c){var u={};if("hasOwnProperty"===s)throw jo("badname","module");return l&&e.hasOwnProperty(s)&&(e[s]=null),ua(e,s,function(){function e(e,t,n,i){return i=i||o,function(){return i[n||"push"]([e,t,arguments]),a}}function t(n,i,r){return r=r||o,function(e,t){return t&&me(t)&&(t.$$moduleName=s),r.push([n,i,arguments]),a}}if(!l)throw zo("nomod",s);var o=[],n=[],i=[],r=e("$injector","invoke","push",n),a={_invokeQueue:o,_configBlocks:n,_runBlocks:i,info:function(e){if(k(e)){if(!he(e))throw jo("aobj","value");return u=e,this}return u},requires:l,name:s,provider:t("$provide","provider"),factory:t("$provide","factory"),service:t("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),decorator:t("$provide","decorator",n),animation:t("$animateProvider","register"),filter:t("$filterProvider","register"),controller:t("$controllerProvider","register"),directive:t("$compileProvider","directive"),component:t("$compileProvider","component"),config:r,run:function(e){return i.push(e),this}};return c&&r(c),a})}}))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Ut}),e.provider("$compile",qe).directive({a:Gr,input:lo,textarea:lo,form:Yr,script:aa,select:Oo,option:ca,ngBind:uo,ngBindHtml:po,ngBindTemplate:ho,ngClass:go,ngClassEven:vo,ngClassOdd:mo,ngCloak:yo,ngController:bo,ngForm:Xr,ngHide:Qo,ngIf:So,ngInclude:$o,ngInit:ko,ngNonBindable:Go,ngPluralize:Yo,ngRef:Ko,ngRepeat:Zo,ngShow:Jo,ngStyle:ea,ngSwitch:ta,ngSwitchWhen:na,ngSwitchDefault:ia,ngOptions:qo,ngTransclude:oa,ngModel:Ro,ngList:Co,ngChange:fo,pattern:No,ngPattern:No,required:Lo,ngRequired:Lo,minlength:Ho,ngMinlength:Ho,maxlength:Vo,ngMaxlength:Vo,ngValue:ao,ngModelOptions:Fo}).directive({ngInclude:Eo}).directive(Ur).directive(wo),e.provider({$anchorScroll:He,$animate:Qi,$animateCss:Zi,$$animateJs:qi,$$animateQueue:Yi,$$AnimateRunner:Ki,$$animateAsyncRun:Xi,$browser:Ge,$cacheFactory:Ue,$controller:Je,$document:Qe,$$isDocumentHidden:et,$exceptionHandler:tt,$filter:on,$$forceReflow:nr,$interpolate:ht,$interval:pt,$http:ct,$httpParamSerializer:it,$httpParamSerializerJQLike:rt,$httpBackend:dt,$xhrFactory:ut,$jsonpCallbacks:fr,$location:kt,$log:At,$parse:Vt,$rootScope:Gt,$q:Ht,$$q:Bt,$sce:Yt,$sceDelegate:qt,$sniffer:Xt,$templateCache:We,$templateRequest:Kt,$$testability:Zt,$timeout:Jt,$window:tn,$$rAF:jt,$$jqLite:Fe,$$Map:Hi,$$cookieReader:rn})}])).info({angularVersion:"1.7.2"}),ri.module("ngLocale",[],["$provide",function(e){e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONEMONTH:"January February March April May June July August September October November December".split(" "),WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,t){var n=0|e,i=t;return void 0===i&&(i=Math.min(function(e){var t=(e+="").indexOf(".");return-1==t?0:e.length-t-1}(e),3)),Math.pow(10,i),1==n&&0==i?"one":"other"}})}]),Gn(function(){P(oe.document,_)}))}(window),window.angular.$$csp().noInlineStyle||window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>');var HighchartsAdapter=function(){var a,u,o=document,n=[],s=[],r={};function i(e){function s(e,t,n){e.removeEventListener(t,n,!1)}function l(e,t,n){n=e.HCProxiedMethods[n.toString()],e.detachEvent("on"+t,n)}function r(e,t){var n,i,r,o,a=e.HCEvents;if(e.removeEventListener)n=s;else{if(!e.attachEvent)return;n=l}for(o in t?(i={})[t]=!0:i=a,i)if(a[o])for(r=a[o].length;r--;)n(e,o,a[o][r])}return e.HCExtended||Highcharts.extend(e,{HCExtended:!0,HCEvents:{},bind:function(e,t){var n,i=this,r=this.HCEvents;i.addEventListener?i.addEventListener(e,t,!1):i.attachEvent&&(n=function(e){e.target=e.srcElement||window,t.call(i,e)},i.HCProxiedMethods||(i.HCProxiedMethods={}),i.HCProxiedMethods[t.toString()]=n,i.attachEvent("on"+e,n)),void 0===r[e]&&(r[e]=[]),r[e].push(t)},unbind:function(e,t){var n,i;e?(n=this.HCEvents[e]||[],t?(-1<(i=HighchartsAdapter.inArray(t,n))&&(n.splice(i,1),this.HCEvents[e]=n),this.removeEventListener?s(this,e,t):this.attachEvent&&l(this,e,t)):(r(this,e),this.HCEvents[e]=[])):(r(this),this.HCEvents={})},trigger:function(e,t){var n,i,r,o=this.HCEvents[e]||[],a=o.length;for(i=function(){t.defaultPrevented=!0},n=0;n<a;n++){if(r=o[n],t.stopped)return;t.preventDefault=i,t.target=this,t.type||(t.type=e),!1===r.call(this,t)&&t.preventDefault()}}}),e}return Math.easeInOutSine=function(e,t,n,i){return-n/2*(Math.cos(Math.PI*e/i)-1)+t},{init:function(c){o.defaultView||(this._getStyle=function(e,t){var n;return e.style[t]?e.style[t]:("opacity"===t&&(t="filter"),n=e.currentStyle[t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()})],"filter"===t&&(n=n.replace(/alpha\(opacity=([0-9]+)\)/,function(e,t){return t/100})),""===n?1:n)},this.adapterRun=function(e,t){var n={width:"clientWidth",height:"clientHeight"}[t];if(n)return e.style.zoom=1,e[n]-2*parseInt(HighchartsAdapter._getStyle(e,"padding"),10)}),Array.prototype.forEach||(this.each=function(e,t){for(var n=0,i=e.length;n<i;n++)if(!1===t.call(e[n],e[n],n,e))return n}),Array.prototype.indexOf||(this.inArray=function(e,t){var n,i=0;if(t)for(n=t.length;i<n;i++)if(t[i]===e)return i;return-1}),Array.prototype.filter||(this.grep=function(e,t){for(var n=[],i=0,r=e.length;i<r;i++)t(e[i],i)&&n.push(e[i]);return n}),(u=function(e,t,n){this.options=t,this.elem=e,this.prop=n}).prototype={update:function(){var e,t=this.paths,n=this.elem,i=n.element;r[this.prop]?r[this.prop](this):t&&i?n.attr("d",c.step(t[0],t[1],this.now,this.toD)):n.attr?i&&n.attr(this.prop,this.now):((e={})[this.prop]=this.now+this.unit,Highcharts.css(n,e)),this.options.step&&this.options.step.call(this.elem,this.now,this)},custom:function(e,t,n){function i(e){return o.step(e)}var r,o=this;this.startTime=+new Date,this.start=e,this.end=t,this.unit=n,this.now=this.start,this.pos=this.state=0,i.elem=this.elem,i()&&1===s.push(i)&&(a=setInterval(function(){for(r=0;r<s.length;r++)s[r]()||s.splice(r--,1);s.length||clearInterval(a)},13))},step:function(e){var t,n,i,r=+new Date,o=this.options,a=this.elem;if(a.stopAnimation||a.attr&&!a.element)t=!1;else if(e||r>=o.duration+this.startTime){for(i in this.now=this.end,this.pos=this.state=1,this.update(),n=this.options.curAnim[this.prop]=!0,o.curAnim)!0!==o.curAnim[i]&&(n=!1);n&&o.complete&&o.complete.call(a),t=!1}else{var s=r-this.startTime;this.state=s/o.duration,this.pos=o.easing(s,0,1,o.duration),this.now=this.start+(this.end-this.start)*this.pos,this.update(),t=!0}return t}},this.animate=function(e,t,n){var i,r,o,a,s,l="";for(s in e.stopAnimation=!1,"object"==typeof n&&null!==n||(n={duration:(a=arguments)[2],easing:a[3],complete:a[4]}),"number"!=typeof n.duration&&(n.duration=400),n.easing=Math[n.easing]||Math.easeInOutSine,n.curAnim=Highcharts.extend({},t),t)o=new u(e,n,s),r=null,"d"===s?(o.paths=c.init(e,e.d,t.d),o.toD=t.d,i=0,r=1):e.attr?i=e.attr(s):(i=parseFloat(HighchartsAdapter._getStyle(e,s))||0,"opacity"!==s&&(l="px")),r=r||t[s],o.custom(i,r,l)}},_getStyle:function(e,t){return window.getComputedStyle(e,void 0).getPropertyValue(t)},addAnimSetter:function(e,t){r[e]=t},getScript:function(e,t){var n=o.getElementsByTagName("head")[0],i=o.createElement("script");i.type="text/javascript",i.src=e,i.onload=t,n.appendChild(i)},inArray:function(e,t){return t.indexOf?t.indexOf(e):n.indexOf.call(t,e)},adapterRun:function(e,t){return parseInt(HighchartsAdapter._getStyle(e,t),10)},grep:function(e,t){return n.filter.call(e,t)},map:function(e,t){for(var n=[],i=0,r=e.length;i<r;i++)n[i]=t.call(e[i],e[i],i,e);return n},offset:function(e){var t=document.documentElement,n=e.getBoundingClientRect();return{top:n.top+(window.pageYOffset||t.scrollTop)-(t.clientTop||0),left:n.left+(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}},addEvent:function(e,t,n){i(e).bind(t,n)},removeEvent:function(e,t,n){i(e).unbind(t,n)},fireEvent:function(e,t,n,i){var r;o.createEvent&&(e.dispatchEvent||e.fireEvent)?((r=o.createEvent("Events")).initEvent(t,!0,!0),r.target=e,Highcharts.extend(r,n),e.dispatchEvent?e.dispatchEvent(r):e.fireEvent(t,r)):!0===e.HCExtended&&(n=n||{},e.trigger(t,n)),n&&n.defaultPrevented&&(i=null),i&&i(n)},washMouseEvent:function(e){return e},stop:function(e){e.stopAnimation=!0},each:function(e,t){return Array.prototype.forEach.call(e,t)}}}();if(function(){function f(){return R}var R,c,v,t,O,T,x,e,M,n,C,m,y,b,w,S,$,E,k,A,D,P,_,I,F,L,N=document,d=window,V=Math,j=V.round,H=V.floor,B=V.ceil,G=V.max,U=V.min,W=V.abs,z=V.cos,q=V.sin,Y=V.PI,g=2*Y/360,u=navigator.userAgent,o=d.opera,X=/(msie|trident)/i.test(u)&&!o,h=8===N.documentMode,K=/AppleWebKit/.test(u),Z=/Firefox/.test(u),J=/(Mobile|Android|Windows Phone)/.test(u),Q="http://www.w3.org/2000/svg",ee=!!N.createElementNS&&!!N.createElementNS(Q,"svg").createSVGRect,i=Z&&parseInt(u.split("Firefox/")[1],10)<4,p=!ee&&!X&&!!N.createElement("canvas").getContext,te={},ne=0,ie=[],l=0,re="div",oe="absolute",ae="relative",se="hidden",le="highcharts-",ce="visible",ue="px",de="none",he="M",pe="L",fe=/^[0-9]+$/,ge="hover",me="select",s=["plotTop","marginRight","marginBottom","plotLeft"],ve={};(L=d.Highcharts=d.Highcharts?Ue(16,!0):{}).seriesTypes=ve;var ye=L.extend=function(e,t){var n;for(n in e=e||{},t)e[n]=t[n];return e};function be(){var e,t,n=arguments,i={},r=function(e,t){var n,i;for(i in"object"!=typeof e&&(e={}),t)t.hasOwnProperty(i)&&((n=t[i])&&"object"==typeof n&&"[object Array]"!==Object.prototype.toString.call(n)&&"renderTo"!==i&&"number"!=typeof n.nodeType?e[i]=r(e[i]||{},n):e[i]=t[i]);return e};for(!0===n[0]&&(i=n[1],n=Array.prototype.slice.call(n,2)),t=n.length,e=0;e<t;e++)i=r(i,n[e]);return i}function we(e,t){return parseInt(e,t||10)}function xe(e){return"string"==typeof e}function Ce(e){return e&&"object"==typeof e}function Se(e){return"[object Array]"===Object.prototype.toString.call(e)}function $e(e){return"number"==typeof e}function Ee(e){return V.log(e)/V.LN10}function ke(e){return V.pow(10,e)}function Ae(e,t){for(var n=e.length;n--;)if(e[n]===t){e.splice(n,1);break}}function Te(e){return e!==R&&null!==e}function Me(e,t,n){var i,r;if(xe(t))Te(n)?e.setAttribute(t,n):e&&e.getAttribute&&(r=e.getAttribute(t));else if(Te(t)&&Ce(t))for(i in t)e.setAttribute(i,t[i]);return r}function De(e){return Se(e)?e:[e]}var Pe=L.pick=function(){var e,t,n=arguments,i=n.length;for(e=0;e<i;e++)if((t=n[e])!==R&&null!==t)return t};function _e(e,t){X&&!ee&&t&&t.opacity!==R&&(t.filter="alpha(opacity="+100*t.opacity+")"),ye(e.style,t)}function Re(e,t,n,i,r){var o=N.createElement(e);return t&&ye(o,t),r&&_e(o,{padding:0,border:de,margin:0}),n&&_e(o,n),i&&i.appendChild(o),o}function r(e,t){function n(){return R}return n.prototype=new e,ye(n.prototype,t),n}function Ie(e,t){return new Array((t||2)+1-String(e).length).join(0)+e}var Fe,Oe=L.wrap=function(e,t,n){var i=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(i),n.apply(this,e)}};function Le(e){return 6e4*(b&&b(e)||y||0)}function Ne(e,t){for(var n,i,r,o,a,s,l,c,u,d,h,p="{",f=!1,g=[];-1!==(l=e.indexOf(p));){if(n=e.slice(0,l),f){for(a=(r=(i=n.split(":")).shift().split(".")).length,s=t,o=0;o<a;o++)s=s[r[o]];i.length&&(c=i.join(":"),u=s,d=void 0,h=O.lang,/f$/.test(c)?(d=(d=c.match(/\.([0-9])/))?d[1]:-1,null!==u&&(u=L.numberFormat(u,d,h.decimalPoint,-1<c.indexOf(",")?h.thousandsSep:""))):u=T(c,u),s=u),g.push(s)}else g.push(n);e=e.slice(l+1),p=(f=!f)?"}":"{"}return g.push(e),g.join("")}function Ve(e){return V.pow(10,H(V.log(e)/V.LN10))}function He(e,t,n,i,r){var o,a,s=e;for(o=e/(n=Pe(n,1)),t||!(t=[1,2,2.5,5,10])===i&&(1===n?t=[1,2,5,10]:n<=.1&&(t=[1/n])),a=0;a<t.length&&(s=t[a],!(r&&e<=s*n||!r&&o<=(t[a]+(t[a+1]||t[a]))/2));a++);return s*=n}function Be(e,n){var i,t,r=e.length;for(t=0;t<r;t++)e[t].ss_i=t;for(e.sort(function(e,t){return 0===(i=n(e,t))?e.ss_i-t.ss_i:i}),t=0;t<r;t++)delete e[t].ss_i}function ze(e){for(var t=e.length,n=e[0];t--;)e[t]<n&&(n=e[t]);return n}function je(e){for(var t=e.length,n=e[0];t--;)e[t]>n&&(n=e[t]);return n}function a(e,t){var n;for(n in e)e[n]&&e[n]!==t&&e[n].destroy&&e[n].destroy(),delete e[n]}function Ge(e){t=t||Re(re),e&&t.appendChild(e),t.innerHTML=""}function Ue(e,t){var n="Highcharts error #"+e+": www.highcharts.com/errors/"+e;if(t)throw n;d.console&&console.log(n)}function We(e){return parseFloat(e.toPrecision(14))}function qe(e,t){x=Pe(e,t.animation)}T=function(e,t,n){if(!Te(t)||isNaN(t))return"Invalid date";e=Pe(e,"%Y-%m-%d %H:%M:%S");var i,r=new C(t-Le(t)),o=r[S](),a=r[$](),s=r[E](),l=r[k](),c=r[A](),u=O.lang,d=u.weekdays,h=ye({a:d[a].substr(0,3),A:d[a],d:Ie(s),e:s,w:a,b:u.shortMonths[l],B:u.months[l],m:Ie(l+1),y:c.toString().substr(2,2),Y:c,H:Ie(o),I:Ie(o%12||12),l:o%12||12,M:Ie(r[w]()),p:o<12?"AM":"PM",P:o<12?"am":"pm",S:Ie(r.getSeconds()),L:Ie(j(t%1e3),3)},L.dateFormats);for(i in h)for(;-1!==e.indexOf("%"+i);)e=e.replace("%"+i,"function"==typeof h[i]?h[i](t):h[i]);return n?e.substr(0,1).toUpperCase()+e.substr(1):e},M={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},L.numberFormat=function(e,t,n,i){var r=O.lang,o=+e||0,a=-1===t?U((o.toString().split(".")[1]||"").length,20):isNaN(t=W(t))?2:t,s=void 0===n?r.decimalPoint:n,l=void 0===i?r.thousandsSep:i,c=o<0?"-":"",u=String(we(o=W(o).toFixed(a))),d=3<u.length?u.length%3:0;return c+(d?u.substr(0,d)+l:"")+u.substr(d).replace(/(\d{3})(?=\d)/g,"$1"+l)+(a?s+W(o-u).toFixed(a).slice(2):"")},e={init:function(e,t,n){t=t||"";function i(e){for(a=e.length;a--;)e[a]===he&&e.splice(a+1,0,e[a+1],e[a+2],e[a+1],e[a+2])}var r,o,a,s,l,c=e.shift,u=-1<t.indexOf("C"),d=u?7:3,h=t.split(" "),p=[].concat(n);if(u&&(i(h),i(p)),e.isArea&&(s=h.splice(h.length-6,6),l=p.splice(p.length-6,6)),c<=p.length/d&&h.length===p.length)for(;c--;)p=[].concat(p).splice(0,d).concat(p);if(e.shift=0,h.length)for(r=p.length;h.length<r;)o=[].concat(h).splice(h.length-d,d),u&&(o[d-6]=o[d-2],o[d-5]=o[d-1]),h=h.concat(o);return s&&(h=h.concat(s),p=p.concat(l)),[h,p]},step:function(e,t,n,i){var r,o=[],a=e.length;if(1===n)o=i;else if(a===t.length&&n<1)for(;a--;)r=parseFloat(e[a]),o[a]=isNaN(r)?e[a]:n*parseFloat(t[a]-r)+r;else o=t;return o}},Fe=d.jQuery,d.HighchartsAdapter=d.HighchartsAdapter||Fe&&{init:function(i){var t=Fe.fx;Fe.extend(Fe.easing,{easeOutQuad:function(e,t,n,i,r){return-i*(t/=r)*(t-2)+n}}),Fe.each(["cur","_default","width","height","opacity"],function(n,i){var r,e=t.step;"cur"===i?e=t.prototype:"_default"===i&&Fe.Tween&&(e=Fe.Tween.propHooks[i],i="set"),(r=e[i])&&(e[i]=function(e){var t;if("align"!==(e=n?e:this).prop)return(t=e.elem).attr?t.attr(e.prop,"cur"===i?R:e.now):r.apply(this,arguments)})}),Oe(Fe.cssHooks.opacity,"get",function(e,t,n){return t.attr?t.opacity||0:e.call(this,t,n)}),this.addAnimSetter("d",function(e){var t,n=e.elem;e.started||(t=i.init(n,n.d,n.toD),e.start=t[0],e.end=t[1],e.started=!0),n.attr("d",i.step(e.start,e.end,e.pos,n.toD))}),this.each=Array.prototype.forEach?function(e,t){return Array.prototype.forEach.call(e,t)}:function(e,t){var n,i=e.length;for(n=0;n<i;n++)if(!1===t.call(e[n],e[n],n,e))return n},Fe.fn.highcharts=function(){var e,t,n="Chart",i=arguments;return this[0]&&(xe(i[0])&&(n=i[0],i=Array.prototype.slice.call(i,1)),(e=i[0])!==R&&(e.chart=e.chart||{},e.chart.renderTo=this[0],new L[n](e,i[1]),t=this),e===R&&(t=ie[Me(this[0],"data-highcharts-chart")])),t}},addAnimSetter:function(e,t){Fe.Tween?Fe.Tween.propHooks[e]={set:t}:Fe.fx.step[e]=t},getScript:Fe.getScript,inArray:Fe.inArray,adapterRun:function(e,t){return Fe(e)[t]()},grep:Fe.grep,map:function(e,t){for(var n=[],i=0,r=e.length;i<r;i++)n[i]=t.call(e[i],e[i],i,e);return n},offset:function(e){return Fe(e).offset()},addEvent:function(e,t,n){Fe(e).bind(t,n)},removeEvent:function(e,t,n){var i=N.removeEventListener?"removeEventListener":"detachEvent";N[i]&&e&&!e[i]&&(e[i]=function(){}),Fe(e).unbind(t,n)},fireEvent:function(e,t,n,i){var r,o=Fe.Event(t),a="detached"+t;!X&&n&&(delete n.layerX,delete n.layerY,delete n.returnValue),ye(o,n),e[t]&&(e[a]=e[t],e[t]=null),Fe.each(["preventDefault","stopPropagation"],function(e,t){var n=o[t];o[t]=function(){try{n.call(o)}catch(e){"preventDefault"===t&&(r=!0)}}}),Fe(e).trigger(o),e[a]&&(e[t]=e[a],e[a]=null),!i||o.isDefaultPrevented()||r||i(o)},washMouseEvent:function(e){var t=e.originalEvent||e;return t.pageX===R&&(t.pageX=e.pageX,t.pageY=e.pageY),t},animate:function(e,t,n){var i=Fe(e);e.style||(e.style={}),t.d&&(e.toD=t.d,t.d=1),i.stop(),t.opacity!==R&&e.attr&&(t.opacity+="px"),e.hasAnim=1,i.animate(t,n)},stop:function(e){e.hasAnim&&Fe(e).stop()}};var Ye=d.HighchartsAdapter,Xe=Ye||{};Ye&&Ye.init.call(Ye,e);var Ke=Xe.adapterRun,Ze=Xe.getScript,Je=Xe.inArray,Qe=L.each=Xe.each,et=Xe.grep,tt=Xe.offset,nt=Xe.map,it=Xe.addEvent,rt=Xe.removeEvent,ot=Xe.fireEvent,at=Xe.washMouseEvent,st=Xe.animate,lt=Xe.stop,ct=(O={colors:["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/stock/2.1.4/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/stock/2.1.4/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":L.numberFormat(this.y,-1)},style:{color:"contrast",fontSize:"11px",fontWeight:"bold",textShadow:"0 0 6px contrast, 0 0 3px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:oe,color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:oe,width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:ae,top:"45%"},style:{position:oe,backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:ee,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}"></span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:J?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}}).plotOptions,ut=ct.line;function dt(){var e=O.global,s=e.useUTC,t=s?"getUTC":"get",n=s?"setUTC":"set";C=e.Date||window.Date,y=s&&e.timezoneOffset,b=s&&e.getTimezoneOffset,m=function(e,t,n,i,r,o){var a;return s?(a=C.UTC.apply(0,arguments),a+=Le(a)):a=new C(e,t,Pe(n,1),Pe(i,0),Pe(r,0),Pe(o,0)).getTime(),a},w=t+"Minutes",S=t+"Hours",$=t+"Day",E=t+"Date",k=t+"Month",A=t+"FullYear",D=n+"Minutes",P=n+"Hours",_=n+"Date",I=n+"Month",F=n+"FullYear"}dt();var ht=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,pt=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,ft=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,gt=function(e){var t,r,n,o=[];return(n=e)&&n.stops?r=nt(n.stops,function(e){return gt(e[1])}):(t=ht.exec(n))?o=[we(t[1]),we(t[2]),we(t[3]),parseFloat(t[4],10)]:(t=pt.exec(n))?o=[we(t[1],16),we(t[2],16),we(t[3],16),1]:(t=ft.exec(n))&&(o=[we(t[1]),we(t[2]),we(t[3]),1]),{get:function(n){var i;return r?((i=be(e)).stops=[].concat(i.stops),Qe(r,function(e,t){i.stops[t]=[i.stops[t][0],e.get(n)]})):i=o&&!isNaN(o[0])?"rgb"===n?"rgb("+o[0]+","+o[1]+","+o[2]+")":"a"===n?o[3]:"rgba("+o.join(",")+")":e,i},brighten:function(t){if(r)Qe(r,function(e){e.brighten(t)});else if($e(t)&&0!==t){var e;for(e=0;e<3;e++)o[e]+=we(255*t),o[e]<0&&(o[e]=0),255<o[e]&&(o[e]=255)}return this},rgba:o,setOpacity:function(e){return o[3]=e,this},raw:e}};function mt(){}(mt.prototype={opacity:1,textProps:["fontSize","fontWeight","fontFamily","color","lineHeight","width","textDecoration","textShadow"],init:function(e,t){this.element="span"===t?Re(t):N.createElementNS(Q,t),this.renderer=e},animate:function(e,t,n){var i=Pe(t,x,!0);return lt(this),i?(i=be(i,{}),n&&(i.complete=n),st(this,e,i)):(this.attr(e),n&&n()),this},colorGradient:function(e,t,n){var i,r,o,a,s,l,c,u,d,h,p,f=this.renderer,g=[];if(e.linearGradient?r="linearGradient":e.radialGradient&&(r="radialGradient"),r){for(h in o=e[r],a=f.gradients,l=e.stops,d=n.radialReference,Se(o)&&(e[r]=o={x1:o[0],y1:o[1],x2:o[2],y2:o[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===r&&d&&!Te(o.gradientUnits)&&(o=be(o,{cx:d[0]-d[2]/2+o.cx*d[2],cy:d[1]-d[2]/2+o.cy*d[2],r:o.r*d[2],gradientUnits:"userSpaceOnUse"})),o)"id"!==h&&g.push(h,o[h]);for(h in l)g.push(l[h]);a[g=g.join(",")]?p=a[g].attr("id"):(o.id=p=le+ne++,a[g]=s=f.createElement(r).attr(o).add(f.defs),s.stops=[],Qe(l,function(e){var t;u=0===e[1].indexOf("rgba")?(i=gt(e[1]),c=i.get("rgb"),i.get("a")):(c=e[1],1),t=f.createElement("stop").attr({offset:e[0],"stop-color":c,"stop-opacity":u}).add(s),s.stops.push(t)})),n.setAttribute(t,"url("+f.url+"#"+p+")")}},applyTextShadow:function(e){var t,a=this.element,n=-1!==e.indexOf("contrast"),i=this.renderer.forExport||a.style.textShadow!==R&&!X;n&&(e=e.replace(/contrast/g,this.renderer.getContrast(a.style.fill))),i?n&&_e(a,{textShadow:e}):(this.fakeTS=!0,this.ySetter=this.xSetter,t=[].slice.call(a.getElementsByTagName("tspan")),Qe(e.split(/\s?,\s?/g),function(e){var i,r,o=a.firstChild;e=e.split(" "),i=e[e.length-1],(r=e[e.length-2])&&Qe(t,function(e,t){var n;0===t&&(e.setAttribute("x",a.getAttribute("x")),t=a.getAttribute("y"),e.setAttribute("y",t||0),null===t&&a.setAttribute("y",0)),Me(n=e.cloneNode(1),{class:le+"text-shadow",fill:i,stroke:i,"stroke-opacity":1/G(we(r),3),"stroke-width":r,"stroke-linejoin":"round"}),a.insertBefore(n,o)})}))},attr:function(e,t){var n,i,r,o,a=this.element,s=this;if("string"==typeof e&&t!==R&&(n=e,(e={})[n]=t),"string"==typeof e)s=(this[e+"Getter"]||this._defaultGetter).call(this,e,a);else{for(n in e)i=e[n],o=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(n)&&(r||(this.symbolAttr(e),r=!0),o=!0),!this.rotation||"x"!==n&&"y"!==n||(this.doTransform=!0),o||(this[n+"Setter"]||this._defaultSetter).call(this,i,n,a),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(n)&&this.updateShadows(n,i);this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return s},updateShadows:function(e,t){for(var n=this.shadows,i=n.length;i--;)n[i].setAttribute(e,"height"===e?G(t-(n[i].cutHeight||0),0):"d"===e?this.d:t)},addClass:function(e){var t=this.element,n=Me(t,"class")||"";return-1===n.indexOf(e)&&Me(t,"class",n+" "+e),this},symbolAttr:function(t){var n=this;Qe(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],function(e){n[e]=Pe(t[e],n[e])}),n.attr({d:n.renderer.symbols[n.symbolName](n.x,n.y,n.width,n.height,n)})},clip:function(e){return this.attr("clip-path",e?"url("+this.renderer.url+"#"+e.id+")":de)},crisp:function(e){var t,n,i={},r=e.strokeWidth||this.strokeWidth||0;for(t in n=j(r)%2/2,e.x=H(e.x||this.x||0)+n,e.y=H(e.y||this.y||0)+n,e.width=H((e.width||this.width||0)-2*n),e.height=H((e.height||this.height||0)-2*n),e.strokeWidth=r,e)this[t]!==e[t]&&(this[t]=i[t]=e[t]);return i},css:function(e){var t,n,i,r=this,o=r.styles,a={},s=r.element,l="",c=!o;if(e&&e.color&&(e.fill=e.color),o)for(n in e)e[n]!==o[n]&&(a[n]=e[n],c=!0);if(c){if(t=r.textWidth=e&&e.width&&"text"===s.nodeName.toLowerCase()&&we(e.width)||r.textWidth,o&&(e=ye(o,a)),r.styles=e,t&&(p||!ee&&r.renderer.forExport)&&delete e.width,X&&!ee)_e(r.element,e);else{for(n in i=function(e,t){return"-"+t.toLowerCase()},e)l+=n.replace(/([A-Z])/g,i)+":"+e[n]+";";Me(s,"style",l)}t&&r.added&&r.renderer.buildText(r)}return r},on:function(e,t){var n=this,i=n.element;return v&&"click"===e?(i.ontouchstart=function(e){n.touchEventFired=C.now(),e.preventDefault(),t.call(i,e)},i.onclick=function(e){(-1===u.indexOf("Android")||1100<C.now()-(n.touchEventFired||0))&&t.call(i,e)}):i["on"+e]=t,this},setRadialReference:function(e){return this.element.radialReference=e,this},translate:function(e,t){return this.attr({translateX:e,translateY:t})},invert:function(){return this.inverted=!0,this.updateTransform(),this},updateTransform:function(){var e,t=this.translateX||0,n=this.translateY||0,i=this.scaleX,r=this.scaleY,o=this.inverted,a=this.rotation,s=this.element;o&&(t+=this.attr("width"),n+=this.attr("height")),e=["translate("+t+","+n+")"],o?e.push("rotate(90) scale(-1,1)"):a&&e.push("rotate("+a+" "+(s.getAttribute("x")||0)+" "+(s.getAttribute("y")||0)+")"),(Te(i)||Te(r))&&e.push("scale("+Pe(i,1)+" "+Pe(r,1)+")"),e.length&&s.setAttribute("transform",e.join(" "))},toFront:function(){var e=this.element;return e.parentNode.appendChild(e),this},align:function(e,t,n){var i,r,o,a,s,l={},c=this.renderer,u=c.alignedObjects;return e?(this.alignOptions=e,this.alignByTranslate=t,n&&!xe(n)||(this.alignTo=s=n||"renderer",Ae(u,this),u.push(this),n=null)):(e=this.alignOptions,t=this.alignByTranslate,s=this.alignTo),n=Pe(n,c[s],c),i=e.align,r=e.verticalAlign,o=(n.x||0)+(e.x||0),a=(n.y||0)+(e.y||0),"right"!==i&&"center"!==i||(o+=(n.width-(e.width||0))/{right:1,center:2}[i]),l[t?"translateX":"x"]=j(o),"bottom"!==r&&"middle"!==r||(a+=(n.height-(e.height||0))/({bottom:1,middle:2}[r]||1)),l[t?"translateY":"y"]=j(a),this[this.placed?"animate":"attr"](l),this.placed=!0,this.alignAttr=l,this},getBBox:function(e){var t,n,i,r,o,a,s=this.renderer,l=this.rotation,c=this.element,u=this.styles,d=l*g,h=this.textStr,p=c.style;if(h!==R&&(a=["",l||0,u&&u.fontSize,c.style.width].join(","),a=""===h||fe.test(h)?"num:"+h.toString().length+a:h+a),a&&!e&&(t=s.cache[a]),!t){if(c.namespaceURI===Q||s.forExport){try{o=this.fakeTS&&function(t){Qe(c.querySelectorAll("."+le+"text-shadow"),function(e){e.style.display=t})},Z&&p.textShadow?(r=p.textShadow,p.textShadow=""):o&&o(de),t=c.getBBox?ye({},c.getBBox()):{width:c.offsetWidth,height:c.offsetHeight},r?p.textShadow=r:o&&o("")}catch(e){}(!t||t.width<0)&&(t={width:0,height:0})}else t=this.htmlGetBBox();s.isSVG&&(n=t.width,i=t.height,X&&u&&"11px"===u.fontSize&&"16.9"===i.toPrecision(3)&&(t.height=i=14),l&&(t.width=W(i*q(d))+W(n*z(d)),t.height=W(i*z(d))+W(n*q(d)))),s.cache[a]=t}return t},show:function(e){return e&&this.element.namespaceURI===Q?this.element.removeAttribute("visibility"):this.attr({visibility:e?"inherit":ce}),this},hide:function(){return this.attr({visibility:se})},fadeOut:function(e){var t=this;t.animate({opacity:0},{duration:e||150,complete:function(){t.attr({y:-9999})}})},add:function(e){var t,n=this.renderer,i=this.element;return e&&(this.parentGroup=e),this.parentInverted=e&&e.inverted,void 0!==this.textStr&&n.buildText(this),this.added=!0,e&&!e.handleZ&&!this.zIndex||(t=this.zIndexSetter()),t||(e?e.element:n.box).appendChild(i),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(e){var t=e.parentNode;t&&t.removeChild(e)},destroy:function(){var e,t,n,i=this,r=i.element||{},o=i.shadows,a=i.renderer.isSVG&&"SPAN"===r.nodeName&&i.parentGroup;if(r.onclick=r.onmouseout=r.onmouseover=r.onmousemove=r.point=null,lt(i),i.clipPath&&(i.clipPath=i.clipPath.destroy()),i.stops){for(n=0;n<i.stops.length;n++)i.stops[n]=i.stops[n].destroy();i.stops=null}for(i.safeRemoveChild(r),o&&Qe(o,function(e){i.safeRemoveChild(e)});a&&a.div&&0===a.div.childNodes.length;)e=a.parentGroup,i.safeRemoveChild(a.div),delete a.div,a=e;for(t in i.alignTo&&Ae(i.renderer.alignedObjects,i),i)delete i[t];return null},shadow:function(e,t,n){var i,r,o,a,s,l,c=[],u=this.element;if(e){for(a=Pe(e.width,3),s=(e.opacity||.15)/a,l=this.parentInverted?"(-1,-1)":"("+Pe(e.offsetX,1)+", "+Pe(e.offsetY,1)+")",i=1;i<=a;i++)o=2*a+1-2*i,Me(r=u.cloneNode(0),{isShadow:"true",stroke:e.color||"black","stroke-opacity":s*i,"stroke-width":o,transform:"translate"+l,fill:de}),n&&(Me(r,"height",G(Me(r,"height")-o,0)),r.cutHeight=o),t?t.element.appendChild(r):u.parentNode.insertBefore(r,u),c.push(r);this.shadows=c}return this},xGetter:function(e){return"circle"===this.element.nodeName&&(e={x:"cx",y:"cy"}[e]||e),this._defaultGetter(e)},_defaultGetter:function(e){var t=Pe(this[e],this.element?this.element.getAttribute(e):null,0);return/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t},dSetter:function(e,t,n){e&&e.join&&(e=e.join(" ")),/(NaN| {2}|^$)/.test(e)&&(e="M 0 0"),n.setAttribute(t,e),this[t]=e},dashstyleSetter:function(e){var t;if(e=e&&e.toLowerCase()){for(t=(e=e.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",")).length;t--;)e[t]=we(e[t])*this["stroke-width"];e=e.join(",").replace("NaN","none"),this.element.setAttribute("stroke-dasharray",e)}},alignSetter:function(e){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[e])},opacitySetter:function(e,t,n){this[t]=e,n.setAttribute(t,e)},titleSetter:function(e){var t=this.element.getElementsByTagName("title")[0];t||(t=N.createElementNS(Q,"title"),this.element.appendChild(t)),t.textContent=String(Pe(e),"").replace(/<[^>]*>/g,"")},textSetter:function(e){e!==this.textStr&&(delete this.bBox,this.textStr=e,this.added&&this.renderer.buildText(this))},fillSetter:function(e,t,n){"string"==typeof e?n.setAttribute(t,e):e&&this.colorGradient(e,t,n)},zIndexSetter:function(e,t){var n,i,r,o,a,s=this.renderer,l=this.parentGroup,c=(l||s).element||s.box,u=this.element,d=this.added;if(Te(e)&&(u.setAttribute(t,e),e=+e,this[t]===e&&(d=!1),this[t]=e),d){for((e=this.zIndex)&&l&&(l.handleZ=!0),n=c.childNodes,a=0;a<n.length&&!o;a++)r=Me(i=n[a],"zIndex"),i!==u&&(we(r)>e||!Te(e)&&Te(r))&&(c.insertBefore(u,i),o=!0);o||c.appendChild(u)}return o},_defaultSetter:function(e,t,n){n.setAttribute(t,e)}}).yGetter=mt.prototype.xGetter,mt.prototype.translateXSetter=mt.prototype.translateYSetter=mt.prototype.rotationSetter=mt.prototype.verticalAlignSetter=mt.prototype.scaleXSetter=mt.prototype.scaleYSetter=function(e,t){this[t]=e,this.doTransform=!0},mt.prototype["stroke-widthSetter"]=mt.prototype.strokeSetter=function(e,t,n){this[t]=e,this.stroke&&this["stroke-width"]?(this.strokeWidth=this["stroke-width"],mt.prototype.fillSetter.call(this,this.stroke,"stroke",n),n.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===t&&0===e&&this.hasStroke&&(n.removeAttribute("stroke"),this.hasStroke=!1)};function vt(){this.init.apply(this,arguments)}var yt,bt,wt,xt,Ct;if(vt.prototype={Element:mt,init:function(e,t,n,i,r){var o,a,s,l,c=this,u=location;a=(o=c.createElement("svg").attr({version:"1.1"}).css(this.getStyle(i))).element,e.appendChild(a),-1===e.innerHTML.indexOf("xmlns")&&Me(a,"xmlns",Q),c.isSVG=!0,c.box=a,c.boxWrapper=o,c.alignedObjects=[],c.url=(Z||K)&&N.getElementsByTagName("base").length?u.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(N.createTextNode("Created with Highstock 2.1.4")),c.defs=this.createElement("defs").add(),c.forExport=r,c.gradients={},c.cache={},c.setSize(t,n,!1),Z&&e.getBoundingClientRect&&(c.subPixelFix=s=function(){_e(e,{left:0,top:0}),l=e.getBoundingClientRect(),_e(e,{left:B(l.left)-l.left+ue,top:B(l.top)-l.top+ue})},s(),it(d,"resize",s))},getStyle:function(e){return this.style=ye({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},e)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var e=this,t=e.defs;return e.box=null,e.boxWrapper=e.boxWrapper.destroy(),a(e.gradients||{}),e.gradients=null,t&&(e.defs=t.destroy()),e.subPixelFix&&rt(d,"resize",e.subPixelFix),e.alignedObjects=null},createElement:function(e){var t=new this.Element;return t.init(this,e),t},draw:function(){},buildText:function(v){function y(e){return r?we(r):S.fontMetrics(/(px|em)$/.test(e&&e.style.fontSize)?e.style.fontSize:k&&k.fontSize||S.style.fontSize||12,e).h}function b(e){return e.replace(/&lt;/g,"<").replace(/&gt;/g,">")}for(var e,w,x,C=v.element,S=this,$=S.forExport,t=Pe(v.textStr,"").toString(),n=-1!==t.indexOf("<"),i=C.childNodes,E=Me(C,"x"),k=v.styles,A=v.textWidth,r=k&&k.lineHeight,o=k&&k.textShadow,T=k&&"ellipsis"===k.textOverflow,a=i.length,s=A&&!v.added&&this.box;a--;)C.removeChild(i[a]);n||o||T||-1!==t.indexOf(" ")?(w=/<.*style="([^"]+)".*>/,x=/<.*href="(http[^"]+)".*>/,s&&s.appendChild(C),""===(e=n?t.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[t])[e.length-1]&&e.pop(),Qe(e,function(e,f){var g,m=0;e=e.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),g=e.split("|||"),Qe(g,function(e){if(""!==e||1===g.length){var t,n={},i=N.createElementNS(Q,"tspan");if(w.test(e)&&Me(i,"style",t=e.match(w)[1].replace(/(;| |^)color([ :])/,"$1fill$2")),x.test(e)&&!$&&(Me(i,"onclick",'location.href="'+e.match(x)[1]+'"'),_e(i,{cursor:"pointer"}))," "!==(e=b(e.replace(/<(.|\n)*?>/g,"")||" "))){if(i.appendChild(N.createTextNode(e)),m?n.dx=0:f&&null!==E&&(n.x=E),Me(i,n),C.appendChild(i),!m&&f&&(!ee&&$&&_e(i,{display:"block"}),Me(i,"dy",y(i))),A){for(var r,o,a,s=e.replace(/([^\^])-/g,"$1- ").split(" "),l=1<g.length||f||1<s.length&&"nowrap"!==k.whiteSpace,c=[],u=y(i),d=v.rotation,h=e,p=h.length;(l||T)&&(s.length||c.length);)v.rotation=0,a=v.getBBox(!0).width,!ee&&S.forExport&&(a=S.measureSpanWidth(i.firstChild.data,v.styles)),r=A<a,void 0===o&&(o=r),T&&o?(p/=2,""===h||!r&&p<.5?s=[]:(r&&(o=!0),s=[(h=e.substring(0,h.length+(r?-1:1)*B(p)))+""],i.removeChild(i.firstChild))):r&&1!==s.length?(i.removeChild(i.firstChild),c.unshift(s.pop())):(s=c,c=[],s.length&&(0,Me(i=N.createElementNS(Q,"tspan"),{dy:u,x:E}),t&&Me(i,"style",t),C.appendChild(i)),A<a&&(A=a)),s.length&&i.appendChild(N.createTextNode(s.join(" ").replace(/- /g,"-")));o&&v.attr("title",v.textStr),v.rotation=d}m++}}})}),s&&s.removeChild(C),o&&v.applyTextShadow&&v.applyTextShadow(o)):C.appendChild(N.createTextNode(b(t)))},getContrast:function(e){return 384<(e=gt(e).rgba)[0]+e[1]+e[2]?"#000":"#FFF"},button:function(e,t,n,i,r,o,a,s,l){var c,u,d,h,p,f,g=this.label(e,t,n,l,null,null,null,null,"button"),m=0,v={x1:0,y1:0,x2:0,y2:1};return r=be({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:v,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},r),d=r.style,delete r.style,o=be(r,{stroke:"#68A",fill:{linearGradient:v,stops:[[0,"#FFF"],[1,"#ACF"]]}},o),h=o.style,delete o.style,a=be(r,{stroke:"#68A",fill:{linearGradient:v,stops:[[0,"#9BD"],[1,"#CDF"]]}},a),p=a.style,delete a.style,s=be(r,{style:{color:"#CCC"}},s),f=s.style,delete s.style,it(g.element,X?"mouseover":"mouseenter",function(){3!==m&&g.attr(o).css(h)}),it(g.element,X?"mouseout":"mouseleave",function(){3!==m&&(c=[r,o,a][m],u=[d,h,p][m],g.attr(c).css(u))}),g.setState=function(e){g.state=m=e,e?2===e?g.attr(a).css(p):3===e&&g.attr(s).css(f):g.attr(r).css(d)},g.on("click",function(){3!==m&&i.call(g)}).attr(r).css(ye({cursor:"default"},d))},crispLine:function(e,t){return e[1]===e[4]&&(e[1]=e[4]=j(e[1])-t%2/2),e[2]===e[5]&&(e[2]=e[5]=j(e[2])+t%2/2),e},path:function(e){var t={fill:de};return Se(e)?t.d=e:Ce(e)&&ye(t,e),this.createElement("path").attr(t)},circle:function(e,t,n){var i=Ce(e)?e:{x:e,y:t,r:n},r=this.createElement("circle");return r.xSetter=function(e){this.element.setAttribute("cx",e)},r.ySetter=function(e){this.element.setAttribute("cy",e)},r.attr(i)},arc:function(e,t,n,i,r,o){var a;return Ce(e)&&(t=e.y,n=e.r,i=e.innerR,r=e.start,o=e.end,e=e.x),(a=this.symbol("arc",e||0,t||0,n||0,n||0,{innerR:i||0,start:r||0,end:o||0})).r=n,a},rect:function(e,t,n,i,r,o){r=Ce(e)?e.r:r;var a=this.createElement("rect"),s=Ce(e)?e:e===R?{}:{x:e,y:t,width:G(n,0),height:G(i,0)};return o!==R&&(s.strokeWidth=o,s=a.crisp(s)),r&&(s.r=r),a.rSetter=function(e){Me(this.element,{rx:e,ry:e})},a.attr(s)},setSize:function(e,t,n){var i=this.alignedObjects,r=i.length;for(this.width=e,this.height=t,this.boxWrapper[Pe(n,!0)?"animate":"attr"]({width:e,height:t});r--;)i[r].align()},g:function(e){var t=this.createElement("g");return Te(e)?t.attr({class:le+e}):t},image:function(e,t,n,i,r){var o,a={preserveAspectRatio:de};return 1<arguments.length&&ye(a,{x:t,y:n,width:i,height:r}),(o=this.createElement("image").attr(a)).element.setAttributeNS?o.element.setAttributeNS("http://www.w3.org/1999/xlink","href",e):o.element.setAttribute("hc-svg-href",e),o},symbol:function(e,t,n,i,r,o){var a,s,l,c,u=this.symbols[e],d=u&&u(j(t),j(n),i,r,o),h=/^url\((.*?)\)$/;return d?(a=this.path(d),ye(a,{symbolName:e,x:t,y:n,width:i,height:r}),o&&ye(a,o)):h.test(e)&&(c=function(e,t){e.element&&(e.attr({width:t[0],height:t[1]}),e.alignByTranslate||e.translate(j((i-t[0])/2),j((r-t[1])/2)))},s=e.match(h)[1],l=te[s]||o&&o.width&&o.height&&[o.width,o.height],(a=this.image(s).attr({x:t,y:n})).isImg=!0,l?c(a,l):(a.attr({width:0,height:0}),Re("img",{onload:function(){c(a,te[s]=[this.width,this.height])},src:s}))),a},symbols:{circle:function(e,t,n,i){var r=.166*n;return[he,e+n/2,t,"C",e+n+r,t,e+n+r,t+i,e+n/2,t+i,"C",e-r,t+i,e-r,t,e+n/2,t,"Z"]},square:function(e,t,n,i){return[he,e,t,pe,e+n,t,e+n,t+i,e,t+i,"Z"]},triangle:function(e,t,n,i){return[he,e+n/2,t,pe,e+n,t+i,e,t+i,"Z"]},"triangle-down":function(e,t,n,i){return[he,e,t,pe,e+n,t,e+n/2,t+i,"Z"]},diamond:function(e,t,n,i){return[he,e+n/2,t,pe,e+n,t+i/2,e+n/2,t+i,e,t+i/2,"Z"]},arc:function(e,t,n,i,r){var o=r.start,a=r.r||n||i,s=r.end-.001,l=r.innerR,c=r.open,u=z(o),d=q(o),h=z(s),p=q(s),f=r.end-o<Y?0:1;return[he,e+a*u,t+a*d,"A",a,a,0,f,1,e+a*h,t+a*p,c?he:pe,e+l*h,t+l*p,"A",l,l,0,f,0,e+l*u,t+l*d,c?"":"Z"]},callout:function(e,t,n,i,r){var o,a=U(r&&r.r||0,n,i),s=a+6,l=r&&r.anchorX,c=r&&r.anchorY,u=j(r.strokeWidth||0)%2/2;return o=["M",(e+=u)+a,t+=u,"L",e+n-a,t,"C",e+n,t,e+n,t,e+n,t+a,"L",e+n,t+i-a,"C",e+n,t+i,e+n,t+i,e+n-a,t+i,"L",e+a,t+i,"C",e,t+i,e,t+i,e,t+i-a,"L",e,t+a,"C",e,t,e,t,e+a,t],l&&n<l&&t+s<c&&c<t+i-s?o.splice(13,3,"L",e+n,c-6,e+n+6,c,e+n,c+6,e+n,t+i-a):l&&l<0&&t+s<c&&c<t+i-s?o.splice(33,3,"L",e,c+6,e-6,c,e,c-6,e,t+a):c&&i<c&&e+s<l&&l<e+n-s?o.splice(23,3,"L",l+6,t+i,l,t+i+6,l-6,t+i,e+a,t+i):c&&c<0&&e+s<l&&l<e+n-s&&o.splice(3,3,"L",l-6,t,l,t-6,l+6,t,n-a,t),o}},clipRect:function(e,t,n,i){var r,o=le+ne++,a=this.createElement("clipPath").attr({id:o}).add(this.defs);return(r=this.rect(e,t,n,i,0).add(a)).id=o,r.clipPath=a,r.count=0,r},text:function(e,t,n,i){var r,o=p||!ee&&this.forExport,a={};return i&&!this.forExport?this.html(e,t,n):(a.x=Math.round(t||0),n&&(a.y=Math.round(n)),!e&&0!==e||(a.text=e),r=this.createElement("text").attr(a),o&&r.css({position:oe}),i||(r.xSetter=function(e,t,n){var i,r,o=n.getElementsByTagName("tspan"),a=n.getAttribute(t);for(r=0;r<o.length;r++)(i=o[r]).getAttribute(t)===a&&i.setAttribute(t,e);n.setAttribute(t,e)}),r)},fontMetrics:function(e,t){e=e||this.style.fontSize,t&&d.getComputedStyle&&(t=t.element||t,e=d.getComputedStyle(t,"").fontSize);var n=(e=/px/.test(e)?we(e):/em/.test(e)?12*parseFloat(e):12)<24?e+3:j(1.2*e);return{h:n,b:j(.8*n),f:e}},rotCorr:function(e,t,n){var i=e;return t&&n&&(i=G(i*z(t*g),4)),{x:-e/3*q(t*g),y:i}},label:function(e,t,n,i,r,o,a,s,l){var c,u,d,h,p,f,g,m,v=this,y=v.g(l),b=v.text("",0,0,a).attr({zIndex:1}),w=0,x=3,C=0,S=0,$={};function E(){var e,t,n=b.element.style;u=(void 0===d||void 0===h||y.styles.textAlign)&&Te(b.textStr)&&b.getBBox(),y.width=(d||u.width||0)+2*x+C,y.height=(h||u.height||0)+2*x,g=x+v.fontMetrics(n&&n.fontSize,b).b,m&&(c||(e=j(-w*x),t=s?-g:0,y.box=c=i?v.symbol(i,e,t,y.width,y.height,$):v.rect(e,t,y.width,y.height,0,$["stroke-width"]),c.attr("fill",de).add(y)),c.isImg||c.attr(ye({width:j(y.width),height:j(y.height)},$)),$=null)}function k(){var e,t=y.styles,n=t&&t.textAlign,i=C+x*(1-w);e=s?0:g,Te(d)&&u&&("center"===n||"right"===n)&&(i+={center:.5,right:1}[n]*(d-u.width)),i===b.x&&e===b.y||(b.attr("x",i),e!==R&&b.attr("SPAN"===b.element.nodeName?"y":"translateY",e)),b.x=i,b.y=e}function A(e,t){c?c.attr(e,t):$[e]=t}y.onAdd=function(){b.add(y),y.attr({text:e||0===e?e:"",x:t,y:n}),c&&Te(r)&&y.attr({anchorX:r,anchorY:o})},y.widthSetter=function(e){d=e},y.heightSetter=function(e){h=e},y.paddingSetter=function(e){Te(e)&&e!==x&&(x=y.padding=e,k())},y.paddingLeftSetter=function(e){Te(e)&&e!==C&&(C=e,k())},y.alignSetter=function(e){w={left:0,center:.5,right:1}[e]},y.textSetter=function(e){e!==R&&b.textSetter(e),E(),k()},y["stroke-widthSetter"]=function(e,t){e&&(m=!0),S=e%2/2,A(t,e)},y.strokeSetter=y.fillSetter=y.rSetter=function(e,t){"fill"===t&&e&&(m=!0),A(t,e)},y.anchorXSetter=function(e,t){A(t,(r=e)+S-p)},y.anchorYSetter=function(e,t){A(t,(o=e)-f)},y.xSetter=function(e){y.x=e,w&&(e-=w*((d||u.width)+x)),p=j(e),y.attr("translateX",p)},y.ySetter=function(e){f=y.y=j(e),y.attr("translateY",f)};var T=y.css;return ye(y,{css:function(t){if(t){var n={};t=be(t),Qe(y.textProps,function(e){t[e]!==R&&(n[e]=t[e],delete t[e])}),b.css(n)}return T.call(y,t)},getBBox:function(){return{width:u.width+2*x,height:u.height+2*x,x:u.x-x,y:u.y-x}},shadow:function(e){return c&&c.shadow(e),y},destroy:function(){rt(y.element,"mouseenter"),rt(y.element,"mouseleave"),b=b&&b.destroy(),c=c&&c.destroy(),mt.prototype.destroy.call(y),y=v=E=k=A=null}})}},c=vt,ye(mt.prototype,{htmlCss:function(e){var t=this.element,n=e&&"SPAN"===t.tagName&&e.width;return n&&(delete e.width,this.textWidth=n,this.updateTransform()),e&&"ellipsis"===e.textOverflow&&(e.whiteSpace="nowrap",e.overflow="hidden"),this.styles=ye(this.styles,e),_e(this.element,e),this},htmlGetBBox:function(){var e=this.element;return"text"===e.nodeName&&(e.style.position=oe),{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var e=this,t=e.renderer,n=e.element,i=e.translateX||0,r=e.translateY||0,o=e.x||0,a=e.y||0,s=e.textAlign||"left",l={left:0,center:.5,right:1}[s],c=e.shadows,u=e.styles;if(_e(n,{marginLeft:i,marginTop:r}),c&&Qe(c,function(e){_e(e,{marginLeft:i+1,marginTop:r+1})}),e.inverted&&Qe(n.childNodes,function(e){t.invertChild(e,n)}),"SPAN"===n.tagName){var d,h,p=e.rotation,f=we(e.textWidth),g=[p,s,n.innerHTML,e.textWidth].join(",");g!==e.cTT&&(h=t.fontMetrics(n.style.fontSize).b,Te(p)&&e.setSpanRotation(p,l,h),f<(d=Pe(e.elemWidth,n.offsetWidth))&&/[ \-]/.test(n.textContent||n.innerText)&&(_e(n,{width:f+ue,display:"block",whiteSpace:u&&u.whiteSpace||"normal"}),d=f),e.getSpanCorrection(d,h,l,p,s)),_e(n,{left:o+(e.xCorr||0)+ue,top:a+(e.yCorr||0)+ue}),K&&(h=n.offsetHeight),e.cTT=g}}else this.alignOnAdd=!0},setSpanRotation:function(e,t,n){var i={},r=X?"-ms-transform":K?"-webkit-transform":Z?"MozTransform":o?"-o-transform":"";i[r]=i.transform="rotate("+e+"deg)",i[r+(Z?"Origin":"-origin")]=i.transformOrigin=100*t+"% "+n+"px",_e(this.element,i)},getSpanCorrection:function(e,t,n){this.xCorr=-e*n,this.yCorr=-t}}),ye(vt.prototype,{html:function(e,t,n){var o=this.createElement("span"),a=o.element,s=o.renderer;return o.textSetter=function(e){e!==a.innerHTML&&delete this.bBox,a.innerHTML=this.textStr=e},o.xSetter=o.ySetter=o.alignSetter=o.rotationSetter=function(e,t){"align"===t&&(t="textAlign"),o[t]=e,o.htmlUpdateTransform()},o.attr({text:e,x:j(t),y:j(n)}).css({position:oe,fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),a.style.whiteSpace="nowrap",o.css=o.htmlCss,s.isSVG&&(o.add=function(e){var t,n,r=s.box.parentNode,i=[];if(this.parentGroup=e){if(!(t=e.div)){for(n=e;n;)i.push(n),n=n.parentGroup;Qe(i.reverse(),function(n){var i;t=n.div=n.div||Re(re,{className:Me(n.element,"class")},{position:oe,left:(n.translateX||0)+ue,top:(n.translateY||0)+ue},t||r),i=t.style,ye(n,{translateXSetter:function(e,t){i.left=e+ue,n[t]=e,n.doTransform=!0},translateYSetter:function(e,t){i.top=e+ue,n[t]=e,n.doTransform=!0},visibilitySetter:function(e,t){i[t]=e}})})}}else t=r;return t.appendChild(a),o.added=!0,o.alignOnAdd&&o.htmlUpdateTransform(),o}),o}}),!ee&&!p){bt={init:function(e,t){var n=["<",t,' filled="f" stroked="f"'],i=["position: ",oe,";"],r=t===re;"shape"!==t&&!r||i.push("left:0;top:0;width:1px;height:1px;"),i.push("visibility: ",r?se:ce),n.push(' style="',i.join(""),'"/>'),t&&(n=r||"span"===t||"img"===t?n.join(""):e.prepVML(n),this.element=Re(n)),this.renderer=e},add:function(e){var t=this.renderer,n=this.element,i=t.box,r=e&&e.inverted,o=e?e.element||e:i;return r&&t.invertChild(n,o),o.appendChild(n),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),this.onAdd&&this.onAdd(),this},updateTransform:mt.prototype.htmlUpdateTransform,setSpanRotation:function(){var e=this.rotation,t=z(e*g),n=q(e*g);_e(this.element,{filter:e?["progid:DXImageTransform.Microsoft.Matrix(M11=",t,", M12=",-n,", M21=",n,", M22=",t,", sizingMethod='auto expand')"].join(""):de})},getSpanCorrection:function(e,t,n,i,r){var o,a=i?z(i*g):1,s=i?q(i*g):0,l=Pe(this.elemHeight,this.element.offsetHeight),c=r&&"left"!==r;this.xCorr=a<0&&-e,this.yCorr=s<0&&-l,o=a*s<0,this.xCorr+=s*t*(o?1-n:n),this.yCorr-=a*t*(i?o?n:1-n:1),c&&(this.xCorr-=e*n*(a<0?-1:1),i&&(this.yCorr-=l*n*(s<0?-1:1)),_e(this.element,{textAlign:r}))},pathToVML:function(e){for(var t=e.length,n=[];t--;)$e(e[t])?n[t]=j(10*e[t])-5:"Z"===e[t]?n[t]="x":(n[t]=e[t],!e.isArc||"wa"!==e[t]&&"at"!==e[t]||(n[t+5]===n[t+7]&&(n[t+7]+=e[t+7]>e[t+5]?1:-1),n[t+6]===n[t+8]&&(n[t+8]+=e[t+8]>e[t+6]?1:-1)));return n.join(" ")||"x"},clip:function(e){var t,n,i=this;return n=e?(Ae(t=e.members,i),t.push(i),i.destroyClip=function(){Ae(t,i)},e.getCSS(i)):(i.destroyClip&&i.destroyClip(),{clip:h?"inherit":"rect(auto)"}),i.css(n)},css:mt.prototype.htmlCss,safeRemoveChild:function(e){e.parentNode&&Ge(e)},destroy:function(){return this.destroyClip&&this.destroyClip(),mt.prototype.destroy.apply(this)},on:function(e,t){return this.element["on"+e]=function(){var e=d.event;e.target=e.srcElement,t(e)},this},cutOffPath:function(e,t){var n;return 9!==(n=(e=e.split(/[ ,]/)).length)&&11!==n||(e[n-4]=e[n-2]=we(e[n-2])-10*t),e.join(" ")},shadow:function(e,t,n){var i,r,o,a,s,l,c,u=[],d=this.element,h=this.renderer,p=d.style,f=d.path;if(f&&"string"!=typeof f.value&&(f="x"),s=f,e){for(l=Pe(e.width,3),c=(e.opacity||.15)/l,i=1;i<=3;i++)a=2*l+1-2*i,n&&(s=this.cutOffPath(f.value,.5+a)),o=['<shape isShadow="true" strokeweight="',a,'" filled="false" path="',s,'" coordsize="10 10" style="',d.style.cssText,'" />'],r=Re(h.prepVML(o),null,{left:we(p.left)+Pe(e.offsetX,1),top:we(p.top)+Pe(e.offsetY,1)}),n&&(r.cutOff=1+a),o=['<stroke color="',e.color||"black",'" opacity="',c*i,'"/>'],Re(h.prepVML(o),null,null,r),t?t.element.appendChild(r):d.parentNode.insertBefore(r,d),u.push(r);this.shadows=u}return this},updateShadows:f,setAttr:function(e,t){h?this.element[e]=t:this.element.setAttribute(e,t)},classSetter:function(e){this.element.className=e},dashstyleSetter:function(e,t,n){(n.getElementsByTagName("stroke")[0]||Re(this.renderer.prepVML(["<stroke/>"]),null,null,n))[t]=e||"solid",this[t]=e},dSetter:function(e,t,n){var i,r=this.shadows;if(e=e||[],this.d=e.join&&e.join(" "),n.path=e=this.pathToVML(e),r)for(i=r.length;i--;)r[i].path=r[i].cutOff?this.cutOffPath(e,r[i].cutOff):e;this.setAttr(t,e)},fillSetter:function(e,t,n){var i=n.nodeName;"SPAN"===i?n.style.color=e:"IMG"!==i&&(n.filled=e!==de,this.setAttr("fillcolor",this.renderer.color(e,n,t,this)))},opacitySetter:f,rotationSetter:function(e,t,n){var i=n.style;this[t]=i[t]=e,i.left=-j(q(e*g)+1)+ue,i.top=j(z(e*g))+ue},strokeSetter:function(e,t,n){this.setAttr("strokecolor",this.renderer.color(e,n,t))},"stroke-widthSetter":function(e,t,n){n.stroked=!!e,$e(this[t]=e)&&(e+=ue),this.setAttr("strokeweight",e)},titleSetter:function(e,t){this.setAttr(t,e)},visibilitySetter:function(t,n,e){"inherit"===t&&(t=ce),this.shadows&&Qe(this.shadows,function(e){e.style[n]=t}),"DIV"===e.nodeName&&(t=t===se?"-999em":0,h||(e.style[n]=t?ce:se),n="top"),e.style[n]=t},xSetter:function(e,t,n){this[t]=e,"x"===t?t="left":"y"===t&&(t="top"),this.updateClipping?(this[t]=e,this.updateClipping()):n.style[t]=e},zIndexSetter:function(e,t,n){n.style[t]=e}},L.VMLElement=bt=r(mt,bt),bt.prototype.ySetter=bt.prototype.widthSetter=bt.prototype.heightSetter=bt.prototype.xSetter;var St={Element:bt,isIE8:-1<u.indexOf("MSIE 8.0"),init:function(e,t,n,i){var r,o,a;if(this.alignedObjects=[],o=(r=this.createElement(re).css(ye(this.getStyle(i),{position:ae}))).element,e.appendChild(r.element),this.isVML=!0,this.box=o,this.boxWrapper=r,this.cache={},this.setSize(t,n,!1),!N.namespaces.hcv){N.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),a="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ";try{N.createStyleSheet().cssText=a}catch(e){N.styleSheets[0].cssText+=a}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(e,t,n,i){var r=this.createElement(),o=Ce(e);return ye(r,{members:[],count:0,left:(o?e.x:e)+1,top:(o?e.y:t)+1,width:(o?e.width:n)-1,height:(o?e.height:i)-1,getCSS:function(e){var t=e.element,n=t.nodeName,i="shape"===n,r=e.inverted,o=this.top-(i?t.offsetTop:0),a=this.left,s=a+this.width,l=o+this.height,c={clip:"rect("+j(r?a:o)+"px,"+j(r?l:s)+"px,"+j(r?s:l)+"px,"+j(r?o:a)+"px)"};return!r&&h&&"DIV"===n&&ye(c,{width:s+ue,height:l+ue}),c},updateClipping:function(){Qe(r.members,function(e){e.element&&e.css(r.getCSS(e))})}})},color:function(e,t,n,i){var r,o,a,s=this,l=/^rgba/,c=de;if(e&&e.linearGradient?a="gradient":e&&e.radialGradient&&(a="pattern"),a){function u(){o=['<fill colors="'+k.join(",")+'" opacity="',y,'" o:opacity2="',v,'" type="',a,'" ',$,'focus="100%" method="any" />'],Re(s.prepVML(o),null,null,t)}var d,h,p,f,g,m,v,y,b,w,x,C,S=e.linearGradient||e.radialGradient,$="",E=e.stops,k=[];if(x=E[0],C=E[E.length-1],0<x[0]&&E.unshift([0,x[1]]),C[0]<1&&E.push([1,C[1]]),Qe(E,function(e,t){h=l.test(e[1])?(r=gt(e[1]),d=r.get("rgb"),r.get("a")):(d=e[1],1),k.push(100*e[0]+"% "+d),t?(y=h,b=d):(v=h,w=d)}),"fill"===n)if("gradient"===a)p=S.x1||S[0]||0,f=S.y1||S[1]||0,g=S.x2||S[2]||0,m=S.y2||S[3]||0,$='angle="'+(90-180*V.atan((m-f)/(g-p))/Y)+'"',u();else{function A(){I&&(T=i.getBBox(),_+=(I[0]-T.x)/T.width-.5,R+=(I[1]-T.y)/T.height-.5,D*=I[2]/T.width,P*=I[2]/T.height),$='src="'+O.global.VMLRadialGradientURL+'" size="'+D+","+P+'" origin="0.5,0.5" position="'+_+","+R+'" color2="'+w+'" ',u()}var T,M=S.r,D=2*M,P=2*M,_=S.cx,R=S.cy,I=t.radialReference;i.added?A():i.onAdd=A,c=b}else c=d}else if(l.test(e)&&"IMG"!==t.tagName)r=gt(e),o=["<",n,' opacity="',r.get("a"),'"/>'],Re(this.prepVML(o),null,null,t),c=r.get("rgb");else{var F=t.getElementsByTagName(n);F.length&&(F[0].opacity=1,F[0].type="solid"),c=e}return c},prepVML:function(e){var t="display:inline-block;behavior:url(#default#VML);",n=this.isIE8;return e=e.join(""),e=n?-1===(e=e.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />')).indexOf('style="')?e.replace("/>",' style="'+t+'" />'):e.replace('style="','style="'+t):e.replace("<","<hcv:")},text:vt.prototype.html,path:function(e){var t={coordsize:"10 10"};return Se(e)?t.d=e:Ce(e)&&ye(t,e),this.createElement("shape").attr(t)},circle:function(e,t,n){var i=this.symbol("circle");return Ce(e)&&(n=e.r,t=e.y,e=e.x),i.isCircle=!0,i.r=n,i.attr({x:e,y:t})},g:function(e){var t;return e&&(t={className:le+e,class:le+e}),this.createElement(re).attr(t)},image:function(e,t,n,i,r){var o=this.createElement("img").attr({src:e});return 1<arguments.length&&o.attr({x:t,y:n,width:i,height:r}),o},createElement:function(e){return"rect"===e?this.symbol(e):vt.prototype.createElement.call(this,e)},invertChild:function(t,e){var n=this,i=e.style,r="IMG"===t.tagName&&t.style;_e(t,{flip:"x",left:we(i.width)-(r?we(r.top):1),top:we(i.height)-(r?we(r.left):1),rotation:-90}),Qe(t.childNodes,function(e){n.invertChild(e,t)})},symbols:{arc:function(e,t,n,i,r){var o,a=r.start,s=r.end,l=r.r||n||i,c=r.innerR,u=z(a),d=q(a),h=z(s),p=q(s);return s-a==0?["x"]:(o=["wa",e-l,t-l,e+l,t+l,e+l*u,t+l*d,e+l*h,t+l*p],r.open&&!c&&o.push("e",he,e,t),o.push("at",e-c,t-c,e+c,t+c,e+c*h,t+c*p,e+c*u,t+c*d,"x","e"),o.isArc=!0,o)},circle:function(e,t,n,i,r){return r&&(n=i=2*r.r),r&&r.isCircle&&(e-=n/2,t-=i/2),["wa",e,t,e+n,t+i,e+n,t+i/2,e+n,t+i/2,"e"]},rect:function(e,t,n,i,r){return vt.prototype.symbols[Te(r)&&r.r?"callout":"square"].call(0,e,t,n,i,r)}}};L.VMLRenderer=yt=function(){this.init.apply(this,arguments)},yt.prototype=be(vt.prototype,St),c=yt}function $t(){var e,t=Ct.length;for(e=0;e<t;e++)Ct[e]();Ct=[]}function Et(e,t,n,i){this.axis=e,this.pos=t,this.type=n||"",this.isNew=!0,n||i||this.addLabel()}vt.prototype.measureSpanWidth=function(e,t){var n,i=N.createElement("span"),r=N.createTextNode(e);return i.appendChild(r),_e(i,t),this.box.appendChild(i),n=i.offsetWidth,Ge(i),n},p&&(L.CanVGRenderer=wt=function(){Q="http://www.w3.org/1999/xhtml"},wt.prototype.symbols={},Ct=[],xt={push:function(e,t){0===Ct.length&&Ze(t,$t),Ct.push(e)}},c=wt),Et.prototype={addLabel:function(){var e,t,n=this.axis,i=n.options,r=n.chart,o=n.categories,a=n.names,s=this.pos,l=i.labels,c=n.tickPositions,u=s===c[0],d=s===c[c.length-1],h=o?Pe(o[s],a[s],s):s,p=this.label,f=c.info;n.isDatetimeAxis&&f&&(t=i.dateTimeLabelFormats[f.higherRanks[s]||f.unitName]),this.isFirst=u,this.isLast=d,e=n.labelFormatter.call({axis:n,chart:r,isFirst:u,isLast:d,dateTimeLabelFormat:t,value:n.isLog?We(ke(h)):h}),Te(p)?p&&p.attr({text:e}):(this.label=p=Te(e)&&l.enabled?r.renderer.text(e,0,0,l.useHTML).css(be(l.style)).add(n.labelGroup):null,this.labelLength=p&&p.getBBox().width,this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(e){var t,n,i,r=this.axis,o=e.x,a=r.chart.chartWidth,s=r.chart.spacing,l=Pe(r.labelLeft,s[3]),c=Pe(r.labelRight,a-s[1]),u=this.label,d=this.rotation,h={left:0,center:.5,right:1}[r.labelAlign],p=u.getBBox().width,f=r.slotWidth;d?d<0&&o-h*p<l?i=j(o/z(d*g)-l):0<d&&c<o+h*p&&(i=j((a-o)/z(d*g))):(n=o+h*p,(t=o-h*p)<l?(f-=l-t,e.x=l,u.attr({align:"left"})):c<n&&(f-=n-c,e.x=c,u.attr({align:"right"})),f<p&&(i=f)),i&&u.css({width:i,textOverflow:"ellipsis"})},getPosition:function(e,t,n,i){var r=this.axis,o=r.chart,a=i&&o.oldChartHeight||o.chartHeight;return{x:e?r.translate(t+n,null,null,i)+r.transB:r.left+r.offset+(r.opposite?(i&&o.oldChartWidth||o.chartWidth)-r.right-r.left:0),y:e?a-r.bottom+r.offset-(r.opposite?r.height:0):a-r.translate(t+n,null,null,i)-r.transB}},getLabelPosition:function(e,t,n,i,r,o,a,s){var l=this.axis,c=l.transA,u=l.reversed,d=l.staggerLines,h=l.tickRotCorr||{x:0,y:0},p=Pe(r.y,h.y+(2===l.side?8:-n.getBBox().height/2));return e=e+r.x+h.x-(o&&i?o*c*(u?-1:1):0),t=t+p-(o&&!i?o*c*(u?1:-1):0),d&&(t+=a/(s||1)%d*(l.labelOffset/d)),{x:e,y:j(t)}},getMarkPath:function(e,t,n,i,r,o){return o.crispLine([he,e,t,pe,e+(r?0:-n),t+(r?n:0)],i)},render:function(e,t,n){var i,r,o,a=this,s=a.axis,l=s.options,c=s.chart.renderer,u=s.horiz,d=a.type,h=a.label,p=a.pos,f=l.labels,g=a.gridLine,m=d?d+"Grid":"grid",v=d?d+"Tick":"tick",y=l[m+"LineWidth"],b=l[m+"LineColor"],w=l[m+"LineDashStyle"],x=l[v+"Length"],C=l[v+"Width"]||0,S=l[v+"Color"],$=l[v+"Position"],E=a.mark,k=f.step,A=!0,T=s.tickmarkOffset,M=a.getPosition(u,p,T,t),D=M.x,P=M.y,_=u&&D===s.pos+s.len||!u&&P===s.pos?-1:1;n=Pe(n,1),this.isActive=!0,y&&(i=s.getPlotLinePath(p+T,y*_,t,!0),g===R&&(o={stroke:b,"stroke-width":y},w&&(o.dashstyle=w),d||(o.zIndex=1),t&&(o.opacity=0),a.gridLine=g=y?c.path(i).attr(o).add(s.gridGroup):null),!t&&g&&i&&g[a.isNew?"attr":"animate"]({d:i,opacity:n})),C&&x&&("inside"===$&&(x=-x),s.opposite&&(x=-x),r=a.getMarkPath(D,P,x,C*_,u,c),E?E.animate({d:r,opacity:n}):a.mark=c.path(r).attr({stroke:S,"stroke-width":C,opacity:n}).add(s.axisGroup)),h&&!isNaN(D)&&(h.xy=M=a.getLabelPosition(D,P,h,u,f,T,e,k),a.isFirst&&!a.isLast&&!Pe(l.showFirstLabel,1)||a.isLast&&!a.isFirst&&!Pe(l.showLastLabel,1)?A=!1:!u||s.isRadial||f.step||f.rotation||t||0===n||a.handleOverflow(M),k&&e%k&&(A=!1),A&&!isNaN(M.y)?(M.opacity=n,h[a.isNew?"attr":"animate"](M),a.isNew=!1):h.attr("y",-9999))},destroy:function(){a(this,this.axis)}},L.PlotLineOrBand=function(e,t){this.axis=e,t&&(this.options=t,this.id=t.id)},L.PlotLineOrBand.prototype={render:function(){var e,t,n,i,r,o,a=this,s=a.axis,l=s.horiz,c=a.options,u=c.label,d=a.label,h=c.width,p=c.to,f=c.from,g=Te(f)&&Te(p),m=c.value,v=c.dashStyle,y=a.svgElem,b=[],w=c.color,x=c.zIndex,C=c.events,S={},$=s.chart.renderer;if(s.isLog&&(f=Ee(f),p=Ee(p),m=Ee(m)),h)b=s.getPlotLinePath(m,h),S={stroke:w,"stroke-width":h},v&&(S.dashstyle=v);else{if(!g)return;b=s.getPlotBandPath(f,p,c),w&&(S.fill=w),c.borderWidth&&(S.stroke=c.borderColor,S["stroke-width"]=c.borderWidth)}if(Te(x)&&(S.zIndex=x),y)b?y.animate({d:b},null,y.onGetPath):(y.hide(),y.onGetPath=function(){y.show()},d&&(a.label=d=d.destroy()));else if(b&&b.length&&(a.svgElem=y=$.path(b).attr(S).add(),C))for(t in e=function(t){y.on(t,function(e){C[t].apply(a,[e])})},C)e(t);return u&&Te(u.text)&&b&&b.length&&0<s.width&&0<s.height?(u=be({align:l&&g&&"center",x:l?!g&&4:10,verticalAlign:!l&&g&&"middle",y:l?g?16:10:g?6:-4,rotation:l&&!g&&90},u),d||(S={align:u.textAlign||u.align,rotation:u.rotation},Te(x)&&(S.zIndex=x),a.label=d=$.text(u.text,0,0,u.useHTML).attr(S).css(u.style).add()),n=[b[1],b[4],g?b[6]:b[1]],i=[b[2],b[5],g?b[7]:b[2]],r=ze(n),o=ze(i),d.align(u,!1,{x:r,y:o,width:je(n)-r,height:je(i)-o}),d.show()):d&&d.hide(),a},destroy:function(){Ae(this.axis.plotLinesAndBands,this),delete this.axis,a(this)}},n={getPlotBandPath:function(e,t){var n=this.getPlotLinePath(t,null,null,!0),i=this.getPlotLinePath(e,null,null,!0);return i&&n&&i.toString()!==n.toString()?i.push(n[4],n[5],n[1],n[2]):i=null,i},addPlotBand:function(e){return this.addPlotBandOrLine(e,"plotBands")},addPlotLine:function(e){return this.addPlotBandOrLine(e,"plotLines")},addPlotBandOrLine:function(e,t){var n=new L.PlotLineOrBand(this,e).render(),i=this.userOptions;return n&&(t&&(i[t]=i[t]||[],i[t].push(e)),this.plotLinesAndBands.push(n)),n},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,n=this.options,i=this.userOptions,r=e.length;r--;)e[r].id===t&&e[r].destroy();Qe([n.plotLines||[],i.plotLines||[],n.plotBands||[],i.plotBands||[]],function(e){for(r=e.length;r--;)e[r].id===t&&Ae(e,e[r])})}};var kt=L.Axis=function(){this.init.apply(this,arguments)};kt.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#D8D8D8",labels:{enabled:!0,style:{color:"#606060",cursor:"default",fontSize:"11px"},x:0,y:15},lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return L.numberFormat(this.total,-1)},style:be(ct.line.dataLabels.style,{color:"#000000"})}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0,y:null},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0,y:-15},title:{rotation:0}},init:function(e,t){var n=t.isX,i=this;i.horiz=e.inverted?!n:n,i.isXAxis=n,i.coll=n?"xAxis":"yAxis",i.opposite=t.opposite,i.side=t.side||(i.horiz?i.opposite?0:2:i.opposite?1:3),i.setOptions(t);var r=this.options,o=r.type,a="datetime"===o;i.labelFormatter=r.labels.formatter||i.defaultLabelFormatter,i.userOptions=t,i.minPixelPadding=0,i.chart=e,i.reversed=r.reversed,i.zoomEnabled=!1!==r.zoomEnabled,i.categories=r.categories||"category"===o,i.names=i.names||[],i.isLog="logarithmic"===o,i.isDatetimeAxis=a,i.isLinked=Te(r.linkedTo),i.ticks={},i.labelEdge=[],i.minorTicks={},i.plotLinesAndBands=[],i.alternateBands={},i.len=0,i.minRange=i.userMinRange=r.minRange||r.maxZoom,i.range=r.range,i.offset=r.offset||0,i.stacks={},i.oldStacks={},i.max=null,i.min=null,i.crosshair=Pe(r.crosshair,De(e.options.tooltip.crosshairs)[n?0:1],!1);var s,l=i.options.events;for(s in-1===Je(i,e.axes)&&(n&&!this.isColorAxis?e.axes.splice(e.xAxis.length,0,i):e.axes.push(i),e[i.coll].push(i)),i.series=i.series||[],e.inverted&&n&&i.reversed===R&&(i.reversed=!0),i.removePlotBand=i.removePlotBandOrLine,i.removePlotLine=i.removePlotBandOrLine,l)it(i,s,l[s]);i.isLog&&(i.val2lin=Ee,i.lin2val=ke)},setOptions:function(e){this.options=be(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],be(O[this.coll],e))},defaultLabelFormatter:function(){var e,t,n=this.axis,i=this.value,r=n.categories,o=this.dateTimeLabelFormat,a=O.lang.numericSymbols,s=a&&a.length,l=n.options.labels.format,c=n.isLog?i:n.tickInterval;if(l)t=Ne(l,this);else if(r)t=i;else if(o)t=T(o,i);else if(s&&1e3<=c)for(;s--&&t===R;)(e=Math.pow(1e3,s+1))<=c&&null!==a[s]&&(t=L.numberFormat(i/e,-1)+a[s]);return t===R&&(t=1e4<=W(i)?L.numberFormat(i,0):L.numberFormat(i,-1,R,"")),t},getSeriesExtremes:function(){var o=this,a=o.chart;o.hasVisibleSeries=!1,o.dataMin=o.dataMax=o.ignoreMinPadding=o.ignoreMaxPadding=null,o.buildStacks&&o.buildStacks(),Qe(o.series,function(e){if(e.visible||!a.options.chart.ignoreHiddenSeries){var t,n,i,r=e.options.threshold;o.hasVisibleSeries=!0,o.isLog&&r<=0&&(r=null),o.isXAxis?(t=e.xData).length&&(o.dataMin=U(Pe(o.dataMin,t[0]),ze(t)),o.dataMax=G(Pe(o.dataMax,t[0]),je(t))):(e.getExtremes(),i=e.dataMax,Te(n=e.dataMin)&&Te(i)&&(o.dataMin=U(Pe(o.dataMin,n),n),o.dataMax=G(Pe(o.dataMax,i),i)),Te(r)&&(o.dataMin>=r?(o.dataMin=r,o.ignoreMinPadding=!0):o.dataMax<r&&(o.dataMax=r,o.ignoreMaxPadding=!0)))}})},translate:function(e,t,n,i,r,o){var a,s=this,l=1,c=0,u=i?s.oldTransA:s.transA,d=i?s.oldMin:s.min,h=s.minPixelPadding,p=(s.doPostTranslate||s.isLog&&r)&&s.lin2val;return u=u||s.transA,n&&(l*=-1,c=s.len),s.reversed&&(c-=(l*=-1)*(s.sector||s.len)),t?(e=e*l+c,a=(e-=h)/u+d,p&&(a=s.lin2val(a))):(p&&(e=s.val2lin(e)),"between"===o&&(o=.5),a=l*(e-d)*u+c+l*h+($e(o)?u*o*s.pointRange:0)),a},toPixels:function(e,t){return this.translate(e,!1,!this.horiz,null,!0)+(t?0:this.pos)},toValue:function(e,t){return this.translate(e-(t?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(e,t,n,i,r){function o(e,t,n){return(e<t||n<e)&&(i?e=U(G(t,e),n):u=!0),e}var a,s,l,c,u,d=this,h=d.chart,p=d.left,f=d.top,g=n&&h.oldChartHeight||h.chartHeight,m=n&&h.oldChartWidth||h.chartWidth,v=d.transB;return r=Pe(r,d.translate(e,null,null,n)),a=l=j(r+v),s=c=j(g-r-v),isNaN(r)?u=!0:d.horiz?(s=f,c=g-d.bottom,a=l=o(a,p,p+d.width)):(a=p,l=m-d.right,s=c=o(s,f,f+d.height)),u&&!i?null:h.renderer.crispLine([he,a,s,pe,l,c],t||1)},getLinearTickPositions:function(e,t,n){var i,r,o=We(H(t/e)*e),a=We(B(n/e)*e),s=[];if(t===n&&$e(t))return[t];for(i=o;i<=a&&(s.push(i),(i=We(i+e))!==r);)r=i;return s},getMinorTickPositions:function(){var e,t,n,i=this,r=i.options,o=i.tickPositions,a=i.minorTickInterval,s=[],l=i.min,c=i.max,u=c-l;if(u&&u/a<i.len/3)if(i.isLog)for(n=o.length,t=1;t<n;t++)s=s.concat(i.getLogTickPositions(a,o[t-1],o[t],!0));else if(i.isDatetimeAxis&&"auto"===r.minorTickInterval)s=s.concat(i.getTimeTicks(i.normalizeTimeTickInterval(a),l,c,r.startOfWeek));else for(e=l+(o[0]-l)%a;e<=c;e+=a)s.push(e);return i.trimTicks(s),s},adjustForMinRange:function(){var e,t,n,i,r,o,a,s,l=this,c=l.options,u=l.min,d=l.max,h=l.dataMax-l.dataMin>=l.minRange;if(l.isXAxis&&l.minRange===R&&!l.isLog&&(Te(c.min)||Te(c.max)?l.minRange=null:(Qe(l.series,function(e){for(r=e.xData,o=e.xIncrement?1:r.length-1,n=o;0<n;n--)i=r[n]-r[n-1],(t===R||i<t)&&(t=i)}),l.minRange=U(5*t,l.dataMax-l.dataMin))),d-u<l.minRange){var p=l.minRange;a=[u-(e=(p-d+u)/2),Pe(c.min,u-e)],h&&(a[2]=l.dataMin),s=[(u=je(a))+p,Pe(c.max,u+p)],h&&(s[2]=l.dataMax),(d=ze(s))-u<p&&(a[0]=d-p,a[1]=Pe(c.min,d-p),u=je(a))}l.min=u,l.max=d},setAxisTranslation:function(e){var r,t,o=this,a=o.max-o.min,s=o.axisPointRange||0,l=0,c=0,n=o.linkedParent,u=!!o.categories,i=o.transA,d=o.isXAxis;(d||u||s)&&(n?(l=n.minPointOffset,c=n.pointRangePadding):Qe(o.series,function(e){var t=u?1:d?e.pointRange:o.axisPointRange||0,n=e.options.pointPlacement,i=e.closestPointRange;a<t&&(t=0),s=G(s,t),o.single||(l=G(l,xe(n)?0:t/2),c=G(c,"on"===n?0:t)),!e.noSharedTooltip&&Te(i)&&(r=Te(r)?U(r,i):i)}),t=o.ordinalSlope&&r?o.ordinalSlope/r:1,o.minPointOffset=l*=t,o.pointRangePadding=c*=t,o.pointRange=U(s,a),d&&(o.closestPointRange=r)),e&&(o.oldTransA=i),o.translationSlope=o.transA=i=o.len/(a+c||1),o.transB=o.horiz?o.left:o.bottom,o.minPixelPadding=i*l},setTickInterval:function(e){var t,n,i,r=this,o=r.chart,a=r.options,s=r.isLog,l=r.isDatetimeAxis,c=r.isXAxis,u=r.isLinked,d=a.maxPadding,h=a.minPadding,p=a.tickInterval,f=a.tickPixelInterval,g=r.categories;l||g||u||this.getTickAmount(),u?(r.linkedParent=o[r.coll][a.linkedTo],n=r.linkedParent.getExtremes(),r.min=Pe(n.min,n.dataMin),r.max=Pe(n.max,n.dataMax),a.type!==r.linkedParent.options.type&&Ue(11,1)):(r.min=Pe(r.userMin,a.min,r.dataMin),r.max=Pe(r.userMax,a.max,r.dataMax)),s&&(!e&&U(r.min,Pe(r.dataMin,r.min))<=0&&Ue(10,1),r.min=We(Ee(r.min)),r.max=We(Ee(r.max))),r.range&&Te(r.max)&&(r.userMin=r.min=G(r.min,r.max-r.range),r.userMax=r.max,r.range=null),r.beforePadding&&r.beforePadding(),r.adjustForMinRange(),g||r.axisPointRange||r.usePercentage||u||!Te(r.min)||!Te(r.max)||(t=r.max-r.min)&&(Te(a.min)||Te(r.userMin)||!h||!(r.dataMin<0)&&r.ignoreMinPadding||(r.min-=t*h),Te(a.max)||Te(r.userMax)||!d||!(0<r.dataMax)&&r.ignoreMaxPadding||(r.max+=t*d)),$e(a.floor)&&(r.min=G(r.min,a.floor)),$e(a.ceiling)&&(r.max=U(r.max,a.ceiling)),r.min===r.max||void 0===r.min||void 0===r.max?r.tickInterval=1:u&&!p&&f===r.linkedParent.options.tickPixelInterval?r.tickInterval=r.linkedParent.tickInterval:r.tickInterval=Pe(p,this.tickAmount?(r.max-r.min)/G(this.tickAmount-1,1):void 0,g?1:(r.max-r.min)*f/G(r.len,f)),c&&!e&&Qe(r.series,function(e){e.processData(r.min!==r.oldMin||r.max!==r.oldMax)}),r.setAxisTranslation(!0),r.beforeSetTickPositions&&r.beforeSetTickPositions(),r.postProcessTickInterval&&(r.tickInterval=r.postProcessTickInterval(r.tickInterval)),r.pointRange&&(r.tickInterval=G(r.pointRange,r.tickInterval)),i=Pe(a.minTickInterval,r.isDatetimeAxis&&r.closestPointRange),!p&&r.tickInterval<i&&(r.tickInterval=i),l||s||p||(r.tickInterval=He(r.tickInterval,null,Ve(r.tickInterval),Pe(a.allowDecimals,!(.5<r.tickInterval&&r.tickInterval<5&&1e3<r.max&&r.max<9999)),!!this.tickAmount)),!this.tickAmount&&this.len&&(r.tickInterval=r.unsquish()),this.setTickPositions()},setTickPositions:function(){var e,t,n=this.options,i=n.tickPositions,r=n.tickPositioner,o=n.startOnTick,a=n.endOnTick;this.tickmarkOffset=this.categories&&"between"===n.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===n.minorTickInterval&&this.tickInterval?this.tickInterval/5:n.minorTickInterval,this.tickPositions=e=n.tickPositions&&n.tickPositions.slice(),e||(e=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,n.units),this.min,this.max,n.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickPositions=e,(r=r&&r.apply(this,[this.min,this.max]))&&(this.tickPositions=e=r)),this.isLinked||(this.trimTicks(e,o,a),this.min===this.max&&Te(this.min)&&!this.tickAmount&&(t=!0,this.min-=.5,this.max+=.5),this.single=t,i||r||this.adjustTickAmount())},trimTicks:function(e,t,n){var i=e[0],r=e[e.length-1],o=this.minPointOffset||0;t?this.min=i:this.min-o>i&&e.shift(),n?this.max=r:this.max+o<r&&e.pop(),0===e.length&&Te(i)&&e.push((r+i)/2)},getTickAmount:function(){var r,o={},e=this.options,t=e.tickAmount,n=e.tickPixelInterval;!Te(e.tickInterval)&&this.len<n&&!this.isRadial&&!this.isLog&&e.startOnTick&&e.endOnTick&&(t=2),t||!1===this.chart.options.chart.alignTicks||!1===e.alignTicks||(Qe(this.chart[this.coll],function(e){var t=e.options,n=e.horiz,i=[n?t.left:t.top,n?t.width:t.height,t.pane].join(",");o[i]?r=!0:o[i]=1}),r&&(t=B(this.len/n)+1)),t<4&&(this.finalTickAmt=t,t=5),this.tickAmount=t},adjustTickAmount:function(){var e,t,n=this.tickInterval,i=this.tickPositions,r=this.tickAmount,o=this.finalTickAmt,a=i&&i.length;if(a<r){for(;i.length<r;)i.push(We(i[i.length-1]+n));this.transA*=(a-1)/(r-1),this.max=i[i.length-1]}else r<a&&(this.tickInterval*=2,this.setTickPositions());if(Te(o)){for(e=t=i.length;e--;)(3===o&&e%2==1||o<=2&&0<e&&e<t-1)&&i.splice(e,1);this.finalTickAmt=R}},setScale:function(){var e,t,n,i,r=this,o=r.stacks;if(r.oldMin=r.min,r.oldMax=r.max,r.oldAxisLength=r.len,r.setAxisSize(),i=r.len!==r.oldAxisLength,Qe(r.series,function(e){(e.isDirtyData||e.isDirty||e.xAxis.isDirty)&&(n=!0)}),i||n||r.isLinked||r.forceRedraw||r.userMin!==r.oldUserMin||r.userMax!==r.oldUserMax){if(!r.isXAxis)for(e in o)for(t in o[e])o[e][t].total=null,o[e][t].cum=0;r.forceRedraw=!1,r.getSeriesExtremes(),r.setTickInterval(),r.oldUserMin=r.userMin,r.oldUserMax=r.userMax,r.isDirty||(r.isDirty=i||r.min!==r.oldMin||r.max!==r.oldMax)}else if(!r.isXAxis)for(e in r.oldStacks&&(o=r.stacks=r.oldStacks),o)for(t in o[e])o[e][t].cum=o[e][t].total},setExtremes:function(e,t,n,i,r){var o=this,a=o.chart;n=Pe(n,!0),Qe(o.series,function(e){delete e.kdTree}),r=ye(r,{min:e,max:t}),ot(o,"setExtremes",r,function(){o.userMin=e,o.userMax=t,o.eventArgs=r,o.isDirtyExtremes=!0,n&&a.redraw(i)})},zoom:function(e,t){var n=this.dataMin,i=this.dataMax,r=this.options;return this.allowZoomOutside||(Te(n)&&e<=U(n,Pe(r.min,n))&&(e=R),Te(i)&&t>=G(i,Pe(r.max,i))&&(t=R)),this.displayBtn=e!==R||t!==R,this.setExtremes(e,t,!1,R,{trigger:"zoom"}),!0},setAxisSize:function(){var e=this.chart,t=this.options,n=t.offsetLeft||0,i=t.offsetRight||0,r=this.horiz,o=Pe(t.width,e.plotWidth-n+i),a=Pe(t.height,e.plotHeight),s=Pe(t.top,e.plotTop),l=Pe(t.left,e.plotLeft+n),c=/%$/;c.test(a)&&(a=parseFloat(a)/100*e.plotHeight),c.test(s)&&(s=parseFloat(s)/100*e.plotHeight+e.plotTop),this.left=l,this.top=s,this.width=o,this.height=a,this.bottom=e.chartHeight-a-s,this.right=e.chartWidth-o-l,this.len=G(r?o:a,0),this.pos=r?l:s},getExtremes:function(){var e=this.isLog;return{min:e?We(ke(this.min)):this.min,max:e?We(ke(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(e){var t=this.isLog,n=t?ke(this.min):this.min,i=t?ke(this.max):this.max;return e<n||null===e?e=n:i<e&&(e=i),this.translate(e,0,1,0,1)},autoLabelAlign:function(e){var t=(Pe(e,0)-90*this.side+720)%360;return 15<t&&t<165?"right":195<t&&t<345?"left":"center"},unsquish:function(){function n(e){var t=e/(u||1);return(t=1<t?B(t):1)*l}var i,r,e,t=this.chart,o=this.ticks,a=this.options.labels,s=this.horiz,l=this.tickInterval,c=l,u=this.len/(((this.categories?1:0)+this.max-this.min)/l),d=a.rotation,h=t.renderer.fontMetrics(a.style.fontSize,o[0]&&o[0].label),p=Number.MAX_VALUE;return s?(e=Te(d)?[d]:u<80&&!a.staggerLines&&!a.step&&a.autoRotation)&&Qe(e,function(e){var t;(e===d||e&&-90<=e&&e<=90)&&(t=(r=n(W(h.h/q(g*e))))+W(e/360))<p&&(p=t,i=e,c=r)}):c=n(h.h),this.autoRotation=e,this.labelRotation=i,c},renderUnsquish:function(){var i,e,t,n,r=this.chart,o=r.renderer,a=this.tickPositions,s=this.ticks,l=this.options.labels,c=this.horiz,u=r.margin,d=this.slotWidth=c&&!l.step&&!l.rotation&&(this.staggerLines||1)*r.plotWidth/a.length||!c&&(u[3]&&u[3]-r.spacing[3]||.33*r.chartWidth),h=G(1,j(d-2*(l.padding||5))),p={},f=o.fontMetrics(l.style.fontSize,s[0]&&s[0].label),g=0;if(xe(l.rotation)||(p.rotation=l.rotation),this.autoRotation)Qe(a,function(e){(e=s[e])&&e.labelLength>g&&(g=e.labelLength)}),h<g&&g>f.h?p.rotation=this.labelRotation:this.labelRotation=0;else if(d)for(i={width:h+ue,textOverflow:"clip"},t=a.length;!c&&t--;)n=a[t],(e=s[n].label)&&this.len/a.length-4<e.getBBox().height&&(e.specCss={textOverflow:"ellipsis"});p.rotation&&(i={width:(g>.5*r.chartHeight?.33*r.chartHeight:r.chartHeight)+ue,textOverflow:"ellipsis"}),this.labelAlign=p.align=l.align||this.autoLabelAlign(this.labelRotation),Qe(a,function(e){var t=s[e],n=t&&t.label;n&&(i&&n.css(be(i,n.specCss)),delete n.specCss,n.attr(p),t.rotation=p.rotation)}),this.tickRotCorr=o.rotCorr(f.b,this.labelRotation||0,2===this.side)},getOffset:function(){var e,t,n,i,r,o,a=this,s=a.chart,l=s.renderer,c=a.options,u=a.tickPositions,d=a.ticks,h=a.horiz,p=a.side,f=s.inverted?[1,0,3,2][p]:p,g=0,m=0,v=c.title,y=c.labels,b=0,w=s.axisOffset,x=s.clipOffset,C=[-1,1,1,-1][p];if(a.hasData=e=a.hasVisibleSeries||Te(a.min)&&Te(a.max)&&!!u,a.showAxis=t=e||Pe(c.showEmpty,!0),a.staggerLines=a.horiz&&y.staggerLines,a.axisGroup||(a.gridGroup=l.g("grid").attr({zIndex:c.gridZIndex||1}).add(),a.axisGroup=l.g("axis").attr({zIndex:c.zIndex||2}).add(),a.labelGroup=l.g("axis-labels").attr({zIndex:y.zIndex||7}).addClass(le+a.coll.toLowerCase()+"-labels").add()),e||a.isLinked)Qe(u,function(e){d[e]?d[e].addLabel():d[e]=new Et(a,e)}),a.renderUnsquish(),Qe(u,function(e){0!==p&&2!==p&&{1:"left",3:"right"}[p]!==a.labelAlign||(b=G(d[e].getLabelSize(),b))}),a.staggerLines&&(b*=a.staggerLines,a.labelOffset=b);else for(r in d)d[r].destroy(),delete d[r];v&&v.text&&!1!==v.enabled&&(a.axisTitle||(a.axisTitle=l.text(v.text,0,0,v.useHTML).attr({zIndex:7,rotation:v.rotation||0,align:v.textAlign||{low:"left",middle:"center",high:"right"}[v.align]}).addClass(le+this.coll.toLowerCase()+"-title").css(v.style).add(a.axisGroup),a.axisTitle.isNew=!0),t&&(g=a.axisTitle.getBBox()[h?"height":"width"],m=Te(n=v.offset)?0:Pe(v.margin,h?5:10)),a.axisTitle[t?"show":"hide"]()),a.offset=C*Pe(c.offset,w[p]),a.tickRotCorr=a.tickRotCorr||{x:0,y:0},o=2===p?a.tickRotCorr.y:0,i=b+m+(b&&C*(h?Pe(y.y,a.tickRotCorr.y+8):y.x)-o),a.axisTitleMargin=Pe(n,i),w[p]=G(w[p],a.axisTitleMargin+g+C*a.offset,i),x[f]=G(x[f],2*H(c.lineWidth/2))},getLinePath:function(e){var t=this.chart,n=this.opposite,i=this.offset,r=this.horiz,o=this.left+(n?this.width:0)+i,a=t.chartHeight-this.bottom-(n?this.height:0)+i;return n&&(e*=-1),t.renderer.crispLine([he,r?this.left:o,r?a:this.top,pe,r?t.chartWidth-this.right:o,r?a:t.chartHeight-this.bottom],e)},getTitlePosition:function(){var e=this.horiz,t=this.left,n=this.top,i=this.len,r=this.options.title,o=e?t:n,a=this.opposite,s=this.offset,l=we(r.style.fontSize||12),c={low:o+(e?0:i),middle:o+i/2,high:o+(e?i:0)}[r.align],u=(e?n+this.height:t)+(e?1:-1)*(a?-1:1)*this.axisTitleMargin+(2===this.side?l:0);return{x:e?c:u+(a?this.width:0)+s+(r.x||0),y:e?u-(a?this.height:0)+s:c+(r.y||0)}},render:function(){var e,n,i,r=this,a=r.chart,t=a.renderer,o=r.options,s=r.isLog,l=r.isLinked,c=r.tickPositions,u=r.axisTitle,d=r.ticks,h=r.minorTicks,p=r.alternateBands,f=o.stackLabels,g=o.alternateGridColor,m=r.tickmarkOffset,v=o.lineWidth,y=a.hasRendered&&Te(r.oldMin)&&!isNaN(r.oldMin),b=r.hasData,w=r.showAxis;r.labelEdge.length=0,r.overlap=!1,Qe([d,h,p],function(e){var t;for(t in e)e[t].isActive=!1}),(b||l)&&(r.minorTickInterval&&!r.categories&&Qe(r.getMinorTickPositions(),function(e){h[e]||(h[e]=new Et(r,e,"minor")),y&&h[e].isNew&&h[e].render(null,!0),h[e].render(null,!1,1)}),c.length&&(Qe(c,function(e,t){(!l||e>=r.min&&e<=r.max)&&(d[e]||(d[e]=new Et(r,e)),y&&d[e].isNew&&d[e].render(t,!0,.1),d[e].render(t))}),m&&(0===r.min||r.single)&&(d[-1]||(d[-1]=new Et(r,-1,null,!0)),d[-1].render(-1))),g&&Qe(c,function(e,t){t%2==0&&e<r.max&&(p[e]||(p[e]=new L.PlotLineOrBand(r)),n=e+m,i=c[t+1]!==R?c[t+1]+m:r.max,p[e].options={from:s?ke(n):n,to:s?ke(i):i,color:g},p[e].render(),p[e].isActive=!0)}),r._addedPlotLB||(Qe((o.plotLines||[]).concat(o.plotBands||[]),function(e){r.addPlotBandOrLine(e)}),r._addedPlotLB=!0)),Qe([d,h,p],function(e){function t(){for(i=r.length;i--;)e[r[i]]&&!e[r[i]].isActive&&(e[r[i]].destroy(),delete e[r[i]])}var n,i,r=[],o=x?x.duration||500:0;for(n in e)e[n].isActive||(e[n].render(n,!1,0),e[n].isActive=!1,r.push(n));e!==p&&a.hasRendered&&o?o&&setTimeout(t,o):t()}),v&&(e=r.getLinePath(v),r.axisLine?r.axisLine.animate({d:e}):r.axisLine=t.path(e).attr({stroke:o.lineColor,"stroke-width":v,zIndex:7}).add(r.axisGroup),r.axisLine[w?"show":"hide"]()),u&&w&&(u[u.isNew?"attr":"animate"](r.getTitlePosition()),u.isNew=!1),f&&f.enabled&&r.renderStackTotals(),r.isDirty=!1},redraw:function(){this.render(),Qe(this.plotLinesAndBands,function(e){e.render()}),Qe(this.series,function(e){e.isDirty=!0})},destroy:function(e){var t,n,i=this,r=i.stacks,o=i.plotLinesAndBands;for(t in e||rt(i),r)a(r[t]),r[t]=null;for(Qe([i.ticks,i.minorTicks,i.alternateBands],function(e){a(e)}),n=o.length;n--;)o[n].destroy();Qe(["stackTotalGroup","axisLine","axisTitle","axisGroup","cross","gridGroup","labelGroup"],function(e){i[e]&&(i[e]=i[e].destroy())}),this.cross&&this.cross.destroy()},drawCrosshair:function(e,t){var n,i,r,o,a=this.crosshair,s=a.animation;if(this.crosshair&&!1!==(Te(t)||!Pe(this.crosshair.snap,!0))){if(Pe(a.snap,!0)?Te(t)&&(i=this.isXAxis?t.plotX:this.len-t.plotY):i=this.horiz?e.chartX-this.pos:this.len-e.chartY+this.pos,null===(n=this.isRadial?this.getPlotLinePath(this.isXAxis?t.x:Pe(t.stackY,t.y))||null:this.getPlotLinePath(null,null,null,null,i)||null))return void this.hideCrosshair();this.cross?this.cross.attr({visibility:ce})[s?"animate":"attr"]({d:n},s):(o=this.categories&&!this.isRadial,r={"stroke-width":a.width||(o?this.transA:1),stroke:a.color||(o?"rgba(155,200,255,0.2)":"#C0C0C0"),zIndex:a.zIndex||2},a.dashStyle&&(r.dashstyle=a.dashStyle),this.cross=this.chart.renderer.path(n).attr(r).add())}else this.hideCrosshair()},hideCrosshair:function(){this.cross&&this.cross.hide()}},ye(kt.prototype,n),kt.prototype.getTimeTicks=function(e,t,n,i){var r,o,a=[],s={},l=O.global.useUTC,c=new C(t-Le(t)),u=e.unitRange,d=e.count;if(Te(t)){c.setMilliseconds(M.second<=u?0:d*H(c.getMilliseconds()/d)),M.second<=u&&c.setSeconds(M.minute<=u?0:d*H(c.getSeconds()/d)),M.minute<=u&&c[D](M.hour<=u?0:d*H(c[w]()/d)),M.hour<=u&&c[P](M.day<=u?0:d*H(c[S]()/d)),M.day<=u&&c[_](M.month<=u?1:d*H(c[E]()/d)),M.month<=u&&(c[I](M.year<=u?0:d*H(c[k]()/d)),o=c[A]()),M.year<=u&&(o-=o%d,c[F](o)),u===M.week&&c[_](c[E]()-c[$]()+Pe(i,1)),r=1,(y||b)&&(c=c.getTime(),c=new C(c+Le(c))),o=c[A]();for(var h=c.getTime(),p=c[k](),f=c[E](),g=(M.day+(l?Le(c):60*c.getTimezoneOffset()*1e3))%M.day;h<n;)a.push(h),u===M.year?h=m(o+r*d,0):u===M.month?h=m(o,p+r*d):l||u!==M.day&&u!==M.week?h+=u*d:h=m(o,p,f+r*d*(u===M.day?1:7)),r++;a.push(h),Qe(et(a,function(e){return u<=M.hour&&e%M.day==g}),function(e){s[e]="day"})}return a.info=ye(e,{higherRanks:s,totalRange:u*d}),a},kt.prototype.normalizeTimeTickInterval=function(e,t){var n,i=t||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],r=i[i.length-1],o=M[r[0]],a=r[1];for(n=0;n<i.length;n++){if(r=i[n],o=M[r[0]],a=r[1],i[n+1])if(e<=(o*a[a.length-1]+M[i[n+1][0]])/2)break}return o===M.year&&e<5*o&&(a=[1,2,5]),{unitRange:o,count:He(e/o,a,"year"===r[0]?G(Ve(e/o),1):1),unitName:r[0]}},kt.prototype.getLogTickPositions=function(e,t,n,i){var r=this.options,o=this.len,a=[];if(i||(this._minorAutoInterval=null),.5<=e)e=j(e),a=this.getLinearTickPositions(e,t,n);else if(.08<=e){var s,l,c,u,d,h,p;for(s=.3<e?[1,2,4]:.15<e?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],l=H(t);l<n+1&&!p;l++)for(u=s.length,c=0;c<u&&!p;c++)t<(d=Ee(ke(l)*s[c]))&&(!i||h<=n)&&h!==R&&a.push(h),n<h&&(p=!0),h=d}else{var f=ke(t),g=ke(n),m=r[i?"minorTickInterval":"tickInterval"],v="auto"===m?null:m,y=r.tickPixelInterval/(i?5:1),b=i?o/this.tickPositions.length:o;e=He(e=Pe(v,this._minorAutoInterval,(g-f)*y/(b||1)),null,Ve(e)),a=nt(this.getLinearTickPositions(e,f,g),Ee),i||(this._minorAutoInterval=e/5)}return i||(this.tickInterval=e),a};var At,Tt=L.Tooltip=function(){this.init.apply(this,arguments)};Tt.prototype={init:function(e,t){var n=t.borderWidth,i=t.style,r=we(i.padding);this.chart=e,this.options=t,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=e.renderer.label("",0,0,t.shape||"callout",null,null,t.useHTML,null,"tooltip").attr({padding:r,fill:t.backgroundColor,"stroke-width":n,r:t.borderRadius,zIndex:8}).css(i).css({padding:0}).add().attr({y:-9999}),p||this.label.shadow(t.shadow),this.shared=t.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(e,t,n,i){var r=this,o=r.now,a=!1!==r.options.animation&&!r.isHidden&&(1<W(e-o.x)||1<W(t-o.y)),s=r.followPointer||1<r.len;ye(o,{x:a?(2*o.x+e)/3:e,y:a?(o.y+t)/2:t,anchorX:s?R:a?(2*o.anchorX+n)/3:n,anchorY:s?R:a?(o.anchorY+i)/2:i}),r.label.attr(o),a&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){r&&r.move(e,t,n,i)},32))},hide:function(e){var t,n=this;clearTimeout(this.hideTimer),this.isHidden||(t=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){n.label.fadeOut(),n.isHidden=!0},Pe(e,this.options.hideDelay,500)),t&&Qe(t,function(e){e.setState()}),this.chart.hoverPoints=null,this.chart.hoverSeries=null)},getAnchor:function(e,t){var n,i,r,o=this.chart,a=o.inverted,s=o.plotTop,l=o.plotLeft,c=0,u=0;return n=(e=De(e))[0].tooltipPos,this.followPointer&&t&&(t.chartX===R&&(t=o.pointer.normalize(t)),n=[t.chartX-o.plotLeft,t.chartY-s]),n||(Qe(e,function(e){i=e.series.yAxis,r=e.series.xAxis,c+=e.plotX+(!a&&r?r.left-l:0),u+=(e.plotLow?(e.plotLow+e.plotHigh)/2:e.plotY)+(!a&&i?i.top-s:0)}),c/=e.length,u/=e.length,n=[a?o.plotWidth-u:c,this.shared&&!a&&1<e.length&&t?t.chartY-s:a?o.plotHeight-c:u]),nt(n,j)},getPosition:function(e,t,n){function i(e){var t=a;a=s,s=t,r=e}var r,o=this.chart,l=this.distance,c={},a=["y",o.chartHeight,t,n.plotY+o.plotTop],s=["x",o.chartWidth,e,n.plotX+o.plotLeft],u=Pe(n.ttBelow,o.inverted&&!n.negative||!o.inverted&&n.negative),d=function(){!1!==function(e,t,n,i){var r=n<i-l,o=i+l+n<t,a=i-l-n,s=i+l;if(u&&o)c[e]=s;else if(!u&&r)c[e]=a;else if(r)c[e]=a;else{if(!o)return!1;c[e]=s}}.apply(0,a)?!1!==function(e,t,n,i){if(i<l||t-l<i)return!1;c[e]=i<n/2?1:t-n/2<i?t-n-2:i-n/2}.apply(0,s)||r||(i(!0),d()):r?c.x=c.y=0:(i(!0),d())};return(o.inverted||1<this.len)&&i(),d(),c},defaultFormatter:function(e){var t,n=this.points||De(this);return(t=(t=[e.tooltipFooterHeaderFormatter(n[0])]).concat(e.bodyFormatter(n))).push(e.tooltipFooterHeaderFormatter(n[0],!0)),t.join("")},refresh:function(e,t){var n,i,r,o,a,s,l=this,c=l.chart,u=l.label,d=l.options,h={},p=[],f=d.formatter||l.defaultFormatter,g=c.hoverPoints,m=l.shared;clearTimeout(this.hideTimer),l.followPointer=De(e)[0].series.tooltipOptions.followPointer,n=(r=l.getAnchor(e,t))[0],i=r[1],!m||e.series&&e.series.noSharedTooltip?h=e.getLabelConfig():(c.hoverPoints=e,g&&Qe(g,function(e){e.setState()}),Qe(e,function(e){e.setState(ge),p.push(e.getLabelConfig())}),(h={x:e[0].category,y:e[0].y}).points=p,this.len=p.length,e=e[0]),o=f.call(h,l),s=e.series,this.distance=Pe(s.tooltipOptions.distance,16),!1===o?this.hide():(l.isHidden&&(lt(u),u.attr("opacity",1).show()),u.attr({text:o}),a=d.borderColor||e.color||s.color||"#606060",u.attr({stroke:a}),l.updatePosition({plotX:n,plotY:i,negative:e.negative,ttBelow:e.ttBelow}),this.isHidden=!1),ot(c,"tooltipRefresh",{text:o,x:n+c.plotLeft,y:i+c.plotTop,borderColor:a})},updatePosition:function(e){var t=this.chart,n=this.label,i=(this.options.positioner||this.getPosition).call(this,n.width,n.height,e);this.move(j(i.x),j(i.y),e.plotX+t.plotLeft,e.plotY+t.plotTop)},getXDateFormat:function(e,t,n){var i,r,o,a,s=t.dateTimeLabelFormats,l=n&&n.closestPointRange,c="01-01 00:00:00.000",u={millisecond:15,second:12,minute:9,hour:6,day:3};if(l){for(r in o=T("%m-%d %H:%M:%S.%L",e.x),M){if(l===M.week&&+T("%w",e.x)===n.options.startOfWeek&&o.substr(6)===c.substr(6)){r="week";break}if(l<M[r]){r=a;break}if(u[r]&&o.substr(u[r])!==c.substr(u[r]))break;"week"!==r&&(a=r)}r&&(i=s[r])}else i=s.day;return i||s.year},tooltipFooterHeaderFormatter:function(e,t){var n=t?"footer":"header",i=e.series,r=i.tooltipOptions,o=r.xDateFormat,a=i.xAxis,s=a&&"datetime"===a.options.type&&$e(e.key),l=r[n+"Format"];return s&&!o&&(o=this.getXDateFormat(e,r,a)),s&&o&&(l=l.replace("{point.key}","{point.key:"+o+"}")),Ne(l,{point:e,series:i})},bodyFormatter:function(e){return nt(e,function(e){var t=e.series.tooltipOptions;return(t.pointFormatter||e.point.tooltipFormatter).call(e.point,t.pointFormat)})}},v=N.documentElement.ontouchstart!==R;var Mt=L.Pointer=function(e,t){this.init(e,t)};if(Mt.prototype={init:function(e,t){var n,i,r=t.chart,o=r.events,a=p?"":r.zoomType,s=e.inverted;this.options=t,this.chart=e,this.zoomX=n=/x/.test(a),this.zoomY=i=/y/.test(a),this.zoomHor=n&&!s||i&&s,this.zoomVert=i&&!s||n&&s,this.hasZoom=n||i,this.runChartClick=o&&!!o.click,this.pinchDown=[],this.lastValidTouch={},L.Tooltip&&t.tooltip.enabled&&(e.tooltip=new Tt(e,t.tooltip),this.followTouchMove=Pe(t.tooltip.followTouchMove,!0)),this.setDOMEvents()},normalize:function(e,t){var n,i,r;return e=e||window.event,(e=at(e)).target||(e.target=e.srcElement),r=e.touches?e.touches.length?e.touches.item(0):e.changedTouches[0]:e,t||(this.chartPosition=t=tt(this.chart.container)),i=r.pageX===R?(n=G(e.x,e.clientX-t.left),e.y):(n=r.pageX-t.left,r.pageY-t.top),ye(e,{chartX:j(n),chartY:j(i)})},getCoordinates:function(t){var n={xAxis:[],yAxis:[]};return Qe(this.chart.axes,function(e){n[e.isXAxis?"xAxis":"yAxis"].push({axis:e,value:e.toValue(t[e.horiz?"chartX":"chartY"])})}),n},runPointActions:function(t){var e,n,i,r,o,a,s,l,c=this.chart,u=c.series,d=c.tooltip,h=!!d&&d.shared,p=c.hoverPoint,f=c.hoverSeries,g=c.chartWidth,m=c.chartWidth,v=[];if(!h&&!f)for(n=0;n<u.length;n++)!u[n].directTouch&&u[n].options.stickyTracking||(u=[]);if(f&&f.noSharedTooltip||!h&&f?s=f.directTouch&&p||f&&f.searchPoint(t):(Qe(u,function(e){a=e.noSharedTooltip&&h,e.visible&&!a&&Pe(e.options.enableMouseTracking,!0)&&(l=e.searchPoint(t))&&v.push(l)}),Qe(v,function(e){e&&Te(e.plotX)&&Te(e.plotY)&&(e.dist.distX<g||(e.dist.distX===g||1<e.series.kdDimensions)&&e.dist.distR<m)&&(g=e.dist.distX,m=e.dist.distR,s=e)})),s&&(s!==p||d&&d.isHidden))if(h&&!s.series.noSharedTooltip){for(n=v.length,i=s.clientX;n--;)r=v[n].clientX,v[n].x===s.x&&r===i&&!v[n].series.noSharedTooltip||v.splice(n,1);v.length&&d&&d.refresh(v,t),Qe(v,function(e){e!==s&&e.onMouseOver(t)}),s.onMouseOver(t)}else d&&d.refresh(s,t),s.onMouseOver(t);else e=f&&f.tooltipOptions.followPointer,d&&e&&!d.isHidden&&(o=d.getAnchor([{}],t),d.updatePosition({plotX:o[0],plotY:o[1]}));d&&!this._onDocumentMouseMove&&(this._onDocumentMouseMove=function(e){ie[At]&&ie[At].pointer.onDocumentMouseMove(e)},it(N,"mousemove",this._onDocumentMouseMove)),Qe(c.axes,function(e){e.drawCrosshair(t,Pe(s,p))})},reset:function(t,e){var n=this.chart,i=n.hoverSeries,r=n.hoverPoint,o=n.tooltip,a=o&&o.shared?n.hoverPoints:r;(t=t&&o&&a)&&De(a)[0].plotX===R&&(t=!1),t?(o.refresh(a),r&&(r.setState(r.state,!0),Qe(n.axes,function(e){Pe(e.options.crosshair&&e.options.crosshair.snap,!0)?e.drawCrosshair(null,t):e.hideCrosshair()}))):(r&&r.onMouseOut(),i&&i.onMouseOut(),o&&o.hide(e),this._onDocumentMouseMove&&(rt(N,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null),Qe(n.axes,function(e){e.hideCrosshair()}),this.hoverX=null)},scaleGroups:function(t,n){var i,r=this.chart;Qe(r.series,function(e){i=t||e.getPlotBox(),e.xAxis&&e.xAxis.zoomEnabled&&(e.group.attr(i),e.markerGroup&&(e.markerGroup.attr(i),e.markerGroup.clip(n?r.clipRect:null)),e.dataLabelsGroup&&e.dataLabelsGroup.attr(i))}),r.clipRect.attr(n||r.clipBox)},dragStart:function(e){var t=this.chart;t.mouseIsDown=e.type,t.cancelClick=!1,t.mouseDownX=this.mouseDownX=e.chartX,t.mouseDownY=this.mouseDownY=e.chartY},drag:function(e){var t,n,i=this.chart,r=i.options.chart,o=e.chartX,a=e.chartY,s=this.zoomHor,l=this.zoomVert,c=i.plotLeft,u=i.plotTop,d=i.plotWidth,h=i.plotHeight,p=this.mouseDownX,f=this.mouseDownY,g=r.panKey&&e[r.panKey+"Key"];o<c?o=c:c+d<o&&(o=c+d),a<u?a=u:u+h<a&&(a=u+h),this.hasDragged=Math.sqrt(Math.pow(p-o,2)+Math.pow(f-a,2)),10<this.hasDragged&&(t=i.isInsidePlot(p-c,f-u),i.hasCartesianSeries&&(this.zoomX||this.zoomY)&&t&&!g&&(this.selectionMarker||(this.selectionMarker=i.renderer.rect(c,u,s?1:d,l?1:h,0).attr({fill:r.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add())),this.selectionMarker&&s&&(n=o-p,this.selectionMarker.attr({width:W(n),x:(0<n?0:n)+p})),this.selectionMarker&&l&&(n=a-f,this.selectionMarker.attr({height:W(n),y:(0<n?0:n)+f})),t&&!this.selectionMarker&&r.panning&&i.pan(e,r.panning))},drop:function(o){var a=this,t=this.chart,s=this.hasPinched;if(this.selectionMarker){var l,c={xAxis:[],yAxis:[],originalEvent:o.originalEvent||o},e=this.selectionMarker,u=e.attr?e.attr("x"):e.x,d=e.attr?e.attr("y"):e.y,h=e.attr?e.attr("width"):e.width,p=e.attr?e.attr("height"):e.height;(this.hasDragged||s)&&(Qe(t.axes,function(e){if(e.zoomEnabled&&Te(e.min)&&(s||a[{xAxis:"zoomX",yAxis:"zoomY"}[e.coll]])){var t=e.horiz,n="touchend"===o.type?e.minPixelPadding:0,i=e.toValue((t?u:d)+n),r=e.toValue((t?u+h:d+p)-n);c[e.coll].push({axis:e,min:U(i,r),max:G(i,r)}),l=!0}}),l&&ot(t,"selection",c,function(e){t.zoom(ye(e,s?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),s&&this.scaleGroups()}t&&(_e(t.container,{cursor:t._cursor}),t.cancelClick=10<this.hasDragged,t.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(e){(e=this.normalize(e)).preventDefault&&e.preventDefault(),this.dragStart(e)},onDocumentMouseUp:function(e){ie[At]&&ie[At].pointer.drop(e)},onDocumentMouseMove:function(e){var t=this.chart,n=this.chartPosition;e=this.normalize(e,n),!n||this.inClass(e.target,"highcharts-tracker")||t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)||this.reset()},onContainerMouseLeave:function(){var e=ie[At];e&&(e.pointer.reset(),e.pointer.chartPosition=null)},onContainerMouseMove:function(e){var t=this.chart;At=t.index,(e=this.normalize(e)).returnValue=!1,"mousedown"===t.mouseIsDown&&this.drag(e),!this.inClass(e.target,"highcharts-tracker")&&!t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)||t.openMenu||this.runPointActions(e)},inClass:function(e,t){for(var n;e;){if(n=Me(e,"class")){if(-1!==n.indexOf(t))return!0;if(-1!==n.indexOf(le+"container"))return!1}e=e.parentNode}},onTrackerMouseOut:function(e){var t=this.chart.hoverSeries,n=e.relatedTarget||e.toElement,i=n&&n.point&&n.point.series;!t||t.options.stickyTracking||this.inClass(n,le+"tooltip")||i===t||t.onMouseOut()},onContainerClick:function(e){var t=this.chart,n=t.hoverPoint,i=t.plotLeft,r=t.plotTop;((e=this.normalize(e)).originalEvent=e).cancelBubble=!0,t.cancelClick||(n&&this.inClass(e.target,le+"tracker")?(ot(n.series,"click",ye(e,{point:n})),t.hoverPoint&&n.firePointEvent("click",e)):(ye(e,this.getCoordinates(e)),t.isInsidePlot(e.chartX-i,e.chartY-r)&&ot(t,"click",e)))},setDOMEvents:function(){var t=this,e=t.chart.container;e.onmousedown=function(e){t.onContainerMouseDown(e)},e.onmousemove=function(e){t.onContainerMouseMove(e)},e.onclick=function(e){t.onContainerClick(e)},it(e,"mouseleave",t.onContainerMouseLeave),1===l&&it(N,"mouseup",t.onDocumentMouseUp),v&&(e.ontouchstart=function(e){t.onContainerTouchStart(e)},e.ontouchmove=function(e){t.onContainerTouchMove(e)},1===l&&it(N,"touchend",t.onDocumentTouchEnd))},destroy:function(){var e;for(e in rt(this.chart.container,"mouseleave",this.onContainerMouseLeave),l||(rt(N,"mouseup",this.onDocumentMouseUp),rt(N,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout),this)this[e]=null}},ye(L.Pointer.prototype,{pinchTranslate:function(e,t,n,i,r,o){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,e,t,n,i,r,o),(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,e,t,n,i,r,o)},pinchTranslateDirection:function(e,t,n,i,r,o,a,s){function l(){!$&&20<W(E-A)&&(x=s||W(k-T)/W(E-A)),d=(w-k)/x+E,c=g["plot"+(e?"Width":"Height")]/x}var c,u,d,h,p,f,g=this.chart,m=e?"x":"y",v=e?"X":"Y",y="chart"+v,b=e?"width":"height",w=g["plot"+(e?"Left":"Top")],x=s||1,C=g.inverted,S=g.bounds[e?"h":"v"],$=1===t.length,E=t[0][y],k=n[0][y],A=!$&&t[1][y],T=!$&&n[1][y];l(),(u=d)<S.min?(u=S.min,h=!0):u+c>S.max&&(u=S.max-c,h=!0),h?(k-=.8*(k-a[m][0]),$||(T-=.8*(T-a[m][1])),l()):a[m]=[k,T],C||(o[m]=d-w,o[b]=c),f=C?e?"scaleY":"scaleX":"scale"+v,p=C?1/x:x,r[b]=c,r[m]=u,i[f]=x,i["translate"+v]=p*w+(k-p*E)},pinch:function(e){var t=this,s=t.chart,n=t.pinchDown,i=e.touches,r=i.length,o=t.lastValidTouch,a=t.hasZoom,l=t.selectionMarker,c={},u=1===r&&(t.inClass(e.target,le+"tracker")&&s.runTrackerClick||t.runChartClick),d={};a&&!u&&e.preventDefault(),nt(i,function(e){return t.normalize(e)}),"touchstart"===e.type?(Qe(i,function(e,t){n[t]={chartX:e.chartX,chartY:e.chartY}}),o.x=[n[0].chartX,n[1]&&n[1].chartX],o.y=[n[0].chartY,n[1]&&n[1].chartY],Qe(s.axes,function(e){if(e.zoomEnabled){var t=s.bounds[e.horiz?"h":"v"],n=e.minPixelPadding,i=e.toPixels(Pe(e.options.min,e.dataMin)),r=e.toPixels(Pe(e.options.max,e.dataMax)),o=U(i,r),a=G(i,r);t.min=U(e.pos,o-n),t.max=G(e.pos+e.len,a+n)}}),t.res=!0):n.length&&(l||(t.selectionMarker=l=ye({destroy:f},s.plotBox)),t.pinchTranslate(n,i,c,l,d,o),t.hasPinched=a,t.scaleGroups(c,d),!a&&t.followTouchMove&&1===r?this.runPointActions(t.normalize(e)):t.res&&(t.res=!1,this.reset(!1,0)))},onContainerTouchStart:function(e){var t=this.chart;At=t.index,1===e.touches.length?(e=this.normalize(e),t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)&&!t.openMenu?(this.runPointActions(e),this.pinch(e)):this.reset()):2===e.touches.length&&this.pinch(e)},onContainerTouchMove:function(e){1!==e.touches.length&&2!==e.touches.length||this.pinch(e)},onDocumentTouchEnd:function(e){ie[At]&&ie[At].pointer.drop(e)}}),d.PointerEvent||d.MSPointerEvent){function Dt(e,t,n,i){"touch"!==(e=e.originalEvent||e).pointerType&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH||!ie[At]||(i(e),ie[At].pointer[t]({type:n,target:e.currentTarget,preventDefault:f,touches:function(){var e,t=[];for(e in t.item=function(e){return this[e]},Pt)Pt.hasOwnProperty(e)&&t.push({pageX:Pt[e].pageX,pageY:Pt[e].pageY,target:Pt[e].target});return t}()}))}var Pt={},_t=!!d.PointerEvent;ye(Mt.prototype,{onContainerPointerDown:function(e){Dt(e,"onContainerTouchStart","touchstart",function(e){Pt[e.pointerId]={pageX:e.pageX,pageY:e.pageY,target:e.currentTarget}})},onContainerPointerMove:function(e){Dt(e,"onContainerTouchMove","touchmove",function(e){Pt[e.pointerId]={pageX:e.pageX,pageY:e.pageY},Pt[e.pointerId].target||(Pt[e.pointerId].target=e.currentTarget)})},onDocumentPointerUp:function(e){Dt(e,"onContainerTouchEnd","touchend",function(e){delete Pt[e.pointerId]})},batchMSEvents:function(e){e(this.chart.container,_t?"pointerdown":"MSPointerDown",this.onContainerPointerDown),e(this.chart.container,_t?"pointermove":"MSPointerMove",this.onContainerPointerMove),e(N,_t?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),Oe(Mt.prototype,"init",function(e,t,n){e.call(this,t,n),(this.hasZoom||this.followTouchMove)&&_e(t.container,{"-ms-touch-action":de,"touch-action":de})}),Oe(Mt.prototype,"setDOMEvents",function(e){e.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(it)}),Oe(Mt.prototype,"destroy",function(e){this.batchMSEvents(rt),e.call(this)})}var Rt=L.Legend=function(e,t){this.init(e,t)};Rt.prototype={init:function(e,t){var n,i=this,r=t.itemStyle,o=t.itemMarginTop||0;(this.options=t).enabled&&(i.itemStyle=r,i.itemHiddenStyle=be(r,t.itemHiddenStyle),i.itemMarginTop=o,i.padding=n=Pe(t.padding,8),i.initialItemX=n,i.initialItemY=n-5,i.maxItemWidth=0,i.chart=e,i.itemHeight=0,i.symbolWidth=Pe(t.symbolWidth,16),i.pages=[],i.render(),it(i.chart,"endResize",function(){i.positionCheckboxes()}))},colorizeItem:function(e,t){var n,i,r=this.options,o=e.legendItem,a=e.legendLine,s=e.legendSymbol,l=this.itemHiddenStyle.color,c=t?r.itemStyle.color:l,u=t?e.legendColor||e.color||"#CCC":l,d=e.options&&e.options.marker,h={fill:u};if(o&&o.css({fill:c,color:c}),a&&a.attr({stroke:u}),s){if(d&&s.isMarker)for(n in h.stroke=u,d=e.convertAttribs(d))(i=d[n])!==R&&(h[n]=i);s.attr(h)}},positionItem:function(e){var t=this.options,n=t.symbolPadding,i=!t.rtl,r=e._legendItemPos,o=r[0],a=r[1],s=e.checkbox;e.legendGroup&&e.legendGroup.translate(i?o:this.legendWidth-o-2*n-4,a),s&&(s.x=o,s.y=a)},destroyItem:function(t){var e=t.checkbox;Qe(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),e&&Ge(t.checkbox)},clearItems:function(){var t=this;Qe(t.getAllItems(),function(e){t.destroyItem(e)})},destroy:function(){var e=this.group,t=this.box;t&&(this.box=t.destroy()),e&&(this.group=e.destroy())},positionCheckboxes:function(i){var r,o=this.group.alignAttr,a=this.clipHeight||this.legendHeight;o&&(r=o.translateY,Qe(this.allItems,function(e){var t,n=e.checkbox;n&&(t=r+n.y+(i||0)+3,_e(n,{left:o.translateX+e.checkboxOffset+n.x-20+ue,top:t+ue,display:r-6<t&&t<r+a-6?"":de}))}))},renderTitle:function(){var e,t=this.options,n=this.padding,i=t.title,r=0;i.text&&(this.title||(this.title=this.chart.renderer.label(i.text,n-3,n-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(i.style).add(this.group)),r=(e=this.title.getBBox()).height,this.offsetWidth=e.width,this.contentGroup.attr({translateY:r})),this.titleHeight=r},renderItem:function(e){var t,n,i,r=this,o=r.chart,a=o.renderer,s=r.options,l="horizontal"===s.layout,c=r.symbolWidth,u=s.symbolPadding,d=r.itemStyle,h=r.itemHiddenStyle,p=r.padding,f=l?Pe(s.itemDistance,20):0,g=!s.rtl,m=s.width,v=s.itemMarginBottom||0,y=r.itemMarginTop,b=r.initialItemX,w=e.legendItem,x=e.series&&e.series.drawLegendSymbol?e.series:e,C=x.options,S=r.createCheckboxForItem&&C&&C.showCheckbox,$=s.useHTML;w||(e.legendGroup=a.g("legend-item").attr({zIndex:1}).add(r.scrollGroup),e.legendItem=w=a.text(s.labelFormat?Ne(s.labelFormat,e):s.labelFormatter.call(e),g?c+u:-u,r.baseline||0,$).css(be(e.visible?d:h)).attr({align:g?"left":"right",zIndex:2}).add(e.legendGroup),r.baseline||(r.baseline=a.fontMetrics(d.fontSize,w).f+3+y,w.attr("y",r.baseline)),x.drawLegendSymbol(r,e),r.setItemEvents&&r.setItemEvents(e,w,$,d,h),r.colorizeItem(e,e.visible),S&&r.createCheckboxForItem(e)),n=w.getBBox(),i=e.checkboxOffset=s.itemWidth||e.legendItemWidth||c+u+n.width+f+(S?20:0),r.itemHeight=t=j(e.legendItemHeight||n.height),l&&r.itemX-b+i>(m||o.chartWidth-2*p-b-s.x)&&(r.itemX=b,r.itemY+=y+r.lastLineHeight+v),r.maxItemWidth=G(r.maxItemWidth,i),r.lastItemY=y+r.itemY+v,r.lastLineHeight=G(t,r.lastLineHeight),e._legendItemPos=[r.itemX,r.itemY],l?r.itemX+=i:(r.itemY+=y+t+v,r.lastLineHeight=t),r.offsetWidth=m||G((l?r.itemX-b-f:i)+p,r.offsetWidth)},getAllItems:function(){var n=[];return Qe(this.chart.series,function(e){var t=e.options;Pe(t.showInLegend,!Te(t.linkedTo)&&R,!0)&&(n=n.concat(e.legendItems||("point"===t.legendType?e.data:e)))}),n},adjustMargins:function(n,i){var r=this.chart,o=this.options,a=o.align[0]+o.verticalAlign[0]+o.layout[0];this.display&&!o.floating&&Qe([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(e,t){e.test(a)&&!Te(n[t])&&(r[s[t]]=G(r[s[t]],r.legend[(t+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][t]*o[t%2?"x":"y"]+Pe(o.margin,12)+i[t]))})},render:function(){var e,t,n,i,r=this,o=r.chart,a=o.renderer,s=r.group,l=r.box,c=r.options,u=r.padding,d=c.borderWidth,h=c.backgroundColor;r.itemX=r.initialItemX,r.itemY=r.initialItemY,r.offsetWidth=0,r.lastItemY=0,s||(r.group=s=a.g("legend").attr({zIndex:7}).add(),r.contentGroup=a.g().attr({zIndex:1}).add(s),r.scrollGroup=a.g().add(r.contentGroup)),r.renderTitle(),Be(e=r.getAllItems(),function(e,t){return(e.options&&e.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)}),c.reversed&&e.reverse(),r.allItems=e,r.display=t=!!e.length,r.lastLineHeight=0,Qe(e,function(e){r.renderItem(e)}),n=(c.width||r.offsetWidth)+u,i=r.lastItemY+r.lastLineHeight+r.titleHeight,i=r.handleOverflow(i),i+=u,(d||h)&&(l?0<n&&0<i&&(l[l.isNew?"attr":"animate"](l.crisp({width:n,height:i})),l.isNew=!1):(r.box=l=a.rect(0,0,n,i,c.borderRadius,d||0).attr({stroke:c.borderColor,"stroke-width":d||0,fill:h||de}).add(s).shadow(c.shadow),l.isNew=!0),l[t?"show":"hide"]()),r.legendWidth=n,r.legendHeight=i,Qe(e,function(e){r.positionItem(e)}),t&&s.align(ye({width:n,height:i},c),!0,"spacingBox"),o.isResizing||this.positionCheckboxes()},handleOverflow:function(e){var o,a,t=this,n=this.chart,i=n.renderer,r=this.options,s=r.y,l="top"===r.verticalAlign,c=n.spacingBox.height+(l?-s:s)-this.padding,u=r.maxHeight,d=this.clipRect,h=r.navigation,p=Pe(h.animation,!0),f=h.arrowSize||12,g=this.nav,m=this.pages,v=this.allItems;return"horizontal"===r.layout&&(c/=2),u&&(c=U(c,u)),m.length=0,c<e&&!r.useHTML?(this.clipHeight=o=G(c-20-this.titleHeight-this.padding,0),this.currentPage=Pe(this.currentPage,1),this.fullHeight=e,Qe(v,function(e,t){var n=e._legendItemPos[1],i=j(e.legendItem.getBBox().height),r=m.length;(!r||n-m[r-1]>o&&(a||n)!==m[r-1])&&(m.push(a||n),r++),t===v.length-1&&n+i-m[r-1]>o&&m.push(n),n!==a&&(a=n)}),d||(d=t.clipRect=i.clipRect(0,this.padding,9999,0),t.contentGroup.clip(d)),d.attr({height:o}),g||(this.nav=g=i.g().attr({zIndex:1}).add(this.group),this.up=i.symbol("triangle",0,0,f,f).on("click",function(){t.scroll(-1,p)}).add(g),this.pager=i.text("",15,10).css(h.style).add(g),this.down=i.symbol("triangle-down",0,0,f,f).on("click",function(){t.scroll(1,p)}).add(g)),t.scroll(0),e=c):g&&(d.attr({height:n.chartHeight}),g.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),e},scroll:function(e,t){var n,i=this.pages,r=i.length,o=this.currentPage+e,a=this.clipHeight,s=this.options.navigation,l=s.activeColor,c=s.inactiveColor,u=this.pager,d=this.padding;r<o&&(o=r),0<o&&(t!==R&&qe(t,this.chart),this.nav.attr({translateX:d,translateY:a+this.padding+7+this.titleHeight,visibility:ce}),this.up.attr({fill:1===o?c:l}).css({cursor:1===o?"default":"pointer"}),u.attr({text:o+"/"+r}),this.down.attr({x:18+this.pager.getBBox().width,fill:o===r?c:l}).css({cursor:o===r?"default":"pointer"}),n=-i[o-1]+this.initialItemY,this.scrollGroup.animate({translateY:n}),this.currentPage=o,this.positionCheckboxes(n))}};var It=L.LegendSymbolMixin={drawRectangle:function(e,t){var n=e.options.symbolHeight||12;t.legendSymbol=this.chart.renderer.rect(0,e.baseline-5-n/2,e.symbolWidth,n,e.options.symbolRadius||0).attr({zIndex:3}).add(t.legendGroup)},drawLineMarker:function(e){var t,n,i,r=this.options,o=r.marker,a=e.options,s=e.symbolWidth,l=this.chart.renderer,c=this.legendGroup,u=e.baseline-j(.3*l.fontMetrics(a.itemStyle.fontSize,this.legendItem).b);r.lineWidth&&(i={"stroke-width":r.lineWidth},r.dashStyle&&(i.dashstyle=r.dashStyle),this.legendLine=l.path([he,0,u,pe,s,u]).attr(i).add(c)),o&&!1!==o.enabled&&(t=o.radius,this.legendSymbol=n=l.symbol(this.symbol,s/2-t,u-t,2*t,2*t).add(c),n.isMarker=!0)}};(/Trident\/7\.0/.test(u)||Z)&&Oe(Rt.prototype,"positionItem",function(e,t){function n(){t._legendItemPos&&e.call(i,t)}var i=this;n(),setTimeout(n)});var Ft=L.Chart=function(){this.init.apply(this,arguments)};Ft.prototype={callbacks:[],init:function(e,t){var n,i=e.series;e.series=null,(n=be(O,e)).series=e.series=i,this.userOptions=e;var r=n.chart;this.margin=this.splashArray("margin",r),this.spacing=this.splashArray("spacing",r);var o=r.events;this.bounds={h:{},v:{}},this.callback=t,this.isResizing=0,this.options=n,this.axes=[],this.series=[],this.hasCartesianSeries=r.showAxes;var a,s=this;if(s.index=ie.length,ie.push(s),l++,!1!==r.reflow&&it(s,"load",function(){s.initReflow()}),o)for(a in o)it(s,a,o[a]);s.xAxis=[],s.yAxis=[],s.animation=!p&&Pe(r.animation,!0),s.pointCount=s.colorCounter=s.symbolCounter=0,s.firstRender()},initSeries:function(e){var t,n=this.options.chart,i=e.type||n.type||n.defaultSeriesType,r=ve[i];return r||Ue(17,!0),(t=new r).init(this,e),t},isInsidePlot:function(e,t,n){var i=n?t:e,r=n?e:t;return 0<=i&&i<=this.plotWidth&&0<=r&&r<=this.plotHeight},redraw:function(e){var t,n,i,r=this,o=r.axes,a=r.series,s=r.pointer,l=r.legend,c=r.isDirtyLegend,u=r.hasCartesianSeries,d=r.isDirtyBox,h=a.length,p=h,f=r.renderer,g=f.isHidden(),m=[];for(qe(e,r),g&&r.cloneRenderTo(),r.layOutTitles();p--;)if((i=a[p]).options.stacking&&(t=!0,i.isDirty)){n=!0;break}if(n)for(p=h;p--;)(i=a[p]).options.stacking&&(i.isDirty=!0);Qe(a,function(e){e.isDirty&&"point"===e.options.legendType&&(c=!0)}),c&&l.options.enabled&&(l.render(),r.isDirtyLegend=!1),t&&r.getStacks(),u&&(r.isResizing||(r.maxTicks=null,Qe(o,function(e){e.setScale()}))),r.getMargins(),u&&(Qe(o,function(e){e.isDirty&&(d=!0)}),Qe(o,function(e){e.isDirtyExtremes&&(e.isDirtyExtremes=!1,m.push(function(){ot(e,"afterSetExtremes",ye(e.eventArgs,e.getExtremes())),delete e.eventArgs})),(d||t)&&e.redraw()})),d&&r.drawChartBox(),Qe(a,function(e){e.isDirty&&e.visible&&(!e.isCartesian||e.xAxis)&&e.redraw()}),s&&s.reset(!0),f.draw(),ot(r,"redraw"),g&&r.cloneRenderTo(!0),Qe(m,function(e){e.call()})},get:function(e){var t,n,i,r=this.axes,o=this.series;for(t=0;t<r.length;t++)if(r[t].options.id===e)return r[t];for(t=0;t<o.length;t++)if(o[t].options.id===e)return o[t];for(t=0;t<o.length;t++)for(i=o[t].points||[],n=0;n<i.length;n++)if(i[n].id===e)return i[n];return null},getAxes:function(){var e,t=this,n=this.options,i=n.xAxis=De(n.xAxis||{}),r=n.yAxis=De(n.yAxis||{});Qe(i,function(e,t){e.index=t,e.isX=!0}),Qe(r,function(e,t){e.index=t}),e=i.concat(r),Qe(e,function(e){new kt(t,e)})},getSelectedPoints:function(){var t=[];return Qe(this.series,function(e){t=t.concat(et(e.points||[],function(e){return e.selected}))}),t},getSelectedSeries:function(){return et(this.series,function(e){return e.selected})},getStacks:function(){var t=this;Qe(t.yAxis,function(e){e.stacks&&e.hasVisibleSeries&&(e.oldStacks=e.stacks)}),Qe(t.series,function(e){!e.options.stacking||!0!==e.visible&&!1!==t.options.chart.ignoreHiddenSeries||(e.stackKey=e.type+Pe(e.options.stack,""))})},setTitle:function(e,t,n){var i,r,o=this,a=o.options;i=a.title=be(a.title,e),r=a.subtitle=be(a.subtitle,t),Qe([["title",e,i],["subtitle",t,r]],function(e){var t=e[0],n=o[t],i=e[1],r=e[2];n&&i&&(o[t]=n=n.destroy()),r&&r.text&&!n&&(o[t]=o.renderer.text(r.text,0,0,r.useHTML).attr({align:r.align,class:le+t,zIndex:r.zIndex||4}).css(r.style).add())}),o.layOutTitles(n)},layOutTitles:function(e){var t,n=0,i=this.title,r=this.subtitle,o=this.options,a=o.title,s=o.subtitle,l=this.renderer,c=this.spacingBox.width-44;i&&(i.css({width:(a.width||c)+ue}).align(ye({y:l.fontMetrics(a.style.fontSize,i).b-3},a),!1,"spacingBox"),a.floating||a.verticalAlign||(n=i.getBBox().height)),r&&(r.css({width:(s.width||c)+ue}).align(ye({y:n+(a.margin-13)+l.fontMetrics(a.style.fontSize,r).b},s),!1,"spacingBox"),s.floating||s.verticalAlign||(n=B(n+r.getBBox().height))),t=this.titleOffset!==n,this.titleOffset=n,!this.isDirtyBox&&t&&(this.isDirtyBox=t,this.hasRendered&&Pe(e,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var e=this,t=e.options.chart,n=t.width,i=t.height,r=e.renderToClone||e.renderTo;Te(n)||(e.containerWidth=Ke(r,"width")),Te(i)||(e.containerHeight=Ke(r,"height")),e.chartWidth=G(0,n||e.containerWidth||600),e.chartHeight=G(0,Pe(i,19<e.containerHeight?e.containerHeight:400))},cloneRenderTo:function(e){var t=this.renderToClone,n=this.container;e?t&&(this.renderTo.appendChild(n),Ge(t),delete this.renderToClone):(n&&n.parentNode===this.renderTo&&this.renderTo.removeChild(n),this.renderToClone=t=this.renderTo.cloneNode(0),_e(t,{position:oe,top:"-9999px",display:"block"}),t.style.setProperty&&t.style.setProperty("display","block","important"),N.body.appendChild(t),n&&t.appendChild(n))},getContainer:function(){var e,t,n,i,r,o,a=this,s=a.options.chart,l="data-highcharts-chart";a.renderTo=i=s.renderTo,o=le+ne++,xe(i)&&(a.renderTo=i=N.getElementById(i)),i||Ue(13,!0),r=we(Me(i,l)),!isNaN(r)&&ie[r]&&ie[r].hasRendered&&ie[r].destroy(),Me(i,l,a.index),i.innerHTML="",s.skipClone||i.offsetWidth||a.cloneRenderTo(),a.getChartSize(),t=a.chartWidth,n=a.chartHeight,a.container=e=Re(re,{className:le+"container"+(s.className?" "+s.className:""),id:o},ye({position:ae,overflow:se,width:t+ue,height:n+ue,textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},s.style),a.renderToClone||i),a._cursor=e.style.cursor,a.renderer=s.forExport?new vt(e,t,n,s.style,!0):new c(e,t,n,s.style),p&&a.renderer.create(a,e,t,n),a.renderer.chartIndex=a.index},getMargins:function(e){var t=this,n=t.spacing,i=t.margin,r=t.titleOffset;t.resetMargins(),r&&!Te(i[0])&&(t.plotTop=G(t.plotTop,r+t.options.title.margin+n[0])),t.legend.adjustMargins(i,n),t.extraBottomMargin&&(t.marginBottom+=t.extraBottomMargin),t.extraTopMargin&&(t.plotTop+=t.extraTopMargin),e||this.getAxisMargins()},getAxisMargins:function(){var n=this,i=n.axisOffset=[0,0,0,0],r=n.margin;n.hasCartesianSeries&&Qe(n.axes,function(e){e.getOffset()}),Qe(s,function(e,t){Te(r[t])||(n[e]+=i[t])}),n.setChartSize()},reflow:function(e){function t(){n.container&&(n.setSize(o,a,!1),n.hasUserSize=null)}var n=this,i=n.options.chart,r=n.renderTo,o=i.width||Ke(r,"width"),a=i.height||Ke(r,"height"),s=e?e.target:d;n.hasUserSize||n.isPrinting||!o||!a||s!==d&&s!==N||(o===n.containerWidth&&a===n.containerHeight||(clearTimeout(n.reflowTimeout),e?n.reflowTimeout=setTimeout(t,100):t()),n.containerWidth=o,n.containerHeight=a)},initReflow:function(){function e(e){t.reflow(e)}var t=this;it(d,"resize",e),it(t,"destroy",function(){rt(d,"resize",e)})},setSize:function(e,t,n){var i,r,o,a=this;a.isResizing+=1,o=function(){a&&ot(a,"endResize",null,function(){a.isResizing-=1})},qe(n,a),a.oldChartHeight=a.chartHeight,a.oldChartWidth=a.chartWidth,Te(e)&&(a.chartWidth=i=G(0,j(e)),a.hasUserSize=!!i),Te(t)&&(a.chartHeight=r=G(0,j(t))),(x?st:_e)(a.container,{width:i+ue,height:r+ue},x),a.setChartSize(!0),a.renderer.setSize(i,r,n),a.maxTicks=null,Qe(a.axes,function(e){e.isDirty=!0,e.setScale()}),Qe(a.series,function(e){e.isDirty=!0}),a.isDirtyLegend=!0,a.isDirtyBox=!0,a.layOutTitles(),a.getMargins(),a.redraw(n),a.oldChartHeight=null,ot(a,"resize"),!1===x?o():setTimeout(o,x&&x.duration||500)},setChartSize:function(e){var t,n,i,r,o,a,s,l=this,c=l.inverted,u=l.renderer,d=l.chartWidth,h=l.chartHeight,p=l.options.chart,f=l.spacing,g=l.clipOffset;l.plotLeft=i=j(l.plotLeft),l.plotTop=r=j(l.plotTop),l.plotWidth=o=G(0,j(d-i-l.marginRight)),l.plotHeight=a=G(0,j(h-r-l.marginBottom)),l.plotSizeX=c?a:o,l.plotSizeY=c?o:a,l.plotBorderWidth=p.plotBorderWidth||0,l.spacingBox=u.spacingBox={x:f[3],y:f[0],width:d-f[3]-f[1],height:h-f[0]-f[2]},l.plotBox=u.plotBox={x:i,y:r,width:o,height:a},s=2*H(l.plotBorderWidth/2),t=B(G(s,g[3])/2),n=B(G(s,g[0])/2),l.clipBox={x:t,y:n,width:H(l.plotSizeX-G(s,g[1])/2-t),height:G(0,H(l.plotSizeY-G(s,g[2])/2-n))},e||Qe(l.axes,function(e){e.setAxisSize(),e.setAxisTranslation()})},resetMargins:function(){var n=this;Qe(s,function(e,t){n[e]=Pe(n.margin[t],n.spacing[t])}),n.axisOffset=[0,0,0,0],n.clipOffset=[0,0,0,0]},drawChartBox:function(){var e,t,n=this,i=n.options.chart,r=n.renderer,o=n.chartWidth,a=n.chartHeight,s=n.chartBackground,l=n.plotBackground,c=n.plotBorder,u=n.plotBGImage,d=i.borderWidth||0,h=i.backgroundColor,p=i.plotBackgroundColor,f=i.plotBackgroundImage,g=i.plotBorderWidth||0,m=n.plotLeft,v=n.plotTop,y=n.plotWidth,b=n.plotHeight,w=n.plotBox,x=n.clipRect,C=n.clipBox;e=d+(i.shadow?8:0),(d||h)&&(s?s.animate(s.crisp({width:o-e,height:a-e})):(t={fill:h||de},d&&(t.stroke=i.borderColor,t["stroke-width"]=d),n.chartBackground=r.rect(e/2,e/2,o-e,a-e,i.borderRadius,d).attr(t).addClass(le+"background").add().shadow(i.shadow))),p&&(l?l.animate(w):n.plotBackground=r.rect(m,v,y,b,0).attr({fill:p}).add().shadow(i.plotShadow)),f&&(u?u.animate(w):n.plotBGImage=r.image(f,m,v,y,b).add()),x?x.animate({width:C.width,height:C.height}):n.clipRect=r.clipRect(C),g&&(c?c.animate(c.crisp({x:m,y:v,width:y,height:b,strokeWidth:-g})):n.plotBorder=r.rect(m,v,y,b,0,-g).attr({stroke:i.plotBorderColor,"stroke-width":g,fill:de,zIndex:1}).add()),n.isDirtyBox=!1},propFromSeries:function(){var t,n,i,r=this,o=r.options.chart,a=r.options.series;Qe(["inverted","angular","polar"],function(e){for(t=ve[o.type||o.defaultSeriesType],i=r[e]||o[e]||t&&t.prototype[e],n=a&&a.length;!i&&n--;)(t=ve[a[n].type])&&t.prototype[e]&&(i=!0);r[e]=i})},linkSeries:function(){var n=this,e=n.series;Qe(e,function(e){e.linkedSeries.length=0}),Qe(e,function(e){var t=e.options.linkedTo;xe(t)&&(t=":previous"===t?n.series[e.index-1]:n.get(t))&&(t.linkedSeries.push(e),e.linkedParent=t)})},renderSeries:function(){Qe(this.series,function(e){e.translate(),e.render()})},renderLabels:function(){var r=this,o=r.options.labels;o.items&&Qe(o.items,function(e){var t=ye(o.style,e.style),n=we(t.left)+r.plotLeft,i=we(t.top)+r.plotTop+12;delete t.left,delete t.top,r.renderer.text(e.html,n,i).attr({zIndex:2}).css(t).add()})},render:function(){var e,t,n,i,r=this,o=r.axes,a=r.renderer,s=r.options;r.setTitle(),r.legend=new Rt(r,s.legend),r.getStacks(),r.getMargins(!0),r.setChartSize(),e=r.plotWidth,t=r.plotHeight=r.plotHeight-13,Qe(o,function(e){e.setScale()}),r.getAxisMargins(),n=1.2<e/r.plotWidth,i=1.1<t/r.plotHeight,(n||i)&&(r.maxTicks=null,Qe(o,function(e){(e.horiz&&n||!e.horiz&&i)&&e.setTickInterval(!0)}),r.getMargins()),r.drawChartBox(),r.hasCartesianSeries&&Qe(o,function(e){e.render()}),r.seriesGroup||(r.seriesGroup=a.g("series-group").attr({zIndex:3}).add()),r.renderSeries(),r.renderLabels(),r.showCredits(s.credits),r.hasRendered=!0},showCredits:function(e){e.enabled&&!this.credits&&(this.credits=this.renderer.text(e.text,0,0).on("click",function(){e.href&&(location.href=e.href)}).attr({align:e.position.align,zIndex:8}).css(e.style).add().align(e.position))},destroy:function(){var e,n=this,t=n.axes,i=n.series,r=n.container,o=r&&r.parentNode;for(ot(n,"destroy"),ie[n.index]=R,l--,n.renderTo.removeAttribute("data-highcharts-chart"),rt(n),e=t.length;e--;)t[e]=t[e].destroy();for(e=i.length;e--;)i[e]=i[e].destroy();for(e in Qe(["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","scroller","rangeSelector","legend","resetZoomButton","tooltip","renderer"],function(e){var t=n[e];t&&t.destroy&&(n[e]=t.destroy())}),r&&(r.innerHTML="",rt(r),o&&Ge(r)),n)delete n[e]},isReadyToRender:function(){var e=this;return!(!ee&&d==d.top&&"complete"!==N.readyState||p&&!d.canvg)||(p?xt.push(function(){e.firstRender()},e.options.global.canvasToolsURL):N.attachEvent("onreadystatechange",function(){N.detachEvent("onreadystatechange",e.firstRender),"complete"===N.readyState&&e.firstRender()}),!1)},firstRender:function(){var t=this,e=t.options,n=t.callback;t.isReadyToRender()&&(t.getContainer(),ot(t,"init"),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),Qe(e.series||[],function(e){t.initSeries(e)}),t.linkSeries(),ot(t,"beforeRender"),L.Pointer&&(t.pointer=new Mt(t,e)),t.render(),t.renderer.draw(),n&&n.apply(t,[t]),Qe(t.callbacks,function(e){t.index!==R&&e.apply(t,[t])}),ot(t,"load"),t.cloneRenderTo(!0))},splashArray:function(e,t){var n=t[e],i=Ce(n)?n:[n,n,n,n];return[Pe(t[e+"Top"],i[0]),Pe(t[e+"Right"],i[1]),Pe(t[e+"Bottom"],i[2]),Pe(t[e+"Left"],i[3])]}};function Ot(){}var Lt=L.CenteredSeriesMixin={getCenter:function(){var e,t,n,i,r=this.options,o=this.chart,a=2*(r.slicedOffset||0),s=o.plotWidth-2*a,l=o.plotHeight-2*a,c=r.center,u=[Pe(c[0],"50%"),Pe(c[1],"50%"),r.size||"100%",r.innerSize||0],d=U(s,l);for(n=0;n<4;++n)i=u[n],t=/%$/.test(i),e=n<2||2===n&&t,u[n]=(t?[s,l,d,u[2]][n]*we(i)/100:we(i))+(e?a:0);return u}};Ot.prototype={init:function(e,t,n){var i;return this.series=e,this.color=e.color,this.applyOptions(t,n),this.pointAttr={},e.options.colorByPoint&&(i=e.options.colors||e.chart.options.colors,this.color=this.color||i[e.colorCounter++],e.colorCounter===i.length&&(e.colorCounter=0)),e.chart.pointCount++,this},applyOptions:function(e,t){var n=this,i=n.series,r=i.options.pointValKey||i.pointValKey;return e=Ot.prototype.optionsToObject.call(this,e),ye(n,e),n.options=n.options?ye(n.options,e):e,r&&(n.y=n[r]),n.x===R&&i&&(n.x=t===R?i.autoIncrement():t),n},optionsToObject:function(e){var t,n={},i=this.series,r=i.pointArrayMap||["y"],o=r.length,a=0,s=0;if("number"==typeof e||null===e)n[r[0]]=e;else if(Se(e))for(e.length>o&&("string"==(t=typeof e[0])?n.name=e[0]:"number"==t&&(n.x=e[0]),a++);s<o;)n[r[s++]]=e[a++];else"object"==typeof e&&((n=e).dataLabels&&(i._hasPointLabels=!0),e.marker&&(i._hasPointMarkers=!0));return n},destroy:function(){var e,t=this,n=t.series.chart,i=n.hoverPoints;for(e in n.pointCount--,i&&(t.setState(),Ae(i,t),i.length||(n.hoverPoints=null)),t===n.hoverPoint&&t.onMouseOut(),(t.graphic||t.dataLabel)&&(rt(t),t.destroyElements()),t.legendItem&&n.legend.destroyItem(t),t)t[e]=null},destroyElements:function(){for(var e,t=["graphic","dataLabel","dataLabelUpper","group","connector","shadowGroup"],n=6;n--;)this[e=t[n]]&&(this[e]=this[e].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(t){var e=this.series,n=e.tooltipOptions,i=Pe(n.valueDecimals,""),r=n.valuePrefix||"",o=n.valueSuffix||"";return Qe(e.pointArrayMap||["y"],function(e){e="{point."+e,(r||o)&&(t=t.replace(e+"}",r+e+"}"+o)),t=t.replace(e+"}",e+":,."+i+"f}")}),Ne(t,{point:this,series:this.series})},firePointEvent:function(e,t,n){var i=this,r=this.series.options;(r.point.events[e]||i.options&&i.options.events&&i.options.events[e])&&this.importEvents(),"click"===e&&r.allowPointSelect&&(n=function(e){i.select(null,e.ctrlKey||e.metaKey||e.shiftKey)}),ot(this,e,t,n)}};var Nt=L.Series=function(){};function Vt(e,t,n,i,r){var o=e.chart.inverted;this.axis=e,this.isNegative=n,this.options=t,this.x=i,this.total=null,this.points={},this.stack=r,this.alignOptions={align:t.align||(o?n?"left":"right":"center"),verticalAlign:t.verticalAlign||(o?"middle":n?"bottom":"top"),y:Pe(t.y,o?4:n?14:-6),x:Pe(t.x,o?n?-6:6:0)},this.textAlign=t.textAlign||(o?n?"right":"left":"center")}Nt.prototype={isCartesian:!0,type:"line",pointClass:Ot,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(e,t){function n(e,t){return Pe(e.options.index,e._i)-Pe(t.options.index,t._i)}var i,r,o=this,a=e.series;for(i in o.chart=e,o.options=t=o.setOptions(t),o.linkedSeries=[],o.bindAxes(),ye(o,{name:t.name,state:"",pointAttr:{},visible:!1!==t.visible,selected:!0===t.selected}),p&&(t.animation=!1),r=t.events)it(o,i,r[i]);(r&&r.click||t.point&&t.point.events&&t.point.events.click||t.allowPointSelect)&&(e.runTrackerClick=!0),o.getColor(),o.getSymbol(),Qe(o.parallelArrays,function(e){o[e+"Data"]=[]}),o.setData(t.data,!1),o.isCartesian&&(e.hasCartesianSeries=!0),a.push(o),o._i=a.length-1,Be(a,n),this.yAxis&&Be(this.yAxis.series,n),Qe(a,function(e,t){e.index=t,e.name=e.name||"Series "+(t+1)})},bindAxes:function(){var n,i=this,r=i.options,e=i.chart;Qe(i.axisTypes||[],function(t){Qe(e[t],function(e){n=e.options,(r[t]===n.index||r[t]!==R&&r[t]===n.id||r[t]===R&&0===n.index)&&(e.series.push(i),(i[t]=e).isDirty=!0)}),i[t]||i.optionalAxis===t||Ue(18,!0)})},updateParallelArrays:function(n,i){var r=n.series,t=arguments,e="number"==typeof i?function(e){var t="y"===e&&r.toYData?r.toYData(n):n[e];r[e+"Data"][i]=t}:function(e){Array.prototype[i].apply(r[e+"Data"],Array.prototype.slice.call(t,2))};Qe(r.parallelArrays,e)},autoIncrement:function(){var e,t,n=this.options,i=this.xIncrement,r=n.pointIntervalUnit;return i=Pe(i,n.pointStart,0),this.pointInterval=t=Pe(this.pointInterval,n.pointInterval,1),"month"!==r&&"year"!==r||(e=new C(i),t=(e="month"===r?+e[I](e[k]()+t):+e[F](e[A]()+t))-i),this.xIncrement=i+t,i},getSegments:function(){var e,n=-1,i=[],r=this.points,o=r.length;if(o)if(this.options.connectNulls){for(e=o;e--;)null===r[e].y&&r.splice(e,1);r.length&&(i=[r])}else Qe(r,function(e,t){null===e.y?(n+1<t&&i.push(r.slice(n+1,t)),n=t):t===o-1&&i.push(r.slice(n+1,t+1))});this.segments=i},setOptions:function(e){var t,n,i=this.chart,r=i.options.plotOptions,o=i.userOptions||{},a=o.plotOptions||{},s=r[this.type];return this.userOptions=e,t=be(s,r.series,e),this.tooltipOptions=be(O.tooltip,O.plotOptions[this.type].tooltip,o.tooltip,a.series&&a.series.tooltip,a[this.type]&&a[this.type].tooltip,e.tooltip),null===s.marker&&delete t.marker,this.zoneAxis=t.zoneAxis,n=this.zones=(t.zones||[]).slice(),!t.negativeColor&&!t.negativeFillColor||t.zones||n.push({value:t[this.zoneAxis+"Threshold"]||t.threshold||0,color:t.negativeColor,fillColor:t.negativeFillColor}),n.length&&Te(n[n.length-1].value)&&n.push({color:this.color,fillColor:this.fillColor}),t},getCyclic:function(e,t,n){var i,r=this.userOptions,o="_"+e+"Index",a=e+"Counter";t||(Te(r[o])?i=r[o]:(r[o]=i=this.chart[a]%n.length,this.chart[a]+=1),t=n[i]),this[e]=t},getColor:function(){this.options.colorByPoint||this.getCyclic("color",this.options.color||ct[this.type].color,this.chart.options.colors)},getSymbol:function(){var e=this.options.marker;this.getCyclic("symbol",e.symbol,this.chart.options.symbols),/^url/.test(this.symbol)&&(e.radius=0)},drawLegendSymbol:It.drawLineMarker,setData:function(e,t,n,i){var r,o,a,s=this,l=s.points,c=l&&l.length||0,u=s.options,d=s.chart,h=null,p=s.xAxis,f=p&&!!p.categories,g=u.turboThreshold,m=this.xData,v=this.yData,y=s.pointArrayMap,b=y&&y.length;if(r=(e=e||[]).length,t=Pe(t,!0),!1!==i&&r&&c===r&&!s.cropped&&!s.hasGroupedData&&s.visible)Qe(e,function(e,t){l[t].update(e,!1,null,!1)});else{if(s.xIncrement=null,s.pointRange=f?1:u.pointRange,s.colorCounter=0,Qe(this.parallelArrays,function(e){s[e+"Data"].length=0}),g&&g<r){for(o=0;null===h&&o<r;)h=e[o],o++;if($e(h)){var w=Pe(u.pointStart,0),x=Pe(u.pointInterval,1);for(o=0;o<r;o++)m[o]=w,v[o]=e[o],w+=x;s.xIncrement=w}else if(Se(h))if(b)for(o=0;o<r;o++)a=e[o],m[o]=a[0],v[o]=a.slice(1,b+1);else for(o=0;o<r;o++)a=e[o],m[o]=a[0],v[o]=a[1];else Ue(12)}else for(o=0;o<r;o++)e[o]!==R&&(a={series:s},s.pointClass.prototype.applyOptions.apply(a,[e[o]]),s.updateParallelArrays(a,o),f&&a.name&&(p.names[a.x]=a.name));for(xe(v[0])&&Ue(14,!0),s.data=[],s.options.data=e,o=c;o--;)l[o]&&l[o].destroy&&l[o].destroy();p&&(p.minRange=p.userMinRange),s.isDirty=s.isDirtyData=d.isDirtyBox=!0,n=!1}t&&d.redraw(n)},processData:function(e){var t,n,i,r,o,a,s,l,c=this,u=c.xData,d=c.yData,h=u.length,p=0,f=c.xAxis,g=c.options,m=g.cropThreshold,v=c.isCartesian;if(v&&!c.isDirty&&!f.isDirty&&!c.yAxis.isDirty&&!e)return!1;for(f&&(s=(a=f.getExtremes()).min,l=a.max),v&&c.sorted&&(!m||m<h||c.forceCrop)&&(u[h-1]<s||u[0]>l?(u=[],d=[]):(u[0]<s||u[h-1]>l)&&(u=(t=this.cropData(c.xData,c.yData,s,l)).xData,d=t.yData,p=t.start,n=!0)),o=u.length-1;0<=o;o--)0<(i=u[o]-u[o-1])&&(r===R||i<r)?r=i:i<0&&c.requireSorting&&Ue(15);c.cropped=n,c.cropStart=p,c.processedXData=u,c.processedYData=d,null===g.pointRange&&(c.pointRange=r||1),c.closestPointRange=r},cropData:function(e,t,n,i){var r,o=e.length,a=0,s=o,l=Pe(this.cropShoulder,1);for(r=0;r<o;r++)if(e[r]>=n){a=G(0,r-l);break}for(;r<o;r++)if(e[r]>i){s=r+l;break}return{xData:e.slice(a,s),yData:t.slice(a,s),start:a,end:s}},generatePoints:function(){var e,t,n,i,r=this,o=r.options.data,a=r.data,s=r.processedXData,l=r.processedYData,c=r.pointClass,u=s.length,d=r.cropStart||0,h=r.hasGroupedData,p=[];if(!a&&!h){var f=[];f.length=o.length,a=r.data=f}for(i=0;i<u;i++)t=d+i,h?p[i]=(new c).init(r,[s[i]].concat(De(l[i]))):(a[t]?n=a[t]:o[t]!==R&&(a[t]=n=(new c).init(r,o[t],s[i])),p[i]=n),p[i].index=t;if(a&&(u!==(e=a.length)||h))for(i=0;i<e;i++)i!==d||h||(i+=u),a[i]&&(a[i].destroyElements(),a[i].plotX=R);r.data=a,r.points=p},getExtremes:function(e){var t,n,i,r,o,a,s,l=this.xAxis,c=this.yAxis,u=this.processedXData,d=[],h=0,p=l.getExtremes(),f=p.min,g=p.max;for(t=(e=e||this.stackedYData||this.processedYData).length,a=0;a<t;a++)if(r=u[a],n=null!==(o=e[a])&&o!==R&&(!c.isLog||o.length||0<o),i=this.getExtremesFromAll||this.cropped||(u[a+1]||r)>=f&&(u[a-1]||r)<=g,n&&i)if(s=o.length)for(;s--;)null!==o[s]&&(d[h++]=o[s]);else d[h++]=o;this.dataMin=Pe(void 0,ze(d)),this.dataMax=Pe(void 0,je(d))},translate:function(){this.processedXData||this.processData(),this.generatePoints();var e,t,n,i,r=this,o=r.options,a=o.stacking,s=r.xAxis,l=s.categories,c=r.yAxis,u=r.points,d=u.length,h=!!r.modifyValue,p=o.pointPlacement,f="between"===p||$e(p),g=o.threshold,m=Number.MAX_VALUE;for(e=0;e<d;e++){var v,y,b=u[e],w=b.x,x=b.y,C=b.low,S=a&&c.stacks[(r.negStacks&&x<g?"-":"")+r.stackKey];c.isLog&&null!==x&&x<=0&&(b.y=x=null,Ue(10)),b.plotX=t=s.translate(w,0,0,0,1,p,"flags"===this.type),a&&r.visible&&S&&S[w]&&(C=(y=(v=S[w]).points[r.index+","+e])[0],x=y[1],0===C&&(C=Pe(g,c.min)),c.isLog&&C<=0&&(C=null),b.total=b.stackTotal=v.total,b.percentage=v.total&&b.y/v.total*100,b.stackY=x,v.setOffset(r.pointXOffset||0,r.barW||0)),b.yBottom=Te(C)?c.translate(C,0,1,0,1):null,h&&(x=r.modifyValue(x,b)),b.plotY=n="number"==typeof x&&x!==1/0?U(G(-1e5,c.translate(x,0,1,0,1)),1e5):R,b.isInside=n!==R&&0<=n&&n<=c.len&&0<=t&&t<=s.len,b.clientX=f?s.translate(w,0,0,0,1):t,b.negative=b.y<(g||0),b.category=l&&l[b.x]!==R?l[b.x]:b.x,e&&(m=U(m,W(t-i))),i=t}r.closestPointRangePx=m,r.getSegments()},setClip:function(e){var t=this.chart,n=t.renderer,i=t.inverted,r=this.clipBox,o=r||t.clipBox,a=this.sharedClipKey||["_sharedClip",e&&e.duration,e&&e.easing,o.height].join(","),s=t[a],l=t[a+"m"];s||(e&&(o.width=0,t[a+"m"]=l=n.clipRect(-99,i?-t.plotLeft:-t.plotTop,99,i?t.chartWidth:t.chartHeight)),t[a]=s=n.clipRect(o)),e&&(s.count+=1),!1!==this.options.clip&&(this.group.clip(e||r?s:t.clipRect),this.markerGroup.clip(l),this.sharedClipKey=a),e||(s.count-=1,s.count<=0&&a&&t[a]&&(r||(t[a]=t[a].destroy()),t[a+"m"]&&(t[a+"m"]=t[a+"m"].destroy())))},animate:function(e){var t,n,i=this.chart,r=this.options.animation;r&&!Ce(r)&&(r=ct[this.type].animation),e?this.setClip(r):((t=i[n=this.sharedClipKey])&&t.animate({width:i.plotSizeX},r),i[n+"m"]&&i[n+"m"].animate({width:i.plotSizeX+99},r),this.animate=null)},afterAnimate:function(){this.setClip(),ot(this,"afterAnimate")},drawPoints:function(){var e,t,n,i,r,o,a,s,l,c,u,d,h,p=this.points,f=this.chart,g=this.options.marker,m=this.pointAttr[""],v=this.markerGroup,y=this.xAxis,b=Pe(g.enabled,y.isRadial,this.closestPointRangePx>2*g.radius);if(!1!==g.enabled||this._hasPointMarkers)for(i=p.length;i--;)r=p[i],t=H(r.plotX),n=r.plotY,l=r.graphic,c=r.marker||{},u=!!r.marker,d=b&&c.enabled===R||c.enabled,h=r.isInside,d&&n!==R&&!isNaN(n)&&null!==r.y?(o=(e=r.pointAttr[r.selected?me:""]||m).r,s=0===(a=Pe(c.symbol,this.symbol)).indexOf("url"),l?l[h?"show":"hide"](!0).animate(ye({x:t-o,y:n-o},l.symbolName?{width:2*o,height:2*o}:{})):h&&(0<o||s)&&(r.graphic=l=f.renderer.symbol(a,t-o,n-o,2*o,2*o,u?c:g).attr(e).add(v))):l&&(r.graphic=l.destroy())},convertAttribs:function(e,t,n,i){var r,o,a=this.pointAttrToOptions,s={};for(r in e=e||{},t=t||{},n=n||{},i=i||{},a)o=a[r],s[r]=Pe(e[o],t[r],n[r],i[r]);return s},getAttribs:function(){var e,t,n,i,r,o,a=this,s=a.options,l=ct[a.type].marker?s.marker:s,c=l.states,u=c[ge],d=a.color,h=a.options.negativeColor,p={stroke:d,fill:d},f=a.points||[],g=[],m=a.pointAttrToOptions,v=a.hasPointSpecificOptions,y=l.lineColor,b=l.fillColor,w=s.turboThreshold,x=a.zones,C=a.zoneAxis||"y";if(s.marker?(u.radius=u.radius||l.radius+u.radiusPlus,u.lineWidth=u.lineWidth||l.lineWidth+u.lineWidthPlus):(u.color=u.color||gt(u.color||d).brighten(u.brightness).get(),u.negativeColor=u.negativeColor||gt(u.negativeColor||h).brighten(u.brightness).get()),g[""]=a.convertAttribs(l,p),Qe([ge,me],function(e){g[e]=a.convertAttribs(c[e],g[""])}),a.pointAttr=g,t=f.length,!w||t<w||v)for(;t--;){if((l=(n=f[t]).options&&n.options.marker||n.options)&&!1===l.enabled&&(l.radius=0),x.length){for(var S=0,$=x[S];n[C]>=$.value;)$=x[++S];n.color=n.fillColor=$.color}if(v=s.colorByPoint||n.color,n.options)for(o in m)Te(l[m[o]])&&(v=!0);v?(i=[],e=(c=(l=l||{}).states||{})[ge]=c[ge]||{},s.marker||(e.color=e.color||!n.options.color&&u[n.negative&&h?"negativeColor":"color"]||gt(n.color).brighten(e.brightness||u.brightness).get()),r={color:n.color},b||(r.fillColor=n.color),y||(r.lineColor=n.color),i[""]=a.convertAttribs(ye(r,l),g[""]),i[ge]=a.convertAttribs(c[ge],g[ge],i[""]),i[me]=a.convertAttribs(c[me],g[me],i[""])):i=g,n.pointAttr=i}},destroy:function(){var t,e,n,i,r,o=this,a=o.chart,s=/AppleWebKit\/533/.test(u),l=o.data||[];for(ot(o,"destroy"),rt(o),Qe(o.axisTypes||[],function(e){(r=o[e])&&(Ae(r.series,o),r.isDirty=r.forceRedraw=!0)}),o.legendItem&&o.chart.legend.destroyItem(o),e=l.length;e--;)(n=l[e])&&n.destroy&&n.destroy();for(i in o.points=null,clearTimeout(o.animationTimeout),Qe(["area","graph","dataLabelsGroup","group","markerGroup","tracker","graphNeg","areaNeg","posClip","negClip"],function(e){o[e]&&(t=s&&"group"===e?"hide":"destroy",o[e][t]())}),a.hoverSeries===o&&(a.hoverSeries=null),Ae(a.series,o),o)delete o[i]},getSegmentPath:function(o){var a=this,s=[],l=a.options.step;return Qe(o,function(e,t){var n,i=e.plotX,r=e.plotY;a.getPointSpline?s.push.apply(s,a.getPointSpline(o,e,t)):(s.push(t?pe:he),l&&t&&(n=o[t-1],"right"===l?s.push(n.plotX,r):"center"===l?s.push((n.plotX+i)/2,n.plotY,(n.plotX+i)/2,r):s.push(i,n.plotY)),s.push(e.plotX,e.plotY))}),s},getGraphPath:function(){var t,n=this,i=[],r=[];return Qe(n.segments,function(e){t=n.getSegmentPath(e),1<e.length?i=i.concat(t):r.push(e[0])}),n.singlePoints=r,n.graphPath=i},drawGraph:function(){var o=this,a=this.options,n=[["graph",a.lineColor||this.color,a.dashStyle]],s=a.lineWidth,l="square"!==a.linecap,c=this.getGraphPath(),u=this.fillGraph&&this.color||de,e=this.zones;Qe(e,function(e,t){n.push(["colorGraph"+t,e.color||o.color,e.dashStyle||a.dashStyle])}),Qe(n,function(e,t){var n,i=e[0],r=o[i];r?(lt(r),r.animate({d:c})):(s||u)&&c.length&&(n={stroke:e[1],"stroke-width":s,fill:u,zIndex:1},e[2]?n.dashstyle=e[2]:l&&(n["stroke-linecap"]=n["stroke-linejoin"]="round"),o[i]=o.chart.renderer.path(c).attr(n).add(o.group).shadow(t<2&&a.shadow))})},applyZones:function(){var n,i,r,o=this,a=this.chart,s=a.renderer,e=this.zones,l=this.clips||[],t=this.graph,c=this.area,u=G(a.chartWidth,a.chartHeight),d=this[(this.zoneAxis||"y")+"Axis"],h=d.reversed,p=d.horiz,f=!1;e.length&&(t||c)&&(t.hide(),c&&c.hide(),Qe(e,function(e,t){n=Pe(i,h?p?a.plotWidth:0:p?0:d.toPixels(d.min)),i=j(d.toPixels(Pe(e.value,d.max),!0)),f&&(n=i=d.toPixels(d.max)),d.isXAxis?(r={x:h?i:n,y:0,width:Math.abs(n-i),height:u},p||(r.x=a.plotHeight-r.x)):(r={x:0,y:h?n:i,width:u,height:Math.abs(n-i)},p&&(r.y=a.plotWidth-r.y)),a.inverted&&s.isVML&&(r=d.isXAxis?{x:0,y:h?n:i,height:r.width,width:a.chartWidth}:{x:r.y-a.plotLeft-a.spacingBox.x,y:0,width:r.height,height:a.chartHeight}),l[t]?l[t].animate(r):(l[t]=s.clipRect(r),o["colorGraph"+t].clip(l[t]),c&&o["colorArea"+t].clip(l[t])),f=e.value>d.max}),this.clips=l)},invertGroups:function(){var n=this,e=n.chart;function t(){var t={width:n.yAxis.len,height:n.xAxis.len};Qe(["group","markerGroup"],function(e){n[e]&&n[e].attr(t).invert()})}n.xAxis&&(it(e,"resize",t),it(n,"destroy",function(){rt(e,"resize",t)}),t(),n.invertGroups=t)},plotGroup:function(e,t,n,i,r){var o=this[e],a=!o;return a&&(this[e]=o=this.chart.renderer.g(t).attr({visibility:n,zIndex:i||.1}).add(r)),o[a?"attr":"animate"](this.getPlotBox()),o},getPlotBox:function(){var e=this.chart,t=this.xAxis,n=this.yAxis;return e.inverted&&(t=n,n=this.xAxis),{translateX:t?t.left:e.plotLeft,translateY:n?n.top:e.plotTop,scaleX:1,scaleY:1}},render:function(){var e,t=this,n=t.chart,i=t.options,r=i.animation,o=r&&!!t.animate&&n.renderer.isSVG&&Pe(r.duration,500)||0,a=t.visible?ce:se,s=i.zIndex,l=t.hasRendered,c=n.seriesGroup;e=t.plotGroup("group","series",a,s,c),t.markerGroup=t.plotGroup("markerGroup","markers",a,s,c),o&&t.animate(!0),t.getAttribs(),e.inverted=!!t.isCartesian&&n.inverted,t.drawGraph&&(t.drawGraph(),t.applyZones()),Qe(t.points,function(e){e.redraw&&e.redraw()}),t.drawDataLabels&&t.drawDataLabels(),t.visible&&t.drawPoints(),t.drawTracker&&!1!==t.options.enableMouseTracking&&t.drawTracker(),n.inverted&&t.invertGroups(),!1===i.clip||t.sharedClipKey||l||e.clip(n.clipRect),o&&t.animate(),l||(o?t.animationTimeout=setTimeout(function(){t.afterAnimate()},o):t.afterAnimate()),t.isDirty=t.isDirtyData=!1,t.hasRendered=!0},redraw:function(){var e=this.chart,t=this.isDirtyData,n=this.isDirty,i=this.group,r=this.xAxis,o=this.yAxis;i&&(e.inverted&&i.attr({width:e.plotWidth,height:e.plotHeight}),i.animate({translateX:Pe(r&&r.left,e.plotLeft),translateY:Pe(o&&o.top,e.plotTop)})),this.translate(),this.render(),t&&ot(this,"updatedData"),(n||t)&&delete this.kdTree},kdDimensions:1,kdTree:null,kdAxisArray:["plotX","plotY"],kdComparer:"distX",searchPoint:function(e){var t=this.xAxis,n=this.yAxis,i=this.chart.inverted;return e.plotX=i?t.len-e.chartY+t.pos:e.chartX-t.pos,e.plotY=i?n.len-e.chartX+n.pos:e.chartY-n.pos,this.searchKDTree(e)},buildKDTree:function(){var s=this,t=s.kdDimensions;function e(){var e=et(s.points,function(e){return null!==e.y});s.kdTree=function e(t,n,i){var r,o,a=t&&t.length;if(a)return r=s.kdAxisArray[n%i],t.sort(function(e,t){return e[r]-t[r]}),{point:t[o=Math.floor(a/2)],left:e(t.slice(0,o),n+1,i),right:e(t.slice(o+1),n+1,i)}}(e,t,t)}delete s.kdTree,s.options.kdSync?e():setTimeout(e)},searchKDTree:function(e){var p=this,f=this.kdComparer,g=this.kdAxisArray[0],m=this.kdAxisArray[1];if(this.kdTree||this.buildKDTree(),this.kdTree)return function e(t,n,i,r){var o,a,s,l,c,u=n.point,d=p.kdAxisArray[i%r],h=u;return u.dist=function(e,t){var n=Te(e[g])&&Te(t[g])?Math.pow(e[g]-t[g],2):null,i=Te(e[m])&&Te(t[m])?Math.pow(e[m]-t[m],2):null,r=(n||0)+(i||0);return{distX:Te(n)?Math.sqrt(n):Number.MAX_VALUE,distY:Te(i)?Math.sqrt(i):Number.MAX_VALUE,distR:Te(r)?Math.sqrt(r):Number.MAX_VALUE}}(t,u),n[a=(o=t[d]-u[d])<0?"left":"right"]&&(h=(l=e(t,n[a],i+1,r)).dist[f]<h.dist[f]?l:u,n[s=o<0?"right":"left"]&&Math.sqrt(o*o)<h.dist[f]&&(h=(c=e(t,n[s],i+1,r)).dist[f]<h.dist[f]?c:h)),h}(e,this.kdTree,this.kdDimensions,this.kdDimensions)}},Vt.prototype={destroy:function(){a(this,this.axis)},render:function(e){var t=this.options,n=t.format,i=n?Ne(n,this):t.formatter.call(this);this.label?this.label.attr({text:i,visibility:se}):this.label=this.axis.chart.renderer.text(i,null,null,t.useHTML).css(t.style).attr({align:this.textAlign,rotation:t.rotation,visibility:se}).add(e)},setOffset:function(e,t){var n,i=this.axis,r=i.chart,o=r.inverted,a=this.isNegative,s=i.translate(i.usePercentage?100:this.total,0,0,0,1),l=i.translate(0),c=W(s-l),u=r.xAxis[0].translate(this.x)+e,d=r.plotHeight,h={x:o?a?s:s-c:u,y:o?d-u-t:a?d-s-c:d-s,width:o?c:t,height:o?t:c},p=this.label;p&&(p.align(this.alignOptions,null,h),n=p.alignAttr,p[!1===this.options.crop||r.isInsidePlot(n.x,n.y)?"show":"hide"](!0))}},kt.prototype.buildStacks=function(){var e=this.series,t=Pe(this.options.reversedStacks,!0),n=e.length;if(!this.isXAxis){for(this.usePercentage=!1;n--;)e[t?n:e.length-n-1].setStackedPoints();if(this.usePercentage)for(n=0;n<e.length;n++)e[n].setPercentStacks()}},kt.prototype.renderStackTotals=function(){var e,t,n,i=this.chart,r=i.renderer,o=this.stacks,a=this.stackTotalGroup;for(e in a||(this.stackTotalGroup=a=r.g("stack-labels").attr({visibility:ce,zIndex:6}).add()),a.translate(i.plotLeft,i.plotTop),o)for(n in t=o[e])t[n].render(a)},Nt.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var e,t,n,i,r,o,a,s,l=this.processedXData,c=this.processedYData,u=[],d=c.length,h=this.options,p=h.threshold,f=h.stack,g=h.stacking,m=this.stackKey,v="-"+m,y=this.negStacks,b=this.yAxis,w=b.stacks,x=b.oldStacks;for(o=0;o<d;o++)a=l[o],s=c[o],r=this.index+","+o,w[i=(e=y&&s<p)?v:m]||(w[i]={}),w[i][a]||(x[i]&&x[i][a]?(w[i][a]=x[i][a],w[i][a].total=null):w[i][a]=new Vt(b,b.options.stackLabels,e,a,f)),(t=w[i][a]).points[r]=[t.cum||0],"percent"===g?(n=e?m:v,y&&w[n]&&w[n][a]?(n=w[n][a],t.total=n.total=G(n.total,t.total)+W(s)||0):t.total=We(t.total+(W(s)||0))):t.total=We(t.total+(s||0)),t.cum=(t.cum||0)+(s||0),t.points[r].push(t.cum),u[o]=t.cum;"percent"===g&&(b.usePercentage=!0),this.stackedYData=u,b.oldStacks={}}},Nt.prototype.setPercentStacks=function(){var a=this,e=a.stackKey,s=a.yAxis.stacks,l=a.processedXData;Qe([e,"-"+e],function(e){for(var t,n,i,r,o=l.length;o--;)t=l[o],(i=(n=s[e]&&s[e][t])&&n.points[a.index+","+o])&&(r=n.total?100/n.total:0,i[0]=We(i[0]*r),i[1]=We(i[1]*r),a.stackedYData[o]=i[1])})},ye(Ft.prototype,{addSeries:function(e,t,n){var i,r=this;return e&&(t=Pe(t,!0),ot(r,"addSeries",{options:e},function(){i=r.initSeries(e),r.isDirtyLegend=!0,r.linkSeries(),t&&r.redraw(n)})),i},addAxis:function(e,t,n,i){var r=t?"xAxis":"yAxis",o=this.options;new kt(this,be(e,{index:this[r].length,isX:t})),o[r]=De(o[r]||{}),o[r].push(e),Pe(n,!0)&&this.redraw(i)},showLoading:function(e){function t(){r&&_e(r,{left:n.plotLeft+ue,top:n.plotTop+ue,width:n.plotWidth+ue,height:n.plotHeight+ue})}var n=this,i=n.options,r=n.loadingDiv,o=i.loading;r||(n.loadingDiv=r=Re(re,{className:le+"loading"},ye(o.style,{zIndex:10,display:de}),n.container),n.loadingSpan=Re("span",null,o.labelStyle,r),it(n,"redraw",t)),n.loadingSpan.innerHTML=e||i.lang.loading,n.loadingShown||(_e(r,{opacity:0,display:""}),st(r,{opacity:o.style.opacity},{duration:o.showDuration||0}),n.loadingShown=!0),t()},hideLoading:function(){var e=this.options,t=this.loadingDiv;t&&st(t,{opacity:0},{duration:e.loading.hideDuration||100,complete:function(){_e(t,{display:de})}}),this.loadingShown=!1}}),ye(Ot.prototype,{update:function(e,t,n,i){var r,o=this,a=o.series,s=o.graphic,l=a.chart,c=a.options,u=a.xAxis&&a.xAxis.names;function d(){o.applyOptions(e),Ce(e)&&!Se(e)&&(o.redraw=function(){s&&(e&&e.marker&&e.marker.symbol?o.graphic=s.destroy():s.attr(o.pointAttr[o.state||""])),e&&e.dataLabels&&o.dataLabel&&(o.dataLabel=o.dataLabel.destroy()),o.redraw=null}),r=o.index,a.updateParallelArrays(o,r),u&&o.name&&(u[o.x]=o.name),c.data[r]=o.options,a.isDirty=a.isDirtyData=!0,!a.fixedBox&&a.hasCartesianSeries&&(l.isDirtyBox=!0),l.legend.display&&"point"===c.legendType&&(a.updateTotals(),l.legend.clearItems()),t&&l.redraw(n)}t=Pe(t,!0),!1===i?d():o.firePointEvent("update",{options:e},d)},remove:function(e,t){this.series.removePoint(Je(this,this.series.data),e,t)}}),ye(Nt.prototype,{addPoint:function(e,t,n,i){var r,o,a,s,l=this,c=l.options,u=l.data,d=l.graph,h=l.area,p=l.chart,f=l.xAxis&&l.xAxis.names,g=d&&d.shift||0,m=c.data,v=l.xData;if(qe(i,p),n&&Qe([d,h,l.graphNeg,l.areaNeg],function(e){e&&(e.shift=g+1)}),h&&(h.isArea=!0),t=Pe(t,!0),r={series:l},l.pointClass.prototype.applyOptions.apply(r,[e]),a=r.x,s=v.length,l.requireSorting&&a<v[s-1])for(o=!0;s&&v[s-1]>a;)s--;l.updateParallelArrays(r,"splice",s,0,0),l.updateParallelArrays(r,s),f&&r.name&&(f[a]=r.name),m.splice(s,0,e),o&&(l.data.splice(s,0,null),l.processData()),"point"===c.legendType&&l.generatePoints(),n&&(u[0]&&u[0].remove?u[0].remove(!1):(u.shift(),l.updateParallelArrays(r,"shift"),m.shift())),l.isDirty=!0,l.isDirtyData=!0,t&&(l.getAttribs(),p.redraw())},removePoint:function(e,t,n){function i(){o.length===s.length&&s.splice(e,1),o.splice(e,1),r.options.data.splice(e,1),r.updateParallelArrays(a||{series:r},"splice",e,1),a&&a.destroy(),r.isDirty=!0,r.isDirtyData=!0,t&&l.redraw()}var r=this,o=r.data,a=o[e],s=r.points,l=r.chart;qe(n,l),t=Pe(t,!0),a?a.firePointEvent("remove",null,i):i()},remove:function(e,t){var n=this,i=n.chart;e=Pe(e,!0),n.isRemoving||(n.isRemoving=!0,ot(n,"remove",null,function(){n.destroy(),i.isDirtyLegend=i.isDirtyBox=!0,i.linkSeries(),e&&i.redraw(t)})),n.isRemoving=!1},update:function(e,t){var n,i=this,r=this.chart,o=this.userOptions,a=this.type,s=ve[a].prototype,l=["group","markerGroup","dataLabelsGroup"];for(n in(e.type&&e.type!==a||void 0!==e.zIndex)&&(l.length=0),Qe(l,function(e){l[e]=i[e],delete i[e]}),e=be(o,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},e),this.remove(!1),s)this[n]=R;ye(this,ve[e.type||a].prototype),Qe(l,function(e){i[e]=l[e]}),this.init(r,e),r.linkSeries(),Pe(t,!0)&&r.redraw(!1)}}),ye(kt.prototype,{update:function(e,t){var n=this.chart;e=n.options[this.coll][this.options.index]=be(this.userOptions,e),this.destroy(!0),this._addedPlotLB=R,this.init(n,ye(e,{events:R})),n.isDirtyBox=!0,Pe(t,!0)&&n.redraw()},remove:function(e){for(var t=this.chart,n=this.coll,i=this.series,r=i.length;r--;)i[r]&&i[r].remove(!1);Ae(t.axes,this),Ae(t[n],this),t.options[n].splice(this.options.index,1),Qe(t[n],function(e,t){e.options.index=t}),this.destroy(),t.isDirtyBox=!0,Pe(e,!0)&&t.redraw()},setTitle:function(e,t){this.update({title:e},t)},setCategories:function(e,t){this.update({categories:e},t)}});var Ht=r(Nt);ve.line=Ht,ct.area=be(ut,{threshold:0});var Bt=r(Nt,{type:"area",getSegments:function(){var i,r,o,e,a=this,t=[],s=[],n=[],l=this.xAxis,c=this.yAxis,u=c.stacks[this.stackKey],d={},h=this.points,p=this.options.connectNulls;if(this.options.stacking&&!this.cropped){for(o=0;o<h.length;o++)d[h[o].x]=h[o];for(e in u)null!==u[e].total&&n.push(+e);n.sort(function(e,t){return e-t}),Qe(n,function(e){var t,n=0;if(!p||d[e]&&null!==d[e].y)if(d[e])s.push(d[e]);else{for(o=a.index;o<=c.series.length;o++)if(t=u[e].points[o+","+e]){n=t[1];break}i=l.translate(e),r=c.toPixels(n,!0),s.push({y:null,plotX:i,clientX:i,plotY:r,yBottom:r,onMouseOver:f})}}),s.length&&t.push(s)}else Nt.prototype.getSegments.call(this),t=this.segments;this.segments=t},getSegmentPath:function(e){var t,n,i=Nt.prototype.getSegmentPath.call(this,e),r=[].concat(i),o=this.options,a=i.length,s=this.yAxis.getThreshold(o.threshold);if(3===a&&r.push(pe,i[1],i[2]),o.stacking&&!this.closedStacks)for(t=e.length-1;0<=t;t--)n=Pe(e[t].yBottom,s),t<e.length-1&&o.step&&r.push(e[t+1].plotX,n),r.push(e[t].plotX,n);else this.closeSegment(r,e,s);return this.areaPath=this.areaPath.concat(r),i},closeSegment:function(e,t,n){e.push(pe,t[t.length-1].plotX,n,pe,t[0].plotX,n)},drawGraph:function(){this.areaPath=[],Nt.prototype.drawGraph.apply(this);var i=this,r=this.areaPath,o=this.options,e=this.zones,n=[["area",this.color,o.fillColor]];Qe(e,function(e,t){n.push(["colorArea"+t,e.color||i.color,e.fillColor||o.fillColor])}),Qe(n,function(e){var t=e[0],n=i[t];n?n.animate({d:r}):i[t]=i.chart.renderer.path(r).attr({fill:Pe(e[2],gt(e[1]).setOpacity(Pe(o.fillOpacity,.75)).get()),zIndex:0}).add(i.group)})},drawLegendSymbol:It.drawRectangle});ve.area=Bt,ct.spline=be(ut);var zt=r(Nt,{type:"spline",getPointSpline:function(e,t,n){var i,r,o,a,s,l=t.plotX,c=t.plotY,u=e[n-1],d=e[n+1];if(u&&d){var h,p=u.plotX,f=u.plotY,g=d.plotX,m=d.plotY;a=(1.5*c+m)/2.5,a+=h=(a-(r=(1.5*c+f)/2.5))*((o=(1.5*l+g)/2.5)-l)/(o-(i=(1.5*l+p)/2.5))+c-a,f<(r+=h)&&c<r?a=2*c-(r=G(f,c)):r<f&&r<c&&(a=2*c-(r=U(f,c))),m<a&&c<a?r=2*c-(a=G(m,c)):a<m&&a<c&&(r=2*c-(a=U(m,c))),t.rightContX=o,t.rightContY=a}return n?(s=["C",u.rightContX||u.plotX,u.rightContY||u.plotY,i||l,r||c,l,c],u.rightContX=u.rightContY=null):s=[he,l,c],s}});ve.spline=zt,ct.areaspline=be(ct.area);var jt=Bt.prototype,Gt=r(zt,{type:"areaspline",closedStacks:!0,getSegmentPath:jt.getSegmentPath,closeSegment:jt.closeSegment,drawGraph:jt.drawGraph,drawLegendSymbol:It.drawRectangle});ve.areaspline=Gt,ct.column=be(ut,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,tooltip:{distance:6},threshold:0});var Ut=r(Nt,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){Nt.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&Qe(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var i,r,o=this,e=o.options,t=o.xAxis,a=o.yAxis,n=t.reversed,s={},l=0;!1===e.grouping?l=1:Qe(o.chart.series,function(e){var t=e.options,n=e.yAxis;e.type===o.type&&e.visible&&a.len===n.len&&a.pos===n.pos&&(t.stacking?(i=e.stackKey,s[i]===R&&(s[i]=l++),r=s[i]):!1!==t.grouping&&(r=l++),e.columnIndex=r)});var c=U(W(t.transA)*(t.ordinalSlope||e.pointRange||t.closestPointRange||t.tickInterval||1),t.len),u=c*e.groupPadding,d=(c-2*u)/l,h=e.pointWidth,p=Te(h)?(d-h)/2:d*e.pointPadding,f=Pe(h,d-2*p),g=p+(u+((n?l-(o.columnIndex||0):o.columnIndex)||0)*d-c/2)*(n?-1:1);return o.columnMetrics={width:f,offset:g}},translate:function(){var l=this,c=l.chart,e=l.options,t=l.borderWidth=Pe(e.borderWidth,l.closestPointRange*l.xAxis.transA<2?0:1),u=l.yAxis,n=e.threshold,d=l.translatedThreshold=u.getThreshold(n),h=Pe(e.minPointLength,5),i=l.getColumnMetrics(),p=i.width,f=l.barW=G(p,1+2*t),g=l.pointXOffset=i.offset,m=-(t%2?.5:0),v=t%2?.5:1;c.renderer.isVML&&c.inverted&&(v+=1),e.pointPadding&&(f=B(f)),Nt.prototype.translate.apply(l),Qe(l.points,function(e){var t,n=Pe(e.yBottom,d),i=U(G(-999-n,e.plotY),u.len+999+n),r=e.plotX+g,o=f,a=U(i,n),s=G(i,n)-a;W(s)<h&&h&&(s=h,a=j(W(a-d)>h?n-h:d-(u.translate(e.y,0,1,0,1)<=d?h:0))),e.barX=r,e.pointWidth=p,e.tooltipPos=c.inverted?[u.len+u.pos-c.plotLeft-i,l.xAxis.len-r-o/2]:[r+o/2,i+u.pos-c.plotTop],o=j(r+o)+m-(r=j(r)+m),t=W(a)<.5,s=U(j(a+s)+v,9e4)-(a=j(a)+v),t&&(a-=1,s+=1),e.shapeType="rect",e.shapeArgs={x:r,y:a,width:o,height:s}})},getSymbol:f,drawLegendSymbol:It.drawRectangle,drawGraph:f,drawPoints:function(){var r,o,a=this,s=this.chart,l=a.options,c=s.renderer,u=l.animationLimit||250;Qe(a.points,function(e){var t,n=e.plotY,i=e.graphic;n===R||isNaN(n)||null===e.y?i&&(e.graphic=i.destroy()):(r=e.shapeArgs,t=Te(a.borderWidth)?{"stroke-width":a.borderWidth}:{},o=e.pointAttr[e.selected?me:""]||a.pointAttr[""],i?(lt(i),i.attr(t)[s.pointCount<u?"animate":"attr"](be(r))):e.graphic=i=c[e.shapeType](r).attr(t).attr(o).add(a.group).shadow(l.shadow,null,l.stacking&&!l.borderRadius))})},animate:function(e){var t,n=this.yAxis,i=this.options,r=this.chart.inverted,o={};ee&&(e?(o.scaleY=.001,t=U(n.pos+n.len,G(n.pos,n.toPixels(i.threshold))),r?o.translateX=t-n.len:o.translateY=t,this.group.attr(o)):(o.scaleY=1,o[r?"translateX":"translateY"]=n.pos,this.group.animate(o,this.options.animation),this.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&Qe(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),Nt.prototype.remove.apply(t,arguments)}});ve.column=Ut,ct.bar=be(ct.column);var Wt=r(Ut,{type:"bar",inverted:!0});ve.bar=Wt,ct.scatter=be(ut,{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{series.color}"></span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}});var qt=r(Nt,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,kdComparer:"distR",drawGraph:function(){this.options.lineWidth&&Nt.prototype.drawGraph.call(this)}});ve.scatter=qt,ct.pie=be(ut,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}});var Yt,Xt,Kt,Zt,Jt={type:"pie",isCartesian:!1,pointClass:r(Ot,{init:function(){Ot.prototype.init.apply(this,arguments);var e,t=this;return ye(t,{visible:!1!==t.visible,name:Pe(t.name,"Slice")}),e=function(e){t.slice("select"===e.type)},it(t,"select",e),it(t,"unselect",e),t},setVisible:function(t){var n=this,e=n.series,i=e.chart,r=!e.isDirty&&e.options.ignoreHiddenPoint;n.visible=n.options.visible=t=t===R?!n.visible:t,e.options.data[Je(n,e.data)]=n.options,Qe(["graphic","dataLabel","connector","shadowGroup"],function(e){n[e]&&n[e][t?"show":"hide"](!0)}),n.legendItem&&(i.hasRendered&&(e.updateTotals(),i.legend.clearItems(),r||i.legend.render()),i.legend.colorizeItem(n,t)),r&&(e.isDirty=!0,i.redraw())},slice:function(e,t,n){var i,r=this,o=r.series;qe(n,o.chart),t=Pe(t,!0),r.sliced=r.options.sliced=e=Te(e)?e:!r.sliced,o.options.data[Je(r,o.data)]=r.options,i=e?r.slicedTranslation:{translateX:0,translateY:0},r.graphic.animate(i),r.shadowGroup&&r.shadowGroup.animate(i)},haloPath:function(e){var t=this.shapeArgs,n=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(n.plotLeft+t.x,n.plotTop+t.y,t.r+e,t.r+e,{innerR:this.shapeArgs.r,start:t.start,end:t.end})}}),requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:f,animate:function(e){var i=this,t=i.points,r=i.startAngleRad;e||(Qe(t,function(e){var t=e.graphic,n=e.shapeArgs;t&&(t.attr({r:i.center[3]/2,start:r,end:r}),t.animate({r:n.r,start:n.start,end:n.end},i.options.animation))}),i.animate=null)},setData:function(e,t,n,i){Nt.prototype.setData.call(this,e,!1,n,i),this.processData(),this.generatePoints(),Pe(t,!0)&&this.chart.redraw(n)},updateTotals:function(){var e,t,n,i,r=0,o=this.options.ignoreHiddenPoint;for(n=(t=this.points).length,e=0;e<n;e++)(i=t[e]).y<0&&(i.y=null),r+=o&&!i.visible?0:i.y;for(this.total=r,e=0;e<n;e++)(i=t[e]).percentage=0<r&&(i.visible||!o)?i.y/r*100:0,i.total=r},generatePoints:function(){Nt.prototype.generatePoints.call(this),this.updateTotals()},translate:function(n){this.generatePoints();var e,t,i,r,o,a,s,l=0,c=this.options,u=c.slicedOffset,d=u+c.borderWidth,h=c.startAngle||0,p=this.startAngleRad=Y/180*(h-90),f=(this.endAngleRad=Y/180*(Pe(c.endAngle,h+360)-90))-p,g=this.points,m=c.dataLabels.distance,v=c.ignoreHiddenPoint,y=g.length;for(n||(this.center=n=this.getCenter()),this.getX=function(e,t){return i=V.asin(U((e-n[1])/(n[2]/2+m),1)),n[0]+(t?-1:1)*(z(i)*(n[2]/2+m))},a=0;a<y;a++)s=g[a],e=p+l*f,v&&!s.visible||(l+=s.percentage/100),t=p+l*f,s.shapeType="arc",s.shapeArgs={x:n[0],y:n[1],r:n[2]/2,innerR:n[3]/2,start:j(1e3*e)/1e3,end:j(1e3*t)/1e3},1.5*Y<(i=(t+e)/2)?i-=2*Y:i<-Y/2&&(i+=2*Y),s.slicedTranslation={translateX:j(z(i)*u),translateY:j(q(i)*u)},r=z(i)*n[2]/2,o=q(i)*n[2]/2,s.tooltipPos=[n[0]+.7*r,n[1]+.7*o],s.half=i<-Y/2||Y/2<i?1:0,s.angle=i,d=U(d,m/2),s.labelPos=[n[0]+r+z(i)*m,n[1]+o+q(i)*m,n[0]+r+z(i)*d,n[1]+o+q(i)*d,n[0]+r,n[1]+o,m<0?"center":s.half?"right":"left",i]},drawGraph:null,drawPoints:function(){var t,n,i,r,o=this,a=o.chart.renderer,s=o.options.shadow;s&&!o.shadowGroup&&(o.shadowGroup=a.g("shadow").add(o.group)),Qe(o.points,function(e){n=e.graphic,r=e.shapeArgs,i=e.shadowGroup,s&&!i&&(i=e.shadowGroup=a.g("shadow").add(o.shadowGroup)),t=e.sliced?e.slicedTranslation:{translateX:0,translateY:0},i&&i.attr(t),n?n.animate(ye(r,t)):e.graphic=n=a[e.shapeType](r).setRadialReference(o.center).attr(e.pointAttr[e.selected?me:""]).attr({"stroke-linejoin":"round"}).attr(t).add(o.group).shadow(s,i),void 0!==e.visible&&e.setVisible(e.visible)})},searchPoint:f,sortByAngle:function(e,n){e.sort(function(e,t){return void 0!==e.angle&&(t.angle-e.angle)*n})},drawLegendSymbol:It.drawRectangle,getCenter:Lt.getCenter,getSymbol:f};Jt=r(Nt,Jt),ve.pie=Jt,Nt.prototype.drawDataLabels=function(){var d,h,p,f,g=this,m=g.options,v=m.cursor,y=m.dataLabels,e=g.points,t=g.hasRendered||0,b=g.chart.renderer;(y.enabled||g._hasPointLabels)&&(g.dlProcessOptions&&g.dlProcessOptions(y),f=g.plotGroup("dataLabelsGroup","data-labels",y.defer?se:ce,y.zIndex||6),Pe(y.defer,!0)&&(f.attr({opacity:+t}),t||it(g,"afterAnimate",function(){g.visible&&f.show(),f[m.animation?"animate":"attr"]({opacity:1},{duration:200})})),h=y,Qe(e,function(e){var t,n,i,r,o,a,s=e.dataLabel,l=e.connector,c=!0,u={};if(d=e.dlOptions||e.options&&e.options.dataLabels,t=Pe(d&&d.enabled,h.enabled),s&&!t)e.dataLabel=s.destroy();else if(t){if(a=(y=be(h,d)).style,o=y.rotation,n=e.getLabelConfig(),p=y.format?Ne(y.format,n):y.formatter.call(n,y),a.color=Pe(y.color,a.color,g.color,"black"),s)Te(p)?(s.attr({text:p}),c=!1):(e.dataLabel=s=s.destroy(),l&&(e.connector=l.destroy()));else if(Te(p)){for(r in i={fill:y.backgroundColor,stroke:y.borderColor,"stroke-width":y.borderWidth,r:y.borderRadius||0,rotation:o,padding:y.padding,zIndex:1},"contrast"===a.color&&(u.color=y.inside||y.distance<0||m.stacking?b.getContrast(e.color||g.color):"#000000"),v&&(u.cursor=v),i)i[r]===R&&delete i[r];s=e.dataLabel=b[o?"text":"label"](p,0,-999,y.shape,null,null,y.useHTML).attr(i).css(ye(a,u)).add(f).shadow(y.shadow)}s&&g.alignDataLabel(e,s,y,null,c)}}))},Nt.prototype.alignDataLabel=function(e,t,n,i,r){var o,a,s=this.chart,l=s.inverted,c=Pe(e.plotX,-999),u=Pe(e.plotY,-999),d=t.getBBox(),h=s.renderer.fontMetrics(n.style.fontSize).b,p=this.visible&&(e.series.forceDL||s.isInsidePlot(c,j(u),l)||i&&s.isInsidePlot(c,l?i.x+1:i.y+i.height-1,l));p&&(i=ye({x:l?s.plotWidth-u:c,y:j(l?s.plotHeight-c:u),width:0,height:0},i),ye(n,{width:d.width,height:d.height}),n.rotation?(o=s.renderer.rotCorr(h,n.rotation),t[r?"attr":"animate"]({x:i.x+n.x+i.width/2+o.x,y:i.y+n.y+i.height/2}).attr({align:n.align})):(t.align(n,null,i),a=t.alignAttr,"justify"===Pe(n.overflow,"justify")?this.justifyDataLabel(t,n,a,d,i,r):Pe(n.crop,!0)&&(p=s.isInsidePlot(a.x,a.y)&&s.isInsidePlot(a.x+d.width,a.y+d.height)),n.shape&&t.attr({anchorX:e.plotX,anchorY:e.plotY}))),p||(t.attr({y:-999}),t.placed=!1)},Nt.prototype.justifyDataLabel=function(e,t,n,i,r,o){var a,s,l=this.chart,c=t.align,u=t.verticalAlign,d=e.box?0:e.padding||0;(a=n.x+d)<0&&("right"===c?t.align="left":t.x=-a,s=!0),(a=n.x+i.width-d)>l.plotWidth&&("left"===c?t.align="right":t.x=l.plotWidth-a,s=!0),(a=n.y+d)<0&&("bottom"===u?t.verticalAlign="top":t.y=-a,s=!0),(a=n.y+i.height-d)>l.plotHeight&&("top"===u?t.verticalAlign="bottom":t.y=l.plotHeight-a,s=!0),s&&(e.placed=!o,e.align(t,null,r))},ve.pie&&(ve.pie.prototype.drawDataLabels=function(){function e(e,t){return t.y-e.y}var t,n,i,r,o,a,s,l,c,u,d,h,p,f=this,g=f.data,m=f.chart,v=f.options.dataLabels,y=Pe(v.connectorPadding,10),b=Pe(v.connectorWidth,1),w=m.plotWidth,x=m.plotHeight,C=Pe(v.softConnector,!0),S=v.distance,$=f.center,E=$[2]/2,k=$[1],A=0<S,T=[[],[]],M=[0,0,0,0];if(f.visible&&(v.enabled||f._hasPointLabels)){for(Nt.prototype.drawDataLabels.apply(f),Qe(g,function(e){e.dataLabel&&e.visible&&T[e.half].push(e)}),h=2;h--;){var D,P,_,R,I=[],F=[],O=T[h],L=O.length;if(L){for(f.sortByAngle(O,h-.5),p=s=0;!s&&O[p];)s=O[p]&&O[p].dataLabel&&(O[p].dataLabel.getBBox().height||21),p++;if(0<S){for(_=U(k+E+S,m.plotHeight),P=G(0,k-E-S);P<=_;P+=s)I.push(P);if((D=I.length)<L){for((d=[].concat(O)).sort(e),p=L;p--;)d[p].rank=p;for(p=L;p--;)O[p].rank>=D&&O.splice(p,1);L=O.length}for(p=0;p<L;p++){t=O[p],a=t.labelPos;var N,V,H=9999;for(V=0;V<D;V++)(N=W(I[V]-a[1]))<H&&(H=N,R=V);if(R<p&&null!==I[p])R=p;else if(D<L-p+R&&null!==I[p])for(R=D-L+p;null===I[R];)R++;else for(;null===I[R];)R++;F.push({i:R,y:I[R]}),I[R]=null}F.sort(e)}for(p=0;p<L;p++){var B,z;t=O[p],a=t.labelPos,r=t.dataLabel,u=!1===t.visible?se:ce,z=a[1],0<S?(R=(B=F.pop()).i,((c=B.y)<z&&null!==I[R+1]||z<c&&null!==I[R-1])&&(c=U(G(0,z),m.plotHeight))):c=z,l=v.justify?$[0]+(h?-1:1)*(E+S):f.getX(c===k-E-S||c===k+E+S?z:c,h),r._attr={visibility:u,align:a[6]},r._pos={x:l+v.x+({left:y,right:-y}[a[6]]||0),y:c+v.y-10},r.connX=l,r.connY=c,null===this.options.size&&(o=r.width,l-o<y?M[3]=G(j(o-l+y),M[3]):w-y<l+o&&(M[1]=G(j(l+o-w+y),M[1])),c-s/2<0?M[0]=G(j(s/2-c),M[0]):x<c+s/2&&(M[2]=G(j(c+s/2-x),M[2])))}}}0!==je(M)&&!this.verifyDataLabelOverflow(M)||(this.placeDataLabels(),A&&b&&Qe(this.points,function(e){n=e.connector,a=e.labelPos,(r=e.dataLabel)&&r._pos?(u=r._attr.visibility,l=r.connX,c=r.connY,i=C?[he,l+("left"===a[6]?5:-5),c,"C",l,c,2*a[2]-a[4],2*a[3]-a[5],a[2],a[3],pe,a[4],a[5]]:[he,l+("left"===a[6]?5:-5),c,pe,a[2],a[3],pe,a[4],a[5]],n?(n.animate({d:i}),n.attr("visibility",u)):e.connector=n=f.chart.renderer.path(i).attr({"stroke-width":b,stroke:v.connectorColor||e.color||"#606060",visibility:u}).add(f.dataLabelsGroup)):n&&(e.connector=n.destroy())}))}},ve.pie.prototype.placeDataLabels=function(){Qe(this.points,function(e){var t,n=e.dataLabel;n&&((t=n._pos)?(n.attr(n._attr),n[n.moved?"animate":"attr"](t),n.moved=!0):n&&n.attr({y:-999}))})},ve.pie.prototype.alignDataLabel=f,ve.pie.prototype.verifyDataLabelOverflow=function(e){var t,n=this.center,i=this.options,r=i.center,o=i.minSize||80,a=o;return null!==r[0]?a=G(n[2]-G(e[1],e[3]),o):(a=G(n[2]-e[1]-e[3],o),n[0]+=(e[3]-e[1])/2),null!==r[1]?a=G(U(a,n[2]-G(e[0],e[2])),o):(a=G(U(a,n[2]-e[0]-e[2]),o),n[1]+=(e[0]-e[2])/2),a<n[2]?(n[2]=a,this.translate(n),Qe(this.points,function(e){e.dataLabel&&(e.dataLabel._pos=null)}),this.drawDataLabels&&this.drawDataLabels()):t=!0,t}),ve.column&&(ve.column.prototype.alignDataLabel=function(e,t,n,i,r){var o=this.chart.inverted,a=e.series,s=e.dlBox||e.shapeArgs,l=e.below||e.plotY>Pe(this.translatedThreshold,a.yAxis.len),c=Pe(n.inside,!!this.options.stacking);s&&(i=be(s),o&&(i={x:a.yAxis.len-i.y-i.height,y:a.xAxis.len-i.x-i.width,width:i.height,height:i.width}),c||(o?(i.x+=l?0:i.width,i.width=0):(i.y+=l?i.height:0,i.height=0))),n.align=Pe(n.align,!o||c?"center":l?"right":"left"),n.verticalAlign=Pe(n.verticalAlign,o||c?"middle":l?"top":"bottom"),Nt.prototype.alignDataLabel.call(this,e,t,n,i,r)}),Xt=(Yt=L).Chart,Kt=Yt.each,Zt=HighchartsAdapter.addEvent,Xt.prototype.callbacks.push(function(e){function t(){var n=[];Kt(e.series,function(e){var t=e.options.dataLabels;(t.enabled||e._hasPointLabels)&&!t.allowOverlap&&e.visible&&Kt(e.points,function(e){e.dataLabel&&(e.dataLabel.labelrank=e.labelrank,n.push(e.dataLabel))})}),e.hideOverlappingLabels(n)}t(),Zt(e,"redraw",t)}),Xt.prototype.hideOverlappingLabels=function(e){var t,n,i,r,o,a,s,l,c,u=e.length;for(n=0;n<u;n++)(t=e[n])&&(t.oldOpacity=t.opacity,t.newOpacity=1);for(n=0;n<u;n++)for(r=e[n],i=n+1;i<u;++i)o=e[i],r&&o&&r.placed&&o.placed&&0!==r.newOpacity&&0!==o.newOpacity&&(a=r.alignAttr,s=o.alignAttr,l=r,c=o,!(s.x>a.x+l.width||s.x+c.width<a.x||s.y>a.y+l.height||s.y+c.height<a.y))&&((r.labelrank<o.labelrank?r:o).newOpacity=0);for(n=0;n<u;n++)(t=e[n])&&(t.oldOpacity!==t.newOpacity&&t.placed&&(t.alignAttr.opacity=t.newOpacity,t[t.isOld&&t.newOpacity?"animate":"attr"](t.alignAttr)),t.isOld=!0)};var Qt=L.TrackerMixin={drawTrackerPoint:function(){function t(e){for(var t,n=e.target;n&&!t;)t=n.point,n=n.parentNode;t!==R&&t!==i.hoverPoint&&t.onMouseOver(e)}var n=this,i=n.chart,r=i.pointer,e=n.options.cursor,o=e&&{cursor:e};Qe(n.points,function(e){e.graphic&&(e.graphic.element.point=e),e.dataLabel&&(e.dataLabel.element.point=e)}),n._hasTracking||(Qe(n.trackerGroups,function(e){n[e]&&(n[e].addClass(le+"tracker").on("mouseover",t).on("mouseout",function(e){r.onTrackerMouseOut(e)}).css(o),v&&n[e].on("touchstart",t))}),n._hasTracking=!0)},drawTrackerGraph:function(){function t(){l.hoverSeries!==i&&i.onMouseOver()}var e,n,i=this,r=i.options,o=r.trackByArea,a=[].concat(o?i.areaPath:i.graphPath),s=a.length,l=i.chart,c=l.pointer,u=l.renderer,d=l.options.tooltip.snap,h=i.tracker,p=r.cursor,f=p&&{cursor:p},g=i.singlePoints,m="rgba(192,192,192,"+(ee?1e-4:.002)+")";if(s&&!o)for(n=s+1;n--;)a[n]===he&&a.splice(n+1,0,a[n+1]-d,a[n+2],pe),(n&&a[n]===he||n===s)&&a.splice(n,0,pe,a[n-2]+d,a[n-1]);for(n=0;n<g.length;n++)e=g[n],a.push(he,e.plotX-d,e.plotY,pe,e.plotX+d,e.plotY);h?h.attr({d:a}):(i.tracker=u.path(a).attr({"stroke-linejoin":"round",visibility:i.visible?ce:se,stroke:m,fill:o?m:de,"stroke-width":r.lineWidth+(o?0:2*d),zIndex:2}).add(i.group),Qe([i.tracker,i.markerGroup],function(e){e.addClass(le+"tracker").on("mouseover",t).on("mouseout",function(e){c.onTrackerMouseOut(e)}).css(f),v&&e.on("touchstart",t)}))}};ve.column&&(Ut.prototype.drawTracker=Qt.drawTrackerPoint),ve.pie&&(ve.pie.prototype.drawTracker=Qt.drawTrackerPoint),ve.scatter&&(qt.prototype.drawTracker=Qt.drawTrackerPoint),ye(Rt.prototype,{setItemEvents:function(i,e,t,n,r){var o=this;(t?e:i.legendGroup).on("mouseover",function(){i.setState(ge),e.css(o.options.itemHoverStyle)}).on("mouseout",function(){e.css(i.visible?n:r),i.setState()}).on("click",function(e){function t(){i.setVisible()}var n="legendItemClick";e={browserEvent:e},i.firePointEvent?i.firePointEvent(n,e,t):ot(i,n,e,t)})},createCheckboxForItem:function(n){n.checkbox=Re("input",{type:"checkbox",checked:n.selected,defaultChecked:n.selected},this.options.itemCheckboxStyle,this.chart.container),it(n.checkbox,"click",function(e){var t=e.target;ot(n.series||n,"checkboxClick",{checked:t.checked,item:n},function(){n.select()})})}}),O.legend.itemStyle.cursor="pointer",ye(Ft.prototype,{showResetZoom:function(){var e=this,t=O.lang,n=e.options.chart.resetZoomButton,i=n.theme,r=i.states,o="chart"===n.relativeTo?null:"plotBox";this.resetZoomButton=e.renderer.button(t.resetZoom,null,null,function(){e.zoomOut()},i,r&&r.hover).attr({align:n.position.align,title:t.resetZoomTitle}).add().align(n.position,!1,o)},zoomOut:function(){var e=this;ot(e,"selection",{resetSelection:!0},function(){e.zoom()})},zoom:function(e){var i,t,r=this.pointer,o=!1;!e||e.resetSelection?Qe(this.axes,function(e){i=e.zoom()}):Qe(e.xAxis.concat(e.yAxis),function(e){var t=e.axis,n=t.isXAxis;(r[n?"zoomX":"zoomY"]||r[n?"pinchX":"pinchY"])&&(i=t.zoom(e.min,e.max),t.displayBtn&&(o=!0))}),t=this.resetZoomButton,o&&!t?this.showResetZoom():!o&&Ce(t)&&(this.resetZoomButton=t.destroy()),i&&this.redraw(Pe(this.options.chart.animation,e&&e.animation,this.pointCount<100))},pan:function(c,e){var u,d=this,t=d.hoverPoints;t&&Qe(t,function(e){e.setState()}),Qe("xy"===e?[1,0]:[1],function(e){var t=c[e?"chartX":"chartY"],n=d[e?"xAxis":"yAxis"][0],i=d[e?"mouseDownX":"mouseDownY"],r=(n.pointRange||0)/2,o=n.getExtremes(),a=n.toValue(i-t,!0)+r,s=n.toValue(i+d[e?"plotWidth":"plotHeight"]-t,!0)-r,l=t<i;n.series.length&&(l||a>U(o.dataMin,o.min))&&(!l||s<G(o.dataMax,o.max))&&(n.setExtremes(a,s,!1,!1,{trigger:"pan"}),u=!0),d[e?"mouseDownX":"mouseDownY"]=t}),u&&d.redraw(!1),_e(d.container,{cursor:"move"})}}),ye(Ot.prototype,{select:function(e,t){var n=this,i=n.series,r=i.chart;e=Pe(e,!n.selected),n.firePointEvent(e?"select":"unselect",{accumulate:t},function(){n.selected=n.options.selected=e,i.options.data[Je(n,i.data)]=n.options,n.setState(e&&me),t||Qe(r.getSelectedPoints(),function(e){e.selected&&e!==n&&(e.selected=e.options.selected=!1,i.options.data[Je(e,i.data)]=e.options,e.setState(""),e.firePointEvent("unselect"))})})},onMouseOver:function(e){var t=this.series,n=t.chart,i=n.tooltip,r=n.hoverPoint;n.hoverSeries!==t&&t.onMouseOver(),r&&r!==this&&r.onMouseOut(),this.firePointEvent("mouseOver"),!i||i.shared&&!t.noSharedTooltip||i.refresh(this,e),this.setState(ge),n.hoverPoint=this},onMouseOut:function(){var e=this.series.chart,t=e.hoverPoints;this.firePointEvent("mouseOut"),t&&-1!==Je(this,t)||(this.setState(),e.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var e,t=be(this.series.options.point,this.options).events;for(e in this.events=t)it(this,e,t[e]);this.hasImportedEvents=!0}},setState:function(e,t){var n,i,r,o,a=this,s=a.plotX,l=a.plotY,c=a.series,u=c.options.states,d=ct[c.type].marker&&c.options.marker,h=d&&!d.enabled,p=d&&d.states[e],f=p&&!1===p.enabled,g=c.stateMarkerGraphic,m=a.marker||{},v=c.chart,y=c.halo;e=e||"",o=a.pointAttr[e]||c.pointAttr[e],e===a.state&&!t||a.selected&&e!==me||u[e]&&!1===u[e].enabled||e&&(f||h&&!1===p.enabled)||e&&m.states&&m.states[e]&&!1===m.states[e].enabled||(a.graphic?(n=d&&a.graphic.symbolName&&o.r,a.graphic.attr(be(o,n?{x:s-n,y:l-n,width:2*n,height:2*n}:{})),g&&g.hide()):(e&&p&&(n=p.radius,r=m.symbol||c.symbol,g&&g.currentSymbol!==r&&(g=g.destroy()),g?g[t?"animate":"attr"]({x:s-n,y:l-n}):r&&(c.stateMarkerGraphic=g=v.renderer.symbol(r,s-n,l-n,2*n,2*n).attr(o).add(c.markerGroup),g.currentSymbol=r)),g&&g[e&&v.isInsidePlot(s,l,v.inverted)?"show":"hide"]()),(i=u[e]&&u[e].halo)&&i.size?(y||(c.halo=y=v.renderer.path().add(v.seriesGroup)),y.attr(ye({fill:gt(a.color||c.color).setOpacity(i.opacity).get()},i.attributes))[t?"animate":"attr"]({d:a.haloPath(i.size)})):y&&y.attr({d:[]}),a.state=e)},haloPath:function(e){var t=this.series,n=t.chart,i=t.getPlotBox(),r=n.inverted;return n.renderer.symbols.circle(i.translateX+(r?t.yAxis.len-this.plotY:this.plotX)-e,i.translateY+(r?t.xAxis.len-this.plotX:this.plotY)-e,2*e,2*e)}}),ye(Nt.prototype,{onMouseOver:function(){var e=this.chart,t=e.hoverSeries;t&&t!==this&&t.onMouseOut(),this.options.events.mouseOver&&ot(this,"mouseOver"),this.setState(ge),e.hoverSeries=this},onMouseOut:function(){var e=this.options,t=this.chart,n=t.tooltip,i=t.hoverPoint;i&&i.onMouseOut(),this&&e.events.mouseOut&&ot(this,"mouseOut"),!n||e.stickyTracking||n.shared&&!this.noSharedTooltip||n.hide(),this.setState(),t.hoverSeries=null},setState:function(e){var t,n=this.options,i=this.graph,r=this.graphNeg,o=n.states,a=n.lineWidth;if(e=e||"",this.state!==e){if(o[this.state=e]&&!1===o[e].enabled)return;e&&(a=(o[e].lineWidth||a)+(o[e].lineWidthPlus||0)),i&&!i.dashstyle&&(t={"stroke-width":a},i.attr(t),r&&r.attr(t))}},setVisible:function(t,e){var n,i=this,r=i.chart,o=i.legendItem,a=r.options.chart.ignoreHiddenSeries,s=i.visible;i.visible=t=i.userOptions.visible=t===R?!s:t,n=t?"show":"hide",Qe(["group","dataLabelsGroup","markerGroup","tracker"],function(e){i[e]&&i[e][n]()}),r.hoverSeries!==i&&(r.hoverPoint&&r.hoverPoint.series)!==i||i.onMouseOut(),o&&r.legend.colorizeItem(i,t),i.isDirty=!0,i.options.stacking&&Qe(r.series,function(e){e.options.stacking&&e.visible&&(e.isDirty=!0)}),Qe(i.linkedSeries,function(e){e.setVisible(t,!1)}),a&&(r.isDirtyBox=!0),!1!==e&&r.redraw(),ot(i,n)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(e){this.selected=e=e===R?!this.selected:e,this.checkbox&&(this.checkbox.checked=e),ot(this,e?"select":"unselect")},drawTracker:Qt.drawTrackerGraph}),Oe(Nt.prototype,"init",function(e){var t;e.apply(this,Array.prototype.slice.call(arguments,1)),(t=this.xAxis)&&t.options.ordinal&&it(this,"updatedData",function(){delete t.ordinalIndex})}),Oe(kt.prototype,"getTimeTicks",function(e,t,n,i,r,o,a,s){var l,c,u,d,h,p=0,f=0,g={},m=[],v=-Number.MAX_VALUE,y=this.options.tickPixelInterval;if(!this.options.ordinal&&!this.options.breaks||!o||o.length<3||n===R)return e.call(this,t,n,i,r);for(d=o.length;f<d;f++){if(h=f&&o[f-1]>i,o[f]<n&&(p=f),f===d-1||o[f+1]-o[f]>5*a||h){if(o[f]>v){for(l=e.call(this,t,o[p],o[f],r);l.length&&l[0]<=v;)l.shift();l.length&&(v=l[l.length-1]),m=m.concat(l)}p=f+1}if(h)break}if(u=l.info,s&&u.unitRange<=M.hour){for(f=m.length-1,p=1;p<f;p++)T("%d",m[p])!==T("%d",m[p-1])&&(g[m[p]]="day",c=!0);c&&(g[m[0]]="day"),u.higherRanks=g}if(m.info=u,s&&Te(y)){for(var b,w,x,C,S,$=m.length,E=$,k=[],A=[];E--;)w=this.translate(m[E]),x&&(A[E]=x-w),k[E]=x=w;for(A.sort(),(C=A[H(A.length/2)])<.6*y&&(C=null),E=m[$-1]>i?$-1:$,x=void 0;E--;)S=x-(w=k[E]),x&&S<.8*y&&(null===C||S<.8*C)?(g[m[E]]&&!g[m[E+1]]?(b=E+1,x=w):b=E,m.splice(b,1)):x=w}return m}),ye(kt.prototype,{beforeSetTickPositions:function(){var n,e,t,i,r,o,a=this,s=[],l=!1,c=a.getExtremes(),u=c.min,d=c.max;if(a.options.ordinal||a.options.breaks){if(Qe(a.series,function(e,t){if(!1!==e.visible&&(!1!==e.takeOrdinalPosition||a.options.breaks)&&(s=s.concat(e.processedXData),n=s.length,s.sort(function(e,t){return e-t}),n))for(t=n-1;t--;)s[t]===s[t+1]&&s.splice(t,1)}),2<(n=s.length)){for(e=s[1]-s[0],o=n-1;o--&&!l;)s[o+1]-s[o]!=e&&(l=!0);!a.options.keepOrdinalPadding&&(s[0]-u>e||d-s[s.length-1]>e)&&(l=!0)}l?(a.ordinalPositions=s,t=a.val2lin(G(u,s[0]),!0),i=G(a.val2lin(U(d,s[s.length-1]),!0),1),a.ordinalSlope=r=(d-u)/(i-t),a.ordinalOffset=u-t*r):a.ordinalPositions=a.ordinalSlope=a.ordinalOffset=R,a.options.ordinal&&(a.doPostTranslate=l)}a.groupIntervalFactor=null},val2lin:function(e,t){var n=this.ordinalPositions;if(n){var i,r,o=n.length;for(i=o;i--;)if(n[i]===e){r=i;break}for(i=o-1;i--;)if(e>n[i]||0===i){r=i+(e-n[i])/(n[i+1]-n[i]);break}return t?r:this.ordinalSlope*(r||0)+this.ordinalOffset}return e},lin2val:function(e,t){var n=this.ordinalPositions;if(n){var i,r,o=this.ordinalSlope,a=this.ordinalOffset,s=n.length-1;if(t)e<0?e=n[0]:s<e?e=n[s]:r=e-(s=H(e));else for(;s--;)if((i=o*s+a)<=e){r=(e-i)/(o*(s+1)+a-i);break}return r!==R&&n[s]!==R?n[s]+(r?r*(n[s+1]-n[s]):0):e}return e},getExtendedPositions:function(){var t,n,i=this.chart,r=this.series[0].currentDataGrouping,e=this.ordinalIndex,o=r?r.count+r.unitName:"raw",a=this.getExtremes();return(e=e||(this.ordinalIndex={}))[o]||(t={series:[],getExtremes:function(){return{min:a.dataMin,max:a.dataMax}},options:{ordinal:!0},val2lin:kt.prototype.val2lin},Qe(this.series,function(e){(n={xAxis:t,xData:e.xData,chart:i,destroyGroupedData:f}).options={dataGrouping:r?{enabled:!0,forced:!0,approximation:"open",units:[[r.unitName,[r.count]]]}:{enabled:!1}},e.processData.apply(n),t.series.push(n)}),this.beforeSetTickPositions.apply(t),e[o]=t.ordinalPositions),e[o]},getGroupIntervalFactor:function(e,t,n){var i,r=0,o=n.processedXData,a=o.length,s=[],l=this.groupIntervalFactor;if(!l){for(;r<a-1;r++)s[r]=o[r+1]-o[r];s.sort(function(e,t){return e-t}),i=s[H(a/2)],e=G(e,o[0]),t=U(t,o[a-1]),this.groupIntervalFactor=l=a*i/(t-e)}return l},postProcessTickInterval:function(e){var t=this.ordinalSlope;return t?this.options.breaks?this.closestPointRange:e/(t/this.closestPointRange):e}}),Oe(Ft.prototype,"pan",function(e,t){var n=this.xAxis[0],i=t.chartX,r=!1;if(n.options.ordinal&&n.series.length){var o,a,s,l,c=this.mouseDownX,u=n.getExtremes(),d=u.dataMax,h=u.min,p=u.max,f=this.hoverPoints,g=n.closestPointRange,m=(c-i)/(n.translationSlope*(n.ordinalSlope||g)),v={ordinalPositions:n.getExtendedPositions()},y=n.lin2val,b=n.val2lin;v.ordinalPositions?1<W(m)&&(f&&Qe(f,function(e){e.setState()}),d>(a=(l=m<0?(s=v,n.ordinalPositions?n:v):(s=n.ordinalPositions?n:v,v)).ordinalPositions)[a.length-1]&&a.push(d),this.fixedRange=p-h,(o=n.toFixedRange(null,null,y.apply(s,[b.apply(s,[h,!0])+m,!0]),y.apply(l,[b.apply(l,[p,!0])+m,!0]))).min>=U(u.dataMin,h)&&o.max<=G(d,p)&&n.setExtremes(o.min,o.max,!0,!1,{trigger:"pan"}),this.mouseDownX=i,_e(this.container,{cursor:"move"})):r=!0}else r=!0;r&&e.apply(this,Array.prototype.slice.call(arguments,1))}),Oe(Nt.prototype,"getSegments",function(e){var i,r=this.options.gapSize,o=this.xAxis;e.apply(this,Array.prototype.slice.call(arguments,1)),r&&(i=this.segments,Qe(i,function(e,t){for(var n=e.length-1;n--;)e[n+1].x-e[n].x>o.closestPointRange*r&&i.splice(t+1,0,e.splice(n+1,e.length-n))}))}),function(e){"use strict";var a=e.pick,t=e.wrap,n=e.extend,f=HighchartsAdapter.fireEvent,g=e.Axis,i=e.Series;n(g.prototype,{isInBreak:function(e,t){var n=e.repeat||1/0,i=e.from,r=e.to-e.from,o=i<=t?(t-i)%n:n-(i-t)%n;return e.inclusive?o<=r:o<r&&0!=o},isInAnyBreak:function(e,t){if(!this.options.breaks)return!1;for(var n=this.options.breaks,i=n.length,r=!1,o=!1;i--;)this.isInBreak(n[i],e)&&(r=!0,o=o||a(n[i].showPoints,!this.isXAxis));return r&&t?r&&!o:r}}),t(g.prototype,"setTickPositions",function(e){if(e.apply(this,Array.prototype.slice.call(arguments,1)),this.options.breaks){var t,n=this.tickPositions,i=this.tickPositions.info,r=[];if(i&&i.totalRange>=this.closestPointRange)return;for(t=0;t<n.length;t++)this.isInAnyBreak(n[t])||r.push(n[t]);this.tickPositions=r,this.tickPositions.info=i}}),t(g.prototype,"init",function(e,t,n){if(n.breaks&&n.breaks.length&&(n.ordinal=!1),e.call(this,t,n),this.options.breaks){var p=this;p.doPostTranslate=!0,this.val2lin=function(e){var t,n,i=e;for(n=0;n<p.breakArray.length;n++)if((t=p.breakArray[n]).to<=e)i-=t.len;else{if(t.from>=e)break;if(p.isInBreak(t,e)){i-=e-t.from;break}}return i},this.lin2val=function(e){var t,n,i=e;for(n=0;n<p.breakArray.length&&!((t=p.breakArray[n]).from>=i);n++)t.to<i?i+=t.to-t.from:p.isInBreak(t,i)&&(i+=t.to-t.from);return i},this.setExtremes=function(e,t,n,i,r){for(;this.isInAnyBreak(e);)e-=this.closestPointRange;for(;this.isInAnyBreak(t);)t-=this.closestPointRange;g.prototype.setExtremes.call(this,e,t,n,i,r)},this.setAxisTranslation=function(e){g.prototype.setAxisTranslation.call(this,e);var t,n,i,r,o,a,s=p.options.breaks,l=[],c=[],u=0,d=p.userMin||p.min,h=p.userMax||p.max;for(o in s)i=s[o],p.isInBreak(i,d)&&(d+=i.to%i.repeat-d%i.repeat),p.isInBreak(i,h)&&(h-=h%i.repeat-i.from%i.repeat);for(o in s){for(r=(i=s[o]).from,n=i.repeat||1/0;d<r-n;)r-=n;for(;r<d;)r+=n;for(a=r;a<h;a+=n)l.push({value:a,move:"in"}),l.push({value:a+(i.to-i.from),move:"out",size:i.breakSize})}for(o in l.sort(function(e,t){return e.value===t.value?("in"===e.move?0:1)-("in"===t.move?0:1):e.value-t.value}),t=0,r=d,l)1===(t+="in"===(i=l[o]).move?1:-1)&&"in"===i.move&&(r=i.value),0===t&&(c.push({from:r,to:i.value,len:i.value-r-(i.size||0)}),u+=i.value-r-(i.size||0));p.breakArray=c,f(p,"afterBreaks"),p.transA*=(h-p.min)/(h-d-u),p.min=d,p.max=h}}}),t(i.prototype,"generatePoints",function(e){e.apply(this,function(){return Array.prototype.slice.call(arguments,1)}(arguments));var t,n=this.xAxis,i=this.yAxis,r=this.points,o=r.length;if(n&&i&&(n.options.breaks||i.options.breaks))for(;o--;)t=r[o],(n.isInAnyBreak(t.x,!0)||i.isInAnyBreak(t.y,!0))&&(r.splice(o,1),this.data[o].destroyElements())}),t(e.seriesTypes.column.prototype,"drawPoints",function(e){e.apply(this);var t,n,i,r,o,a=this.points,s=this.yAxis,l=s.breakArray||[];for(i=0;i<a.length;i++)for(o=(t=a[i]).stackY||t.y,r=0;r<l.length&&!(o<(n=l[r]).from);r++)o>n.to?f(s,"pointBreak",{point:t,brk:n}):f(s,"pointInBreak",{point:t,brk:n})})}(L);var en=Nt.prototype,tn=Tt.prototype,nn=en.processData,rn=en.generatePoints,on=en.destroy,an=tn.tooltipFooterHeaderFormatter,sn="number",ln={approximation:"average",groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],minute:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],hour:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],day:["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],week:["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},cn={line:{},spline:{},area:{},areaspline:{},column:{approximation:"sum",groupPixelWidth:10},arearange:{approximation:"range"},areasplinerange:{approximation:"range"},columnrange:{approximation:"range",groupPixelWidth:10},candlestick:{approximation:"ohlc",groupPixelWidth:10},ohlc:{approximation:"ohlc",groupPixelWidth:5}},un=[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]],dn={sum:function(e){var t,n=e.length;if(!n&&e.hasNulls)t=null;else if(n)for(t=0;n--;)t+=e[n];return t},average:function(e){var t=e.length,n=dn.sum(e);return typeof n==sn&&t&&(n/=t),n},open:function(e){return e.length?e[0]:e.hasNulls?null:R},high:function(e){return e.length?je(e):e.hasNulls?null:R},low:function(e){return e.length?ze(e):e.hasNulls?null:R},close:function(e){return e.length?e[e.length-1]:e.hasNulls?null:R},ohlc:function(e,t,n,i){if(e=dn.open(e),t=dn.high(t),n=dn.low(n),i=dn.close(i),typeof e==sn||typeof t==sn||typeof n==sn||typeof i==sn)return[e,t,n,i]},range:function(e,t){if(e=dn.low(e),t=dn.high(t),typeof e==sn||typeof t==sn)return[e,t]}};en.groupData=function(e,t,n,i){var r,o,a,s,l=this.data,c=this.options.data,u=[],d=[],h=e.length,p=!!t,f=[[],[],[],[]],g="function"==typeof i?i:dn[i],m=this.pointArrayMap,v=m&&m.length;for(s=0;s<=h&&!(e[s]>=n[0]);s++);for(;s<=h;s++){for(;(n[1]!==R&&e[s]>=n[1]||s===h)&&(r=n.shift(),(a=g.apply(0,f))!==R&&(u.push(r),d.push(a)),f[0]=[],f[1]=[],f[2]=[],f[3]=[],s!==h););if(s===h)break;if(m){var y,b,w=this.cropStart+s,x=l&&l[w]||this.pointClass.prototype.applyOptions.apply({series:this},[c[w]]);for(y=0;y<v;y++)typeof(b=x[m[y]])==sn?f[y].push(b):null===b&&(f[y].hasNulls=!0)}else typeof(o=p?t[s]:null)==sn?f[0].push(o):null===o&&(f[0].hasNulls=!0)}return[u,d]},en.processData=function(){var e,t=this,n=t.chart,i=t.options,r=i.dataGrouping,o=!1!==t.allowDG&&r&&Pe(r.enabled,n.options._stock);if(t.forceCrop=o,t.groupPixelWidth=null,!(t.hasProcessed=!0)!==nn.apply(t,arguments)&&o){t.destroyGroupedData();var a,s=t.processedXData,l=t.processedYData,c=n.plotSizeX,u=t.xAxis,d=u.options.ordinal,h=t.groupPixelWidth=u.getGroupPixelWidth&&u.getGroupPixelWidth(),p=t.pointRange;if(h){e=!0,t.points=null;var f=u.getExtremes(),g=f.min,m=f.max,v=h*(m-g)/c*(d&&u.getGroupIntervalFactor(g,m,t)||1),y=u.getTimeTicks(u.normalizeTimeTickInterval(v,r.units||un),g,m,u.options.startOfWeek,s,t.closestPointRange),b=en.groupData.apply(t,[s,l,y,r.approximation]),w=b[0],x=b[1];if(r.smoothed){for(w[a=w.length-1]=m;a--&&0<a;)w[a]+=v/2;w[0]=g}t.currentDataGrouping=y.info,null===i.pointRange&&(t.pointRange=y.info.totalRange),t.closestPointRange=y.info.totalRange,Te(w[0])&&w[0]<u.dataMin&&(u.min===u.dataMin&&(u.min=w[0]),u.dataMin=w[0]),t.processedXData=w,t.processedYData=x}else t.currentDataGrouping=null,t.pointRange=p;t.hasGroupedData=e}},en.destroyGroupedData=function(){var n=this.groupedData;Qe(n||[],function(e,t){e&&(n[t]=e.destroy?e.destroy():null)}),this.groupedData=null},en.generatePoints=function(){rn.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null},tn.tooltipFooterHeaderFormatter=function(e,t){var n,i,r,o,a,s=e.series,l=s.options,c=s.tooltipOptions,u=l.dataGrouping,d=c.xDateFormat,h=s.xAxis;return h&&"datetime"===h.options.type&&u&&$e(e.key)?(i=s.currentDataGrouping,r=u.dateTimeLabelFormats,i?(o=r[i.unitName],1===i.count?d=o[0]:(d=o[1],n=o[2])):!d&&r&&(d=this.getXDateFormat(e,c,h)),a=T(d,e.key),n&&(a+=T(n,e.key+i.totalRange-1)),c[(t?"footer":"header")+"Format"].replace("{point.key}",a)):an.call(this,e,t)},en.destroy=function(){for(var e=this.groupedData||[],t=e.length;t--;)e[t]&&e[t].destroy();on.apply(this)},Oe(en,"setOptions",function(e,t){var n=e.call(this,t),i=this.type,r=this.chart.options.plotOptions,o=ct[i].dataGrouping;return cn[i]&&(o=o||be(ln,cn[i]),n.dataGrouping=be(o,r.series&&r.series.dataGrouping,r[i].dataGrouping,t.dataGrouping)),this.chart.options._stock&&(this.requireSorting=!0),n}),Oe(kt.prototype,"setScale",function(e){e.call(this),Qe(this.series,function(e){e.hasProcessed=!1})}),kt.prototype.getGroupPixelWidth=function(){var e,t,n,i=this.series,r=i.length,o=0,a=!1;for(e=r;e--;)(n=i[e].options.dataGrouping)&&(o=G(o,n.groupPixelWidth));for(e=r;e--;)(n=i[e].options.dataGrouping)&&i[e].hasProcessed&&(t=(i[e].processedXData||i[e].data).length,(i[e].groupPixelWidth||t>this.chart.plotSizeX/o||t&&n.forced)&&(a=!0));return a?o:0},ct.ohlc=be(ct.column,{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}"></span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},states:{hover:{lineWidth:3}},threshold:null});var hn=r(ve.column,{type:"ohlc",pointArrayMap:["open","high","low","close"],toYData:function(e){return[e.open,e.high,e.low,e.close]},pointValKey:"high",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},upColorProp:"stroke",getAttribs:function(){ve.column.prototype.getAttribs.apply(this,arguments);var e=this.options,t=e.states,n=e.upColor||this.color,i=be(this.pointAttr),r=this.upColorProp;i[""][r]=n,i.hover[r]=t.hover.upColor||n,i.select[r]=t.select.upColor||n,Qe(this.points,function(e){e.open<e.close&&!e.options.color&&(e.pointAttr=i)})},translate:function(){var t=this.yAxis;ve.column.prototype.translate.apply(this),Qe(this.points,function(e){null!==e.open&&(e.plotOpen=t.translate(e.open,0,1,0,1)),null!==e.close&&(e.plotClose=t.translate(e.close,0,1,0,1))})},drawPoints:function(){var t,n,i,r,o,a,s,l,c=this,e=c.points,u=c.chart;Qe(e,function(e){e.plotY!==R&&(s=e.graphic,t=e.pointAttr[e.selected?"selected":""]||c.pointAttr[""],r=t["stroke-width"]%2/2,l=j(e.plotX)-r,o=j(e.shapeArgs.width/2),a=["M",l,j(e.yBottom),"L",l,j(e.plotY)],null!==e.open&&(n=j(e.plotOpen)+r,a.push("M",l,n,"L",l-o,n)),null!==e.close&&(i=j(e.plotClose)+r,a.push("M",l,i,"L",l+o,i)),s?s.attr(t).animate({d:a}):e.graphic=u.renderer.path(a).attr(t).add(c.group))})},animate:null});ve.ohlc=hn,ct.candlestick=be(ct.column,{lineColor:"black",lineWidth:1,states:{hover:{lineWidth:2}},tooltip:ct.ohlc.tooltip,threshold:null,upColor:"white"});var pn=r(hn,{type:"candlestick",pointAttrToOptions:{fill:"color",stroke:"lineColor","stroke-width":"lineWidth"},upColorProp:"fill",getAttribs:function(){ve.ohlc.prototype.getAttribs.apply(this,arguments);var e=this.options,t=e.states,n=e.upLineColor||e.lineColor,i=t.hover.upLineColor||n,r=t.select.upLineColor||n;Qe(this.points,function(e){e.open<e.close&&(e.pointAttr[""].stroke=n,e.pointAttr.hover.stroke=i,e.pointAttr.select.stroke=r)})},drawPoints:function(){var t,n,i,r,o,a,s,l,c,u,d,h,p=this,e=p.points,f=p.chart,g=p.pointAttr[""];Qe(e,function(e){u=e.graphic,e.plotY!==R&&(t=e.pointAttr[e.selected?"selected":""]||g,l=t["stroke-width"]%2/2,c=j(e.plotX)-l,n=e.plotOpen,i=e.plotClose,r=V.min(n,i),o=V.max(n,i),h=j(e.shapeArgs.width/2),a=j(r)!==j(e.plotY),s=o!==e.yBottom,r=j(r)+l,o=j(o)+l,d=["M",c-h,o,"L",c-h,r,"L",c+h,r,"L",c+h,o,"Z","M",c,r,"L",c,a?j(e.plotY):r,"M",c,o,"L",c,s?j(e.yBottom):o],u?u.attr(t).animate({d:d}):e.graphic=f.renderer.path(d).attr(t).add(p.group).shadow(p.options.shadow))})}});ve.candlestick=pn;var fn=vt.prototype.symbols;ct.flags=be(ct.column,{fillColor:"white",lineWidth:1,pointRange:0,shape:"flag",stackDistance:12,states:{hover:{lineColor:"black",fillColor:"#FCFFC5"}},style:{fontSize:"11px",fontWeight:"bold",textAlign:"center"},tooltip:{pointFormat:"{point.text}<br/>"},threshold:null,y:-30}),ve.flags=r(ve.column,{type:"flags",sorted:!1,noSharedTooltip:!0,allowDG:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],forceCrop:!0,init:Nt.prototype.init,pointAttrToOptions:{fill:"fillColor",stroke:"color","stroke-width":"lineWidth",r:"radius"},translate:function(){ve.column.prototype.translate.apply(this);var e,i,t,n,r,o,a=this.options,s=this.chart,l=this.points,c=l.length-1,u=a.onSeries,d=u&&s.get(u),h=d&&d.options.step,p=d&&d.points,f=p&&p.length,g=this.xAxis,m=g.getExtremes();if(d&&d.visible&&f)for(o=d.currentDataGrouping,n=p[f-1].x+(o?o.totalRange:0),l.sort(function(e,t){return e.x-t.x});f--&&l[c]&&(e=l[c],!((t=p[f]).x<=e.x&&t.plotY!==R&&(e.x<=n&&(e.plotY=t.plotY,t.x<e.x&&!h&&(r=p[f+1])&&r.plotY!==R&&(e.plotY+=(e.x-t.x)/(r.x-t.x)*(r.plotY-t.plotY))),f++,--c<0))););Qe(l,function(e,t){var n;e.plotY===R&&(e.x>=m.min&&e.x<=m.max?e.plotY=s.chartHeight-g.bottom-(g.opposite?g.height:0)+g.offset-s.plotTop:e.shapeArgs={}),(i=l[t-1])&&i.plotX===e.plotX&&(i.stackIndex===R&&(i.stackIndex=0),n=i.stackIndex+1),e.stackIndex=n})},drawPoints:function(){var e,t,n,i,r,o,a,s,l,c,u,d=this.pointAttr[""],h=this.points,p=this.chart.renderer,f=this.options,g=f.y,m=f.lineWidth%2/2;for(r=h.length;r--;)u=(o=h[r]).plotX>this.xAxis.len,t=o.plotX+(u?m:-m),s=o.stackIndex,i=o.options.shape||f.shape,(n=o.plotY)!==R&&(n=o.plotY+g+m-(s!==R&&s*f.stackDistance)),l=s?R:o.plotX+m,c=s?R:o.plotY,a=o.graphic,n!==R&&0<=t&&!u?(e=o.pointAttr[o.selected?"select":""]||d,a?a.attr({x:t,y:n,r:e.r,anchorX:l,anchorY:c}):a=o.graphic=p.label(o.options.title||f.title||"A",t,n,i,l,c,f.useHTML).css(be(f.style,o.style)).attr(e).attr({align:"flag"===i?"left":"center",width:f.width,height:f.height}).add(this.markerGroup).shadow(f.shadow),o.tooltipPos=[t,n]):a&&(o.graphic=a.destroy())},drawTracker:function(){var n=this.points;Qt.drawTrackerPoint.apply(this),Qe(n,function(t){var e=t.graphic;e&&it(e.element,"mouseover",function(){0<t.stackIndex&&!t.raised&&(t._y=e.y,e.attr({y:t._y-8}),t.raised=!0),Qe(n,function(e){e!==t&&e.raised&&e.graphic&&(e.graphic.attr({y:e._y}),e.raised=!1)})})})},animate:f,buildKDTree:f,setClip:f}),fn.flag=function(e,t,n,i,r){var o=r&&r.anchorX||e,a=r&&r.anchorY||t;return["M",o,a,"L",e,t+i,e,t,e+n,t,e+n,t+i,e,t+i,"M",o,a,"Z"]},Qe(["circle","square"],function(c){fn[c+"pin"]=function(e,t,n,i,r){var o,a=r&&r.anchorX,s=r&&r.anchorY,l=fn[c](e,t,n,i);return a&&s&&(o=s<t?t:t+i,l.push("M",a,o,"L",a,s)),l}}),c===L.VMLRenderer&&Qe(["flag","circlepin","squarepin"],function(e){yt.prototype.symbols[e]=fn[e]});function gn(e){var t=et(arguments,function(e){return"number"==typeof e});if(t.length)return Math[e].apply(0,t)}var mn,vn=[].concat(un);function yn(e){var t=e.options,n=t.navigator,i=n.enabled,r=t.scrollbar,o=r.enabled,a=i?n.height:0,s=o?r.height:0;this.handles=[],this.scrollbarButtons=[],this.elementsToDestroy=[],this.chart=e,this.setBaseSeries(),this.height=a,this.scrollbarHeight=s,this.scrollbarEnabled=o,this.navigatorEnabled=i,this.navigatorOptions=n,this.scrollbarOptions=r,this.outlineHeight=a+s,this.init()}function bn(e){this.init(e)}vn[4]=["day",[1,2,3,4]],vn[5]=["week",[1,2,3]],mn=ve.areaspline===R?"line":"areaspline",ye(O,{navigator:{handles:{backgroundColor:"#ebe7e8",borderColor:"#b2b1b6"},height:40,margin:25,maskFill:"rgba(128,179,236,0.3)",maskInside:!0,outlineColor:"#b2b1b6",outlineWidth:1,series:{type:mn,color:"#4572A7",compare:null,fillOpacity:.05,dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,smoothed:!0,units:vn},dataLabels:{enabled:!1,zIndex:2},id:le+"navigator-series",lineColor:"#4572A7",lineWidth:1,marker:{enabled:!1},pointRange:0,shadow:!1,threshold:null},xAxis:{tickWidth:0,lineWidth:0,gridLineColor:"#EEE",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#888"},x:3,y:-4},crosshair:!1},yAxis:{gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickWidth:0}},scrollbar:{height:J?20:14,barBackgroundColor:"#bfc8d1",barBorderRadius:0,barBorderWidth:1,barBorderColor:"#bfc8d1",buttonArrowColor:"#666",buttonBackgroundColor:"#ebe7e8",buttonBorderColor:"#bbb",buttonBorderRadius:0,buttonBorderWidth:1,minWidth:6,rifleColor:"#666",trackBackgroundColor:"#eeeeee",trackBorderColor:"#eeeeee",trackBorderWidth:1,liveRedraw:ee&&!J}}),yn.prototype={drawHandle:function(e,t){var n,i=this.chart,r=i.renderer,o=this.elementsToDestroy,a=this.handles,s=this.navigatorOptions.handles,l={fill:s.backgroundColor,stroke:s.borderColor,"stroke-width":1};this.rendered||(a[t]=r.g("navigator-handle-"+["left","right"][t]).css({cursor:"ew-resize"}).attr({zIndex:4-t}).add(),n=r.rect(-4.5,0,9,16,0,1).attr(l).add(a[t]),o.push(n),n=r.path(["M",-1.5,4,"L",-1.5,12,"M",.5,4,"L",.5,12]).attr(l).add(a[t]),o.push(n)),a[t][i.isResizing?"animate":"attr"]({translateX:this.scrollerLeft+this.scrollbarHeight+parseInt(e,10),translateY:this.top+this.height/2-8})},drawScrollbarButton:function(e){var t,n=this.chart.renderer,i=this.elementsToDestroy,r=this.scrollbarButtons,o=this.scrollbarHeight,a=this.scrollbarOptions;this.rendered||(r[e]=n.g().add(this.scrollbarGroup),t=n.rect(-.5,-.5,o+1,o+1,a.buttonBorderRadius,a.buttonBorderWidth).attr({stroke:a.buttonBorderColor,"stroke-width":a.buttonBorderWidth,fill:a.buttonBackgroundColor}).add(r[e]),i.push(t),t=n.path(["M",o/2+(e?-1:1),o/2-3,"L",o/2+(e?-1:1),o/2+3,o/2+(e?2:-2),o/2]).attr({fill:a.buttonArrowColor}).add(r[e]),i.push(t)),e&&r[e].attr({translateX:this.scrollerWidth-o})},render:function(e,t,n,i){var r,o,a,s,l,c,u,d,h,p,f,g,m,v=this,y=v.chart,b=y.renderer,w=v.scrollbarGroup,x=v.navigatorGroup,C=v.scrollbar,S=v.xAxis,$=v.scrollbarTrack,E=v.scrollbarHeight,k=v.scrollbarEnabled,A=v.navigatorOptions,T=v.scrollbarOptions,M=T.minWidth,D=v.height,P=v.top,_=v.navigatorEnabled,R=A.outlineWidth,I=R/2,F=0,O=v.outlineHeight,L=T.barBorderRadius,N=T.barBorderWidth,V=P+I;isNaN(e)||(v.navigatorLeft=r=Pe(S.left,y.plotLeft+E),v.navigatorWidth=o=Pe(S.len,y.plotWidth-2*E),v.scrollerLeft=a=r-E,v.scrollerWidth=s=s=o+2*E,S.getExtremes&&(!(m=v.getUnionExtremes(!0))||m.dataMin===S.min&&m.dataMax===S.max||S.setExtremes(m.dataMin,m.dataMax,!0,!1)),n=Pe(n,S.translate(e)),i=Pe(i,S.translate(t)),!isNaN(n)&&W(n)!==1/0||(n=0,i=s),S.translate(i,!0)-S.translate(n,!0)<y.xAxis[0].minRange||(v.zoomedMax=U(G(n,i),o),v.zoomedMin=G(v.fixedWidth?v.zoomedMax-v.fixedWidth:U(n,i),0),v.range=v.zoomedMax-v.zoomedMin,u=(c=j(v.zoomedMax))-(l=j(v.zoomedMin)),v.rendered||(_&&(v.navigatorGroup=x=b.g("navigator").attr({zIndex:3}).add(),v.leftShade=b.rect().attr({fill:A.maskFill}).add(x),A.maskInside?v.leftShade.css({cursor:"ew-resize "}):v.rightShade=b.rect().attr({fill:A.maskFill}).add(x),v.outline=b.path().attr({"stroke-width":R,stroke:A.outlineColor}).add(x)),k&&(v.scrollbarGroup=w=b.g("scrollbar").add(),p=T.trackBorderWidth,v.scrollbarTrack=$=b.rect().attr({x:0,y:-p%2/2,fill:T.trackBackgroundColor,stroke:T.trackBorderColor,"stroke-width":p,r:T.trackBorderRadius||0,height:E}).add(w),v.scrollbar=C=b.rect().attr({y:-N%2/2,height:E,fill:T.barBackgroundColor,stroke:T.barBorderColor,"stroke-width":N,r:L}).add(w),v.scrollbarRifles=b.path().attr({stroke:T.rifleColor,"stroke-width":1}).add(w))),g=y.isResizing?"animate":"attr",_&&(v.leftShade[g](A.maskInside?{x:r+l,y:P,width:c-l,height:D}:{x:r,y:P,width:l,height:D}),v.rightShade&&v.rightShade[g]({x:r+c,y:P,width:o-c,height:D}),v.outline[g]({d:[he,a,V,pe,r+l-I,V,r+l-I,V+O,pe,r+c-I,V+O,pe,r+c-I,V,a+s,V].concat(A.maskInside?[he,r+l+I,V,pe,r+c-I,V]:[])}),v.drawHandle(l+I,0),v.drawHandle(c+I,1)),k&&w&&(v.drawScrollbarButton(0),v.drawScrollbarButton(1),w[g]({translateX:a,translateY:j(V+D)}),$[g]({width:s}),d=E+l,(h=u-N)<M&&(F=(M-h)/2,h=M,d-=F),v.scrollbarPad=F,C[g]({x:H(d)+N%2/2,width:h}),f=E+l+u/2-.5,v.scrollbarRifles.attr({visibility:12<u?ce:se})[g]({d:[he,f-3,E/4,pe,f-3,2*E/3,he,f,E/4,pe,f,2*E/3,he,3+f,E/4,pe,3+f,2*E/3]})),v.scrollbarPad=F,v.rendered=!0))},addEvents:function(){var e,t=this.chart.container,n=this.mouseDownHandler,i=this.mouseMoveHandler,r=this.mouseUpHandler;e=[[t,"mousedown",n],[t,"mousemove",i],[document,"mouseup",r]],v&&e.push([t,"touchstart",n],[t,"touchmove",i],[document,"touchend",r]),Qe(e,function(e){it.apply(null,e)}),this._events=e},removeEvents:function(){Qe(this._events,function(e){rt.apply(null,e)}),this._events=R,this.navigatorEnabled&&this.baseSeries&&rt(this.baseSeries,"updatedData",this.updatedDataHandler)},init:function(){var b,i,w,l,x=this,C=x.chart,s=x.scrollbarHeight,e=x.navigatorOptions,S=x.height,r=x.top,t=x.baseSeries;x.mouseDownHandler=function(e){e=C.pointer.normalize(e);var t,n,i,r,o=x.zoomedMin,a=x.zoomedMax,s=x.top,l=x.scrollbarHeight,c=x.scrollerLeft,u=x.scrollerWidth,d=x.navigatorLeft,h=x.navigatorWidth,p=x.scrollbarPad,f=x.range,g=e.chartX,m=e.chartY,v=C.xAxis[0],y=J?10:7;s<m&&m<s+S+l&&((r=!x.scrollbarEnabled||m<s+S)&&V.abs(g-o-d)<y?(x.grabbedLeft=!0,x.otherHandlePos=a,x.fixedExtreme=v.max,C.fixedRange=null):r&&V.abs(g-a-d)<y?(x.grabbedRight=!0,x.otherHandlePos=o,x.fixedExtreme=v.min,C.fixedRange=null):d+o-p<g&&g<d+a+p?(x.grabbedCenter=g,x.fixedWidth=f,w=g-o):c<g&&g<c+u&&((i=r?g-d-f/2:g<d?o-.2*f:c+u-l<g?o+.2*f:g<d+o?o-f:a)<0?i=0:h<=i+f&&(i=h-f,t=x.getUnionExtremes().dataMax),i!==o&&(x.fixedWidth=f,n=b.toFixedRange(i,i+f,null,t),v.setExtremes(n.min,n.max,!0,!1,{trigger:"navigator"}))))},x.mouseMoveHandler=function(e){var t,n=x.scrollbarHeight,i=x.navigatorLeft,r=x.navigatorWidth,o=x.scrollerLeft,a=x.scrollerWidth,s=x.range;0!==e.pageX&&((t=(e=C.pointer.normalize(e)).chartX)<i?t=i:o+a-n<t&&(t=o+a-n),x.grabbedLeft?(l=!0,x.render(0,0,t-i,x.otherHandlePos)):x.grabbedRight?(l=!0,x.render(0,0,x.otherHandlePos,t-i)):x.grabbedCenter&&(l=!0,t<w?t=w:r+w-s<t&&(t=r+w-s),x.render(0,0,t-w,t-w+s)),l&&x.scrollbarOptions.liveRedraw&&setTimeout(function(){x.mouseUpHandler(e)},0))},x.mouseUpHandler=function(e){var t,n,i;l&&(x.zoomedMin===x.otherHandlePos?n=x.fixedExtreme:x.zoomedMax===x.otherHandlePos&&(i=x.fixedExtreme),t=b.toFixedRange(x.zoomedMin,x.zoomedMax,n,i),C.xAxis[0].setExtremes(t.min,t.max,!0,!1,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:e})),"mousemove"!==e.type&&(x.grabbedLeft=x.grabbedRight=x.grabbedCenter=x.fixedWidth=x.fixedExtreme=x.otherHandlePos=l=w=null)};var n=C.xAxis.length,o=C.yAxis.length;C.extraBottomMargin=x.outlineHeight+e.margin,x.navigatorEnabled?(x.xAxis=b=new kt(C,be({breaks:t&&t.xAxis.options.breaks,ordinal:t&&t.xAxis.options.ordinal},e.xAxis,{id:"navigator-x-axis",isX:!0,type:"datetime",index:n,height:S,offset:0,offsetLeft:s,offsetRight:-s,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1})),x.yAxis=i=new kt(C,be(e.yAxis,{id:"navigator-y-axis",alignTicks:!1,height:S,offset:0,index:o,zoomEnabled:!1})),t||e.series.data?x.addBaseSeries():0===C.series.length&&Oe(C,"redraw",function(e,t){0<C.series.length&&!x.series&&(x.setBaseSeries(),C.redraw=e),e.call(C,t)})):x.xAxis=b={translate:function(e,t){var n=C.xAxis[0],i=n.getExtremes(),r=C.plotWidth-2*s,o=gn("min",n.options.min,i.dataMin),a=gn("max",n.options.max,i.dataMax)-o;return t?e*a/r+o:r*(e-o)/a},toFixedRange:kt.prototype.toFixedRange},Oe(C,"getMargins",function(e){var t=this.legend,n=t.options;e.apply(this,[].slice.call(arguments,1)),x.top=r=x.navigatorOptions.top||this.chartHeight-x.height-x.scrollbarHeight-this.spacing[2]-("bottom"===n.verticalAlign&&n.enabled&&!n.floating?t.legendHeight+Pe(n.margin,10):0),b&&i&&(b.options.top=i.options.top=r,b.setAxisSize(),i.setAxisSize())}),x.addEvents()},getUnionExtremes:function(e){var t=this.chart.xAxis[0],n=this.xAxis,i=n.options,r=t.options;if(!e||null!==t.dataMin)return{dataMin:gn("min",i&&i.min,r.min,t.dataMin,n.dataMin),dataMax:gn("max",i&&i.max,r.max,t.dataMax,n.dataMax)}},setBaseSeries:function(e){var t=this.chart;e=e||t.options.navigator.baseSeries,this.series&&this.series.remove(),this.baseSeries=t.series[e]||"string"==typeof e&&t.get(e)||t.series[0],this.xAxis&&this.addBaseSeries()},addBaseSeries:function(){var e,t,n=this.baseSeries,i=n?n.options:{},r=i.data,o=this.navigatorOptions.series;t=o.data,this.hasNavigatorData=!!t,(e=be(i,o,{enableMouseTracking:!1,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",name:"Navigator",showInLegend:!1,isInternal:!0,visible:!0})).data=t||r,this.series=this.chart.initSeries(e),n&&!1!==this.navigatorOptions.adaptToUpdatedData&&(it(n,"updatedData",this.updatedDataHandler),n.userOptions.events=ye(n.userOptions.event,{updatedData:this.updatedDataHandler}))},updatedDataHandler:function(){var e,t,n,i,r,o=this.chart.scroller,a=o.baseSeries,s=a.xAxis,l=s.getExtremes(),c=l.min,u=l.max,d=l.dataMin,h=l.dataMax,p=u-c,f=o.series,g=f.xData,m=!!s.setExtremes;t=u>=g[g.length-1]-(this.closestPointRange||0),e=c<=d,o.hasNavigatorData||(f.options.pointStart=a.xData[0],f.setData(a.options.data,!1),r=!0),e&&(n=(i=d)+p),t&&(n=h,e||(i=G(n-p,f.xData[0]))),m&&(e||t)?isNaN(i)||s.setExtremes(i,n,!0,!1,{trigger:"updatedData"}):(r&&this.chart.redraw(!1),o.render(G(c,d),U(u,h)))},destroy:function(){var e=this;e.removeEvents(),Qe([e.xAxis,e.yAxis,e.leftShade,e.rightShade,e.outline,e.scrollbarTrack,e.scrollbarRifles,e.scrollbarGroup,e.scrollbar],function(e){e&&e.destroy&&e.destroy()}),e.xAxis=e.yAxis=e.leftShade=e.rightShade=e.outline=e.scrollbarTrack=e.scrollbarRifles=e.scrollbarGroup=e.scrollbar=null,Qe([e.scrollbarButtons,e.handles,e.elementsToDestroy],function(e){a(e)})}},L.Scroller=yn,Oe(kt.prototype,"zoom",function(e,t,n){var i,r,o=this.chart,a=o.options,s=a.chart.zoomType,l=a.navigator,c=a.rangeSelector;return this.isXAxis&&(l&&l.enabled||c&&c.enabled)&&("x"===s?o.resetZoomButton="blocked":"y"===s?r=!1:"xy"===s&&(i=this.previousZoom,Te(t)?this.previousZoom=[this.min,this.max]:i&&(t=i[0],n=i[1],delete this.previousZoom))),r!==R?r:e.call(this,t,n)}),Oe(Ft.prototype,"init",function(e,t,n){it(this,"beforeRender",function(){var e=this.options;(e.navigator.enabled||e.scrollbar.enabled)&&(this.scroller=new yn(this))}),e.call(this,t,n)}),Oe(Nt.prototype,"addPoint",function(e,t,n,i,r){var o=this.options.turboThreshold;o&&this.xData.length>o&&Ce(t)&&!Se(t)&&this.chart.scroller&&Ue(20,!0),e.call(this,t,n,i,r)}),ye(O,{rangeSelector:{buttonTheme:{width:28,height:18,fill:"#f7f7f7",padding:2,r:0,"stroke-width":0,style:{color:"#444",cursor:"pointer",fontWeight:"normal"},zIndex:7,states:{hover:{fill:"#e7e7e7"},select:{fill:"#e7f0f9",style:{color:"black",fontWeight:"bold"}}}},inputPosition:{align:"right"},labelStyle:{color:"#666"}}}),O.lang=be(O.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"From",rangeSelectorTo:"To"}),bn.prototype={clickButton:function(e,t){var n,i,r,o,a,s,l=this,c=l.selected,u=l.chart,d=l.buttons,h=l.buttonOptions[e],p=u.xAxis[0],f=u.scroller&&u.scroller.getUnionExtremes()||p||{},g=f.dataMin,m=f.dataMax,v=p&&j(U(p.max,Pe(m,p.max))),y=new C(v),b=h.type,w=h.count,x=h._range;if(null!==g&&null!==m&&e!==l.selected){if("month"===b||"year"===b)y["set"+(s={month:"Month",year:"FullYear"}[b])](y["get"+s]()-w),n=y.getTime(),g=Pe(g,Number.MIN_VALUE),isNaN(n)||n<g?v=U((n=g)+x,m):x=v-n;else if(x)n=G(v-x,g),v=U(n+x,m);else if("ytd"===b){if(!p)return void it(u,"beforeRender",function(){l.clickButton(e)});m===R&&(g=Number.MAX_VALUE,m=Number.MIN_VALUE,Qe(u.series,function(e){var t=e.xData;g=U(t[0],g),m=G(t[t.length-1],m)}),t=!1),a=(i=new C(m)).getFullYear(),n=o=G(g||0,C.UTC(a,0,1)),i=i.getTime(),v=U(m||i,i)}else"all"===b&&p&&(n=g,v=m);d[c]&&d[c].setState(0),d[e]&&d[e].setState(2),u.fixedRange=x,p?p.setExtremes(n,v,Pe(t,1),0,{trigger:"rangeSelectorButton",rangeSelectorButton:h}):(r=u.options.xAxis)[0]=be(r[0],{range:x,min:o}),l.setSelected(e)}},setSelected:function(e){this.selected=this.options.selected=e},defaultButtons:[{type:"month",count:1,text:"1m"},{type:"month",count:3,text:"3m"},{type:"month",count:6,text:"6m"},{type:"ytd",text:"YTD"},{type:"year",count:1,text:"1y"},{type:"all",text:"All"}],init:function(e){var n=this,t=e.options.rangeSelector,i=t.buttons||[].concat(n.defaultButtons),r=t.selected,o=n.blurInputs=function(){var e=n.minInput,t=n.maxInput;e&&e.blur&&ot(e,"blur"),t&&t.blur&&ot(t,"blur")};n.chart=e,n.options=t,n.buttons=[],e.extraTopMargin=35,n.buttonOptions=i,it(e.container,"mousedown",o),it(e,"resize",o),Qe(i,n.computeButtonRange),r!==R&&i[r]&&this.clickButton(r,!1),it(e,"load",function(){it(e.xAxis[0],"afterSetExtremes",function(){n.updateButtonStates(!0)})})},updateButtonStates:function(e){var s=this,t=this.chart,l=t.xAxis[0],n=t.scroller&&t.scroller.getUnionExtremes()||l,c=n.dataMin,u=n.dataMax,d=s.selected,h=s.options.allButtonsEnabled,p=s.buttons;e&&t.fixedRange!==j(l.max-l.min)&&(p[d]&&p[d].setState(0),s.setSelected(null)),Qe(s.buttonOptions,function(e,t){var n=e._range,i=u-c<n,r=n<l.minRange,o="all"===e.type&&l.max-l.min>=u-c&&2!==p[t].state,a="ytd"===e.type&&T("%Y",c)===T("%Y",u);n===j(l.max-l.min)&&t!==d?(s.setSelected(t),p[t].setState(2)):!h&&(i||r||o||a)?p[t].setState(3):3===p[t].state&&p[t].setState(0)})},computeButtonRange:function(e){var t=e.type,n=e.count||1,i={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};i[t]?e._range=i[t]*n:"month"!==t&&"year"!==t||(e._range=24*{month:30,year:365}[t]*36e5*n)},setInputValue:function(e,t){var n=this.chart.options.rangeSelector;Te(t)&&(this[e+"Input"].HCTime=t),this[e+"Input"].value=T(n.inputEditDateFormat||"%Y-%m-%d",this[e+"Input"].HCTime),this[e+"DateBox"].attr({text:T(n.inputDateFormat||"%b %e, %Y",this[e+"Input"].HCTime)})},drawInput:function(e){var o,t,n,a=this,s=a.chart,i=s.renderer.style,r=s.renderer,l=s.options.rangeSelector,c=O.lang,u=a.div,d="min"===e,h=this.inputGroup;this[e+"Label"]=t=r.label(c[d?"rangeSelectorFrom":"rangeSelectorTo"],this.inputGroup.offset).attr({padding:2}).css(be(i,l.labelStyle)).add(h),h.offset+=t.width+5,this[e+"DateBox"]=n=r.label("",h.offset).attr({padding:2,width:l.inputBoxWidth||90,height:l.inputBoxHeight||17,stroke:l.inputBoxBorderColor||"silver","stroke-width":1}).css(be({textAlign:"center",color:"#444"},i,l.inputStyle)).on("click",function(){a[e+"Input"].focus()}).add(h),h.offset+=n.width+(d?10:0),this[e+"Input"]=o=Re("input",{name:e,className:le+"range-selector",type:"text"},ye({position:oe,border:0,width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:i.fontSize,fontFamily:i.fontFamily,top:s.plotTop+ue},l.inputStyle),u),o.onfocus=function(){_e(this,{left:h.translateX+n.x+ue,top:h.translateY+ue,width:n.width-2+ue,height:n.height-2+ue,border:"2px solid silver"})},o.onblur=function(){_e(this,{border:0,width:"1px",height:"1px"}),a.setInputValue(e)},o.onchange=function(){var e=o.value,t=(l.inputDateParser||C.parse)(e),n=s.xAxis[0],i=n.dataMin,r=n.dataMax;isNaN(t)&&(t=e.split("-"),t=C.UTC(we(t[0]),we(t[1])-1,we(t[2]))),isNaN(t)||(O.global.useUTC||(t+=60*(new C).getTimezoneOffset()*1e3),d?t>a.maxInput.HCTime?t=R:t<i&&(t=i):t<a.minInput.HCTime?t=R:r<t&&(t=r),t!==R&&s.xAxis[0].setExtremes(d?t:n.min,d?n.max:t,R,R,{trigger:"rangeSelectorInput"}))}},render:function(e,t){var n,i,r,o,a=this,s=a.chart,l=s.renderer,c=s.container,u=s.options,d=u.exporting&&u.navigation&&u.navigation.buttonOptions,h=u.rangeSelector,p=a.buttons,f=O.lang,g=a.div,m=a.inputGroup,v=h.buttonTheme,y=h.buttonPosition||{},b=h.inputEnabled,w=v&&v.states,x=s.plotLeft,C=a.group;a.rendered||(a.group=C=l.g("range-selector-buttons").add(),a.zoomText=l.text(f.rangeSelectorZoom,Pe(y.x,x),Pe(y.y,s.plotTop-35)+15).css(h.labelStyle).add(C),i=Pe(y.x,x)+a.zoomText.getBBox().width+5,r=Pe(y.y,s.plotTop-35),Qe(a.buttonOptions,function(e,t){p[t]=l.button(e.text,i,r,function(){a.clickButton(t),a.isActive=!0},v,w&&w.hover,w&&w.select,w&&w.disabled).css({textAlign:"center"}).add(C),i+=p[t].width+Pe(h.buttonSpacing,5),a.selected===t&&p[t].setState(2)}),a.updateButtonStates(),!1!==b&&(a.div=g=Re("div",null,{position:"relative",height:0,zIndex:1}),c.parentNode.insertBefore(g,c),a.inputGroup=m=l.g("input-group").add(),m.offset=0,a.drawInput("min"),a.drawInput("max"))),!1!==b&&(n=s.plotTop-45,m.align(ye({y:n,width:m.offset,x:d&&n<(d.y||0)+d.height-s.spacing[0]?-40:0},h.inputPosition),!0,s.spacingBox),Te(b)||(o=C.getBBox(),m[m.translateX<o.x+o.width+10?"hide":"show"]()),a.setInputValue("min",e),a.setInputValue("max",t)),a.rendered=!0},destroy:function(){var e,t=this.minInput,n=this.maxInput,i=this.chart,r=this.blurInputs;for(e in rt(i.container,"mousedown",r),rt(i,"resize",r),a(this.buttons),t&&(t.onfocus=t.onblur=t.onchange=null),n&&(n.onfocus=n.onblur=n.onchange=null),this)this[e]&&"chart"!==e&&(this[e].destroy?this[e].destroy():this[e].nodeType&&Ge(this[e])),this[e]=null}},kt.prototype.toFixedRange=function(e,t,n,i){var r=this.chart&&this.chart.fixedRange,o=Pe(n,this.translate(e,!0)),a=Pe(i,this.translate(t,!0)),s=r&&(a-o)/r;return.7<s&&s<1.3&&(i?o=a-r:a=o+r),{min:o,max:a}},Oe(Ft.prototype,"init",function(e,t,n){it(this,"init",function(){this.options.rangeSelector.enabled&&(this.rangeSelector=new bn(this))}),e.call(this,t,n)}),L.RangeSelector=bn,Ft.prototype.callbacks.push(function(e){var t,n=e.scroller,i=e.rangeSelector;function r(){t=e.xAxis[0].getExtremes(),n.render(t.min,t.max)}function o(){t=e.xAxis[0].getExtremes(),isNaN(t.min)||i.render(t.min,t.max)}function a(e){"navigator-drag"!==e.triggerOp&&n.render(e.min,e.max)}function s(e){i.render(e.min,e.max)}n&&(it(e.xAxis[0],"afterSetExtremes",a),Oe(e,"drawChartBox",function(e){var t=this.isDirtyBox;e.call(this),t&&r()}),r()),i&&(it(e.xAxis[0],"afterSetExtremes",s),it(e,"resize",o),o()),it(e,"destroy",function(){n&&rt(e.xAxis[0],"afterSetExtremes",a),i&&(rt(e,"resize",o),rt(e.xAxis[0],"afterSetExtremes",s))})}),L.StockChart=function(e,t){var n=e.series,i=Pe(e.navigator&&e.navigator.enabled,!0)?{startOnTick:!1,endOnTick:!1}:null,r={marker:{enabled:!1,radius:2},states:{hover:{lineWidth:2}}},o={shadow:!1,borderWidth:0};return e.xAxis=nt(De(e.xAxis||{}),function(e){return be({minPadding:0,maxPadding:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0},e,{type:"datetime",categories:null},i)}),e.yAxis=nt(De(e.yAxis||{}),function(e){return be({labels:{y:-2},opposite:Pe(e.opposite,!0),showLastLabel:!1,title:{text:null}},e)}),e.series=null,(e=be({chart:{panning:!0,pinchType:"x"},navigator:{enabled:!0},scrollbar:{enabled:!0},rangeSelector:{enabled:!0},title:{text:null,style:{fontSize:"16px"}},tooltip:{shared:!0,crosshairs:!0},legend:{enabled:!1},plotOptions:{line:r,spline:r,area:r,areaspline:r,arearange:r,areasplinerange:r,column:o,columnrange:o,candlestick:o,ohlc:o}},e,{_stock:!0,chart:{inverted:!1}})).series=n,new Ft(e,t)},Oe(Mt.prototype,"init",function(e,t,n){var i=n.chart.pinchType||"";e.call(this,t,n),this.pinchX=this.pinchHor=-1!==i.indexOf("x"),this.pinchY=this.pinchVert=-1!==i.indexOf("y"),this.hasZoom=this.hasZoom||this.pinchHor||this.pinchVert}),Oe(kt.prototype,"autoLabelAlign",function(e){var t,n=this.chart,i=this.options,r=n._labelPanes=n._labelPanes||{},o=this.options.labels;return this.chart.options._stock&&"yAxis"===this.coll&&!r[t=i.top+","+i.height]&&o.enabled?(15===o.x&&(o.x=0),void 0===o.align&&(o.align="right"),r[t]=1,"right"):e.call(this,[].slice.call(arguments,1))}),Oe(kt.prototype,"getPlotLinePath",function(e,t,n,i,r,o){var a,s,l,c,u,d,h=this,p=this.isLinked&&!this.series?this.linkedParent.series:this.series,f=h.chart,g=f.renderer,m=h.left,v=h.top,y=[],b=[];return"colorAxis"===h.coll?e.apply(this,[].slice.call(arguments,1)):(b=h.isXAxis?Te(h.options.yAxis)?[f.yAxis[h.options.yAxis]]:nt(p,function(e){return e.yAxis}):Te(h.options.xAxis)?[f.xAxis[h.options.xAxis]]:nt(p,function(e){return e.xAxis}),u=h.isXAxis?f.yAxis:f.xAxis,Qe(u,function(e){if(!Te(e.options.id)||-1===e.options.id.indexOf("navigator")){var t=e.isXAxis?"yAxis":"xAxis",n=Te(e.options[t])?f[t][e.options[t]]:f[t][0];h===n&&b.push(e)}}),d=b.length?[]:[h.isXAxis?f.yAxis[0]:f.xAxis[0]],Qe(b,function(e){-1===Je(e,d)&&d.push(e)}),o=Pe(o,h.translate(t,null,null,i)),isNaN(o)||(h.horiz?Qe(d,function(e){var t;s=e.pos,c=s+e.len,((a=l=j(o+h.transB))<m||a>m+h.width)&&(r?a=l=U(G(m,a),m+h.width):t=!0),t||y.push("M",a,s,"L",l,c)}):Qe(d,function(e){var t;a=e.pos,l=a+e.len,((s=c=j(v+h.height-o))<v||s>v+h.height)&&(r?s=c=U(G(v,s),h.top+h.height):t=!0),t||y.push("M",a,s,"L",l,c)})),0<y.length?g.crispPolyLine(y,n||1):null)}),kt.prototype.getPlotBandPath=function(e,t){var n,i=this.getPlotLinePath(t,null,null,!0),r=this.getPlotLinePath(e,null,null,!0),o=[];if(r&&i)for(n=0;n<r.length;n+=6)o.push("M",r[n+1],r[n+2],"L",r[n+4],r[n+5],i[n+4],i[n+5],i[n+1],i[n+2]);else o=null;return o},vt.prototype.crispPolyLine=function(e,t){var n;for(n=0;n<e.length;n+=6)e[n+1]===e[n+4]&&(e[n+1]=e[n+4]=j(e[n+1])-t%2/2),e[n+2]===e[n+5]&&(e[n+2]=e[n+5]=j(e[n+2])+t%2/2);return e},c===L.VMLRenderer&&(yt.prototype.crispPolyLine=vt.prototype.crispPolyLine),Oe(kt.prototype,"hideCrosshair",function(e,t){e.call(this,t),Te(this.crossLabelArray)&&(Te(t)?this.crossLabelArray[t]&&this.crossLabelArray[t].hide():Qe(this.crossLabelArray,function(e){e.hide()}))}),Oe(kt.prototype,"drawCrosshair",function(e,t,n){if(e.call(this,t,n),Te(this.crosshair.label)&&this.crosshair.label.enabled&&Te(n)){var i,r,o,a,s=this.chart,l=this.options.crosshair.label,c=this.isXAxis?"x":"y",u=this.horiz,d=this.opposite,h=this.left,p=this.top,f=this.crossLabel,g=l.format,m="";f=f||(this.crossLabel=s.renderer.label().attr({align:l.align||(u?"center":d?"right"===this.labelAlign?"right":"left":"left"===this.labelAlign?"left":"center"),zIndex:12,height:u?16:R,fill:l.backgroundColor||this.series[0]&&this.series[0].color||"gray",padding:Pe(l.padding,2),stroke:l.borderColor||null,"stroke-width":l.borderWidth||0}).css(ye({color:"white",fontWeight:"normal",fontSize:"11px",textAlign:"center"},l.style)).add()),(r=u?(i=n.plotX+h,p+(d?0:this.height)):(i=d?this.width+h:0,n.plotY+p))<p||r>p+this.height?this.hideCrosshair():(g||l.formatter||(this.isDatetimeAxis&&(m="%b %d, %Y"),g="{value"+(m?":"+m:"")+"}"),f.attr({text:g?Ne(g,{value:n[c]}):l.formatter.call(this,n[c]),x:i,y:r,visibility:ce}),o=f.getBBox(),u?("inside"===this.options.tickPosition&&!d||"inside"!==this.options.tickPosition&&d)&&(r=f.y-o.height):r=f.y-o.height/2,a=u?{left:h-o.x,right:h+this.width-o.x}:{left:"left"===this.labelAlign?h:0,right:"right"===this.labelAlign?h+this.width:s.chartWidth},f.translateX<a.left&&(i+=a.left-f.translateX),f.translateX+o.width>=a.right&&(i-=f.translateX+o.width-a.right),f.attr({x:i,y:r,visibility:ce}))}});var wn=en.init,xn=en.processData,Cn=Ot.prototype.tooltipFormatter;en.init=function(){wn.apply(this,arguments),this.setCompare(this.options.compare)},en.setCompare=function(i){this.modifyValue="value"===i||"percent"===i?function(e,t){var n=this.compareValue;return e!==R&&(e="value"===i?e-n:e=e/n*100-100,t&&(t.change=e)),e}:null,this.chart.hasRendered&&(this.isDirty=!0)},en.processData=function(){var e,t,n,i=0;if(xn.apply(this,arguments),this.xAxis&&this.processedYData)for(e=this.processedXData,n=(t=this.processedYData).length;i<n;i++)if(typeof t[i]==sn&&e[i]>=this.xAxis.min){this.compareValue=t[i];break}},Oe(en,"getExtremes",function(e){e.apply(this,[].slice.call(arguments,1)),this.modifyValue&&(this.dataMax=this.modifyValue(this.dataMax),this.dataMin=this.modifyValue(this.dataMin))}),kt.prototype.setCompare=function(t,e){this.isXAxis||(Qe(this.series,function(e){e.setCompare(t)}),Pe(e,!0)&&this.chart.redraw())},Ot.prototype.tooltipFormatter=function(e){return e=e.replace("{point.change}",(0<this.change?"+":"")+L.numberFormat(this.change,Pe(this.series.tooltipOptions.changeDecimals,2))),Cn.apply(this,[e])},Oe(Nt.prototype,"render",function(e){this.chart.options._stock&&(!this.clipBox&&this.animate&&-1!==this.animate.toString().indexOf("sharedClip")?(this.clipBox=be(this.chart.clipBox),this.clipBox.width=this.xAxis.len,this.clipBox.height=this.yAxis.len):this.chart[this.sharedClipKey]&&(lt(this.chart[this.sharedClipKey]),this.chart[this.sharedClipKey].attr({width:this.xAxis.len,height:this.yAxis.len}))),e.call(this)}),ye(L,{Color:gt,Point:Ot,Tick:Et,Renderer:c,SVGElement:mt,SVGRenderer:vt,arrayMin:ze,arrayMax:je,charts:ie,dateFormat:T,error:Ue,format:Ne,pathAnim:e,getOptions:function(){return O},hasBidiBug:i,isTouchDevice:J,setOptions:function(e){return O=be(!0,O,e),dt(),O},addEvent:it,removeEvent:rt,createElement:Re,discardElement:Ge,css:_e,each:Qe,map:nt,merge:be,splat:De,extendClass:r,pInt:we,svg:ee,canvas:p,vml:!ee&&!p,product:"Highstock",version:"2.1.4"})}(),function(s,T){function e(){}var v=s.arrayMin,y=s.arrayMax,M=s.each,g=s.extend,m=s.merge,h=s.map,D=s.pick,b=s.pInt,t=s.getOptions().plotOptions,w=s.seriesTypes,n=s.extendClass,x=s.splat,i=s.wrap,r=s.Axis,o=s.Tick,a=s.Point,l=s.Pointer,c=s.CenteredSeriesMixin,u=s.TrackerMixin,p=s.Series,C=Math,P=C.round,_=C.floor,S=C.max,d=s.Color;function $(e,t,n){this.init.call(this,e,t,n)}g($.prototype,{init:function(e,t,i){var n,r=this,o=r.defaultOptions;(r.chart=t).angular&&(o.background={}),r.options=e=m(o,e),(n=e.background)&&M([].concat(x(n)).reverse(),function(e){var t=e.backgroundColor,n=i.userOptions;e=m(r.defaultBackgroundOptions,e),t&&(e.backgroundColor=t),e.color=e.backgroundColor,i.options.plotBands.unshift(e),n.plotBands=n.plotBands||[],n.plotBands.unshift(e)})},defaultOptions:{center:["50%","50%"],size:"85%",startAngle:0},defaultBackgroundOptions:{shape:"circle",borderWidth:1,borderColor:"silver",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#DDD"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"}});var f,E=r.prototype,k=o.prototype,A={getOffset:e,redraw:function(){this.isDirty=!1},render:function(){this.isDirty=!1},setScale:e,setCategories:e,setTitle:e},R={isRadial:!0,defaultRadialGaugeOptions:{labels:{align:"center",x:0,y:null},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},defaultRadialXOptions:{gridLineWidth:1,labels:{align:null,distance:15,x:0,y:null},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},defaultRadialYOptions:{gridLineInterpolation:"circle",labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}},setOptions:function(e){var t=this.options=m(this.defaultOptions,this.defaultRadialOptions,e);t.plotBands||(t.plotBands=[])},getOffset:function(){E.getOffset.call(this),this.chart.axisOffset[this.side]=0,this.center=this.pane.center=c.getCenter.call(this.pane)},getLinePath:function(e,t){var n=this.center;return t=D(t,n[2]/2-this.offset),this.chart.renderer.symbols.arc(this.left+n[0],this.top+n[1],t,t,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})},setAxisTranslation:function(){E.setAxisTranslation.call(this),this.center&&(this.isCircular?this.transA=(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.transA=this.center[2]/2/(this.max-this.min||1),this.isXAxis?this.minPixelPadding=this.transA*this.minPointOffset:this.minPixelPadding=0)},beforeSetTickPositions:function(){this.autoConnect&&(this.max+=(this.categories?1:this.pointRange)||this.closestPointRange||0)},setAxisSize:function(){E.setAxisSize.call(this),this.isRadial&&(this.center=this.pane.center=s.CenteredSeriesMixin.getCenter.call(this.pane),this.isCircular&&(this.sector=this.endAngleRad-this.startAngleRad),this.len=this.width=this.height=this.center[2]*D(this.sector,1)/2)},getPosition:function(e,t){return this.postTranslate(this.isCircular?this.translate(e):0,D(this.isCircular?t:this.translate(e),this.center[2]/2)-this.offset)},postTranslate:function(e,t){var n=this.chart,i=this.center;return e=this.startAngleRad+e,{x:n.plotLeft+i[0]+Math.cos(e)*t,y:n.plotTop+i[1]+Math.sin(e)*t}},getPlotBandPath:function(e,t,n){var i,r,o,a=this.center,s=this.startAngleRad,l=a[2]/2,c=[D(n.outerRadius,"100%"),n.innerRadius,D(n.thickness,10)],u=/%$/,d=this.isCircular;return"polygon"===this.options.gridLineInterpolation?this.getPlotLinePath(e).concat(this.getPlotLinePath(t,!0)):(e=Math.max(e,this.min),t=Math.min(t,this.max),d||(c[0]=this.translate(e),c[1]=this.translate(t)),c=h(c,function(e){return u.test(e)&&(e=b(e,10)*l/100),e}),"circle"!==n.shape&&d?(i=s+this.translate(e),r=s+this.translate(t)):(i=-Math.PI/2,r=1.5*Math.PI,o=!0),this.chart.renderer.symbols.arc(this.left+a[0],this.top+a[1],c[0],c[0],{start:Math.min(i,r),end:Math.max(i,r),innerR:D(c[1],c[0]-c[2]),open:o}))},getPlotLinePath:function(n,e){var i,r,t,o,a=this,s=a.center,l=a.chart,c=a.getPosition(n);return a.isCircular?o=["M",s[0]+l.plotLeft,s[1]+l.plotTop,"L",c.x,c.y]:"circle"===a.options.gridLineInterpolation?(n=a.translate(n))&&(o=a.getLinePath(0,n)):(M(l.xAxis,function(e){e.pane===a.pane&&(i=e)}),o=[],n=a.translate(n),t=i.tickPositions,i.autoConnect&&(t=t.concat([t[0]])),e&&(t=[].concat(t).reverse()),M(t,function(e,t){r=i.getPosition(e,n),o.push(t?"L":"M",r.x,r.y)})),o},getTitlePosition:function(){var e=this.center,t=this.chart,n=this.options.title;return{x:t.plotLeft+e[0]+(n.x||0),y:t.plotTop+e[1]-{high:.5,middle:.25,low:0}[n.align]*e[2]+(n.y||0)}}};i(E,"init",function(e,t,n){var i,r,o,a,s,l,c=t.angular,u=t.polar,d=n.isX,h=c&&d,p=t.options,f=n.pane||0;c?(g(this,h?A:R),(i=!d)&&(this.defaultRadialOptions=this.defaultRadialGaugeOptions)):u&&(g(this,R),i=d,this.defaultRadialOptions=d?this.defaultRadialXOptions:m(this.defaultYAxisOptions,this.defaultRadialYOptions)),e.call(this,t,n),h||!c&&!u||(a=this.options,t.panes||(t.panes=[]),this.pane=s=t.panes[f]=t.panes[f]||new $(x(p.pane)[f],t,this),l=s.options,t.inverted=!1,p.chart.zoomType=null,this.startAngleRad=r=(l.startAngle-90)*Math.PI/180,this.endAngleRad=o=(D(l.endAngle,l.startAngle+360)-90)*Math.PI/180,this.offset=a.offset||0,(this.isCircular=i)&&n.max===T&&o-r==2*Math.PI&&(this.autoConnect=!0))}),i(k,"getPosition",function(e,t,n,i,r){var o=this.axis;return o.getPosition?o.getPosition(n):e.call(this,t,n,i,r)}),i(k,"getLabelPosition",function(e,t,n,i,r,o,a,s,l){var c,u=this.axis,d=o.y,h=20,p=o.align,f=(u.translate(this.pos)+u.startAngleRad+Math.PI/2)/Math.PI*180%360;return u.isRadial?(c=u.getPosition(this.pos,u.center[2]/2+D(o.distance,-25)),"auto"===o.rotation?i.attr({rotation:f}):null===d&&(d=u.chart.renderer.fontMetrics(i.styles.fontSize).b-i.getBBox().height/2),null===p&&(p=u.isCircular?(this.label.getBBox().width>u.len*u.tickInterval/(u.max-u.min)&&(h=0),h<f&&f<180-h?"left":180+h<f&&f<360-h?"right":"center"):"center",i.attr({align:p})),c.x+=o.x,c.y+=d):c=e.call(this,t,n,i,r,o,a,s,l),c}),i(k,"getMarkPath",function(e,t,n,i,r,o,a){var s,l=this.axis;return l.isRadial?["M",t,n,"L",(s=l.getPosition(this.pos,l.center[2]/2+i)).x,s.y]:e.call(this,t,n,i,r,o,a)}),t.arearange=m(t.area,{lineWidth:1,marker:null,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}"></span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:null,verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0},states:{hover:{halo:!1}}}),w.arearange=n(w.area,{type:"arearange",pointArrayMap:["low","high"],toYData:function(e){return[e.low,e.high]},pointValKey:"low",deferTranslatePolar:!0,highToXY:function(e){var t=this.chart,n=this.xAxis.postTranslate(e.rectPlotX,this.yAxis.len-e.plotHigh);e.plotHighX=n.x-t.plotLeft,e.plotHigh=n.y-t.plotTop},getSegments:function(){var t=this;M(t.points,function(e){t.options.connectNulls||null!==e.low&&null!==e.high?null===e.low&&null!==e.high&&(e.y=e.high):e.y=null}),p.prototype.getSegments.call(this)},translate:function(){var t=this,r=t.yAxis;w.area.prototype.translate.apply(t),M(t.points,function(e){var t=e.low,n=e.high,i=e.plotY;null===n&&null===t?e.y=null:null===t?(e.plotLow=e.plotY=null,e.plotHigh=r.translate(n,0,1,0,1)):null===n?(e.plotLow=i,e.plotHigh=null):(e.plotLow=i,e.plotHigh=r.translate(n,0,1,0,1))}),this.chart.polar&&M(this.points,function(e){t.highToXY(e)})},getSegmentPath:function(e){var t,n,i,r,o,a=[],s=e.length,l=p.prototype.getSegmentPath,c=this.options,u=c.step;for(t=HighchartsAdapter.grep(e,function(e){return null!==e.plotLow});s--;)null!==(n=e[s]).plotHigh&&a.push({plotX:n.plotHighX||n.plotX,plotY:n.plotHigh});return r=l.call(this,t),u&&(!0===u&&(u="left"),c.step={left:"right",center:"center",right:"left"}[u]),o=l.call(this,a),c.step=u,i=[].concat(r,o),this.chart.polar||(o[0]="L"),this.areaPath=this.areaPath.concat(r,o),i},drawDataLabels:function(){var e,t,n=this.data,i=n.length,r=[],o=p.prototype,a=this.options.dataLabels,s=a.align,l=this.chart.inverted;if(a.enabled||this._hasPointLabels){for(e=i;e--;)(t=n[e]).y=t.high,t._plotY=t.plotY,t.plotY=t.plotHigh,r[e]=t.dataLabel,t.dataLabel=t.dataLabelUpper,t.below=!1,l?(s||(a.align="left"),a.x=a.xHigh):a.y=a.yHigh;for(o.drawDataLabels&&o.drawDataLabels.apply(this,arguments),e=i;e--;)(t=n[e]).dataLabelUpper=t.dataLabel,t.dataLabel=r[e],t.y=t.low,t.plotY=t._plotY,t.below=!0,l?(s||(a.align="right"),a.x=a.xLow):a.y=a.yLow;o.drawDataLabels&&o.drawDataLabels.apply(this,arguments)}a.align=s},alignDataLabel:function(){w.column.prototype.alignDataLabel.apply(this,arguments)},setStackedPoints:e,getSymbol:e,drawPoints:e}),t.areasplinerange=m(t.arearange),w.areasplinerange=n(w.arearange,{type:"areasplinerange",getPointSpline:w.spline.prototype.getPointSpline}),f=w.column.prototype,t.columnrange=m(t.column,t.arearange,{lineWidth:1,pointRange:null}),w.columnrange=n(w.arearange,{type:"columnrange",translate:function(){var a,s=this,l=s.yAxis;f.translate.apply(s),M(s.points,function(e){var t,n,i,r=e.shapeArgs,o=s.options.minPointLength;e.tooltipPos=null,e.plotHigh=a=l.translate(e.high,0,1,0,1),e.plotLow=e.plotY,i=a,(n=e.plotY-a)<o&&(n+=t=o-n,i-=t/2),r.height=n,r.y=i})},directTouch:!0,trackerGroups:["group","dataLabelsGroup"],drawGraph:e,pointAttrToOptions:f.pointAttrToOptions,drawPoints:f.drawPoints,drawTracker:f.drawTracker,animate:f.animate,getColumnMetrics:f.getColumnMetrics}),t.gauge=m(t.line,{dataLabels:{enabled:!0,defer:!1,y:15,borderWidth:1,borderColor:"silver",borderRadius:3,crop:!1,verticalAlign:"top",zIndex:2},dial:{},pivot:{},tooltip:{headerFormat:""},showInLegend:!1});var I={type:"gauge",pointClass:n(a,{setState:function(e){this.state=e}}),angular:!0,drawGraph:e,fixedBox:!0,forceDL:!0,trackerGroups:["group","dataLabelsGroup"],translate:function(){var c=this.yAxis,u=this.options,d=c.center;this.generatePoints(),M(this.points,function(e){var t=m(u.dial,e.dial),n=b(D(t.radius,80))*d[2]/200,i=b(D(t.baseLength,70))*n/100,r=b(D(t.rearLength,10))*n/100,o=t.baseWidth||3,a=t.topWidth||1,s=u.overshoot,l=c.startAngleRad+c.translate(e.y,null,null,null,!0);s&&"number"==typeof s?(s=s/180*Math.PI,l=Math.max(c.startAngleRad-s,Math.min(c.endAngleRad+s,l))):!1===u.wrap&&(l=Math.max(c.startAngleRad,Math.min(c.endAngleRad,l))),l=180*l/Math.PI,e.shapeType="path",e.shapeArgs={d:t.path||["M",-r,-o/2,"L",i,-o/2,n,-a/2,n,a/2,i,o/2,-r,o/2,"z"],translateX:d[0],translateY:d[1],rotation:l},e.plotX=d[0],e.plotY=d[1]})},drawPoints:function(){var o=this,e=o.yAxis.center,t=o.pivot,a=o.options,n=a.pivot,s=o.chart.renderer;M(o.points,function(e){var t=e.graphic,n=e.shapeArgs,i=n.d,r=m(a.dial,e.dial);t?(t.animate(n),n.d=i):e.graphic=s[e.shapeType](n).attr({stroke:r.borderColor||"none","stroke-width":r.borderWidth||0,fill:r.backgroundColor||"black",rotation:n.rotation}).add(o.group)}),t?t.animate({translateX:e[0],translateY:e[1]}):o.pivot=s.circle(0,0,D(n.radius,5)).attr({"stroke-width":n.borderWidth||0,stroke:n.borderColor||"silver",fill:n.backgroundColor||"black"}).translate(e[0],e[1]).add(o.group)},animate:function(e){var n=this;e||(M(n.points,function(e){var t=e.graphic;t&&(t.attr({rotation:180*n.yAxis.startAngleRad/Math.PI}),t.animate({rotation:e.shapeArgs.rotation},n.options.animation))}),n.animate=null)},render:function(){this.group=this.plotGroup("group","series",this.visible?"visible":"hidden",this.options.zIndex,this.chart.seriesGroup),p.prototype.render.call(this),this.group.clip(this.chart.clipRect)},setData:function(e,t){p.prototype.setData.call(this,e,!1),this.processData(),this.generatePoints(),D(t,!0)&&this.chart.redraw()},drawTracker:u&&u.drawTrackerPoint};w.gauge=n(w.line,I),t.boxplot=m(t.column,{fillColor:"#FFFFFF",lineWidth:1,medianWidth:2,states:{hover:{brightness:-.3}},threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}"></span> <b> {series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",whiskerWidth:2}),w.boxplot=n(w.column,{type:"boxplot",pointArrayMap:["low","q1","median","q3","high"],toYData:function(e){return[e.low,e.q1,e.median,e.q3,e.high]},pointValKey:"high",pointAttrToOptions:{fill:"fillColor",stroke:"color","stroke-width":"lineWidth"},drawDataLabels:e,translate:function(){var n=this.yAxis,e=this.pointArrayMap;w.column.prototype.translate.apply(this),M(this.points,function(t){M(e,function(e){null!==t[e]&&(t[e+"Plot"]=n.translate(t[e],0,1,0,1))})})},drawPoints:function(){var t,n,i,r,o,a,s,l,c,u,d,h,p,f,g,m,v,y,b,w,x,C,S=this,e=S.points,$=S.options,E=S.chart.renderer,k=!1!==S.doQuartiles,A=parseInt(S.options.whiskerLength,10)/100;M(e,function(e){c=e.graphic,x=e.shapeArgs,d={},f={},m={},C=e.color||S.color,e.plotY!==T&&(t=e.pointAttr[e.selected?"selected":""],v=x.width,y=_(x.x),b=y+v,w=P(v/2),n=_(k?e.q1Plot:e.lowPlot),i=_(k?e.q3Plot:e.lowPlot),r=_(e.highPlot),o=_(e.lowPlot),d.stroke=e.stemColor||$.stemColor||C,d["stroke-width"]=D(e.stemWidth,$.stemWidth,$.lineWidth),d.dashstyle=e.stemDashStyle||$.stemDashStyle,f.stroke=e.whiskerColor||$.whiskerColor||C,f["stroke-width"]=D(e.whiskerWidth,$.whiskerWidth,$.lineWidth),m.stroke=e.medianColor||$.medianColor||C,m["stroke-width"]=D(e.medianWidth,$.medianWidth,$.lineWidth),s=d["stroke-width"]%2/2,u=["M",l=y+w+s,i,"L",l,r,"M",l,n,"L",l,o],k&&(s=t["stroke-width"]%2/2,l=_(l)+s,n=_(n)+s,i=_(i)+s,h=["M",y+=s,i,"L",y,n,"L",b+=s,n,"L",b,i,"L",y,i,"z"]),A&&(s=f["stroke-width"]%2/2,p=["M",l-w*A,r+=s,"L",l+w*A,r,"M",l-w*A,o+=s,"L",l+w*A,o]),s=m["stroke-width"]%2/2,a=P(e.medianPlot)+s,g=["M",y,a,"L",b,a],c?(e.stem.animate({d:u}),A&&e.whiskers.animate({d:p}),k&&e.box.animate({d:h}),e.medianShape.animate({d:g})):(e.graphic=c=E.g().add(S.group),e.stem=E.path(u).attr(d).add(c),A&&(e.whiskers=E.path(p).attr(f).add(c)),k&&(e.box=E.path(h).attr(t).add(c)),e.medianShape=E.path(g).attr(m).add(c)))})},setStackedPoints:e}),t.errorbar=m(t.boxplot,{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}"></span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null}),w.errorbar=n(w.boxplot,{type:"errorbar",pointArrayMap:["low","high"],toYData:function(e){return[e.low,e.high]},pointValKey:"high",doQuartiles:!1,drawDataLabels:w.arearange?w.arearange.prototype.drawDataLabels:e,getColumnMetrics:function(){return this.linkedParent&&this.linkedParent.columnMetrics||w.column.prototype.getColumnMetrics.call(this)}}),t.waterfall=m(t.column,{lineWidth:1,lineColor:"#333",dashStyle:"dot",borderColor:"#333",dataLabels:{inside:!0},states:{hover:{lineWidthPlus:0}}}),w.waterfall=n(w.column,{type:"waterfall",upColorProp:"fill",pointArrayMap:["low","y"],pointValKey:"y",translate:function(){var e,t,n,i,r,o,a,s,l,c,u,d,h=this.options,p=this.yAxis,f=h.threshold,g=h.stacking;for(w.column.prototype.translate.apply(this),l=c=f,t=0,e=(n=this.points).length;t<e;t++)i=n[t],s=this.processedYData[t],r=i.shapeArgs,u=(o=g&&p.stacks[(this.negStacks&&s<f?"-":"")+this.stackKey])?o[i.x].points[this.index+","+t]:[0,s],i.isSum?i.y=s:i.isIntermediateSum&&(i.y=s-c),a=S(l,l+i.y)+u[0],r.y=p.translate(a,0,1),i.isSum?(r.y=p.translate(u[1],0,1),r.height=p.translate(u[0],0,1)-r.y):i.isIntermediateSum?(r.y=p.translate(u[1],0,1),r.height=p.translate(c,0,1)-r.y,c=u[1]):(0!==l&&(r.height=0<s?p.translate(l,0,1)-r.y:p.translate(l,0,1)-p.translate(l-s,0,1)),l+=s),i.plotY=r.y=P(r.y)-this.borderWidth%2/2,r.height=S(P(r.height),.001),i.yBottom=r.y+r.height,d=i.plotY+(i.negative?r.height:0),this.chart.inverted?i.tooltipPos[0]=p.len-d:i.tooltipPos[1]=d},processData:function(e){var t,n,i,r,o,a,s,l=this.options,c=this.yData,u=this.options.data,d=c.length;for(i=n=r=o=l.threshold||0,s=0;s<d;s++)a=c[s],t=u&&u[s]?u[s]:{},"sum"===a||t.isSum?c[s]=i:"intermediateSum"===a||t.isIntermediateSum?c[s]=n:(i+=a,n+=a),r=Math.min(i,r),o=Math.max(i,o);p.prototype.processData.call(this,e),this.dataMin=r,this.dataMax=o},toYData:function(e){return e.isSum?0===e.x?null:"sum":e.isIntermediateSum?0===e.x?null:"intermediateSum":e.y},getAttribs:function(){w.column.prototype.getAttribs.apply(this,arguments);var t=this,e=t.options,n=e.states,i=e.upColor||t.color,r=s.Color(i).brighten(.1).get(),o=m(t.pointAttr),a=t.upColorProp;o[""][a]=i,o.hover[a]=n.hover.upColor||r,o.select[a]=n.select.upColor||i,M(t.points,function(e){e.options.color||(0<e.y?(e.pointAttr=o,e.color=i):e.pointAttr=t.pointAttr)})},getGraphPath:function(){var e,t,n,i,r=this.data,o=r.length,a=this.options.lineWidth+this.borderWidth,s=P(a)%2/2,l=[];for(n=1;n<o;n++)t=r[n].shapeArgs,i=["M",(e=r[n-1].shapeArgs).x+e.width,e.y+s,"L",t.x,e.y+s],r[n-1].y<0&&(i[2]+=e.height,i[5]+=e.height),l=l.concat(i);return l},getExtremes:e,drawGraph:p.prototype.drawGraph}),t.polygon=m(t.scatter,{marker:{enabled:!1}}),w.polygon=n(w.scatter,{type:"polygon",fillGraph:!0,getSegmentPath:function(e){return p.prototype.getSegmentPath.call(this,e).concat("z")},drawGraph:p.prototype.drawGraph,drawLegendSymbol:s.LegendSymbolMixin.drawRectangle}),t.bubble=m(t.scatter,{dataLabels:{formatter:function(){return this.point.z},inside:!0,verticalAlign:"middle"},marker:{lineColor:null,lineWidth:1},minSize:8,maxSize:"20%",states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"});var F,O,L,N=n(a,{haloPath:function(){return a.prototype.haloPath.call(this,this.shapeArgs.r+this.series.options.states.hover.halo.size)},ttBelow:!1});function V(e,t,n){e.call(this,t,n),this.chart.polar&&(this.closeSegment=function(e){var t=this.xAxis.center;e.push("L",t[0],t[1])},this.closedStacks=!0)}function H(e,t){var n,i=this.chart,r=this.options.animation,o=this.group,a=this.markerGroup,s=this.xAxis.center,l=i.plotLeft,c=i.plotTop;i.polar?i.renderer.isSVG&&(!0===r&&(r={}),t?(n={translateX:s[0]+l,translateY:s[1]+c,scaleX:.001,scaleY:.001},o.attr(n),a&&a.attr(n)):(n={translateX:l,translateY:c,scaleX:1,scaleY:1},o.animate(n,r),a&&a.animate(n,r),this.animate=null)):e.call(this,t)}w.bubble=n(w.scatter,{type:"bubble",pointClass:N,pointArrayMap:["y","z"],parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],bubblePadding:!0,zoneAxis:"z",pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor"},applyOpacity:function(e){var t=this.options.marker,n=D(t.fillOpacity,.5);return e=e||t.fillColor||this.color,1!==n&&(e=d(e).setOpacity(n).get("rgba")),e},convertAttribs:function(){var e=p.prototype.convertAttribs.apply(this,arguments);return e.fill=this.applyOpacity(e.fill),e},getRadii:function(e,t,n,i){var r,o,a,s=this.zData,l=[],c="width"!==this.options.sizeBy;for(o=0,r=s.length;o<r;o++)a=0<t-e?(s[o]-e)/(t-e):.5,c&&0<=a&&(a=Math.sqrt(a)),l.push(C.ceil(n+a*(i-n))/2);this.radii=l},animate:function(e){var i=this.options.animation;e||(M(this.points,function(e){var t=e.graphic,n=e.shapeArgs;t&&n&&(t.attr("r",1),t.animate({r:n.r},i))}),this.animate=null)},translate:function(){var e,t,n,i=this.data,r=this.radii;for(w.scatter.prototype.translate.call(this),e=i.length;e--;)t=i[e],(n=r?r[e]:0)>=this.minPxSize/2?(t.shapeType="circle",t.shapeArgs={x:t.plotX,y:t.plotY,r:n},t.dlBox={x:t.plotX-n,y:t.plotY-n,width:2*n,height:2*n}):t.shapeArgs=t.plotY=t.dlBox=T},drawLegendSymbol:function(e,t){var n=b(e.itemStyle.fontSize)/2;t.legendSymbol=this.chart.renderer.circle(n,e.baseline-n,n).attr({zIndex:3}).add(t.legendGroup),t.legendSymbol.isMarker=!0},drawPoints:w.column.prototype.drawPoints,alignDataLabel:w.column.prototype.alignDataLabel,buildKDTree:e,applyZones:e}),r.prototype.beforePadding=function(){var n=this,e=this.len,r=this.chart,o=0,a=e,s=this.isXAxis,l=s?"xData":"yData",c=this.min,u={},d=C.min(r.plotWidth,r.plotHeight),h=Number.MAX_VALUE,p=-Number.MAX_VALUE,f=this.max-c,g=e/f,m=[];M(this.series,function(e){var t,i=e.options;!e.bubblePadding||!e.visible&&r.options.chart.ignoreHiddenSeries||(n.allowZoomOutside=!0,m.push(e),s&&(M(["minSize","maxSize"],function(e){var t=i[e],n=/%$/.test(t);t=b(t),u[e]=n?d*t/100:t}),e.minPxSize=u.minSize,(t=e.zData).length&&(h=D(i.zMin,C.min(h,C.max(v(t),!1===i.displayNegative?i.zThreshold:-Number.MAX_VALUE))),p=D(i.zMax,C.max(p,y(t))))))}),M(m,function(e){var t,n=e[l],i=n.length;if(s&&e.getRadii(h,p,u.minSize,u.maxSize),0<f)for(;i--;)"number"==typeof n[i]&&(t=e.radii[i],o=Math.min((n[i]-c)*g-t,o),a=Math.max((n[i]-c)*g+t,a))}),m.length&&0<f&&D(this.options.min,this.userMin)===T&&D(this.options.max,this.userMax)===T&&(g*=(e+o-(a-=e))/e,this.min+=o/g,this.max+=a/g)},O=p.prototype,L=l.prototype,O.searchPolarPoint=function(e){var t=this.chart,n=this.xAxis.pane.center,i=e.chartX-n[0]-t.plotLeft,r=e.chartY-n[1]-t.plotTop;return this.kdAxisArray=["clientX"],e={clientX:180+Math.atan2(i,r)*(-180/Math.PI)},this.searchKDTree(e)},i(O,"buildKDTree",function(e){this.chart.polar&&(this.kdAxisArray=["clientX"]),e.apply(this)}),i(O,"searchPoint",function(e,t){return this.chart.polar?this.searchPolarPoint(t):e.call(this,t)}),O.toXY=function(e){var t,n,i=this.chart,r=e.plotX,o=e.plotY;e.rectPlotX=r,e.rectPlotY=o,(n=(r/Math.PI*180+this.xAxis.pane.options.startAngle)%360)<0&&(n+=360),e.clientX=n,t=this.xAxis.postTranslate(e.plotX,this.yAxis.len-o),e.plotX=e.polarPlotX=t.x-i.plotLeft,e.plotY=e.polarPlotY=t.y-i.plotTop},w.area&&i(w.area.prototype,"init",V),w.areaspline&&i(w.areaspline.prototype,"init",V),w.spline&&i(w.spline.prototype,"getPointSpline",function(e,t,n,i){var r,o,a,s,l,c,u,d,h,p,f,g,m,v;return this.chart.polar?(o=n.plotX,a=n.plotY,s=t[i-1],l=t[i+1],this.connectEnds&&(s=s||t[t.length-2],l=l||t[1]),s&&l&&(c=(1.5*o+s.plotX)/2.5,u=(1.5*a+s.plotY)/2.5,d=(1.5*o+l.plotX)/2.5,h=(1.5*a+l.plotY)/2.5,p=Math.sqrt(Math.pow(c-o,2)+Math.pow(u-a,2)),f=Math.sqrt(Math.pow(d-o,2)+Math.pow(h-a,2)),g=Math.atan2(u-a,c-o),m=Math.atan2(h-a,d-o),v=Math.PI/2+(g+m)/2,Math.abs(g-v)>Math.PI/2&&(v-=Math.PI),c=o+Math.cos(v)*p,u=a+Math.sin(v)*p,d=o+Math.cos(Math.PI+v)*f,h=a+Math.sin(Math.PI+v)*f,n.rightContX=d,n.rightContY=h),i?(r=["C",s.rightContX||s.plotX,s.rightContY||s.plotY,c||o,u||a,o,a],s.rightContX=s.rightContY=null):r=["M",o,a]):r=e.call(this,t,n,i),r}),i(O,"translate",function(e){if(e.call(this),this.chart.polar&&!this.preventPostTranslate)for(var t=this.points,n=t.length;n--;)this.toXY(t[n])}),i(O,"getSegmentPath",function(e,t){var n=this.points;return this.chart.polar&&!1!==this.options.connectEnds&&t[t.length-1]===n[n.length-1]&&null!==n[0].y&&(this.connectEnds=!0,t=[].concat(t,[n[0]])),e.call(this,t)}),i(O,"animate",H),w.column&&(F=w.column.prototype,i(F,"animate",H),i(F,"translate",function(e){var t,n,i,r,o=this.xAxis,a=this.yAxis.len,s=o.center,l=o.startAngleRad,c=this.chart.renderer;if(this.preventPostTranslate=!0,e.call(this),o.isRadial)for(r=(n=this.points).length;r--;)t=(i=n[r]).barX+l,i.shapeType="path",i.shapeArgs={d:c.symbols.arc(s[0],s[1],a-i.plotY,null,{start:t,end:t+i.pointWidth,innerR:a-D(i.yBottom,a)})},this.toXY(i),i.tooltipPos=[i.plotX,i.plotY],i.ttBelow=i.plotY>s[1]}),i(F,"alignDataLabel",function(e,t,n,i,r,o){if(this.chart.polar){var a,s,l=t.rectPlotX/Math.PI*180;null===i.align&&(a=20<l&&l<160?"left":200<l&&l<340?"right":"center",i.align=a),null===i.verticalAlign&&(s=l<45||315<l?"bottom":135<l&&l<225?"top":"middle",i.verticalAlign=s),O.alignDataLabel.call(this,t,n,i,r,o)}else e.call(this,t,n,i,r,o)})),i(L,"getCoordinates",function(e,o){var a=this.chart,s={xAxis:[],yAxis:[]};return a.polar?M(a.axes,function(e){var t=e.isXAxis,n=e.center,i=o.chartX-n[0]-a.plotLeft,r=o.chartY-n[1]-a.plotTop;s[t?"xAxis":"yAxis"].push({axis:e,value:e.translate(t?Math.PI-Math.atan2(i,r):Math.sqrt(Math.pow(i,2)+Math.pow(r,2)),!0)})}):s=e.call(this,o),s})}(Highcharts),function(c){"use strict";var n,e=c.getOptions().plotOptions,y=c.pInt,b=c.pick,t=c.each;e.solidgauge=c.merge(e.gauge,{colorByPoint:!0}),n={initDataClasses:function(i){var r,o=this,a=this.chart,s=0,l=this.options;this.dataClasses=r=[],t(i.dataClasses,function(e,t){var n;e=c.merge(e),r.push(e),e.color||("category"===l.dataClassColor?(n=a.options.colors,e.color=n[s++],s===n.length&&(s=0)):e.color=o.tweenColors(c.Color(l.minColor),c.Color(l.maxColor),t/(i.dataClasses.length-1)))})},initStops:function(e){this.stops=e.stops||[[0,this.options.minColor],[1,this.options.maxColor]],t(this.stops,function(e){e.color=c.Color(e[1])})},toColor:function(e,t){var n,i,r,o,a,s,l=this.stops,c=this.dataClasses;if(c){for(s=c.length;s--;)if(i=(a=c[s]).from,r=a.to,(void 0===i||i<=e)&&(void 0===r||e<=r)){o=a.color,t&&(t.dataClass=s);break}}else{for(this.isLog&&(e=this.val2lin(e)),n=1-(this.max-e)/(this.max-this.min),s=l.length;s--&&!(n>l[s][0]););i=l[s]||l[s+1],n=1-((r=l[s+1]||i)[0]-n)/(r[0]-i[0]||1),o=this.tweenColors(i.color,r.color,n)}return o},tweenColors:function(e,t,n){var i=1!==t.rgba[3]||1!==e.rgba[3];return 0===e.rgba.length||0===t.rgba.length?"none":(i?"rgba(":"rgb(")+Math.round(t.rgba[0]+(e.rgba[0]-t.rgba[0])*(1-n))+","+Math.round(t.rgba[1]+(e.rgba[1]-t.rgba[1])*(1-n))+","+Math.round(t.rgba[2]+(e.rgba[2]-t.rgba[2])*(1-n))+(i?","+(t.rgba[3]+(e.rgba[3]-t.rgba[3])*(1-n)):"")+")"}},t(["fill","stroke"],function(t){HighchartsAdapter.addAnimSetter(t,function(e){e.elem.attr(t,n.tweenColors(c.Color(e.start),c.Color(e.end),e.pos))})}),c.seriesTypes.solidgauge=c.extendClass(c.seriesTypes.gauge,{type:"solidgauge",bindAxes:function(){var e;c.seriesTypes.gauge.prototype.bindAxes.call(this),e=this.yAxis,c.extend(e,n),e.options.dataClasses&&e.initDataClasses(e.options),e.initStops(e.options)},drawPoints:function(){var d=this,h=d.yAxis,p=h.center,f=d.options,g=d.radius=y(b(f.radius,100))*p[2]/200,m=d.chart.renderer,e=f.overshoot,v=e&&"number"==typeof e?e/180*Math.PI:0;c.each(d.points,function(e){var t,n,i=e.graphic,r=h.startAngleRad+h.translate(e.y,null,null,null,!0),o=y(b(f.innerRadius,60))*p[2]/200,a=h.toColor(e.y,e);"none"===a&&(a=e.color||d.color||"none"),"none"!==a&&(e.color,e.color=a),r=Math.max(h.startAngleRad-v,Math.min(h.endAngleRad+v,r)),!1===f.wrap&&(r=Math.max(h.startAngleRad,Math.min(h.endAngleRad,r)));var s=(r=180*r/Math.PI)/(180/Math.PI),l=h.startAngleRad,c=Math.min(s,l),u=Math.max(s,l);u-c>2*Math.PI&&(u=c+2*Math.PI),e.shapeArgs=t={x:p[0],y:p[1],r:g,innerR:o,start:c,end:u,fill:a},i?(n=t.d,i.animate(t),t.d=n):e.graphic=m.arc(t).attr({stroke:f.borderColor||"none","stroke-width":f.borderWidth||0,fill:a,"sweep-flag":0}).add(d.group)})},animate:function(e){this.center=this.yAxis.center,this.center[3]=2*this.radius,this.startAngleRad=this.yAxis.startAngleRad,c.seriesTypes.pie.prototype.animate.call(this,e)}})}(Highcharts),function(){"use strict";angular.module("highcharts-ng",[]).factory("highchartsNGUtils",function(){return{indexOf:function(e,t,n){void 0===n&&(n=0),n<0&&(n+=e.length),n<0&&(n=0);for(var i=e.length;n<i;n++)if(n in e&&e[n]===t)return n;return-1},prependMethod:function(e,t,n){var i=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments);return n.apply(this,e),i?i.apply(this,e):void 0}},deepExtend:function e(t,n){if(angular.isArray(n)){t=angular.isArray(t)?t:[];for(var i=0;i<n.length;i++)t[i]=e(t[i]||{},n[i])}else if(angular.isObject(n))for(var r in n)t[r]=e(t[r]||{},n[r]);else t=n;return t}}}).directive("highchart",["highchartsNGUtils",function(d){function o(e){return angular.extend({},e,{data:null,visible:null})}var a=0,h=["xAxis","yAxis"];return{restrict:"EAC",replace:!0,template:"<div></div>",scope:{config:"=",disableDataWatch:"="},link:function(s,l,e){function i(e){var t,n=[];if(e){if(function(e){var t=!1;return angular.forEach(e,function(e){angular.isDefined(e.id)||(e.id="series-"+a++,t=!0)}),t}(e))return!1;if(angular.forEach(e,function(e){n.push(e.id);var t=u.get(e.id);t?angular.equals(c[e.id],o(e))?(void 0!==e.visible&&t.visible!==e.visible&&t.setVisible(e.visible,!1),t.setData(angular.copy(e.data),!1)):t.update(angular.copy(e),!1):u.addSeries(angular.copy(e),!1),c[e.id]=o(e)}),s.config.noData){var i=!1;for(t=0;t<e.length;t++)if(e[t].data&&0<e[t].data.length){i=!0;break}i?u.hideLoading():u.showLoading(s.config.noData)}}for(t=u.series.length-1;0<=t;t--){var r=u.series[t];"highcharts-navigator-series"!==r.options.id&&d.indexOf(n,r.options.id)<0&&r.remove(!1)}return!0}function r(){u&&u.destroy(),c={};var e,t,n,i=s.config||{},r=function(i,e,t){var r={},n={chart:{events:{}},title:{},subtitle:{},series:[],credits:{},plotOptions:{},navigator:{enabled:!1}};return(r=t.options?d.deepExtend(n,t.options):n).chart.renderTo=e[0],angular.forEach(h,function(n){angular.isDefined(t[n])&&(r[n]=angular.copy(t[n]),(angular.isDefined(t[n].currentMin)||angular.isDefined(t[n].currentMax))&&(d.prependMethod(r.chart.events,"selection",function(e){var t=this;e[n]?i.$apply(function(){i.config[n].currentMin=e[n][0].min,i.config[n].currentMax=e[n][0].max}):i.$apply(function(){i.config[n].currentMin=t[n][0].dataMin,i.config[n].currentMax=t[n][0].dataMax})}),d.prependMethod(r.chart.events,"addSeries",function(e){i.config[n].currentMin=this[n][0].min||i.config[n].currentMin,i.config[n].currentMax=this[n][0].max||i.config[n].currentMax})))}),t.title&&(r.title=t.title),t.subtitle&&(r.subtitle=t.subtitle),t.credits&&(r.credits=t.credits),t.size&&(t.size.width&&(r.chart.width=t.size.width),t.size.height&&(r.chart.height=t.size.height)),r}(s,l,i),o=i.func||void 0;u=i.useHighStocks?new Highcharts.StockChart(r,o):new Highcharts.Chart(r,o);for(var a=0;a<h.length;a++)i[h[a]]&&(e=u,t=i[h[a]],n=h[a],(t.currentMin||t.currentMax)&&e[n][0].setExtremes(t.currentMin,t.currentMax,!0));i.loading&&u.showLoading()}var c={},u=!1;r(),s.disableDataWatch?s.$watchCollection("config.series",function(e,t){i(e),u.redraw()}):s.$watch("config.series",function(e,t){i(e)&&u.redraw()},!0),s.$watch("config.title",function(e){u.setTitle(e,!0)},!0),s.$watch("config.subtitle",function(e){u.setTitle(!0,e)},!0),s.$watch("config.loading",function(e){e?u.showLoading():u.hideLoading()}),s.$watch("config.credits.enabled",function(e){e?u.credits.show():u.credits&&u.credits.hide()}),s.$watch("config.useHighStocks",function(e,t){e!==t&&r()}),angular.forEach(h,function(n){s.$watch("config."+n,function(e,t){e!==t&&e&&(u[n][0].update(e,!1),function(e,t){var n=e.getExtremes();t.currentMin===n.dataMin&&t.currentMax===n.dataMax||e.setExtremes(t.currentMin,t.currentMax,!1)}(u[n][0],angular.copy(e)),u.redraw())},!0)}),s.$watch("config.options",function(e,t,n){e!==t&&(r(),i(n.config.series),u.redraw())},!0),s.$watch("config.size",function(e,t){e!==t&&e&&u.setSize(e.width||void 0,e.height||void 0)},!0),s.$on("highchartsng.reflow",function(){u.reflow()}),s.$on("$destroy",function(){u&&(u.destroy(),setTimeout(function(){l.remove()},0))})}}}])}(),function(c){var d,i,e,r="undefined"==typeof global||"undefined"!=typeof window&&window!==global.window?this:global,h=Math.round,n=Object.prototype.hasOwnProperty,l=0,a=1,u=2,p=3,f=4,g=5,m=6,o={},s=[],v="undefined"!=typeof module&&module&&module.exports,y=/^\/?Date\((\-?\d+)/i,b=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,w=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,x=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,C=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,S=/\d\d?/,$=/\d{1,3}/,E=/\d{1,4}/,k=/[+\-]?\d{1,6}/,A=/\d+/,T=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,M=/Z|[\+\-]\d\d:?\d\d/gi,D=/T/i,P=/[\+\-]?\d+/,_=/[\+\-]?\d+(\.\d{1,3})?/,R=/\d/,I=/\d\d/,F=/\d{3}/,O=/\d{4}/,L=/[+-]?\d{6}/,N=/[+-]?\d+/,V=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,H=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],B=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],z=/([\+\-]|\d\d)/gi,t=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),j={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},G={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},U={},W={s:45,m:45,h:22,d:26,M:11},q="DDD w W M D d".split(" "),Y="M D H h m s w W".split(" "),X={M:function(){return this.month()+1},MMM:function(e){return this.localeData().monthsShort(this,e)},MMMM:function(e){return this.localeData().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.localeData().weekdaysMin(this,e)},ddd:function(e){return this.localeData().weekdaysShort(this,e)},dddd:function(e){return this.localeData().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return de(this.year()%100,2)},YYYY:function(){return de(this.year(),4)},YYYYY:function(){return de(this.year(),5)},YYYYYY:function(){var e=this.year();return(0<=e?"+":"-")+de(Math.abs(e),6)},gg:function(){return de(this.weekYear()%100,2)},gggg:function(){return de(this.weekYear(),4)},ggggg:function(){return de(this.weekYear(),5)},GG:function(){return de(this.isoWeekYear()%100,2)},GGGG:function(){return de(this.isoWeekYear(),4)},GGGGG:function(){return de(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return xe(this.milliseconds()/100)},SS:function(){return de(xe(this.milliseconds()/10),2)},SSS:function(){return de(this.milliseconds(),3)},SSSS:function(){return de(this.milliseconds(),3)},Z:function(){var e=this.utcOffset(),t="+";return e<0&&(e=-e,t="-"),t+de(xe(e/60),2)+":"+de(xe(e)%60,2)},ZZ:function(){var e=this.utcOffset(),t="+";return e<0&&(e=-e,t="-"),t+de(xe(e/60),2)+de(xe(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},K={},Z=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"],J=!1;function Q(e,t,n){switch(arguments.length){case 2:return null!=e?e:t;case 3:return null!=e?e:null!=t?t:n;default:throw new Error("Implement me")}}function ee(e,t){return n.call(e,t)}function te(e){!1===d.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function ne(e,t){var n=!0;return le(function(){return n&&(te(e),n=!1),t.apply(this,arguments)},t)}function ie(t,n){return function(e){return de(t.call(this,e),n)}}function re(t,n){return function(e){return this.localeData().ordinal(t.call(this,e),n)}}for(;q.length;)e=q.pop(),X[e+"o"]=re(X[e],e);for(;Y.length;)e=Y.pop(),X[e+e]=ie(X[e],2);function oe(){}function ae(e,t){!1!==t&&ke(e),ce(this,e),this._d=new Date(+e._d),!1===J&&(J=!0,d.updateOffset(this),J=!1)}function se(e){var t=be(e),n=t.year||0,i=t.quarter||0,r=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._milliseconds=+u+1e3*c+6e4*l+36e5*s,this._days=+a+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=d.localeData(),this._bubble()}function le(e,t){for(var n in t)ee(t,n)&&(e[n]=t[n]);return ee(t,"toString")&&(e.toString=t.toString),ee(t,"valueOf")&&(e.valueOf=t.valueOf),e}function ce(e,t){var n,i,r;if(void 0!==t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),void 0!==t._i&&(e._i=t._i),void 0!==t._f&&(e._f=t._f),void 0!==t._l&&(e._l=t._l),void 0!==t._strict&&(e._strict=t._strict),void 0!==t._tzm&&(e._tzm=t._tzm),void 0!==t._isUTC&&(e._isUTC=t._isUTC),void 0!==t._offset&&(e._offset=t._offset),void 0!==t._pf&&(e._pf=t._pf),void 0!==t._locale&&(e._locale=t._locale),0<s.length)for(n in s)void 0!==(r=t[i=s[n]])&&(e[i]=r);return e}function ue(e){return e<0?Math.ceil(e):Math.floor(e)}function de(e,t,n){for(var i=""+Math.abs(e),r=0<=e;i.length<t;)i="0"+i;return(r?n?"+":"":"-")+i}function he(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function pe(i,r){return function(e,t){var n;return null===t||isNaN(+t)||(function(e,t){K[e]||(te(t),K[e]=!0)}(r,"moment()."+r+"(period, number) is deprecated. Please use moment()."+r+"(number, period)."),n=e,e=t,t=n),e="string"==typeof e?+e:e,fe(this,d.duration(e,t),i),this}}function fe(e,t,n,i){var r=t._milliseconds,o=t._days,a=t._months;i=null==i||i,r&&e._d.setTime(+e._d+r*n),o&&qe(e,"Date",We(e,"Date")+o*n),a&&Ue(e,We(e,"Month")+a*n),i&&d.updateOffset(e,o||a)}function ge(e){return"[object Array]"===Object.prototype.toString.call(e)}function me(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function ve(e,t,n){var i,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(i=0;i<r;i++)(n&&e[i]!==t[i]||!n&&xe(e[i])!==xe(t[i]))&&a++;return a+o}function ye(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=j[e]||G[t]||t}return e}function be(e){var t,n,i={};for(n in e)ee(e,n)&&(t=ye(n))&&(i[t]=e[n]);return i}function we(a){var s,l;if(0===a.indexOf("week"))s=7,l="day";else{if(0!==a.indexOf("month"))return;s=12,l="month"}d[a]=function(n,e){var t,i,r=d._locale[a],o=[];if("number"==typeof n&&(e=n,n=c),i=function(e){var t=d().utc().set(l,e);return r.call(d._locale,t,n||"")},null!=e)return i(e);for(t=0;t<s;t++)o.push(i(t));return o}}function xe(e){var t=+e,n=0;return 0!=t&&isFinite(t)&&(n=0<=t?Math.floor(t):Math.ceil(t)),n}function Ce(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function Se(e,t,n){return ze(d([e,11,31+t-n]),t,n).week}function $e(e){return Ee(e)?366:365}function Ee(e){return e%4==0&&e%100!=0||e%400==0}function ke(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[a]<0||11<e._a[a]?a:e._a[u]<1||e._a[u]>Ce(e._a[l],e._a[a])?u:e._a[p]<0||24<e._a[p]||24===e._a[p]&&(0!==e._a[f]||0!==e._a[g]||0!==e._a[m])?p:e._a[f]<0||59<e._a[f]?f:e._a[g]<0||59<e._a[g]?g:e._a[m]<0||999<e._a[m]?m:-1,e._pf._overflowDayOfYear&&(t<l||u<t)&&(t=u),e._pf.overflow=t)}function Ae(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length&&e._pf.bigHour===c)),e._isValid}function Te(e){return e?e.toLowerCase().replace("_","-"):e}function Me(e){var t=null;if(!o[e]&&v)try{t=d.locale(),require("./locale/"+e),d.locale(t)}catch(e){}return o[e]}function De(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(d.isMoment(e)||me(e)?+e:+d(e))-+n,n._d.setTime(+n._d+i),d.updateOffset(n,!1),n):d(e).local()}function Pe(e,t){return e.isValid()?(t=_e(t,e.localeData()),U[t]||(U[t]=function(n){var i,r,e,o=n.match(x);for(i=0,r=o.length;i<r;i++)X[o[i]]?o[i]=X[o[i]]:o[i]=(e=o[i]).match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"");return function(e){var t="";for(i=0;i<r;i++)t+=o[i]instanceof Function?o[i].call(e,n):o[i];return t}}(t)),U[t](e)):e.localeData().invalidDate()}function _e(e,t){var n=5;function i(e){return t.longDateFormat(e)||e}for(C.lastIndex=0;0<=n&&C.test(e);)e=e.replace(C,i),C.lastIndex=0,n-=1;return e}function Re(e,t){var n=t._strict;switch(e){case"Q":return R;case"DDDD":return F;case"YYYY":case"GGGG":case"gggg":return n?O:E;case"Y":case"G":case"g":return N;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return n?L:k;case"S":if(n)return R;case"SS":if(n)return I;case"SSS":if(n)return F;case"DDD":return $;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return T;case"a":case"A":return t._locale._meridiemParse;case"x":return P;case"X":return _;case"Z":case"ZZ":return M;case"T":return D;case"SSSS":return A;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return n?I:S;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return S;case"Do":return n?t._locale._ordinalParse:t._locale._ordinalParseLenient;default:return new RegExp(function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}(function(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,r){return t||n||i||r})}(e.replace("\\",""))))}}function Ie(e){var t=(e=e||"").match(M)||[],n=((t[t.length-1]||[])+"").match(z)||["-",0,0],i=60*n[1]+xe(n[2]);return"+"===n[0]?i:-i}function Fe(e,t,n){var i,r=n._a;switch(e){case"Q":null!=t&&(r[a]=3*(xe(t)-1));break;case"M":case"MM":null!=t&&(r[a]=xe(t)-1);break;case"MMM":case"MMMM":null!=(i=n._locale.monthsParse(t,e,n._strict))?r[a]=i:n._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(r[u]=xe(t));break;case"Do":null!=t&&(r[u]=xe(parseInt(t.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=t&&(n._dayOfYear=xe(t));break;case"YY":r[l]=d.parseTwoDigitYear(t);break;case"YYYY":case"YYYYY":case"YYYYYY":r[l]=xe(t);break;case"a":case"A":n._meridiem=t;break;case"h":case"hh":n._pf.bigHour=!0;case"H":case"HH":r[p]=xe(t);break;case"m":case"mm":r[f]=xe(t);break;case"s":case"ss":r[g]=xe(t);break;case"S":case"SS":case"SSS":case"SSSS":r[m]=xe(1e3*("0."+t));break;case"x":n._d=new Date(xe(t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=Ie(t);break;case"dd":case"ddd":case"dddd":null!=(i=n._locale.weekdaysParse(t))?(n._w=n._w||{},n._w.d=i):n._pf.invalidWeekday=t;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":e=e.substr(0,1);case"gggg":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(n._w=n._w||{},n._w[e]=xe(t));break;case"gg":case"GG":n._w=n._w||{},n._w[e]=d.parseTwoDigitYear(t)}}function Oe(e){var t,n,i,r,o,a,s;null!=(t=e._w).GG||null!=t.W||null!=t.E?(o=1,a=4,n=Q(t.GG,e._a[l],ze(d(),1,4).year),i=Q(t.W,1),r=Q(t.E,1)):(o=e._locale._week.dow,a=e._locale._week.doy,n=Q(t.gg,e._a[l],ze(d(),o,a).year),i=Q(t.w,1),null!=t.d?(r=t.d)<o&&++i:r=null!=t.e?t.e+o:o),s=function(e,t,n,i,r){var o,a=Be(e,0,1).getUTCDay();return{year:0<(o=7*(t-1)+((n=null!=n?n:r)-r)+(r-(a=0===a?7:a)+(i<a?7:0)-(a<r?7:0))+1)?e:e-1,dayOfYear:0<o?o:$e(e-1)+o}}(n,i,r,a,o),e._a[l]=s.year,e._dayOfYear=s.dayOfYear}function Le(e){var t,n,i,r,o=[];if(!e._d){for(i=function(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[u]&&null==e._a[a]&&Oe(e),e._dayOfYear&&(r=Q(e._a[l],i[l]),e._dayOfYear>$e(r)&&(e._pf._overflowDayOfYear=!0),n=Be(r,0,e._dayOfYear),e._a[a]=n.getUTCMonth(),e._a[u]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=i[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[p]&&0===e._a[f]&&0===e._a[g]&&0===e._a[m]&&(e._nextDay=!0,e._a[p]=0),e._d=(e._useUTC?Be:function(e,t,n,i,r,o,a){var s=new Date(e,t,n,i,r,o,a);e<1970&&s.setFullYear(e);return s}).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[p]=24)}}function Ne(e){if(e._f!==d.ISO_8601){e._a=[],e._pf.empty=!0;var t,n,i,r,o,a=""+e._i,s=a.length,l=0;for(i=_e(e._f,e._locale).match(x)||[],t=0;t<i.length;t++)r=i[t],(n=(a.match(Re(r,e))||[])[0])&&(0<(o=a.substr(0,a.indexOf(n))).length&&e._pf.unusedInput.push(o),a=a.slice(a.indexOf(n)+n.length),l+=n.length),X[r]?(n?e._pf.empty=!1:e._pf.unusedTokens.push(r),Fe(r,n,e)):e._strict&&!n&&e._pf.unusedTokens.push(r);e._pf.charsLeftOver=s-l,0<a.length&&e._pf.unusedInput.push(a),!0===e._pf.bigHour&&e._a[p]<=12&&(e._pf.bigHour=c),e._a[p]=function(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):(null!=e.isPM&&((i=e.isPM(n))&&t<12&&(t+=12),i||12!==t||(t=0)),t)}(e._locale,e._a[p],e._meridiem),Le(e),ke(e)}else Ve(e)}function Ve(e){var t,n,i=e._i,r=V.exec(i);if(r){for(e._pf.iso=!0,t=0,n=H.length;t<n;t++)if(H[t][1].exec(i)){e._f=H[t][0]+(r[6]||" ");break}for(t=0,n=B.length;t<n;t++)if(B[t][1].exec(i)){e._f+=B[t][0];break}i.match(M)&&(e._f+="Z"),Ne(e)}else e._isValid=!1}function He(e){var t,n=e._i;n===c?e._d=new Date:me(n)?e._d=new Date(+n):null!==(t=y.exec(n))?e._d=new Date(+t[1]):"string"==typeof n?function(e){Ve(e),!1===e._isValid&&(delete e._isValid,d.createFromInputFallback(e))}(e):ge(n)?(e._a=function(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}(n.slice(0),function(e){return parseInt(e,10)}),Le(e)):"object"==typeof n?function(e){var t;e._d||(t=be(e._i),e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],Le(e))}(e):"number"==typeof n?e._d=new Date(n):d.createFromInputFallback(e)}function Be(e){var t=new Date(Date.UTC.apply(null,arguments));return e<1970&&t.setUTCFullYear(e),t}function ze(e,t,n){var i,r=n-t,o=n-e.day();return r<o&&(o-=7),o<r-7&&(o+=7),i=d(e).add(o,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function je(e){var t,n=e._i,i=e._f;return e._locale=e._locale||d.localeData(e._l),null===n||i===c&&""===n?d.invalid({nullInput:!0}):("string"==typeof n&&(e._i=n=e._locale.preparse(n)),d.isMoment(n)?new ae(n,!0):(i?ge(i)?function(e){var t,n,i,r,o;if(0===e._f.length)return e._pf.invalidFormat=!0,e._d=new Date(NaN);for(r=0;r<e._f.length;r++)o=0,t=ce({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1},t._f=e._f[r],Ne(t),Ae(t)&&(o+=t._pf.charsLeftOver,o+=10*t._pf.unusedTokens.length,t._pf.score=o,(null==i||o<i)&&(i=o,n=t));le(e,n||t)}(e):Ne(e):He(e),(t=new ae(e))._nextDay&&(t.add(1,"d"),t._nextDay=c),t))}function Ge(e,t){var n,i;if(1===t.length&&ge(t[0])&&(t=t[0]),!t.length)return d();for(n=t[0],i=1;i<t.length;++i)t[i][e](n)&&(n=t[i]);return n}for(X.DDDD=ie(X.DDD,3),le(oe.prototype,{set:function(e){var t,n;for(n in e)"function"==typeof(t=e[n])?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e,t,n){var i,r,o;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=d.utc([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;t<7;t++)if(this._weekdaysParse[t]||(n=d([2e3,1]).day(t),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return 11<e?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t,n){var i=this._calendar[e];return"function"==typeof i?i.apply(t,[n]):i},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(e,t,n,i):r.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[0<e?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(e){return e},postformat:function(e){return e},week:function(e){return ze(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),(d=function(e,t,n,i){var r;return"boolean"==typeof n&&(i=n,n=c),(r={_isAMomentObject:!0})._i=e,r._f=t,r._l=n,r._strict=i,r._isUTC=!1,r._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1},je(r)}).suppressDeprecationWarnings=!1,d.createFromInputFallback=ne("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),d.min=function(){return Ge("isBefore",[].slice.call(arguments,0))},d.max=function(){return Ge("isAfter",[].slice.call(arguments,0))},d.utc=function(e,t,n,i){var r;return"boolean"==typeof n&&(i=n,n=c),(r={_isAMomentObject:!0,_useUTC:!0,_isUTC:!0})._l=n,r._i=e,r._f=t,r._strict=i,r._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1},je(r).utc()},d.unix=function(e){return d(1e3*e)},d.duration=function(e,t){var n,i,r,o,a=e,s=null;return d.isDuration(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(a={},t?a[t]=e:a.milliseconds=e):(s=b.exec(e))?(n="-"===s[1]?-1:1,a={y:0,d:xe(s[u])*n,h:xe(s[p])*n,m:xe(s[f])*n,s:xe(s[g])*n,ms:xe(s[m])*n}):(s=w.exec(e))?(n="-"===s[1]?-1:1,a={y:(r=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*n})(s[2]),M:r(s[3]),d:r(s[4]),h:r(s[5]),m:r(s[6]),s:r(s[7]),w:r(s[8])}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(o=function(e,t){var n;return t=De(t,e),e.isBefore(t)?n=he(e,t):((n=he(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n}(d(a.from),d(a.to)),(a={}).ms=o.milliseconds,a.M=o.months),i=new se(a),d.isDuration(e)&&ee(e,"_locale")&&(i._locale=e._locale),i},d.version="2.9.0",d.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",d.ISO_8601=function(){},d.momentProperties=s,d.updateOffset=function(){},d.relativeTimeThreshold=function(e,t){return W[e]!==c&&(t===c?W[e]:(W[e]=t,!0))},d.lang=ne("moment.lang is deprecated. Use moment.locale instead.",function(e,t){return d.locale(e,t)}),d.locale=function(e,t){var n;return e&&(n=void 0!==t?d.defineLocale(e,t):d.localeData(e))&&(d.duration._locale=d._locale=n),d._locale._abbr},d.defineLocale=function(e,t){return null!==t?(t.abbr=e,o[e]||(o[e]=new oe),o[e].set(t),d.locale(e),o[e]):(delete o[e],null)},d.langData=ne("moment.langData is deprecated. Use moment.localeData instead.",function(e){return d.localeData(e)}),d.localeData=function(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return d._locale;if(!ge(e)){if(t=Me(e))return t;e=[e]}return function(e){for(var t,n,i,r,o=0;o<e.length;){for(t=(r=Te(e[o]).split("-")).length,n=(n=Te(e[o+1]))?n.split("-"):null;0<t;){if(i=Me(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&ve(r,n,!0)>=t-1)break;t--}o++}return null}(e)},d.isMoment=function(e){return e instanceof ae||null!=e&&ee(e,"_isAMomentObject")},d.isDuration=function(e){return e instanceof se},e=Z.length-1;0<=e;--e)we(Z[e]);function Ue(e,t){var n;return"string"==typeof t&&"number"!=typeof(t=e.localeData().monthsParse(t))||(n=Math.min(e.date(),Ce(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n)),e}function We(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function qe(e,t,n){return"Month"===t?Ue(e,n):e._d["set"+(e._isUTC?"UTC":"")+t](n)}function Ye(t,n){return function(e){return null!=e?(qe(this,t,e),d.updateOffset(this,n),this):We(this,t)}}function Xe(e){return 400*e/146097}function Ke(e){return 146097*e/400}function Ze(e){d.duration.fn[e]=function(){return this._data[e]}}for(e in d.normalizeUnits=function(e){return ye(e)},d.invalid=function(e){var t=d.utc(NaN);return null!=e?le(t._pf,e):t._pf.userInvalidated=!0,t},d.parseZone=function(){return d.apply(null,arguments).parseZone()},d.parseTwoDigitYear=function(e){return xe(e)+(68<xe(e)?1900:2e3)},d.isDate=me,le(d.fn=ae.prototype,{clone:function(){return d(this)},valueOf:function(){return+this._d-6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=d(this).utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():Pe(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):Pe(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){return[this.year(),this.month(),this.date(),this.hours(),this.minutes(),this.seconds(),this.milliseconds()]},isValid:function(){return Ae(this)},isDSTShifted:function(){return!!this._a&&(this.isValid()&&0<ve(this._a,(this._isUTC?d.utc(this._a):d(this._a)).toArray()))},parsingFlags:function(){return le({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(e){return this.utcOffset(0,e)},local:function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(this._dateUtcOffset(),"m")),this},format:function(e){var t=Pe(this,e||d.defaultFormat);return this.localeData().postformat(t)},add:pe(1,"add"),subtract:pe(-1,"subtract"),diff:function(e,t,n){var i,r,o=De(e,this),a=6e4*(o.utcOffset()-this.utcOffset());return"year"===(t=ye(t))||"month"===t||"quarter"===t?(r=function(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(n,"months");return-(n+(t-i<0?(t-i)/(i-e.clone().add(n-1,"months")):(t-i)/(e.clone().add(1+n,"months")-i)))}(this,o),"quarter"===t?r/=3:"year"===t&&(r/=12)):(i=this-o,r="second"===t?i/1e3:"minute"===t?i/6e4:"hour"===t?i/36e5:"day"===t?(i-a)/864e5:"week"===t?(i-a)/6048e5:i),n?r:ue(r)},from:function(e,t){return d.duration({to:this,from:e}).locale(this.locale()).humanize(!t)},fromNow:function(e){return this.from(d(),e)},calendar:function(e){var t=e||d(),n=De(t,this).startOf("day"),i=this.diff(n,"days",!0),r=i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse";return this.format(this.localeData().calendar(r,this,d(t)))},isLeapYear:function(){return Ee(this.year())},isDST:function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){if("string"==typeof e)if(isNaN(e)){if("number"!=typeof(e=t.weekdaysParse(e)))return null}else e=parseInt(e,10);return e}(e,this.localeData()),this.add(e-t,"d")):t},month:Ye("Month",!0),startOf:function(e){switch(e=ye(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(e){return(e=ye(e))===c||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")},isAfter:function(e,t){return"millisecond"===(t=ye(void 0!==t?t:"millisecond"))?+(e=d.isMoment(e)?e:d(e))<+this:(d.isMoment(e)?+e:+d(e))<+this.clone().startOf(t)},isBefore:function(e,t){var n;return"millisecond"===(t=ye(void 0!==t?t:"millisecond"))?+this<+(e=d.isMoment(e)?e:d(e)):(n=d.isMoment(e)?+e:+d(e),+this.clone().endOf(t)<n)},isBetween:function(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)},isSame:function(e,t){var n;return"millisecond"===(t=ye(t||"millisecond"))?+this==+(e=d.isMoment(e)?e:d(e)):(n=+d(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))},min:ne("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(e){return(e=d.apply(null,arguments))<this?this:e}),max:ne("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(e){return this<(e=d.apply(null,arguments))?this:e}),zone:ne("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),utcOffset:function(e,t){var n,i=this._offset||0;return null!=e?("string"==typeof e&&(e=Ie(e)),Math.abs(e)<16&&(e*=60),!this._isUTC&&t&&(n=this._dateUtcOffset()),this._offset=e,this._isUTC=!0,null!=n&&this.add(n,"m"),i!==e&&(!t||this._changeInProgress?fe(this,d.duration(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,d.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:this._dateUtcOffset()},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&0===this._offset},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Ie(this._i)),this},hasAlignedHourOffset:function(e){return e=e?d(e).utcOffset():0,(this.utcOffset()-e)%60==0},daysInMonth:function(){return Ce(this.year(),this.month())},dayOfYear:function(e){var t=h((d(this).startOf("day")-d(this).startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},quarter:function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},weekYear:function(e){var t=ze(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")},isoWeekYear:function(e){var t=ze(this,1,4).year;return null==e?t:this.add(e-t,"y")},week:function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},isoWeek:function(e){var t=ze(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},weekday:function(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return Se(this.year(),1,4)},weeksInYear:function(){var e=this.localeData()._week;return Se(this.year(),e.dow,e.doy)},get:function(e){return this[e=ye(e)]()},set:function(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else"function"==typeof this[e=ye(e)]&&this[e](t);return this},locale:function(e){var t;return e===c?this._locale._abbr:(null!=(t=d.localeData(e))&&(this._locale=t),this)},lang:ne("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===c?this.localeData():this.locale(e)}),localeData:function(){return this._locale},_dateUtcOffset:function(){return 15*-Math.round(this._d.getTimezoneOffset()/15)}}),d.fn.millisecond=d.fn.milliseconds=Ye("Milliseconds",!1),d.fn.second=d.fn.seconds=Ye("Seconds",!1),d.fn.minute=d.fn.minutes=Ye("Minutes",!1),d.fn.hour=d.fn.hours=Ye("Hours",!0),d.fn.date=Ye("Date",!0),d.fn.dates=ne("dates accessor is deprecated. Use date instead.",Ye("Date",!0)),d.fn.year=Ye("FullYear",!0),d.fn.years=ne("years accessor is deprecated. Use year instead.",Ye("FullYear",!0)),d.fn.days=d.fn.day,d.fn.months=d.fn.month,d.fn.weeks=d.fn.week,d.fn.isoWeeks=d.fn.isoWeek,d.fn.quarters=d.fn.quarter,d.fn.toJSON=d.fn.toISOString,d.fn.isUTC=d.fn.isUtc,le(d.duration.fn=se.prototype,{_bubble:function(){var e,t,n,i=this._milliseconds,r=this._days,o=this._months,a=this._data,s=0;a.milliseconds=i%1e3,e=ue(i/1e3),a.seconds=e%60,t=ue(e/60),a.minutes=t%60,n=ue(t/60),a.hours=n%24,r+=ue(n/24),o+=ue((r-=ue(Ke(s=ue(Xe(r)))))/30),r%=30,s+=ue(o/12),o%=12,a.days=r,a.months=o,a.years=s},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return ue(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*xe(this._months/12)},humanize:function(e){var t=function(e,t,n){var i=d.duration(e).abs(),r=h(i.as("s")),o=h(i.as("m")),a=h(i.as("h")),s=h(i.as("d")),l=h(i.as("M")),c=h(i.as("y")),u=r<W.s&&["s",r]||1===o&&["m"]||o<W.m&&["mm",o]||1===a&&["h"]||a<W.h&&["hh",a]||1===s&&["d"]||s<W.d&&["dd",s]||1===l&&["M"]||l<W.M&&["MM",l]||1===c&&["y"]||["yy",c];return u[2]=t,u[3]=0<+e,u[4]=n,function(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}.apply({},u)}(this,!e,this.localeData());return e&&(t=this.localeData().pastFuture(+this,t)),this.localeData().postformat(t)},add:function(e,t){var n=d.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=d.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return this[(e=ye(e)).toLowerCase()+"s"]()},as:function(e){var t,n;if("month"===(e=ye(e))||"year"===e)return t=this._days+this._milliseconds/864e5,n=this._months+12*Xe(t),"month"===e?n:n/12;switch(t=this._days+Math.round(Ke(this._months/12)),e){case"week":return t/7+this._milliseconds/6048e5;case"day":return t+this._milliseconds/864e5;case"hour":return 24*t+this._milliseconds/36e5;case"minute":return 24*t*60+this._milliseconds/6e4;case"second":return 24*t*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*t*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+e)}},lang:d.fn.lang,locale:d.fn.locale,toIsoString:ne("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),i=Math.abs(this.hours()),r=Math.abs(this.minutes()),o=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(i||r||o?"T":"")+(i?i+"H":"")+(r?r+"M":"")+(o?o+"S":""):"P0D"},localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}}),d.duration.fn.toString=d.duration.fn.toISOString,t)ee(t,e)&&Ze(e.toLowerCase());function Je(e){"undefined"==typeof ender&&(i=r.moment,r.moment=e?ne("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",d):d)}d.duration.fn.asMilliseconds=function(){return this.as("ms")},d.duration.fn.asSeconds=function(){return this.as("s")},d.duration.fn.asMinutes=function(){return this.as("m")},d.duration.fn.asHours=function(){return this.as("h")},d.duration.fn.asDays=function(){return this.as("d")},d.duration.fn.asWeeks=function(){return this.as("weeks")},d.duration.fn.asMonths=function(){return this.as("M")},d.duration.fn.asYears=function(){return this.as("y")},d.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===xe(e%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th")}}),v?module.exports=d:"function"==typeof define&&define.amd?(define(function(e,t,n){return n.config&&n.config()&&!0===n.config().noGlobal&&(r.moment=i),d}),Je(!0)):Je()}.call(this),function(e,d){d.module("angular-moment",["gdi2290.moment"]),d.module("angular-momentjs",["gdi2290.moment"]),d.module("ngMoment",["gdi2290.moment"]),d.module("ngMomentjs",["gdi2290.moment"]),d.module("ngMomentJS",["gdi2290.moment"]),d.module("gdi2290.amTimeAgo",[]),d.module("gdi2290.amDateFormat",[]),d.module("gdi2290.moment-service",[]),d.module("gdi2290.moment",["gdi2290.moment-service","gdi2290.amDateFormat","gdi2290.amTimeAgo"]),d.module("gdi2290.amDateFormat").filter("amDateFormat",["$moment",function(e){return function(t,n){return null==t?"":(!isNaN(parseFloat(t))&&isFinite(t)&&(t=new Date(parseInt(t,10))),e.then?void e().then(function(e){return e(t).format(n)}):e(t).format(n))}}]),d.module("gdi2290.amTimeAgo").directive("amTimeAgo",["$moment","$timeout",function(c,u){return function(e,i,t){var n,r,o=null;function a(){o&&(u.cancel(o),o=null)}function s(t){var n;i.text(t.fromNow()),c.then?c().then(function(e){n=e().diff(t,"minute")}):n=c().diff(t,"minute");var e=3600;n<1?e=1:n<60?e=30:n<180&&(e=300),o=u(function(){s(t)},1e3*e,!1)}function l(){a(),c().then?c.then(function(e){s(e(n,r))}):s(c(n,r))}e.$watch(t.amTimeAgo,function(e){if(function(e){return null==e||""===e}(e))return a(),void(n&&(i.text(""),n=null));d.isNumber(e)&&(e=new Date(e)),n=e,l()}),t.$observe("amFormat",function(e){r=e,n&&l()}),e.$on("$destroy",function(){a()})}}]),d.module("gdi2290.moment-service").provider("$moment",function(){var a=!1,s="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.5.0/moment.min.js";this.asyncLoading=function(e){return a=e||a,this},this.scriptUrl=function(e){return s=e||s,this},this.$get=["$timeout","$document","$q","$window",function(t,e,n,i){var r=n.defer(),o=i.moment;if(a){!function(e,t){var n=e.createElement("script");n.type="text/javascript",n.async=!0,n.src=s,n.onreadystatechange=function(){"complete"===this.readyState&&t()},n.onload=t,e.getElementsByTagName("body")[0].appendChild(n)}(e[0],function(e){t(function(){r.resolve(i.moment)})})}return a?r.promise:o}]})}(0,this.angular),function($,E){"use strict";var k,A,T,M,D,P,_,R,I,F,O=E.$$minErr("$sanitize");E.module("ngSanitize",[]).provider("$sanitize",function(){var t=!1,i=!1;this.$get=["$$sanitizeUri",function(n){return t=!0,i&&A(h,u),function(e){var t=[];return I(e,F(t,function(e,t){return!/^unsafe:/.test(n(e,t))})),t.join("")}}],this.enableSvg=function(e){return D(e)?(i=e,this):i},this.addValidElements=function(e){return t||(M(e)&&(e={htmlElements:e}),b(u,e.svgElements),b(s,e.htmlVoidElements),b(h,e.htmlVoidElements),b(h,e.htmlElements)),this},this.addValidAttrs=function(e){return t||A(m,y(e,!0)),this},k=E.bind,A=E.extend,T=E.forEach,M=E.isArray,D=E.isDefined,P=E.$$lowercase,_=E.noop,I=function(e,t){null==e?e="":"string"!=typeof e&&(e=""+e);var n=w(e);if(!n)return"";var i=5;do{if(0===i)throw O("uinput","Failed to sanitize html because the input is unstable");i--,e=n.innerHTML,n=w(e)}while(e!==n.innerHTML);var r=n.firstChild;for(;r;){switch(r.nodeType){case 1:t.start(r.nodeName.toLowerCase(),x(r.attributes));break;case 3:t.chars(r.textContent)}var o;if(!((o=r.firstChild)||(1===r.nodeType&&t.end(r.nodeName.toLowerCase()),o=S("nextSibling",r))))for(;null==o&&(r=S("parentNode",r))!==n;)o=S("nextSibling",r),1===r.nodeType&&t.end(r.nodeName.toLowerCase());r=o}for(;r=n.firstChild;)n.removeChild(r)},F=function(e,o){var t=!1,a=k(e,e.push);return{start:function(r,e){r=P(r),!t&&d[r]&&(t=r),t||!0!==h[r]||(a("<"),a(r),T(e,function(e,t){var n=P(t),i="img"===r&&"src"===n||"background"===n;!0!==m[n]||!0===p[n]&&!o(e,i)||(a(" "),a(t),a('="'),a(C(e)),a('"'))}),a(">"))},end:function(e){e=P(e),t||!0!==h[e]||!0===s[e]||(a("</"),a(e),a(">")),e==t&&(t=!1)},chars:function(e){t||a(C(e))}}},R=$.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))};var n=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,r=/([^#-~ |!])/g,s=v("area,br,col,hr,img,wbr"),e=v("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),o=v("rp,rt"),a=A({},o,e),l=A({},e,v("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),c=A({},o,v("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),u=v("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),d=v("script,style"),h=A({},s,l,c,a),p=v("background,cite,href,longdesc,src,xlink:href,xml:base"),f=v("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),g=v("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),m=A({},p,g,f);function v(e,t){return y(e.split(","),t)}function y(e,t){var n,i={};for(n=0;n<e.length;n++)i[t?P(e[n]):e[n]]=!0;return i}function b(e,t){t&&t.length&&A(e,y(t))}var w=function(i,t){var e;if(!t||!t.implementation)throw O("noinert","Can't create an inert html document");var n=((e=t.implementation.createHTMLDocument("inert")).documentElement||e.getDocumentElement()).querySelector("body");return n.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',n.querySelector("svg")?(n.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',n.querySelector("svg img")?function(e){e="<remove></remove>"+e;try{var t=(new i.DOMParser).parseFromString(e,"text/html").body;return t.firstChild.remove(),t}catch(e){return}}:function(e){n.innerHTML=e,t.documentMode&&function e(t){for(;t;){if(t.nodeType===$.Node.ELEMENT_NODE)for(var n=t.attributes,i=0,r=n.length;i<r;i++){var o=n[i],a=o.name.toLowerCase();"xmlns:ns1"!==a&&0!==a.lastIndexOf("ns1:",0)||(t.removeAttributeNode(o),i--,r--)}var s=t.firstChild;s&&e(s),t=S("nextSibling",t)}}(n);return n}):function(e){e="<remove></remove>"+e;try{e=encodeURI(e)}catch(e){return}var t=new i.XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(null);var n=t.response.body;return n.firstChild.remove(),n}}($,$.document);function x(e){for(var t={},n=0,i=e.length;n<i;n++){var r=e[n];t[r.name]=r.value}return t}function C(e){return e.replace(/&/g,"&amp;").replace(n,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(r,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function S(e,t){var n=t[e];if(n&&R.call(t,n))throw O("elclob","Failed to sanitize html because the element is clobbered: {0}",t.outerHTML||t.outerText);return n}}).info({angularVersion:"1.7.2"}),E.module("ngSanitize").filter("linky",["$sanitize",function(d){var h=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,p=/^mailto:/i,f=E.$$minErr("linky"),g=E.isDefined,m=E.isFunction,v=E.isObject,y=E.isString;return function(e,r,t){if(null==e||""===e)return e;if(!y(e))throw f("notstring","Expected string but received: {0}",e);for(var n,i,o,a=m(t)?t:v(t)?function(){return t}:function(){return{}},s=e,l=[];n=s.match(h);)i=n[0],n[2]||n[4]||(i=(n[3]?"http://":"mailto:")+i),o=n.index,c(s.substr(0,o)),u(i,n[0].replace(p,"")),s=s.substring(o+n[0].length);return c(s),d(l.join(""));function c(e){e&&l.push(function(e){var t=[];return F(t,_).chars(e),t.join("")}(e))}function u(e,t){var n,i=a(e);for(n in l.push("<a "),i)l.push(n+'="'+i[n]+'" ');!g(r)||"target"in i||l.push('target="',r,'" '),l.push('href="',e.replace(/"/g,"&quot;"),'">'),c(t),l.push("</a>")}}}])}(window,window.angular),function(c,e){"use strict";function u(e,t,n){if(!e)throw i("areq",t||"?",n||"required");return e}function w(e,t){return e||t?e?t?(me(e)&&(e=e.join(" ")),me(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function Z(e,n,i){var r="";return e=me(e)?e:e&&z(e)&&e.length?e.split(/\s+/):[],ge(e,function(e,t){e&&0<e.length&&(r+=0<t?" ":"",r+=i?n+e:e+n)}),r}function O(e){if(e instanceof G)switch(e.length){case 0:return e;case 1:if(1===e[0].nodeType)return e;break;default:return G(d(e))}if(1===e.nodeType)return G(e)}function d(e){if(!e[0])return e;for(var t=0;t<e.length;t++){var n=e[t];if(1===n.nodeType)return n}}function L(n){return function(e,t){t.addClass&&(function(t,e,n){ge(e,function(e){t.addClass(e,n)})}(n,e,t.addClass),t.addClass=null),t.removeClass&&(function(t,e,n){ge(e,function(e){t.removeClass(e,n)})}(n,e,t.removeClass),t.removeClass=null)}}function J(e){if(!(e=e||{}).$$prepared){var t=e.domOperation||ve;e.domOperation=function(){e.$$domOperationFired=!0,t(),t=ve},e.$$prepared=!0}return e}function Q(e,t){ee(e,t),te(e,t)}function ee(e,t){t.from&&(e.css(t.from),t.from=null)}function te(e,t){t.to&&(e.css(t.to),t.to=null)}function N(e,t,n){var i=t.options||{};n=n.options||{};var r=(i.addClass||"")+" "+(n.addClass||""),o=(i.removeClass||"")+" "+(n.removeClass||"");return e=function(r,e,t){function n(e){z(e)&&(e=e.split(" "));var t={};return ge(e,function(e){e.length&&(t[e]=!0)}),t}var i={};r=n(r),e=n(e),ge(e,function(e,t){i[t]=1}),t=n(t),ge(t,function(e,t){i[t]=1===i[t]?null:-1});var o={addClass:"",removeClass:""};return ge(i,function(e,t){var n,i;1===e?(n="addClass",i=!r[t]||r[t+"-remove"]):-1===e&&(n="removeClass",i=r[t]||r[t+"-add"]),i&&(o[n].length&&(o[n]+=" "),o[n]+=t)}),o}(e.attr("class"),r,o),n.preparationClasses&&(i.preparationClasses=V(n.preparationClasses,i.preparationClasses),delete n.preparationClasses),r=i.domOperation!==ve?i.domOperation:null,h(i,n),r&&(i.domOperation=r),i.addClass=e.addClass?e.addClass:null,i.removeClass=e.removeClass?e.removeClass:null,t.addClass=i.addClass,t.removeClass=i.removeClass,i}function ne(e){return e instanceof G?e[0]:e}function ie(e,t){var n=t?"-"+t+"s":"";return oe(e,[we,n]),[we,n]}function re(e,t){var n=t?"paused":"",i=he+"PlayState";return oe(e,[i,n]),[i,n]}function oe(e,t){e.style[t[0]]=t[1]}function V(e,t){return e?t?e+" "+t:e:t}function ae(e,t,n){var r=Object.create(null),o=e.getComputedStyle(t)||{};return ge(n,function(e,t){var n=o[e];if(n){var i=n.charAt(0);("-"===i||"+"===i||0<=i)&&(n=function(e){var t=0;return e=e.split(/\s*,\s*/),ge(e,function(e){"s"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,t=t?Math.max(e,t):e}),t}(n)),0===n&&(n=null),r[t]=n}}),r}function se(e){return 0===e||null!=e}function le(e,t){var n=ue,i=e+"s";return t?n+="Duration":i+=" linear all",[n,i]}function t(){var n=Object.create(null);return{flush:function(){n=Object.create(null)},count:function(e){return(e=n[e])?e.total:0},get:function(e){return(e=n[e])&&e.value},put:function(e,t){n[e]?n[e].total++:n[e]={total:1,value:t}}}}function ce(t,n,e){ge(e,function(e){t[e]=H(t[e])?t[e]:n.style.getPropertyValue(e)})}var ue,de,he,pe;de=void 0===c.ontransitionend&&void 0!==c.onwebkittransitionend?(ue="WebkitTransition","webkitTransitionEnd transitionend"):(ue="transition","transitionend"),pe=void 0===c.onanimationend&&void 0!==c.onwebkitanimationend?(he="WebkitAnimation","webkitAnimationEnd animationend"):(he="animation","animationend");var fe,h,ge,me,H,p,x,B,z,j,G,ve,ye=he+"Delay",be=he+"Duration",we=ue+"Delay",n=ue+"Duration",i=e.$$minErr("ng"),o={transitionDuration:n,transitionDelay:we,transitionProperty:ue+"Property",animationDuration:be,animationDelay:ye,animationIterationCount:he+"IterationCount"},xe={transitionDuration:n,transitionDelay:we,animationDuration:be,animationDelay:ye};e.module("ngAnimate",[],function(){ve=e.noop,fe=e.copy,h=e.extend,G=e.element,ge=e.forEach,me=e.isArray,z=e.isString,B=e.isObject,j=e.isUndefined,H=e.isDefined,x=e.isFunction,p=e.isElement}).info({angularVersion:"1.7.2"}).directive("ngAnimateSwap",["$animate",function(s){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(e,n,t,i,r){var o,a;e.$watchCollection(t.ngAnimateSwap||t.for,function(e){o&&s.leave(o),a&&(a.$destroy(),a=null),!e&&0!==e||r(function(e,t){o=e,a=t,s.enter(e,null,n)})})}}}]).directive("ngAnimateChildren",["$interpolate",function(o){return{link:function(e,t,n){function i(e){t.data("$$ngAnimateChildren","on"===e||"true"===e)}var r=n.ngAnimateChildren;z(r)&&0===r.length?t.data("$$ngAnimateChildren",!0):(i(o(r)(e)),n.$observe("ngAnimateChildren",i))}}}]).factory("$$rAFScheduler",["$$rAF",function(n){function e(e){r=r.concat(e),i()}function i(){if(r.length){for(var e=r.shift(),t=0;t<e.length;t++)e[t]();o||n(function(){o||i()})}}var r,o;return r=e.queue=[],e.waitUntilQuiet=function(e){o&&o(),o=n(function(){o=null,e(),i()})},e}]).provider("$$animateQueue",["$animateProvider",function(l){function a(e,t){if(e&&t){var n=function(e){if(!e)return null;e=e.split(" ");var t=Object.create(null);return ge(e,function(e){t[e]=!0}),t}(t);return e.split(" ").some(function(e){return n[e]})}}function I(e,t,n){return i[e].some(function(e){return e(t,n)})}function F(e,t){var n=0<(e.addClass||"").length,i=0<(e.removeClass||"").length;return t?n&&i:n||i}var i=this.rules={skip:[],cancel:[],join:[]};i.join.push(function(e,t){return!e.structural&&F(e)}),i.skip.push(function(e,t){return!e.structural&&!F(e)}),i.skip.push(function(e,t){return"leave"===t.event&&e.structural}),i.skip.push(function(e,t){return t.structural&&2===t.state&&!e.structural}),i.cancel.push(function(e,t){return t.structural&&e.structural}),i.cancel.push(function(e,t){return 2===t.state&&e.structural}),i.cancel.push(function(e,t){if(t.structural)return!1;var n=e.addClass,i=e.removeClass,r=t.addClass,o=t.removeClass;return!(j(n)&&j(i)||j(r)&&j(o))&&(a(n,o)||a(i,r))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$Map","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(m,v,y,b,e,w,x,t,n,i,C){function r(e,t,n){var i=d(t);return e.filter(function(e){return!(e.node===i&&(!n||e.callback===n))})}function o(i,r,e){function o(e,t,n,i){h(function(){var e=function(t,n,i){var r=[],e=T[i];return e&&ge(e,function(e){_.call(e.node,n)?r.push(e.callback):"leave"===i&&_.call(e.node,t)&&r.push(e.callback)}),r}(u,c,t);e.length?m(function(){ge(e,function(e){e(l,n,i)}),"close"!==n||c.parentNode||R.off(c)}):"close"!==n||c.parentNode||R.off(c)}),e.progress(t,n,i)}function a(e){var t=l,n=s;n.preparationClasses&&(t.removeClass(n.preparationClasses),n.preparationClasses=null),n.activeClasses&&(t.removeClass(n.activeClasses),n.activeClasses=null),P(l,s),Q(l,s),s.domOperation(),d.complete(!e)}var s=fe(e),l=O(i),c=ne(l),u=c&&c.parentNode,d=(s=J(s),new x),h=function(){var t=!1;return function(e){t?e():v.$$postDigest(function(){t=!0,e()})}}();if(me(s.addClass)&&(s.addClass=s.addClass.join(" ")),s.addClass&&!z(s.addClass)&&(s.addClass=null),me(s.removeClass)&&(s.removeClass=s.removeClass.join(" ")),s.removeClass&&!z(s.removeClass)&&(s.removeClass=null),s.from&&!B(s.from)&&(s.from=null),s.to&&!B(s.to)&&(s.to=null),!(A&&c&&M(c,r,e)&&D(c,s)))return a(),d;var p=0<=["enter","move","leave"].indexOf(r),t=C(),n=t||k.get(c),f=!!(e=!n&&E.get(c)||{}).state;if(n||f&&1===e.state||(n=!function(e,t,n){n=b[0].body;var i,r=ne(y),o=e===n||"HTML"===e.nodeName,a=e===r,s=!1,l=k.get(e);for((e=G.data(e,"$ngAnimatePin"))&&(t=ne(e));t&&(a=a||t===r,1===t.nodeType);){if(e=E.get(t)||{},!s){var c=k.get(t);if(!0===c&&!1!==l){l=!0;break}!1===c&&(l=!1),s=e.structural}if(!j(i)&&!0!==i||(e=G.data(t,"$$ngAnimateChildren"),H(e)&&(i=e)),s&&!1===i)break;if((o=o||t===n)&&a)break;t=a||!(e=G.data(t,"$ngAnimatePin"))?t.parentNode:ne(e)}return(!s||i)&&!0!==l&&a&&o}(c,u,r)),n)return t&&o(d,r,"start"),a(),t&&o(d,r,"close"),d;if(p&&function(e){e=e.querySelectorAll("[data-ng-animate]"),ge(e,function(e){var t=parseInt(e.getAttribute("data-ng-animate"),10),n=E.get(e);if(n)switch(t){case 2:n.runner.end();case 1:E.delete(e)}})}(c),t={structural:p,element:l,event:r,addClass:s.addClass,removeClass:s.removeClass,close:a,options:s,runner:d},f){if(I("skip",t,e))return 2===e.state?(a(),d):(N(l,e,t),e.runner);if(I("cancel",t,e))if(2===e.state)e.runner.end();else{if(!e.structural)return N(l,e,t),e.runner;e.close()}else if(I("join",t,e)){if(2!==e.state)return function(e,t,n){var i="";t&&(i=Z(t,"ng-",!0)),n.addClass&&(i=V(i,Z(n.addClass,"-add"))),n.removeClass&&(i=V(i,Z(n.removeClass,"-remove"))),i.length&&(n.preparationClasses=i,e.addClass(i))}(l,p?r:null,s),r=t.event=e.event,s=N(l,e,t),e.runner;N(l,t,{})}}else N(l,t,{});if((f=t.structural)||(f="animate"===t.event&&0<Object.keys(t.options.to||{}).length||F(t)),!f)return a(),S(c),d;var g=(e.counter||0)+1;return t.counter=g,$(c,1,t),v.$$postDigest(function(){l=O(i);var e=!(t=E.get(c)),t=t||{},n=0<(l.parent()||[]).length&&("animate"===t.event||t.structural||F(t));e||t.counter!==g||!n?(e&&(P(l,s),Q(l,s)),(e||p&&t.event!==r)&&(s.domOperation(),d.end()),n||S(c)):(r=!t.structural&&F(t,!0)?"setClass":t.event,$(c,2),t=w(l,r,t.options),d.setHost(t),o(d,r,"start",{}),t.done(function(e){a(!e),(e=E.get(c))&&e.counter===g&&S(c),o(d,r,"close",{})}))}),d}function S(e){e.removeAttribute("data-ng-animate"),E.delete(e)}function $(e,t,n){(n=n||{}).state=t,e.setAttribute("data-ng-animate",t),n=(t=E.get(e))?h(t,n):n,E.set(e,n)}var E=new e,k=new e,A=null,a=v.$watch(function(){return 0===t.totalPendingRequests},function(e){e&&(a(),v.$$postDigest(function(){v.$$postDigest(function(){null===A&&(A=!0)})}))}),T=Object.create(null);e=l.customFilter();var s=l.classNameFilter();i=function(){return!0};var M=e||i,D=s?function(e,t){var n=[e.getAttribute("class"),t.addClass,t.removeClass].join(" ");return s.test(n)}:i,P=L(n),_=c.Node.prototype.contains||function(e){return this===e||!!(16&this.compareDocumentPosition(e))},R={on:function(e,t,n){var i=d(t);T[e]=T[e]||[],T[e].push({node:i,callback:n}),G(t).on("$destroy",function(){E.get(i)||R.off(e,t,n)})},off:function(e,t,n){if(1!==arguments.length||z(e)){var i=T[e];i&&(T[e]=1===arguments.length?null:r(i,t,n))}else for(i in t=e,T)T[i]=r(T[i],t)},pin:function(e,t){u(p(e),"element","not an element"),u(p(t),"parentElement","not an element"),e.data("$ngAnimatePin",t)},push:function(e,t,n,i){return(n=n||{}).domOperation=i,o(e,t,n)},enabled:function(e,t){var n=arguments.length;if(0===n)t=!!A;else if(p(e)){var i=ne(e);1===n?t=!k.get(i):k.set(i,!t)}else t=A=!!e;return t}};return R}]}]).provider("$$animation",["$animateProvider",function(e){var b=this.drivers=[];this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$Map","$$rAFScheduler",function(d,h,p,f,g,m){var v=[],y=L(d);return function(t,n,i){function r(l){var c=[],o={};ge(l,function(e,n){var t=ne(e.element),i=0<=["enter","move"].indexOf(e.event);if((t=e.structural?function(e){e=e.hasAttribute("ng-animate-ref")?[e]:e.querySelectorAll("[ng-animate-ref]");var n=[];return ge(e,function(e){var t=e.getAttribute("ng-animate-ref");t&&t.length&&n.push(e)}),n}(t):[]).length){var r=i?"to":"from";ge(t,function(e){var t=e.getAttribute("ng-animate-ref");o[t]=o[t]||{},o[t][r]={animationID:n,element:G(e)}})}else c.push(e)});var u={},d={};return ge(o,function(e,t){var n=e.from,i=e.to;if(n&&i){var r=l[n.animationID],o=l[i.animationID],a=n.animationID.toString();if(!d[a]){var s=d[a]={structural:!0,beforeStart:function(){r.beforeStart(),o.beforeStart()},close:function(){r.close(),o.close()},classes:function(e,t){e=e.split(" "),t=t.split(" ");for(var n=[],i=0;i<e.length;i++){var r=e[i];if("ng-"!==r.substring(0,3))for(var o=0;o<t.length;o++)if(r===t[o]){n.push(r);break}}return n.join(" ")}(r.classes,o.classes),from:r,to:o,anchors:[]};s.classes.length?c.push(s):(c.push(r),c.push(o))}d[a].anchors.push({out:n.element,in:i.element})}else i=(n=n?n.animationID:i.animationID).toString(),u[i]||(u[i]=!0,c.push(l[n]))}),c}function o(){var e=t.data("$$animationRunner");!e||"leave"===n&&i.$$domOperationFired||e.end()}function e(e){t.off("$destroy",o),t.removeData("$$animationRunner"),y(t,i),Q(t,i),i.domOperation(),u&&d.removeClass(t,u),t.removeClass("ng-animate"),s.complete(!e)}i=J(i);var a=0<=["enter","move","leave"].indexOf(n),s=new f({end:function(){e()},cancel:function(){e(!0)}});if(!b.length)return e(),s;t.data("$$animationRunner",s);var l,c=w(t.attr("class"),w(i.addClass,i.removeClass)),u=i.tempClasses;return u&&(c+=" "+u,i.tempClasses=null),a&&(l="ng-"+n+"-prepare",d.addClass(t,l)),v.push({element:t,classes:c,event:n,structural:a,options:i,beforeStart:function(){t.addClass("ng-animate"),u&&d.addClass(t,u),l&&(d.removeClass(t,l),l=null)},close:e}),t.on("$destroy",o),1<v.length||h.$$postDigest(function(){var t=[];ge(v,function(e){e.element.data("$$animationRunner")?t.push(e):e.close()}),v.length=0;var e=r(t),n=[];ge(e,function(i){n.push({domNode:ne(i.from?i.from.element:i.element),fn:function(){i.beforeStart();var e,t=i.close;if((i.anchors?i.from.element||i.to.element:i.element).data("$$animationRunner")){var n=function(e){for(var t=b.length-1;0<=t;t--){var n=p.get(b[t])(e);if(n)return n}}(i);n&&(e=n.start)}e?((e=e()).done(function(e){t(!e)}),function(e,t){function n(e){(e=e.data("$$animationRunner"))&&e.setHost(t)}e.from&&e.to?(n(e.from.element),n(e.to.element)):n(e.element)}(i,e)):t()}})}),m(function(e){function r(e){if(e.processed)return e;e.processed=!0;var t,n=e.domNode,i=n.parentNode;for(a.set(n,e);i;){if(t=a.get(i)){t.processed||(t=r(t));break}i=i.parentNode}return(t||o).children.push(e),e}var t,o={children:[]},a=new g;for(t=0;t<e.length;t++){var n=e[t];a.set(n.domNode,e[t]={domNode:n.domNode,fn:n.fn,children:[]})}for(t=0;t<e.length;t++)r(e[t]);return function(e){var t,n=[],i=[];for(t=0;t<e.children.length;t++)i.push(e.children[t]);e=i.length;var r=0,o=[];for(t=0;t<i.length;t++){var a=i[t];e<=0&&(e=r,r=0,n.push(o),o=[]),o.push(a.fn),a.children.forEach(function(e){r++,i.push(e)}),e--}return o.length&&n.push(o),n}(o)}(n))}),s}}]}]).provider("$animateCss",["$animateProvider",function(e){var X=t(),K=t();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(V,H,B,z,n,j,t,G){function U(e,t){var n=e.parentNode;return(n.$$ngAnimateParentKey||(n.$$ngAnimateParentKey=++i))+"-"+e.getAttribute("class")+"-"+t}function W(e){r.push(e),t.waitUntilQuiet(function(){X.flush(),K.flush();for(var e=n(),t=0;t<r.length;t++)r[t](e);r.length=0})}function q(e,t,n){return(t=X.get(n))||"infinite"===(t=ae(V,e,o)).animationIterationCount&&(t.animationIterationCount=1),X.put(n,t),n=(e=t).animationDelay,t=e.transitionDelay,e.maxDelay=n&&t?Math.max(n,t):n||t,e.maxDuration=Math.max(e.animationDuration*e.animationIterationCount,e.transitionDuration),e}var Y=L(H),i=0,r=[];return function(a,e){function t(){s()}function n(){s(!0)}function s(e){if(!(p||g&&f)){f=!(p=!0),u.$$skipPreparationClasses||H.removeClass(a,P),H.removeClass(a,R),re(h,!1),ie(h,!1),ge(C,function(e){h.style[e[0]]=""}),Y(a,u),Q(a,u),Object.keys(d).length&&ge(d,function(e,t){e?h.style.setProperty(t,e):h.style.removeProperty(t)}),u.onDone&&u.onDone(),E&&E.length&&a.off(E.join(" "),c);var t=a.data("$$animateCss");t&&(z.cancel(t[0].timer),a.removeData("$$animateCss")),o&&o.complete(!e)}}function l(e){N.blockTransition&&ie(h,e),N.blockKeyframeAnimation&&re(h,!!e)}function i(){return o=new B({end:t,cancel:n}),W(ve),s(),{$$willAnimate:!1,start:function(){return o},end:t}}function c(e){e.stopPropagation();var t=e.originalEvent||e;t.target===h&&(e=t.$manualTimeStamp||Date.now(),t=parseFloat(t.elapsedTime.toFixed(3)),Math.max(e-x,0)>=y&&b<=t&&(g=!0,s()))}function r(){function e(){if(!p){if(l(!1),ge(C,function(e){h.style[e[0]]=e[1]}),Y(a,u),H.addClass(a,R),N.recalculateTimingStyles){if(_=h.getAttribute("class")+" "+P,M=U(h,_),F=q(h,_,M),O=F.maxDelay,v=Math.max(O,0),0===(b=F.maxDuration))return void s();N.hasTransitions=0<F.transitionDuration,N.hasAnimations=0<F.animationDuration}if(N.applyAnimationDelay&&(O="boolean"!=typeof u.delay&&se(u.delay)?parseFloat(u.delay):O,v=Math.max(O,0),F.animationDelay=O,L=[ye,O+"s"],C.push(L),h.style[L[0]]=L[1]),y=1e3*v,w=1e3*b,u.easing){var e,t=u.easing;N.hasTransitions&&(e=ue+"TimingFunction",C.push([e,t]),h.style[e]=t),N.hasAnimations&&(e=he+"TimingFunction",C.push([e,t]),h.style[e]=t)}F.transitionDuration&&E.push(de),F.animationDuration&&E.push(pe),x=Date.now();var n=y+1.5*w;e=x+n;var i=!0;if((t=a.data("$$animateCss")||[]).length){var r=t[0];(i=e>r.expectedEndTime)?z.cancel(r.timer):t.push(s)}i&&(n=z(o,n,!1),t[0]={timer:n,expectedEndTime:e},t.push(s),a.data("$$animateCss",t)),E.length&&a.on(E.join(" "),c),u.to&&(u.cleanupStyles&&ce(d,h,Object.keys(u.to)),te(a,u))}}function o(){var e=a.data("$$animateCss");if(e){for(var t=1;t<e.length;t++)e[t]();a.removeData("$$animateCss")}}if(!p)if(h.parentNode){var t=function(e){if(g)f&&e&&(f=!1,s());else if(f=!e,F.animationDuration)if(e=re(h,f),f)C.push(e);else{var t=C,n=t.indexOf(e);0<=e&&t.splice(n,1)}},n=0<I&&(F.transitionDuration&&0===D.transitionDuration||F.animationDuration&&0===D.animationDuration)&&Math.max(D.animationDelay,D.transitionDelay);n?z(e,Math.floor(n*I*1e3),!1):e(),m.resume=function(){t(!0)},m.pause=function(){t(!1)}}else s()}var u=e||{};u.$$prepared||(u=J(fe(u)));var d={},h=ne(a);if(!h||!h.parentNode||!G.enabled())return i();var p,f,g,o,m,v,y,b,w,x,C=[],S=a.attr("class"),$=function(e){var t={};return e&&(e.to||e.from)&&(t.to=e.to,t.from=e.from),t}(u),E=[];if(0===u.duration||!j.animations&&!j.transitions)return i();var k=u.event&&me(u.event)?u.event.join(" "):u.event,A="",T="";k&&u.structural?A=Z(k,"ng-",!0):k&&(A=k),u.addClass&&(T+=Z(u.addClass,"-add")),u.removeClass&&(T.length&&(T+=" "),T+=Z(u.removeClass,"-remove")),u.applyClassesEarly&&T.length&&Y(a,u);var M,D,P=[A,T].join(" ").trim(),_=S+" "+P,R=Z(P,"-active");S=$.to&&0<Object.keys($.to).length;if(!(0<(u.keyframeStyle||"").length||S||P))return i();D=0<u.stagger?{transitionDelay:$=parseFloat(u.stagger),animationDelay:$,transitionDuration:0,animationDuration:0}:(M=U(h,_),function(e,t,n,i){var r;return 0<X.count(n)&&((r=K.get(n))||(t=Z(t,"-stagger"),H.addClass(e,t),(r=ae(V,e,i)).animationDuration=Math.max(r.animationDuration,0),r.transitionDuration=Math.max(r.transitionDuration,0),H.removeClass(e,t),K.put(n,r))),r||{}}(h,P,M,xe)),u.$$skipPreparationClasses||H.addClass(a,P),u.transitionStyle&&($=[ue,u.transitionStyle],oe(h,$),C.push($)),0<=u.duration&&($=0<h.style[ue].length,$=le(u.duration,$),oe(h,$),C.push($)),u.keyframeStyle&&($=[he,u.keyframeStyle],oe(h,$),C.push($));var I=D?0<=u.staggerIndex?u.staggerIndex:X.count(M):0;(k=0===I)&&!u.skipBlocking&&ie(h,9999);var F=q(h,_,M),O=F.maxDelay;v=Math.max(O,0),b=F.maxDuration;var L,N={};if(N.hasTransitions=0<F.transitionDuration,N.hasAnimations=0<F.animationDuration,N.hasTransitionAll=N.hasTransitions&&"all"===F.transitionProperty,N.applyTransitionDuration=S&&(N.hasTransitions&&!N.hasTransitionAll||N.hasAnimations&&!N.hasTransitions),N.applyAnimationDuration=u.duration&&N.hasAnimations,N.applyTransitionDelay=se(u.delay)&&(N.applyTransitionDuration||N.hasTransitions),N.applyAnimationDelay=se(u.delay)&&N.hasAnimations,N.recalculateTimingStyles=0<T.length,(N.applyTransitionDuration||N.applyAnimationDuration)&&(b=u.duration?parseFloat(u.duration):b,N.applyTransitionDuration&&(N.hasTransitions=!0,F.transitionDuration=b,$=0<h.style[ue+"Property"].length,C.push(le(b,$))),N.applyAnimationDuration&&(N.hasAnimations=!0,F.animationDuration=b,C.push([be,b+"s"]))),0===b&&!N.recalculateTimingStyles)return i();null!=u.delay&&("boolean"!=typeof u.delay&&(L=parseFloat(u.delay),v=Math.max(L,0)),N.applyTransitionDelay&&C.push([we,L+"s"]),N.applyAnimationDelay&&C.push([ye,L+"s"]));return null==u.duration&&0<F.transitionDuration&&(N.recalculateTimingStyles=N.recalculateTimingStyles||k),y=1e3*v,w=1e3*b,u.skipBlocking||(N.blockTransition=0<F.transitionDuration,N.blockKeyframeAnimation=0<F.animationDuration&&0<D.animationDelay&&0===D.animationDuration),u.from&&(u.cleanupStyles&&ce(d,h,Object.keys(u.from)),ee(a,u)),N.blockTransition||N.blockKeyframeAnimation?l(b):u.skipBlocking||ie(h,!1),{$$willAnimate:!0,end:t,start:function(){if(!p)return o=new B(m={end:t,cancel:n,resume:null,pause:null}),W(r),o}}}}]}]).provider("$$animateCssDriver",["$$animationProvider",function(e){e.drivers.push("$$animateCssDriver"),this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(d,e,h,t,n,i,r){function p(e){return e.replace(/\bng-\S+\b/g,"")}function f(e,t){return z(e)&&(e=e.split(" ")),z(t)&&(t=t.split(" ")),e.filter(function(e){return-1===t.indexOf(e)}).join(" ")}function o(e,t,n,i){var r=s(e),o=s(t),a=[];if(ge(i,function(e){(e=function(e,t,n){function i(e){var n={},i=ne(e).getBoundingClientRect();return ge(["width","height","top","left"],function(e){var t=i[e];switch(e){case"top":t+=g.scrollTop;break;case"left":t+=g.scrollLeft}n[e]=Math.floor(t)+"px"}),n}function r(){var e=f(t=p(n.attr("class")||""),c),t=f(c,t);return(e=d(l,{to:i(n),addClass:"ng-anchor-in "+e,removeClass:"ng-anchor-out "+t,delay:!0})).$$willAnimate?e:null}function o(){l.remove(),t.removeClass("ng-animate-shim"),n.removeClass("ng-animate-shim")}var a,s,l=G(ne(t).cloneNode(!0)),c=p(l.attr("class")||"");if(t.addClass("ng-animate-shim"),n.addClass("ng-animate-shim"),l.addClass("ng-anchor"),m.append(l),!(e=(s=d(l,{addClass:"ng-anchor-out",delay:!0,from:i(t)})).$$willAnimate?s:null)&&!(a=r()))return o();var u=e||a;return{start:function(){function e(){n&&n.end()}var t,n=u.start();return n.done(function(){if(n=null,!a&&(a=r()))return(n=a.start()).done(function(){n=null,o(),t.complete()}),n;o(),t.complete()}),t=new h({end:e,cancel:e})}}}(n,e.out,e.in))&&a.push(e)}),r||o||0!==a.length)return{start:function(){function e(){ge(t,function(e){e.end()})}var t=[];r&&t.push(r.start()),o&&t.push(o.start()),ge(a,function(e){t.push(e.start())});var n=new h({end:e,cancel:e});return h.all(t,function(e){n.complete(e)}),n}}}function s(e){var t=e.element,n=e.options||{};return e.structural&&(n.event=e.event,n.structural=!0,n.applyClassesEarly=!0,"leave"===e.event&&(n.onDone=n.domOperation)),n.preparationClasses&&(n.event=V(n.event,n.preparationClasses)),(e=d(t,n)).$$willAnimate?e:null}if(!n.animations&&!n.transitions)return ve;var g=r[0].body;e=ne(t);var m=G(e.parentNode&&11===e.parentNode.nodeType||g.contains(e)?e:g);return function(e){return e.from&&e.to?o(e.from,e.to,e.classes,e.anchors):s(e)}}]}]).provider("$$animateJs",["$animateProvider",function(b){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(m,v,e){var y=L(e);return function(i,e,t,r){function o(){r.domOperation(),y(i,r)}function l(a,s,l,e,t){var n=[];return ge(e,function(e){var o=e[t];o&&n.push(function(){function t(e){r||(r=!0,(i||ve)(e),n.complete(!e))}var n,i,r=!1;return n=new v({end:function(){t()},cancel:function(){t(!0)}}),i=function(e,t,n,i,r){switch(n){case"animate":t=[t,i.from,i.to,r];break;case"setClass":t=[t,p,f,r];break;case"addClass":t=[t,p,r];break;case"removeClass":t=[t,f,r];break;default:t=[t,r]}if(t.push(i),e=e.apply(e,t))if(x(e.start)&&(e=e.start()),e instanceof v)e.done(r);else if(x(e))return e;return ve}(o,a,s,l,function(e){t(!1===e)}),n})}),n}function n(e,t,n,i,r){var o,a,s=l(e,t,n,i,r);0===s.length&&("beforeSetClass"===r?(o=l(e,"removeClass",n,i,"beforeRemoveClass"),a=l(e,"addClass",n,i,"beforeAddClass")):"setClass"===r&&(o=l(e,"removeClass",n,i,"removeClass"),a=l(e,"addClass",n,i,"addClass")),o&&(s=s.concat(o)),a&&(s=s.concat(a)));if(0!==s.length)return function(e){var n=[];return s.length&&ge(s,function(e){n.push(e())}),n.length?v.all(n,e):e(),function(t){ge(n,function(e){t?e.cancel():e.end()})}}}var a=!1;3===arguments.length&&B(t)&&(r=t,t=null),r=J(r),t||(t=i.attr("class")||"",r.addClass&&(t+=" "+r.addClass),r.removeClass&&(t+=" "+r.removeClass));var s,c,u,d,h,p=r.addClass,f=r.removeClass,g=function(e){e=me(e)?e:e.split(" ");for(var t=[],n={},i=0;i<e.length;i++){var r=e[i],o=b.$$registeredAnimations[r];o&&!n[r]&&(t.push(m.get(o)),n[r]=!0)}return t}(t);g.length&&(u="leave"===e?(d="leave","afterLeave"):(d="before"+e.charAt(0).toUpperCase()+e.substr(1),e),"enter"!==e&&"move"!==e&&(s=n(i,e,r,g,d)),c=n(i,e,r,g,u));if(s||c)return{$$willAnimate:!0,end:function(){return h?h.end():(a=!0,o(),Q(i,r),(h=new v).complete(!0)),h},start:function(){function e(e){a=!0,o(),Q(i,r),h.complete(e)}if(h)return h;h=new v;var t,n=[];return s&&n.push(function(e){t=s(e)}),n.length?n.push(function(e){o(),e(!0)}):o(),c&&n.push(function(e){t=c(e)}),h.setHost({end:function(){a||((t||ve)(void 0),e(void 0))},cancel:function(){a||((t||ve)(!0),e(!0))}}),v.chain(n,e),h}}}}]}]).provider("$$animateJsDriver",["$$animationProvider",function(e){e.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(t,o){function n(e){return t(e.element,e.event,e.classes,e.options)}return function(e){if(!e.from||!e.to)return n(e);var i=n(e.from),r=n(e.to);return i||r?{start:function(){function e(){return function(){ge(t,function(e){e.end()})}}var t=[];i&&t.push(i.start()),r&&t.push(r.start()),o.all(t,function(e){n.complete(e)});var n=new o({end:e(),cancel:e()});return n}}:void 0}}]}])}(window,window.angular),function(){"use strict";angular.module("ui.mask",[]).value("uiMaskConfig",{maskDefinitions:{9:/\d/,A:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/},clearOnBlur:!0,clearOnBlurPlaceholder:!1,escChar:"\\",eventsToHandle:["input","keyup","click","focus"],addDefaultPlaceholder:!0,allowInvalidValue:!1}).provider("uiMask.Config",function(){var i={};this.maskDefinitions=function(e){return i.maskDefinitions=e},this.clearOnBlur=function(e){return i.clearOnBlur=e},this.clearOnBlurPlaceholder=function(e){return i.clearOnBlurPlaceholder=e},this.eventsToHandle=function(e){return i.eventsToHandle=e},this.addDefaultPlaceholder=function(e){return i.addDefaultPlaceholder=e},this.allowInvalidValue=function(e){return i.allowInvalidValue=e},this.$get=["uiMaskConfig",function(e){var t=e;for(var n in i)angular.isObject(i[n])&&!angular.isArray(i[n])?angular.extend(t[n],i[n]):t[n]=i[n];return t}]}).directive("uiMask",["uiMask.Config",function(e){function B(e){return e===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(e.type||e.href||~e.tabIndex)}return{priority:100,require:"ngModel",restrict:"A",compile:function(){var H=angular.copy(e);return function($,E,a,k){function e(e){return angular.isDefined(e)?(function(e){var n=0;if(R=[],d=[],I="",angular.isString(e)){var i=!1,r=p=0,t=e.split(""),o=!1;angular.forEach(t,function(e,t){o?(o=!1,I+=e,n++):C.escChar===e?o=!0:C.maskDefinitions[e]?(R.push(n),I+=function(e){var t,n=angular.isDefined(a.uiMaskPlaceholder)?a.uiMaskPlaceholder:a.placeholder;return angular.isDefined(n)&&n[e]?n[e]:"space"===(t=angular.isDefined(a.uiMaskPlaceholderChar)&&a.uiMaskPlaceholderChar?a.uiMaskPlaceholderChar:"_").toLowerCase()?" ":t[0]}(t-r),d.push(C.maskDefinitions[e]),n++,i||p++,i=!1):"?"===e?(i=!0,r++):(I+=e,n++)})}R.push(R.slice().pop()+1),h=function(){var n,e,t=I.split("");R&&!isNaN(R[0])&&angular.forEach(R,function(e){t[e]="_"}),n=t.join(""),e=(e=n.replace(/[_]+/g,"_").split("_")).filter(function(e){return""!==e});var i=0;return e.map(function(e){var t=n.indexOf(e,i);return i=t+1,{value:e,position:t}})}(),m=1<R.length}(e),m?(function(){f=O=A(k.$modelValue||""),F=T(f),g=r(f),a.maxlength&&E.attr("maxlength",2*R[R.length-1]),!y&&C.addDefaultPlaceholder&&E.attr("placeholder",I);for(var e=k.$modelValue,t=k.$formatters.length;t--;)e=k.$formatters[t](e);k.$viewValue=e||"",k.$render()}(),v||(E.bind("blur",o),E.bind("mousedown mouseup",s),E.bind("keydown",c),E.bind(C.eventsToHandle.join(" "),u),v=!0),!0):i()):i()}function t(e){e&&(I=e,!m||0===E.val().length&&angular.isDefined(a.placeholder)||E.val(T(A(E.val()))))}function n(e){return m?(f=A(e||""),g=r(f),k.$setValidity("mask",g),f.length&&(g||C.allowInvalidValue)?T(f):void 0):e}function i(){return m=!1,v&&(E.unbind("blur",o),E.unbind("mousedown",s),E.unbind("mouseup",s),E.unbind("keydown",c),E.unbind("input",u),E.unbind("keyup",u),E.unbind("click",u),E.unbind("focus",u),v=!1),angular.isDefined(y)?E.attr("placeholder",y):E.removeAttr("placeholder"),angular.isDefined(b)?E.attr("maxlength",b):E.removeAttr("maxlength"),E.val(k.$modelValue),k.$viewValue=k.$modelValue,!1}function r(e){return!e.length||e.length>=p}function A(n){var i,r,t="",e=E[0],o=d.slice(),a=L,s=a+_(e),l="";return n=n.toString(),i=0,r=n.length-I.length,angular.forEach(h,function(e){var t=e.position;a<=t&&t<s||(a<=t&&(t+=r),n.substring(t,t+e.value.length)===e.value&&(l+=n.slice(i,t),i=t+e.value.length))}),n=l+n.slice(i),angular.forEach(n.split(""),function(e){o.length&&o[0].test(e)&&(t+=e,o.shift())}),t}function T(n){var i="",r=R.slice();return angular.forEach(I.split(""),function(e,t){n.length&&t===r[0]?(i+=n.charAt(0)||"_",n=n.substr(1),r.shift()):i+=e}),i}function o(){if((C.clearOnBlur||C.clearOnBlurPlaceholder&&0===f.length&&a.placeholder)&&(N=L=0,g&&0!==f.length||("",E.val(""),$.$apply(function(){k.$pristine||k.$setViewValue("")}))),f!==S){var e=E.val(),t=""===f&&e&&angular.isDefined(a.uiMaskPlaceholderChar)&&"space"===a.uiMaskPlaceholderChar;t&&E.val(""),function(e){var t;if(angular.isFunction(window.Event)&&!e.fireEvent)try{t=new Event("change",{view:window,bubbles:!0,cancelable:!1})}catch(e){(t=document.createEvent("HTMLEvents")).initEvent("change",!1,!0)}finally{e.dispatchEvent(t)}else"createEvent"in document?((t=document.createEvent("HTMLEvents")).initEvent("change",!1,!0),e.dispatchEvent(t)):e.fireEvent&&e.fireEvent("onchange")}(E[0]),t&&E.val(e)}S=f}function s(e){"mousedown"===e.type?E.bind("mouseout",l):E.unbind("mouseout",l)}function l(){N=_(this),E.unbind("mouseout",l)}function c(e){var t=8===e.which,n=D(this)-1||0,i=90===e.which&&e.ctrlKey;if(t){for(;0<=n;){if(M(n)){P(this,n+1);break}n--}V=-1===n}i&&(E.val(""),e.preventDefault())}function u(e){var t=(e=e||{}).which,n=e.type;if(16!==t&&91!==t){var i,r=E.val(),o=F,a=!1,s=A(r),l=O,c=D(this)||0,u=L||0,d=c-u,h=R[0],p=R[s.length]||R.slice().shift(),f=N||0,g=0<_(this),m=0<f,v=r.length>o.length||f&&r.length>o.length-f,y=r.length<o.length||f&&r.length===o.length-f,b=37<=t&&t<=40&&e.shiftKey,w=8===t||"keyup"!==n&&y&&-1==d,x=46===t||"keyup"!==n&&y&&0==d&&!m,C=(37===t||w||"click"===n)&&h<c;if(N=_(this),!b&&(!g||"click"!==n&&"keyup"!==n&&"focus"!==n)){if(w&&V)return E.val(I),$.$apply(function(){k.$setViewValue("")}),void P(this,u);if("input"===n&&y&&!m&&s===l){for(;w&&h<c&&!M(c);)c--;for(;x&&c<p&&-1===R.indexOf(c);)c++;var S=R.indexOf(c);(s=s.substring(0,S)+s.substring(S+1))!==l&&(a=!0)}for(i=T(s),F=i,O=s,!a&&r.length>i.length&&(a=!0),E.val(i),a&&$.$apply(function(){k.$setViewValue(i)}),v&&c<=h&&(c=h+1),C&&c--,c=p<c?p:c<h?h:c;!M(c)&&h<c&&c<p;)c+=C?-1:1;(C&&c<p||v&&!M(u))&&c++,P(this,L=c)}}}function M(e){return-1<R.indexOf(e)}function D(e){if(!e)return 0;if(void 0!==e.selectionStart)return e.selectionStart;if(document.selection&&B(E[0])){e.focus();var t=document.selection.createRange();return t.moveStart("character",e.value?-e.value.length:0),t.text.length}return 0}function P(e,t){if(!e)return 0;if(0!==e.offsetWidth&&0!==e.offsetHeight)if(e.setSelectionRange)B(E[0])&&(e.focus(),e.setSelectionRange(t,t));else if(e.createTextRange){var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select()}}function _(e){return e?void 0!==e.selectionStart?e.selectionEnd-e.selectionStart:window.getSelection?window.getSelection().toString().length:document.selection?document.selection.createRange().text.length:0:0}var R,d,I,h,p,f,g,F,O,L,N,V,m=!1,v=!1,y=a.placeholder,b=a.maxlength,w=k.$isEmpty,x=!(k.$isEmpty=function(e){return w(m?A(e||""):e)});a.$observe("modelViewValue",function(e){"true"===e&&(x=!0)}),a.$observe("allowInvalidValue",function(e){C.allowInvalidValue=""===e||!!e,n(k.$modelValue)});var C={};C=a.uiOptions?(C=$.$eval("["+a.uiOptions+"]"),angular.isObject(C[0])?function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(void 0===t[n]?t[n]=angular.copy(e[n]):angular.isObject(t[n])&&!angular.isArray(t[n])&&(t[n]=angular.extend({},e[n],t[n])));return t}(H,C[0]):H):H,a.$observe("uiMask",e),angular.isDefined(a.uiMaskPlaceholder)?a.$observe("uiMaskPlaceholder",t):a.$observe("placeholder",t),angular.isDefined(a.uiMaskPlaceholderChar)&&a.$observe("uiMaskPlaceholderChar",function(){return e(a.uiMask)}),k.$formatters.unshift(n),k.$parsers.unshift(function(e){return m?(f=A(e||""),g=r(f),k.$viewValue=f.length?T(f):"",k.$setValidity("mask",g),g||C.allowInvalidValue?x?k.$viewValue:f:void 0):e});var S=E.val();E.bind("mousedown mouseup",s),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null===this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(0==n)return-1;var i=0;if(1<arguments.length&&((i=Number(arguments[1]))!=i?i=0:0!==i&&i!==1/0&&i!==-1/0&&(i=(0<i||-1)*Math.floor(Math.abs(i)))),n<=i)return-1;for(var r=0<=i?i:Math.max(n-Math.abs(i),0);r<n;r++)if(r in t&&t[r]===e)return r;return-1})}}}}])}(),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.d3=e.d3||{})}(this,function(H){"use strict";function u(e,t){return[e,t]}function $(e,t,n){var i=Math.abs(t-e)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/r;return ps<=o?r*=10:fs<=o?r*=5:gs<=o&&(r*=2),t<e?-r:r}function s(e){return e.length}function e(e){return"translate("+e+",0)"}function n(e){return"translate(0,"+e+")"}function A(){return!this.__axis}function t(g,m){function t(e){var t=null==b?m.ticks?m.ticks.apply(m,y):m.domain():b,n=null==w?m.tickFormat?m.tickFormat.apply(m,y):ws:w,i=Math.max(x,0)+S,r=m.range(),o=r[0]+.5,a=r[r.length-1]+.5,s=(m.bandwidth?function(t){var n=t.bandwidth()/2;return t.round()&&(n=Math.round(n)),function(e){return t(e)+n}}:ws)(m.copy()),l=e.selection?e.selection():e,c=l.selectAll(".domain").data([null]),u=l.selectAll(".tick").data(t,m).order(),d=u.exit(),h=u.enter().append("g").attr("class","tick"),p=u.select("line"),f=u.select("text");c=c.merge(c.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),u=u.merge(h),p=p.merge(h.append("line").attr("stroke","#000").attr(v+"2",$*x).attr(E+"1",.5).attr(E+"2",.5)),f=f.merge(h.append("text").attr("fill","#000").attr(v,$*i).attr(E,.5).attr("dy",g===xs?"0em":g===Ss?"0.71em":"0.32em")),e!==l&&(c=c.transition(e),u=u.transition(e),p=p.transition(e),f=f.transition(e),d=d.transition(e).attr("opacity",Es).attr("transform",function(e){return isFinite(e=s(e))?k(e):this.getAttribute("transform")}),h.attr("opacity",Es).attr("transform",function(e){var t=this.parentNode.__axis;return k(t&&isFinite(t=t(e))?t:s(e))})),d.remove(),c.attr("d",g===$s||g==Cs?"M"+$*C+","+o+"H0.5V"+a+"H"+$*C:"M"+o+","+$*C+"V0.5H"+a+"V"+$*C),u.attr("opacity",1).attr("transform",function(e){return k(s(e))}),p.attr(v+"2",$*x),f.attr(v,$*i).text(n),l.filter(A).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",g===Cs?"start":g===$s?"end":"middle"),l.each(function(){this.__axis=s})}var v,y=[],b=null,w=null,x=6,C=6,S=3,$=g===xs||g===$s?-1:1,E=g===$s||g===Cs?(v="x","y"):(v="y","x"),k=g===xs||g===Ss?e:n;return t.scale=function(e){return arguments.length?(m=e,t):m},t.ticks=function(){return y=bs.call(arguments),t},t.tickArguments=function(e){return arguments.length?(y=null==e?[]:bs.call(e),t):y.slice()},t.tickValues=function(e){return arguments.length?(b=null==e?null:bs.call(e),t):b&&b.slice()},t.tickFormat=function(e){return arguments.length?(w=e,t):w},t.tickSize=function(e){return arguments.length?(x=C=+e,t):x},t.tickSizeInner=function(e){return arguments.length?(x=+e,t):x},t.tickSizeOuter=function(e){return arguments.length?(C=+e,t):C},t.tickPadding=function(e){return arguments.length?(S=+e,t):S},t}function P(){for(var e,t=0,n=arguments.length,i={};t<n;++t){if(!(e=arguments[t]+"")||e in i)throw new Error("illegal type: "+e);i[e]=[]}return new r(i)}function r(e){this._=e}function l(e,t){for(var n,i=0,r=e.length;i<r;++i)if((n=e[i]).name===t)return n.value}function c(e,t,n){for(var i=0,r=e.length;i<r;++i)if(e[i].name===t){e[i]=ks,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=n&&e.push({name:t,value:n}),e}function i(){return new o}function o(){this._="@"+(++Ps).toString(36)}function a(n,e,t){return n=h(n,e,t),function(e){var t=e.relatedTarget;t&&(t===this||8&t.compareDocumentPosition(this))||n.call(this,e)}}function h(n,i,r){return function(e){var t=H.event;H.event=e;try{n.call(this,this.__data__,i,r)}finally{H.event=t}}}function d(o){return function(){var e=this.__on;if(e){for(var t,n=0,i=-1,r=e.length;n<r;++n)t=e[n],o.type&&t.type!==o.type||t.name!==o.name?e[++i]=t:this.removeEventListener(t.type,t.listener,t.capture);++i?e.length=i:delete this.__on}}}function p(l,c,u){var d=Os.hasOwnProperty(l.type)?a:h;return function(e,t,n){var i,r=this.__on,o=d(c,t,n);if(r)for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===l.type&&i.name===l.name)return this.removeEventListener(i.type,i.listener,i.capture),this.addEventListener(i.type,i.listener=o,i.capture=u),void(i.value=c);this.addEventListener(l.type,o,u),i={type:l.type,name:l.name,value:c,listener:o,capture:u},r?r.push(i):this.__on=[i]}}function _(e,t,n,i){var r=H.event;e.sourceEvent=H.event,H.event=e;try{return t.apply(n,i)}finally{H.event=r}}function f(){}function g(){return[]}function m(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function x(e,t,n,i,r,o){for(var a,s=0,l=t.length,c=o.length;s<c;++s)(a=t[s])?(a.__data__=o[s],i[s]=a):n[s]=new m(e,o[s]);for(;s<l;++s)(a=t[s])&&(r[s]=a)}function C(e,t,n,i,r,o,a){var s,l,c,u={},d=t.length,h=o.length,p=new Array(d);for(s=0;s<d;++s)(l=t[s])&&(p[s]=c="$"+a.call(l,l.__data__,s,t),c in u?r[s]=l:u[c]=l);for(s=0;s<h;++s)(l=u[c="$"+a.call(e,o[s],s,o)])?((i[s]=l).__data__=o[s],u[c]=null):n[s]=new m(e,o[s]);for(s=0;s<d;++s)(l=t[s])&&u[p[s]]===l&&(r[s]=l)}function v(e,t){return e<t?-1:t<e?1:t<=e?0:NaN}function y(e){return e.trim().split(/^|\s+/)}function b(e){return e.classList||new w(e)}function w(e){this._node=e,this._names=y(e.getAttribute("class")||"")}function S(e,t){for(var n=b(e),i=-1,r=t.length;++i<r;)n.add(t[i])}function E(e,t){for(var n=b(e),i=-1,r=t.length;++i<r;)n.remove(t[i])}function k(){this.textContent=""}function T(){this.innerHTML=""}function M(){this.nextSibling&&this.parentNode.appendChild(this)}function D(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function R(){return null}function I(){var e=this.parentNode;e&&e.removeChild(this)}function F(e,t,n){var i=js(e),r=i.CustomEvent;r?r=new r(t,n):(r=i.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function O(e,t){this._groups=e,this._parents=t}function L(){return new O([[document.documentElement]],Gs)}function N(){H.event.stopImmediatePropagation()}function B(e,t){var n=e.document.documentElement,i=qs(e).on("dragstart.drag",null);t&&(i.on("click.drag",Ys,!0),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function V(e,t,n,i,r,o,a,s,l,c){this.target=e,this.type=t,this.subject=n,this.identifier=i,this.active=r,this.x=o,this.y=a,this.dx=s,this.dy=l,this._=c}function z(){return!H.event.button}function j(){return this.parentNode}function G(e){return null==e?{x:H.event.x,y:H.event.y}:e}function U(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function W(){}function q(e){var t;return e=(e+"").trim().toLowerCase(),(t=el.exec(e))?new J((t=parseInt(t[1],16))>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):(t=tl.exec(e))?Y(parseInt(t[1],16)):(t=nl.exec(e))?new J(t[1],t[2],t[3],1):(t=il.exec(e))?new J(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=rl.exec(e))?X(t[1],t[2],t[3],t[4]):(t=ol.exec(e))?X(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=al.exec(e))?Q(t[1],t[2]/100,t[3]/100,1):(t=sl.exec(e))?Q(t[1],t[2]/100,t[3]/100,t[4]):ll.hasOwnProperty(e)?Y(ll[e]):"transparent"===e?new J(NaN,NaN,NaN,0):null}function Y(e){return new J(e>>16&255,e>>8&255,255&e,1)}function X(e,t,n,i){return i<=0&&(e=t=n=NaN),new J(e,t,n,i)}function K(e){return e instanceof W||(e=q(e)),e?new J((e=e.rgb()).r,e.g,e.b,e.opacity):new J}function Z(e,t,n,i){return 1===arguments.length?K(e):new J(e,t,n,null==i?1:i)}function J(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}function Q(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||1<=n?e=t=NaN:t<=0&&(e=NaN),new te(e,t,n,i)}function ee(e,t,n,i){return 1===arguments.length?function(e){if(e instanceof te)return new te(e.h,e.s,e.l,e.opacity);if(e instanceof W||(e=q(e)),!e)return new te;if(e instanceof te)return e;var t=(e=e.rgb()).r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),o=Math.max(t,n,i),a=NaN,s=o-r,l=(o+r)/2;return s?(a=t===o?(n-i)/s+6*(n<i):n===o?(i-t)/s+2:(t-n)/s+4,s/=l<.5?o+r:2-o-r,a*=60):s=0<l&&l<1?0:a,new te(a,s,l,e.opacity)}(e):new te(e,t,n,null==i?1:i)}function te(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}function ne(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function ie(e){if(e instanceof oe)return new oe(e.l,e.a,e.b,e.opacity);if(e instanceof de){var t=e.h*cl;return new oe(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}e instanceof J||(e=K(e));var n=ce(e.r),i=ce(e.g),r=ce(e.b),o=ae((.4124564*n+.3575761*i+.1804375*r)/dl),a=ae((.2126729*n+.7151522*i+.072175*r)/hl);return new oe(116*a-16,500*(o-a),200*(a-ae((.0193339*n+.119192*i+.9503041*r)/pl)),e.opacity)}function re(e,t,n,i){return 1===arguments.length?ie(e):new oe(e,t,n,null==i?1:i)}function oe(e,t,n,i){this.l=+e,this.a=+t,this.b=+n,this.opacity=+i}function ae(e){return ml<e?Math.pow(e,1/3):e/gl+fl}function se(e){return 6/29<e?e*e*e:gl*(e-fl)}function le(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function ce(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function ue(e,t,n,i){return 1===arguments.length?function(e){if(e instanceof de)return new de(e.h,e.c,e.l,e.opacity);e instanceof oe||(e=ie(e));var t=Math.atan2(e.b,e.a)*ul;return new de(t<0?360+t:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}(e):new de(e,t,n,null==i?1:i)}function de(e,t,n,i){this.h=+e,this.c=+t,this.l=+n,this.opacity=+i}function he(e,t,n,i){return 1===arguments.length?function(e){if(e instanceof pe)return new pe(e.h,e.s,e.l,e.opacity);e instanceof J||(e=K(e));var t=e.r/255,n=e.g/255,i=e.b/255,r=(Cl*i+wl*t-xl*n)/(Cl+wl-xl),o=i-r,a=(bl*(n-r)-vl*o)/yl,s=Math.sqrt(a*a+o*o)/(bl*r*(1-r)),l=s?Math.atan2(a,o)*ul-120:NaN;return new pe(l<0?l+360:l,s,r,e.opacity)}(e):new pe(e,t,n,null==i?1:i)}function pe(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}function fe(e,t,n,i,r){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*i+a*r)/6}function ge(t,n){return function(e){return t+e*n}}function me(e,t){var n=t-e;return n?ge(e,180<n||n<-180?n-360*Math.round(n/360):n):Ll(isNaN(e)?t:e)}function ve(n){return 1==(n=+n)?ye:function(e,t){return t-e?function(t,n,i){return t=Math.pow(t,i),n=Math.pow(n,i)-t,i=1/i,function(e){return Math.pow(t+e*n,i)}}(e,t,n):Ll(isNaN(e)?t:e)}}function ye(e,t){var n=t-e;return n?ge(e,n):Ll(isNaN(e)?t:e)}function be(s){return function(e){var t,n,i=e.length,r=new Array(i),o=new Array(i),a=new Array(i);for(t=0;t<i;++t)n=Z(e[t]),r[t]=n.r||0,o[t]=n.g||0,a[t]=n.b||0;return r=s(r),o=s(o),a=s(a),n.opacity=1,function(e){return n.r=r(e),n.g=o(e),n.b=a(e),n+""}}}function we(n,s,l,a){function c(e){return e.length?e.pop()+" ":""}return function(e,t){var r=[],o=[];return e=n(e),t=n(t),function(e,t,n,i,r,o){if(e!==n||t!==i){var a=r.push("translate(",null,s,null,l);o.push({i:a-4,x:Bl(e,n)},{i:a-2,x:Bl(t,i)})}else(n||i)&&r.push("translate("+n+s+i+l)}(e.translateX,e.translateY,t.translateX,t.translateY,r,o),function(e,t,n,i){e!==t?(180<e-t?t+=360:180<t-e&&(e+=360),i.push({i:n.push(c(n)+"rotate(",null,a)-2,x:Bl(e,t)})):t&&n.push(c(n)+"rotate("+t+a)}(e.rotate,t.rotate,r,o),function(e,t,n,i){e!==t?i.push({i:n.push(c(n)+"skewX(",null,a)-2,x:Bl(e,t)}):t&&n.push(c(n)+"skewX("+t+a)}(e.skewX,t.skewX,r,o),function(e,t,n,i,r,o){if(e!==n||t!==i){var a=r.push(c(r)+"scale(",null,",",null,")");o.push({i:a-4,x:Bl(e,n)},{i:a-2,x:Bl(t,i)})}else 1===n&&1===i||r.push(c(r)+"scale("+n+","+i+")")}(e.scaleX,e.scaleY,t.scaleX,t.scaleY,r,o),e=t=null,function(e){for(var t,n=-1,i=o.length;++n<i;)r[(t=o[n]).i]=t.x(e);return r.join("")}}}function xe(e){return((e=Math.exp(e))+1/e)/2}function Ce(a){return function(t,e){var n=a((t=ee(t)).h,(e=ee(e)).h),i=ye(t.s,e.s),r=ye(t.l,e.l),o=ye(t.opacity,e.opacity);return function(e){return t.h=n(e),t.s=i(e),t.l=r(e),t.opacity=o(e),t+""}}}function Se(a){return function(t,e){var n=a((t=ue(t)).h,(e=ue(e)).h),i=ye(t.c,e.c),r=ye(t.l,e.l),o=ye(t.opacity,e.opacity);return function(e){return t.h=n(e),t.c=i(e),t.l=r(e),t.opacity=o(e),t+""}}}function $e(s){return function e(a){function t(t,e){var n=s((t=he(t)).h,(e=he(e)).h),i=ye(t.s,e.s),r=ye(t.l,e.l),o=ye(t.opacity,e.opacity);return function(e){return t.h=n(e),t.s=i(e),t.l=r(Math.pow(e,a)),t.opacity=o(e),t+""}}return a=+a,t.gamma=e,t}(1)}function Ee(){return lc||(dc(ke),lc=uc.now()+cc)}function ke(){lc=0}function Ae(){this._call=this._time=this._next=null}function Te(e,t,n){var i=new Ae;return i.restart(e,t,n),i}function Me(){Ee(),++ic;for(var e,t=Fl;t;)0<=(e=lc-t._time)&&t._call.call(null,e),t=t._next;--ic}function De(){lc=(sc=uc.now())+cc,ic=rc=0;try{Me()}finally{ic=0,function(){for(var e,t,n=Fl,i=1/0;n;)n=n._call?(i>n._time&&(i=n._time),(e=n)._next):(t=n._next,n._next=null,e?e._next=t:Fl=t);Ol=e,_e(i)}(),lc=0}}function Pe(){var e=uc.now(),t=e-sc;ac<t&&(cc-=t,sc=e)}function _e(e){if(!ic){rc=rc&&clearTimeout(rc);var t=e-lc;24<t?(e<1/0&&(rc=setTimeout(De,t)),oc=oc&&clearInterval(oc)):(oc||(sc=lc,oc=setInterval(Pe,ac)),ic=1,dc(De))}}function Re(e,t){var n=e.__transition;if(!n||!(n=n[t])||n.state>vc)throw new Error("too late");return n}function Ie(e,t){var n=e.__transition;if(!n||!(n=n[t])||n.state>yc)throw new Error("too late");return n}function Fe(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("too late");return n}function Oe(e,t,n){var i=e._id;return e.each(function(){var e=Ie(this,i);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return Fe(e,i).value[t]}}function Le(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function Ne(e){return L().transition(e)}function Ve(){return++xc}function He(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function Be(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}function ze(e){return(1-Math.cos(kc*e))/2}function je(e){return((e*=2)<=1?Math.pow(2,10*e-10):2-Math.pow(2,10-10*e))/2}function Ge(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}function Ue(e){return(e=+e)<Tc?Lc*e*e:e<Dc?Lc*(e-=Mc)*e+Pc:e<Rc?Lc*(e-=_c)*e+Ic:Lc*(e-=Fc)*e+Oc}function We(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))return Uc.time=Ee(),Uc;return n}function qe(){H.event.stopImmediatePropagation()}function Ye(e){return{type:e}}function Xe(){return!H.event.button}function Ke(){var e=this.ownerSVGElement||this;return[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function Ze(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function Je(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function Qe(F){function t(e){var t=e.property("__brush",r).selectAll(".overlay").data([Ye("overlay")]);t.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",ru.overlay).merge(t).each(function(){var e=Ze(this).extent;qs(this).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1])}),e.selectAll(".selection").data([Ye("selection")]).enter().append("rect").attr("class","selection").attr("cursor",ru.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var n=e.selectAll(".handle").data(F.handles,function(e){return e.type});n.exit().remove(),n.enter().append("rect").attr("class",function(e){return"handle handle--"+e.type}).attr("cursor",function(e){return ru[e.type]}),e.each(O).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",i)}function O(){var e=qs(this),t=Ze(this).selection;t?(e.selectAll(".selection").style("display",null).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1]),e.selectAll(".handle").style("display",null).attr("x",function(e){return"e"===e.type[e.type.length-1]?t[1][0]-s/2:t[0][0]-s/2}).attr("y",function(e){return"s"===e.type[0]?t[1][1]-s/2:t[0][1]-s/2}).attr("width",function(e){return"n"===e.type||"s"===e.type?t[1][0]-t[0][0]+s:s}).attr("height",function(e){return"e"===e.type||"w"===e.type?t[1][1]-t[0][1]+s:s})):e.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function L(e,t){return e.__brush.emitter||new n(e,t)}function n(e,t){this.that=e,this.args=t,this.state=e.__brush,this.active=0}function i(){function e(){var e=zs(m);!T||f||g||(Math.abs(e[0]-D[0])>Math.abs(e[1]-D[1])?g=!0:f=!0),D=e,p=!0,Kc(),t()}function t(){var e;switch(d=D[0]-M[0],h=D[1]-M[1],y){case Jc:case Zc:b&&(d=Math.max($-i,Math.min(k-s,d)),r=i+d,l=s+d),w&&(h=Math.max(E-o,Math.min(A-c,h)),a=o+h,u=c+h);break;case Qc:b<0?(d=Math.max($-i,Math.min(k-i,d)),r=i+d,l=s):0<b&&(d=Math.max($-s,Math.min(k-s,d)),r=i,l=s+d),w<0?(h=Math.max(E-o,Math.min(A-o,h)),a=o+h,u=c):0<w&&(h=Math.max(E-c,Math.min(A-c,h)),a=o,u=c+h);break;case eu:b&&(r=Math.max($,Math.min(k,i-d*b)),l=Math.max($,Math.min(k,s+d*b))),w&&(a=Math.max(E,Math.min(A,o-h*w)),u=Math.max(E,Math.min(A,c+h*w)))}l<r&&(b*=-1,e=i,i=s,s=e,e=r,r=l,l=e,v in ou&&R.attr("cursor",ru[v=ou[v]])),u<a&&(w*=-1,e=o,o=c,c=e,e=a,a=u,u=e,v in au&&R.attr("cursor",ru[v=au[v]])),x.selection&&(S=x.selection),f&&(r=S[0][0],l=S[1][0]),g&&(a=S[0][1],u=S[1][1]),S[0][0]===r&&S[0][1]===a&&S[1][0]===l&&S[1][1]===u||(x.selection=[[r,a],[l,u]],O.call(m),P.brush())}function n(){if(qe(),H.event.touches){if(H.event.touches.length)return;N&&clearTimeout(N),N=setTimeout(function(){N=null},500),_.on("touchmove.brush touchend.brush touchcancel.brush",null)}else B(H.event.view,p),I.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);_.attr("pointer-events","all"),R.attr("cursor",ru.overlay),x.selection&&(S=x.selection),Je(S)&&(x.selection=null,O.call(m)),P.end()}if(H.event.touches){if(H.event.changedTouches.length<H.event.touches.length)return Kc()}else if(N)return;if(V.apply(this,arguments)){var i,r,o,a,s,l,c,u,d,h,p,f,g,m=this,v=H.event.target.__data__.type,y="selection"===(H.event.metaKey?v="overlay":v)?Zc:H.event.altKey?eu:Qc,b=F===nu?null:su[v],w=F===tu?null:lu[v],x=Ze(m),C=x.extent,S=x.selection,$=C[0][0],E=C[0][1],k=C[1][0],A=C[1][1],T=b&&w&&H.event.shiftKey,M=zs(m),D=M,P=L(m,arguments).beforestart();"overlay"===v?x.selection=S=[[i=F===nu?$:M[0],o=F===tu?E:M[1]],[s=F===nu?k:i,c=F===tu?A:o]]:(i=S[0][0],o=S[0][1],s=S[1][0],c=S[1][1]),r=i,a=o,l=s,u=c;var _=qs(m).attr("pointer-events","none"),R=_.selectAll(".overlay").attr("cursor",ru[v]);if(H.event.touches)_.on("touchmove.brush",e,!0).on("touchend.brush touchcancel.brush",n,!0);else{var I=qs(H.event.view).on("keydown.brush",function(){switch(H.event.keyCode){case 16:T=b&&w;break;case 18:y===Qc&&(b&&(s=l-d*b,i=r+d*b),w&&(c=u-h*w,o=a+h*w),y=eu,t());break;case 32:y!==Qc&&y!==eu||(b<0?s=l-d:0<b&&(i=r-d),w<0?c=u-h:0<w&&(o=a-h),y=Jc,R.attr("cursor",ru.selection),t());break;default:return}Kc()},!0).on("keyup.brush",function(){switch(H.event.keyCode){case 16:T&&(f=g=T=!1,t());break;case 18:y===eu&&(b<0?s=l:0<b&&(i=r),w<0?c=u:0<w&&(o=a),y=Qc,t());break;case 32:y===Jc&&(y=H.event.altKey?(b&&(s=l-d*b,i=r+d*b),w&&(c=u-h*w,o=a+h*w),eu):(b<0?s=l:0<b&&(i=r),w<0?c=u:0<w&&(o=a),Qc),R.attr("cursor",ru[v]),t());break;default:return}Kc()},!0).on("mousemove.brush",e,!0).on("mouseup.brush",n,!0);Xs(H.event.view)}qe(),bc(m),O.call(m),P.start()}}function r(){var e=this.__brush||{selection:null};return e.extent=o.apply(this,arguments),e.dim=F,e}var N,o=Ke,V=Xe,a=P(t,"start","brush","end"),s=6;return t.move=function(e,s){e.selection?e.on("start.brush",function(){L(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){L(this,arguments).end()}).tween("brush",function(){function e(e){n.selection=1===e&&Je(o)?null:a(e),O.call(t),i.brush()}var t=this,n=t.__brush,i=L(t,arguments),r=n.selection,o=F.input("function"==typeof s?s.apply(this,arguments):s,n.extent),a=Gl(r,o);return r&&o?e:e(1)}):e.each(function(){var e=arguments,t=this.__brush,n=F.input("function"==typeof s?s.apply(this,e):s,t.extent),i=L(this,e).beforestart();bc(this),t.selection=null==n||Je(n)?null:n,O.call(this),i.start().brush().end()})},n.prototype={beforestart:function(){return 1==++this.active&&((this.state.emitter=this).starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(e){_(new Xc(t,e,F.output(this.state.selection)),a.apply,a,[e,this.that,this.args])}},t.extent=function(e){return arguments.length?(o="function"==typeof e?e:Yc([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),t):o},t.filter=function(e){return arguments.length?(V="function"==typeof e?e:Yc(!!e),t):V},t.handleSize=function(e){return arguments.length?(s=+e,t):s},t.on=function(){var e=a.on.apply(a,arguments);return e===a?t:e},t}function et(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function tt(){return new et}function nt(e){return e.source}function it(e){return e.target}function rt(e){return e.radius}function ot(e){return e.startAngle}function at(e){return e.endAngle}function st(){}function lt(e,t){var n=new st;if(e instanceof st)e.each(function(e,t){n.set(t,e)});else if(Array.isArray(e)){var i,r=-1,o=e.length;if(null==t)for(;++r<o;)n.set(r,e[r]);else for(;++r<o;)n.set(t(i=e[r],r,e),i)}else if(e)for(var a in e)n.set(a,e[a]);return n}function ct(){return{}}function ut(e,t,n){e[t]=n}function dt(){return lt()}function ht(e,t,n){e.set(t,n)}function pt(){}function ft(e,t){var n=new pt;if(e instanceof pt)e.each(function(e){n.add(e)});else if(e){var i=-1,r=e.length;if(null==t)for(;++i<r;)n.add(e[i]);else for(;++i<r;)n.add(t(e[i],i,e))}return n}function gt(e){return new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}")}function mt(e,t,n,i){if(isNaN(t)||isNaN(n))return e;var r,o,a,s,l,c,u,d,h,p=e._root,f={data:i},g=e._x0,m=e._y0,v=e._x1,y=e._y1;if(!p)return e._root=f,e;for(;p.length;)if((c=t>=(o=(g+v)/2))?g=o:v=o,(u=n>=(a=(m+y)/2))?m=a:y=a,!(p=(r=p)[d=u<<1|c]))return r[d]=f,e;if(s=+e._x.call(null,p.data),l=+e._y.call(null,p.data),t===s&&n===l)return f.next=p,r?r[d]=f:e._root=f,e;for(;r=r?r[d]=new Array(4):e._root=new Array(4),(c=t>=(o=(g+v)/2))?g=o:v=o,(u=n>=(a=(m+y)/2))?m=a:y=a,(d=u<<1|c)==(h=(a<=l)<<1|o<=s););return r[h]=p,r[d]=f,e}function vt(e){return e[0]}function yt(e){return e[1]}function bt(e,t,n){var i=new wt(null==t?vt:t,null==n?yt:n,NaN,NaN,NaN,NaN);return null==e?i:i.addAll(e)}function wt(e,t,n,i,r,o){this._x=e,this._y=t,this._x0=n,this._y0=i,this._x1=r,this._y1=o,this._root=void 0}function xt(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}function Ct(e){return e.x+e.vx}function St(e){return e.y+e.vy}function $t(e){return e.index}function Et(e,t){var n=e.get(t);if(!n)throw new Error("missing: "+t);return n}function kt(e){return e.x}function At(e){return e.y}function Tt(e){return new Mt(e)}function Mt(e){if(!(t=Bu.exec(e)))throw new Error("invalid format: "+e);var t,n=t[1]||" ",i=t[2]||">",r=t[3]||"-",o=t[4]||"",a=!!t[5],s=t[6]&&+t[6],l=!!t[7],c=t[8]&&+t[8].slice(1),u=t[9]||"";"n"===u?(l=!0,u="g"):Hu[u]||(u=""),(a||"0"===n&&"="===i)&&(a=!0,n="0",i="="),this.fill=n,this.align=i,this.sign=r,this.symbol=o,this.zero=a,this.width=s,this.comma=l,this.precision=c,this.type=u}function Dt(e){return Gu=ju(e),H.format=Gu.format,H.formatPrefix=Gu.formatPrefix,Gu}function Pt(){this.reset()}function _t(e,t,n){var i=e.s=t+n,r=i-t,o=i-r;e.t=t-o+(n-r)}function Rt(e){return 1<e?0:e<-1?Dd:Math.acos(e)}function It(e){return 1<e?Pd:e<-1?-Pd:Math.asin(e)}function Ft(e){return(e=Gd(e/2))*e}function Ot(){}function Lt(e,t){e&&Xd.hasOwnProperty(e.type)&&Xd[e.type](e,t)}function Nt(e,t,n){var i,r=-1,o=e.length-n;for(t.lineStart();++r<o;)i=e[r],t.point(i[0],i[1],i[2]);t.lineEnd()}function Vt(e,t){var n=-1,i=e.length;for(t.polygonStart();++n<i;)Nt(e[n],t,1);t.polygonEnd()}function Ht(){Qd.point=zt}function Bt(){jt(Zu,Ju)}function zt(e,t){Qd.point=jt,Zu=e,Ju=t,Qu=e*=Fd,ed=Vd(t=(t*=Fd)/2+_d),td=Gd(t)}function jt(e,t){var n=(e*=Fd)-Qu,i=0<=n?1:-1,r=i*n,o=Vd(t=(t*=Fd)/2+_d),a=Gd(t),s=td*a,l=ed*o+s*Vd(r),c=s*i*Gd(r);Zd.add(Nd(c,l)),Qu=e,ed=o,td=a}function Gt(e){return[Nd(e[1],e[0]),It(e[2])]}function Ut(e){var t=e[0],n=e[1],i=Vd(n);return[i*Vd(t),i*Gd(t),Gd(n)]}function Wt(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function qt(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Yt(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Xt(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Kt(e){var t=Wd(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Zt(e,t){ud.push(dd=[nd=e,rd=e]),t<id&&(id=t),od<t&&(od=t)}function Jt(e,t){var n=Ut([e*Fd,t*Fd]);if(cd){var i=qt(cd,n),r=qt([i[1],-i[0],0],i);Kt(r),r=Gt(r);var o,a=e-ad,s=0<a?1:-1,l=r[0]*Id*s,c=180<Od(a);c^(s*ad<l&&l<s*e)?(o=r[1]*Id)>od&&(od=o):c^(s*ad<(l=(l+360)%360-180)&&l<s*e)?(o=-r[1]*Id)<id&&(id=o):(t<id&&(id=t),od<t&&(od=t)),c?e<ad?on(nd,e)>on(nd,rd)&&(rd=e):on(e,rd)>on(nd,rd)&&(nd=e):nd<=rd?(e<nd&&(nd=e),rd<e&&(rd=e)):ad<e?on(nd,e)>on(nd,rd)&&(rd=e):on(e,rd)>on(nd,rd)&&(nd=e)}else ud.push(dd=[nd=e,rd=e]);t<id&&(id=t),od<t&&(od=t),cd=n,ad=e}function Qt(){th.point=Jt}function en(){dd[0]=nd,dd[1]=rd,th.point=Zt,cd=null}function tn(e,t){if(cd){var n=e-ad;eh.add(180<Od(n)?n+(0<n?360:-360):n)}else sd=e,ld=t;Qd.point(e,t),Jt(e,t)}function nn(){Qd.lineStart()}function rn(){tn(sd,ld),Qd.lineEnd(),Od(eh)>Md&&(nd=-(rd=180)),dd[0]=nd,dd[1]=rd,cd=null}function on(e,t){return(t-=e)<0?t+360:t}function an(e,t){return e[0]-t[0]}function sn(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function ln(e,t){e*=Fd;var n=Vd(t*=Fd);cn(n*Vd(e),n*Gd(e),Gd(t))}function cn(e,t,n){fd+=(e-fd)/++hd,gd+=(t-gd)/hd,md+=(n-md)/hd}function un(){nh.point=dn}function dn(e,t){e*=Fd;var n=Vd(t*=Fd);Ed=n*Vd(e),kd=n*Gd(e),Ad=Gd(t),nh.point=hn,cn(Ed,kd,Ad)}function hn(e,t){e*=Fd;var n=Vd(t*=Fd),i=n*Vd(e),r=n*Gd(e),o=Gd(t),a=Nd(Wd((a=kd*o-Ad*r)*a+(a=Ad*i-Ed*o)*a+(a=Ed*r-kd*i)*a),Ed*i+kd*r+Ad*o);pd+=a,vd+=a*(Ed+(Ed=i)),yd+=a*(kd+(kd=r)),bd+=a*(Ad+(Ad=o)),cn(Ed,kd,Ad)}function pn(){nh.point=ln}function fn(){nh.point=mn}function gn(){vn(Sd,$d),nh.point=ln}function mn(e,t){Sd=e,$d=t,e*=Fd,t*=Fd,nh.point=vn;var n=Vd(t);Ed=n*Vd(e),kd=n*Gd(e),Ad=Gd(t),cn(Ed,kd,Ad)}function vn(e,t){e*=Fd;var n=Vd(t*=Fd),i=n*Vd(e),r=n*Gd(e),o=Gd(t),a=kd*o-Ad*r,s=Ad*i-Ed*o,l=Ed*r-kd*i,c=Wd(a*a+s*s+l*l),u=It(c),d=c&&-u/c;wd+=d*a,xd+=d*s,Cd+=d*l,pd+=u,vd+=u*(Ed+(Ed=i)),yd+=u*(kd+(kd=r)),bd+=u*(Ad+(Ad=o)),cn(Ed,kd,Ad)}function yn(e,t){return[Dd<e?e-Rd:e<-Dd?e+Rd:e,t]}function bn(e,t,n){return(e%=Rd)?t||n?ih(xn(e),Cn(t,n)):xn(e):t||n?Cn(t,n):yn}function wn(n){return function(e,t){return[Dd<(e+=n)?e-Rd:e<-Dd?e+Rd:e,t]}}function xn(e){var t=wn(e);return t.invert=wn(-e),t}function Cn(e,t){function n(e,t){var n=Vd(t),i=Vd(e)*n,r=Gd(e)*n,o=Gd(t),a=o*s+i*l;return[Nd(r*c-a*u,i*s-o*l),It(a*c+r*u)]}var s=Vd(e),l=Gd(e),c=Vd(t),u=Gd(t);return n.invert=function(e,t){var n=Vd(t),i=Vd(e)*n,r=Gd(e)*n,o=Gd(t),a=o*c-r*u;return[Nd(r*c+o*u,i*s+a*l),It(a*s-i*l)]},n}function Sn(e,t,n,i,r,o){if(n){var a=Vd(t),s=Gd(t),l=i*n;null==r?(r=t+i*Rd,o=t-l/2):(r=$n(a,r),o=$n(a,o),(0<i?r<o:o<r)&&(r+=i*Rd));for(var c,u=r;0<i?o<u:u<o;u-=l)c=Gt([a,-s*Vd(u),-s*Gd(u)]),e.point(c[0],c[1])}}function $n(e,t){(t=Ut(t))[0]-=e,Kt(t);var n=Rt(-t[1]);return((-t[2]<0?-n:n)+Rd-Md)%Rd}function En(e,t,n,i){this.x=e,this.z=t,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function kn(e){if(t=e.length){for(var t,n,i=0,r=e[0];++i<t;)r.n=n=e[i],n.p=r,r=n;r.n=n=e[0],n.p=r}}function An(v,y,b,w){function x(e,t){return v<=e&&e<=b&&y<=t&&t<=w}function C(e,t,n,i){var r=0,o=0;if(null==e||(r=a(e,n))!==(o=a(t,n))||s(e,t)<0^0<n)for(;i.point(0===r||3===r?v:b,1<r?w:y),(r=(r+n+4)%4)!==o;);else i.point(t[0],t[1])}function a(e,t){return Od(e[0]-v)<Md?0<t?0:3:Od(e[0]-b)<Md?0<t?2:1:Od(e[1]-y)<Md?0<t?1:0:0<t?3:2}function S(e,t){return s(e.x,t.x)}function s(e,t){var n=a(e,1),i=a(t,1);return n!==i?n-i:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(i){function e(e,t){x(e,t)&&g.point(e,t)}function t(e,t){var n=x(e,t);if(d&&o.push([e,t]),p)a=e,s=t,p=!1,(l=n)&&(g.lineStart(),g.point(e,t));else if(n&&h)g.point(e,t);else{var i=[c=Math.max($h,Math.min(Sh,c)),u=Math.max($h,Math.min(Sh,u))],r=[e=Math.max($h,Math.min(Sh,e)),t=Math.max($h,Math.min(Sh,t))];xh(i,r,v,y,b,w)?(h||(g.lineStart(),g.point(i[0],i[1])),g.point(r[0],r[1]),n||g.lineEnd(),f=!1):n&&(g.lineStart(),g.point(e,t),f=!1)}c=e,u=t,h=n}var r,d,o,a,s,l,c,u,h,p,f,g=i,n=wh(),m={point:e,lineStart:function(){m.point=t,d&&d.push(o=[]),h=!(p=!0),c=u=NaN},lineEnd:function(){r&&(t(a,s),l&&h&&n.rejoin(),r.push(n.result())),m.point=e,h&&g.lineEnd()},polygonStart:function(){g=n,r=[],d=[],f=!0},polygonEnd:function(){var e=function(){for(var e=0,t=0,n=d.length;t<n;++t)for(var i,r,o=d[t],a=1,s=o.length,l=o[0],c=l[0],u=l[1];a<s;++a)i=c,r=u,c=(l=o[a])[0],u=l[1],r<=w?w<u&&(u-r)*(v-i)<(c-i)*(w-r)&&++e:u<=w&&(c-i)*(w-r)<(u-r)*(v-i)&&--e;return e}(),t=f&&e,n=(r=ys(r)).length;(t||n)&&(i.polygonStart(),t&&(i.lineStart(),C(null,null,1,i),i.lineEnd()),n&&Ch(r,S,e,C,i),i.polygonEnd()),g=i,r=d=o=null}};return m}}function Tn(){Ah.point=Ah.lineEnd=Ot}function Mn(e,t){ch=e*=Fd,uh=Gd(t*=Fd),dh=Vd(t),Ah.point=Dn}function Dn(e,t){e*=Fd;var n=Gd(t*=Fd),i=Vd(t),r=Od(e-ch),o=Vd(r),a=i*Gd(r),s=dh*n-uh*i*o,l=uh*n+dh*i*o;kh.add(Nd(Wd(a*a+s*s),l)),ch=e,uh=n,dh=i}function Pn(e,t){return!(!e||!Ph.hasOwnProperty(e.type))&&Ph[e.type](e,t)}function _n(e,t){return 0===lh(e,t)}function Rn(e,t){var n=lh(e[0],e[1]);return lh(e[0],t)+lh(t,e[1])<=n+Md}function In(e,t){return!!ah(e.map(Fn),On(t))}function Fn(e){return(e=e.map(On)).pop(),e}function On(e){return[e[0]*Fd,e[1]*Fd]}function Ln(e,t,n){var i=hs(e,t-Md,n).concat(t);return function(t){return i.map(function(e){return[t,e]})}}function Nn(e,t,n){var i=hs(e,t-Md,n).concat(t);return function(t){return i.map(function(e){return[e,t]})}}function Vn(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return hs(Hd(o/m)*m,r,m).map(h).concat(hs(Hd(c/v)*v,l,v).map(p)).concat(hs(Hd(i/f)*f,n,f).filter(function(e){return Od(e%m)>Md}).map(u)).concat(hs(Hd(s/g)*g,a,g).filter(function(e){return Od(e%v)>Md}).map(d))}var n,i,r,o,a,s,l,c,u,d,h,p,f=10,g=f,m=90,v=360,y=2.5;return t.lines=function(){return e().map(function(e){return{type:"LineString",coordinates:e}})},t.outline=function(){return{type:"Polygon",coordinates:[h(o).concat(p(l).slice(1),h(r).reverse().slice(1),p(c).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.extentMajor(e).extentMinor(e):t.extentMinor()},t.extentMajor=function(e){return arguments.length?(o=+e[0][0],r=+e[1][0],c=+e[0][1],l=+e[1][1],r<o&&(e=o,o=r,r=e),l<c&&(e=c,c=l,l=e),t.precision(y)):[[o,c],[r,l]]},t.extentMinor=function(e){return arguments.length?(i=+e[0][0],n=+e[1][0],s=+e[0][1],a=+e[1][1],n<i&&(e=i,i=n,n=e),a<s&&(e=s,s=a,a=e),t.precision(y)):[[i,s],[n,a]]},t.step=function(e){return arguments.length?t.stepMajor(e).stepMinor(e):t.stepMinor()},t.stepMajor=function(e){return arguments.length?(m=+e[0],v=+e[1],t):[m,v]},t.stepMinor=function(e){return arguments.length?(f=+e[0],g=+e[1],t):[f,g]},t.precision=function(e){return arguments.length?(y=+e,u=Ln(s,a,90),d=Nn(i,n,y),h=Ln(c,l,90),p=Nn(o,r,y),t):y},t.extentMajor([[-180,-90+Md],[180,90-Md]]).extentMinor([[-180,-80-Md],[180,80+Md]])}function Hn(){Fh.point=Bn}function Bn(e,t){Fh.point=zn,hh=fh=e,ph=gh=t}function zn(e,t){Ih.add(gh*e-fh*t),fh=e,gh=t}function jn(){zn(hh,ph)}function Gn(e,t){Bh+=e,zh+=t,++jh}function Un(){Kh.point=Wn}function Wn(e,t){Kh.point=qn,Gn(yh=e,bh=t)}function qn(e,t){var n=e-yh,i=t-bh,r=Wd(n*n+i*i);Gh+=r*(yh+e)/2,Uh+=r*(bh+t)/2,Wh+=r,Gn(yh=e,bh=t)}function Yn(){Kh.point=Gn}function Xn(){Kh.point=Zn}function Kn(){Jn(mh,vh)}function Zn(e,t){Kh.point=Jn,Gn(mh=yh=e,vh=bh=t)}function Jn(e,t){var n=e-yh,i=t-bh,r=Wd(n*n+i*i);Gh+=r*(yh+e)/2,Uh+=r*(bh+t)/2,Wh+=r,qh+=(r=bh*e-yh*t)*(yh+e),Yh+=r*(bh+t),Xh+=3*r,Gn(yh=e,bh=t)}function Qn(e){this._context=e}function ei(e,t){ip.point=ti,Jh=ep=e,Qh=tp=t}function ti(e,t){ep-=e,tp-=t,np.add(Wd(ep*ep+tp*tp)),ep=e,tp=t}function ni(){this._string=[]}function ii(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function ri(e){return 1<e.length}function oi(e,t){return((e=e.x)[0]<0?e[1]-Pd-Md:Pd-e[1])-((t=t.x)[0]<0?t[1]-Pd-Md:Pd-t[1])}function ai(i){return function(e){var t=new si;for(var n in i)t[n]=i[n];return t.stream=e,t}}function si(){}function li(e,t,n){var i=t[1][0]-t[0][0],r=t[1][1]-t[0][1],o=e.clipExtent&&e.clipExtent();e.scale(150).translate([0,0]),null!=o&&e.clipExtent(null),Kd(n,e.stream(Hh));var a=Hh.result(),s=Math.min(i/(a[1][0]-a[0][0]),r/(a[1][1]-a[0][1])),l=+t[0][0]+(i-s*(a[1][0]+a[0][0]))/2,c=+t[0][1]+(r-s*(a[1][1]+a[0][1]))/2;return null!=o&&e.clipExtent(o),e.scale(150*s).translate([l,c])}function ci(e,t,n){return li(e,[[0,0],t],n)}function ui(e){return di(function(){return e})()}function di(e){function n(e){return[(e=u(e[0]*Fd,e[1]*Fd))[0]*m+s,l-e[1]*m]}function t(e){return(e=u.invert((e[0]-s)/m,(l-e[1])/m))&&[e[0]*Id,e[1]*Id]}function i(e,t){return[(e=a(e,t))[0]*m+s,l-e[1]*m]}function r(){u=ih(c=bn(x,C,S),a);var e=a(b,w);return s=v-e[0]*m,l=y+e[1]*m,o()}function o(){return f=g=null,n}var a,s,l,c,u,d,h,p,f,g,m=150,v=480,y=250,b=0,w=0,x=0,C=0,S=0,$=null,E=op,k=null,A=_h,T=.5,M=up(i,T);return n.stream=function(e){return f&&g===e?f:f=dp(E(c,M(A(g=e))))},n.clipAngle=function(e){return arguments.length?(E=+e?ap($=e*Fd,6*Fd):($=null,op),o()):$*Id},n.clipExtent=function(e){return arguments.length?(A=null==e?(k=d=h=p=null,_h):An(k=+e[0][0],d=+e[0][1],h=+e[1][0],p=+e[1][1]),o()):null==k?null:[[k,d],[h,p]]},n.scale=function(e){return arguments.length?(m=+e,r()):m},n.translate=function(e){return arguments.length?(v=+e[0],y=+e[1],r()):[v,y]},n.center=function(e){return arguments.length?(b=e[0]%360*Fd,w=e[1]%360*Fd,r()):[b*Id,w*Id]},n.rotate=function(e){return arguments.length?(x=e[0]%360*Fd,C=e[1]%360*Fd,S=2<e.length?e[2]%360*Fd:0,r()):[x*Id,C*Id,S*Id]},n.precision=function(e){return arguments.length?(M=up(i,T=e*e),o()):Wd(T)},n.fitExtent=function(e,t){return li(n,e,t)},n.fitSize=function(e,t){return ci(n,e,t)},function(){return a=e.apply(this,arguments),n.invert=a.invert&&t,r()}}function hi(e){var t=0,n=Dd/3,i=di(e),r=i(t,n);return r.parallels=function(e){return arguments.length?i(t=e[0]*Fd,n=e[1]*Fd):[t*Id,n*Id]},r}function pi(e,t){function n(e,t){var n=Wd(o-2*r*Gd(t))/r;return[n*Gd(e*=r),a-n*Vd(e)]}var i=Gd(e),r=(i+Gd(t))/2;if(Od(r)<Md)return function(e){function t(e,t){return[e*n,Gd(t)/n]}var n=Vd(e);return t.invert=function(e,t){return[e/n,It(t*n)]},t}(e);var o=1+i*(2*r-i),a=Wd(o)/r;return n.invert=function(e,t){var n=a-t;return[Nd(e,Od(n))/r*Ud(n),It((o-(e*e+n*n)*r*r)/(2*r))]},n}function fi(o){return function(e,t){var n=Vd(e),i=Vd(t),r=o(n*i);return[r*i*Gd(e),r*Gd(t)]}}function gi(o){return function(e,t){var n=Wd(e*e+t*t),i=o(n),r=Gd(i);return[Nd(e*r,n*Vd(i)),It(n&&t*r/n)]}}function mi(e,t){return[e,zd(qd((Pd+t)/2))]}function vi(n){function t(){var e=Dd*l(),t=a(rh(a.rotate()).invert([0,0]));return u(null==d?[[t[0]-e,t[1]-e],[t[0]+e,t[1]+e]]:n===mi?[[Math.max(t[0]-e,d),i],[Math.min(t[0]+e,r),o]]:[[d,Math.max(t[1]-e,i)],[r,Math.min(t[1]+e,o)]])}var i,r,o,a=ui(n),s=a.center,l=a.scale,c=a.translate,u=a.clipExtent,d=null;return a.scale=function(e){return arguments.length?(l(e),t()):l()},a.translate=function(e){return arguments.length?(c(e),t()):c()},a.center=function(e){return arguments.length?(s(e),t()):s()},a.clipExtent=function(e){return arguments.length?(null==e?d=i=r=o=null:(d=+e[0][0],i=+e[0][1],r=+e[1][0],o=+e[1][1]),t()):null==d?null:[[d,i],[r,o]]},t()}function yi(e){return qd((Pd+e)/2)}function bi(e,t){function n(e,t){0<o?t<-Pd+Md&&(t=-Pd+Md):Pd-Md<t&&(t=Pd-Md);var n=o/jd(yi(t),r);return[n*Gd(r*e),o-n*Vd(r*e)]}var i=Vd(e),r=e===t?Gd(e):zd(i/Vd(t))/zd(yi(t)/yi(e)),o=i*jd(yi(e),r)/r;return r?(n.invert=function(e,t){var n=o-t,i=Ud(r)*Wd(e*e+n*n);return[Nd(e,Od(n))/r*Ud(n),2*Ld(jd(o/i,1/r))-Pd]},n):mi}function wi(e,t){return[e,t]}function xi(e,t){function n(e,t){var n=o-t,i=r*e;return[n*Gd(i),o-n*Vd(i)]}var i=Vd(e),r=e===t?Gd(e):(i-Vd(t))/(t-e),o=i/r+e;return Od(r)<Md?wi:(n.invert=function(e,t){var n=o-t;return[Nd(e,Od(n))/r*Ud(n),o-Ud(r)*Wd(e*e+n*n)]},n)}function Ci(e,t){var n=Vd(t),i=Vd(e)*n;return[n*Gd(e)/i,Gd(t)/i]}function Si(n,i,r,o){return 1===n&&1===i&&0===r&&0===o?_h:ai({point:function(e,t){this.stream.point(e*n+r,t*i+o)}})}function $i(e,t){return[Vd(t)*Gd(e),Gd(t)]}function Ei(e,t){var n=Vd(t),i=1+Vd(e)*n;return[n*Gd(e)/i,Gd(t)/i]}function ki(e,t){return[zd(qd((Pd+t)/2)),-e]}function Ai(e,t){return e.parent===t.parent?1:2}function Ti(e,t){return e+t.x}function Mi(e,t){return Math.max(e,t.y)}function Di(e){var t=0,n=e.children,i=n&&n.length;if(i)for(;0<=--i;)t+=n[i].value;else t=1;e.value=t}function Pi(e,t){var n,i,r,o,a,s=new Fi(e),l=+e.value&&(s.value=e.value),c=[s];for(null==t&&(t=_i);n=c.pop();)if(l&&(n.value=+n.data.value),(r=t(n.data))&&(a=r.length))for(n.children=new Array(a),o=a-1;0<=o;--o)c.push(i=n.children[o]=new Fi(r[o])),i.parent=n,i.depth=n.depth+1;return s.eachBefore(Ii)}function _i(e){return e.children}function Ri(e){e.data=e.data.data}function Ii(e){for(var t=0;e.height=t,(e=e.parent)&&e.height<++t;);}function Fi(e){this.data=e,this.depth=this.height=0,this.parent=null}function Oi(e){this._=e,this.next=null}function Li(e,t){var n,i,r,o,a,s,l,c,u=null,d=e.head;switch(t.length){case 1:n=function(e){return{x:e.x,y:e.y,r:e.r}}(t[0]);break;case 2:n=function(e,t){var n=e.x,i=e.y,r=e.r,o=t.x,a=t.y,s=t.r,l=o-n,c=a-i,u=s-r,d=Math.sqrt(l*l+c*c);return{x:(n+o+l/d*u)/2,y:(i+a+c/d*u)/2,r:(d+r+s)/2}}(t[0],t[1]);break;case 3:n=function(e,t,n){var i=e.x,r=e.y,o=e.r,a=t.x,s=t.y,l=t.r,c=n.x,u=n.y,d=n.r,h=2*(i-a),p=2*(r-s),f=2*(l-o),g=i*i+r*r-o*o-a*a-s*s+l*l,m=2*(i-c),v=2*(r-u),y=2*(d-o),b=i*i+r*r-o*o-c*c-u*u+d*d,w=m*p-h*v,x=(p*b-v*g)/w-i,C=(v*f-p*y)/w,S=(m*g-h*b)/w-r,$=(h*y-m*f)/w,E=C*C+$*$-1,k=2*(x*C+S*$+o),A=x*x+S*S-o*o,T=(-k-Math.sqrt(k*k-4*E*A))/(2*E);return{x:x+C*T+i,y:S+$*T+r,r:T}}(t[0],t[1],t[2])}for(;d;)r=d._,i=d.next,n&&(o=n,void 0,s=(a=r).x-o.x,l=a.y-o.y,c=o.r-a.r,s*s+l*l<c*c+1e-6)?u=d:(u?(e.tail=u).next=null:e.head=e.tail=null,t.push(r),n=Li(e,t),t.pop(),e.head?(d.next=e.head,e.head=d):(d.next=null,e.head=e.tail=d),(u=e.tail).next=i),d=i;return e.tail=u,n}function Ni(e,t,n){var i=e.x,r=e.y,o=t.r+n.r,a=e.r+n.r,s=t.x-i,l=t.y-r,c=s*s+l*l;if(c){var u=.5+((a*=a)-(o*=o))/(2*c),d=Math.sqrt(Math.max(0,2*o*(a+c)-(a-=c)*a-o*o))/(2*c);n.x=i+u*s+d*l,n.y=r+u*l-d*s}else n.x=i+a,n.y=r}function Vi(e,t){var n=t.x-e.x,i=t.y-e.y,r=e.r+t.r;return n*n+i*i<r*r-1e-6}function Hi(e,t,n){var i=e._,r=e.next._,o=i.r+r.r,a=(i.x*r.r+r.x*i.r)/o-t,s=(i.y*r.r+r.y*i.r)/o-n;return a*a+s*s}function Bi(e){this._=e,this.next=null,this.previous=null}function zi(e){if(!(r=e.length))return 0;var t,n,i,r;if((t=e[0]).x=0,t.y=0,!(1<r))return t.r;if(n=e[1],t.x=-n.r,n.x=t.r,n.y=0,!(2<r))return t.r+n.r;Ni(n,t,i=e[2]);var o,a,s,l,c,u,d,h=t.r*t.r,p=n.r*n.r,f=i.r*i.r,g=h+p+f,m=h*t.x+p*n.x+f*i.x,v=h*t.y+p*n.y+f*i.y;t=new Bi(t),n=new Bi(n),i=new Bi(i),t.next=i.previous=n,n.next=t.previous=i,i.next=n.previous=t;e:for(s=3;s<r;++s){Ni(t._,n._,i=e[s]),i=new Bi(i),l=n.next,c=t.previous,u=n._.r,d=t._.r;do{if(u<=d){if(Vi(l._,i._)){n=l,(t.next=n).previous=t,--s;continue e}u+=l._.r,l=l.next}else{if(Vi(c._,i._)){((t=c).next=n).previous=t,--s;continue e}d+=c._.r,c=c.previous}}while(l!==c.next);for(i.previous=t,i.next=n,t.next=n.previous=n=i,g+=f=i._.r*i._.r,h=Hi(t,o=(m+=f*i._.x)/g,a=(v+=f*i._.y)/g);(i=i.next)!==n;)(f=Hi(i,o,a))<h&&(t=i,h=f);n=t.next}for(t=[n._],i=n;(i=i.next)!==n;)t.push(i._);for(i=mp(t),s=0;s<r;++s)(t=e[s]).x-=i.x,t.y-=i.y;return i.r}function ji(e){if("function"!=typeof e)throw new Error;return e}function Gi(){return 0}function Ui(e){return Math.sqrt(e.value)}function Wi(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function qi(a,s){return function(e){if(t=e.children){var t,n,i,r=t.length,o=a(e)*s||0;if(o)for(n=0;n<r;++n)t[n].r+=o;if(i=zi(t),o)for(n=0;n<r;++n)t[n].r-=o;e.r=i+o}}}function Yi(n){return function(e){var t=e.parent;e.r*=n,t&&(e.x=t.x+n*e.x,e.y=t.y+n*e.y)}}function Xi(e){return e.id}function Ki(e){return e.parentId}function Zi(e,t){return e.parent===t.parent?1:2}function Ji(e){var t=e.children;return t?t[0]:e.t}function Qi(e){var t=e.children;return t?t[t.length-1]:e.t}function er(e,t){this._=e,this.parent=null,this.children=null,this.A=null,(this.a=this).z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function tr(e,t,n,i,r,o){for(var a,s,l,c,u,d,h,p,f,g,m,v=[],y=t.children,b=0,w=0,x=y.length,C=t.value;b<x;){for(l=r-n,c=o-i;!(u=y[w++].value)&&w<x;);for(d=h=u,m=u*u*(g=Math.max(c/l,l/c)/(C*e)),f=Math.max(h/m,m/d);w<x;++w){if(u+=s=y[w].value,s<d&&(d=s),h<s&&(h=s),m=u*u*g,(p=Math.max(h/m,m/d))>f){u-=s;break}f=p}v.push(a={value:u,dice:l<c,children:y.slice(b,w)}),a.dice?vp(a,n,i,r,C?i+=c*u/C:o):wp(a,n,i,C?n+=l*u/C:r,o),C-=u,b=w}return v}function nr(e,t){return e[0]-t[0]||e[1]-t[1]}function ir(e){for(var t=e.length,n=[0,1],i=2,r=2;r<t;++r){for(;1<i&&(o=e[n[i-2]],a=e[n[i-1]],s=e[r],(a[0]-o[0])*(s[1]-o[1])-(a[1]-o[1])*(s[0]-o[0])<=0);)--i;n[i++]=r}var o,a,s;return n.slice(0,i)}function rr(e){if(!(1<=e))throw new Error;this._size=e,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function or(t){if(!t._start)try{!function(e){for(;e._start=e._waiting&&e._active<e._size;){var t=e._ended+e._active,n=e._tasks[t],i=n.length-1,r=n[i];n[i]=ar(e,t),--e._waiting,++e._active,n=r.apply(null,n),e._tasks[t]&&(e._tasks[t]=n||Ep)}}(t)}catch(e){if(t._tasks[t._ended+t._active-1])sr(t,e);else if(!t._data)throw e}}function ar(n,i){return function(e,t){n._tasks[i]&&(--n._active,++n._ended,(n._tasks[i]=null)==n._error&&(null!=e?sr(n,e):(n._data[i]=t,n._waiting?or(n):lr(n))))}}function sr(e,t){var n,i=e._tasks.length;for(e._error=t,e._data=void 0,e._waiting=NaN;0<=--i;)if((n=e._tasks[i])&&(e._tasks[i]=null,n.abort))try{n.abort()}catch(e){}e._active=NaN,lr(e)}function lr(e){if(!e._active&&e._call){var t=e._data;e._data=void 0,e._call(e._error,t)}}function cr(e){return new rr(arguments.length?+e:1/0)}function ur(i){function o(e){var t=e+"",n=a.get(t);if(!n){if(r!==Hp)return r;a.set(t,n=s.push(e))}return i[(n-1)%i.length]}var a=lt(),s=[],r=Hp;return i=null==i?[]:Vp.call(i),o.domain=function(e){if(!arguments.length)return s.slice();s=[],a=lt();for(var t,n,i=-1,r=e.length;++i<r;)a.has(n=(t=e[i])+"")||a.set(n,s.push(t));return o},o.range=function(e){return arguments.length?(i=Vp.call(e),o):i.slice()},o.unknown=function(e){return arguments.length?(r=e,o):r},o.copy=function(){return ur().domain(s).range(i).unknown(r)},o}function dr(){function t(){var e=s().length,t=c[1]<c[0],n=c[t-0],i=c[1-t];o=(i-n)/Math.max(1,e-d+2*h),u&&(o=Math.floor(o)),n+=(i-n-o*(e-d))*p,a=o*(1-d),u&&(n=Math.round(n),a=Math.round(a));var r=hs(e).map(function(e){return n+o*e});return l(t?r.reverse():r)}var o,a,e=ur().unknown(void 0),s=e.domain,l=e.range,c=[0,1],u=!1,d=0,h=0,p=.5;return delete e.unknown,e.domain=function(e){return arguments.length?(s(e),t()):s()},e.range=function(e){return arguments.length?(c=[+e[0],+e[1]],t()):c.slice()},e.rangeRound=function(e){return c=[+e[0],+e[1]],u=!0,t()},e.bandwidth=function(){return a},e.step=function(){return o},e.round=function(e){return arguments.length?(u=!!e,t()):u},e.padding=function(e){return arguments.length?(d=h=Math.max(0,Math.min(1,e)),t()):d},e.paddingInner=function(e){return arguments.length?(d=Math.max(0,Math.min(1,e)),t()):d},e.paddingOuter=function(e){return arguments.length?(h=Math.max(0,Math.min(1,e)),t()):h},e.align=function(e){return arguments.length?(p=Math.max(0,Math.min(1,e)),t()):p},e.copy=function(){return dr().domain(s()).range(c).round(u).paddingInner(d).paddingOuter(h).align(p)},t()}function hr(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:Bp(n)}function pr(e,t,n,i){var r=e[0],o=e[1],a=t[0],s=t[1];return a=o<r?(r=n(o,r),i(s,a)):(r=n(r,o),i(a,s)),function(e){return a(r(e))}}function fr(n,e,t,i){var r=Math.min(n.length,e.length)-1,o=new Array(r),a=new Array(r),s=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++s<r;)o[s]=t(n[s],n[s+1]),a[s]=i(e[s],e[s+1]);return function(e){var t=ss(n,e,1,r)-1;return a[t](o[t](e))}}function gr(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp())}function mr(t,n){function i(){return r=2<Math.min(s.length,l.length)?fr:pr,o=a=null,e}function e(e){return(o=o||r(s,l,u?function(e){return function(t,n){var i=e(t=+t,n=+n);return function(e){return e<=t?0:n<=e?1:i(e)}}}(t):t,c))(+e)}var r,o,a,s=jp,l=jp,c=Gl,u=!1;return e.invert=function(e){return(a=a||r(l,s,hr,u?function(e){return function(t,n){var i=e(t=+t,n=+n);return function(e){return e<=0?t:1<=e?n:i(e)}}}(n):n))(+e)},e.domain=function(e){return arguments.length?(s=Np.call(e,zp),i()):s.slice()},e.range=function(e){return arguments.length?(l=Vp.call(e),i()):l.slice()},e.rangeRound=function(e){return l=Vp.call(e),c=Ul,i()},e.clamp=function(e){return arguments.length?(u=!!e,i()):u},e.interpolate=function(e){return arguments.length?(c=e,i()):c},i()}function vr(s){var l=s.domain;return s.ticks=function(e){var t=l();return ms(t[0],t[t.length-1],null==e?10:e)},s.tickFormat=function(e,t){return Gp(l(),e,t)},s.nice=function(e){var t=l(),n=t.length-1,i=null==e?10:e,r=t[0],o=t[n],a=$(r,o,i);return a&&(a=$(Math.floor(r/a)*a,Math.ceil(o/a)*a,i),t[0]=Math.floor(r/a)*a,t[n]=Math.ceil(o/a)*a,l(t)),s},s}function yr(t,n){return(n=Math.log(n/t))?function(e){return Math.log(e/t)/n}:Bp(n)}function br(t,n){return t<0?function(e){return-Math.pow(-n,e)*Math.pow(-t,1-e)}:function(e){return Math.pow(n,e)*Math.pow(t,1-e)}}function wr(e){return isFinite(e)?+("1e"+e):e<0?0:e}function xr(t){return 10===t?wr:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function Cr(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function Sr(t){return function(e){return-t(-e)}}function $r(e,t){return e<0?-Math.pow(-e,t):Math.pow(e,t)}function Er(){var i=1,e=mr(function(t,n){return(n=$r(n,i)-(t=$r(t,i)))?function(e){return($r(e,i)-t)/n}:Bp(n)},function(t,n){return n=$r(n,i)-(t=$r(t,i)),function(e){return $r(t+n*e,1/i)}}),t=e.domain;return e.exponent=function(e){return arguments.length?(i=+e,t(t())):i},e.copy=function(){return gr(e,Er().exponent(i))},vr(e)}function kr(r,o,n,i){function a(e){return r(e=new Date(+e)),e}return(a.floor=a).ceil=function(e){return r(e=new Date(e-1)),o(e,1),r(e),e},a.round=function(e){var t=a(e),n=a.ceil(e);return e-t<n-e?t:n},a.offset=function(e,t){return o(e=new Date(+e),null==t?1:Math.floor(t)),e},a.range=function(e,t,n){var i=[];if(e=a.ceil(e),n=null==n?1:Math.floor(n),!(e<t&&0<n))return i;for(;i.push(new Date(+e)),o(e,n),r(e),e<t;);return i},a.filter=function(n){return kr(function(e){if(e<=e)for(;r(e),!n(e);)e.setTime(e-1)},function(e,t){if(e<=e)for(;0<=--t;)for(;o(e,1),!n(e););})},n&&(a.count=function(e,t){return Wp.setTime(+e),qp.setTime(+t),r(Wp),r(qp),Math.floor(n(Wp,qp))},a.every=function(t){return t=Math.floor(t),isFinite(t)&&0<t?1<t?a.filter(i?function(e){return i(e)%t==0}:function(e){return a.count(0,e)%t==0}):a:null}),a}function Ar(t){return kr(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/6048e5})}function Tr(t){return kr(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/6048e5})}function Mr(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Dr(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Pr(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}function _r(e){function n(l,c){return function(e){var t,n,i,r=[],o=-1,a=0,s=l.length;for(e instanceof Date||(e=new Date(+e));++o<s;)37===l.charCodeAt(o)&&(r.push(l.slice(a,o)),null!=(n=Yf[t=l.charAt(++o)])?t=l.charAt(++o):n="e"===t?" ":"0",(i=c[t])&&(t=i(e,n)),r.push(t),a=o+1);return r.push(l.slice(a,o)),r.join("")}}function i(i,r){return function(e){var t=Pr(1900);if(o(t,i,e+="",0)!=e.length)return null;if("p"in t&&(t.H=t.H%12+12*t.p),"W"in t||"U"in t){"w"in t||(t.w="W"in t?1:0);var n="Z"in t?Dr(Pr(t.y)).getUTCDay():r(Pr(t.y)).getDay();t.m=0,t.d="W"in t?(t.w+6)%7+7*t.W-(n+5)%7:t.w+7*t.U-(n+6)%7}return"Z"in t?(t.H+=t.Z/100|0,t.M+=t.Z%100,Dr(t)):r(t)}}function o(e,t,n,i){for(var r,o,a=0,s=t.length,l=n.length;a<s;){if(l<=i)return-1;if(37===(r=t.charCodeAt(a++))){if(r=t.charAt(a++),!(o=$[r in Yf?t.charAt(a++):r])||(i=o(e,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}var r=e.dateTime,a=e.date,s=e.time,t=e.periods,l=e.days,c=e.shortDays,u=e.months,d=e.shortMonths,h=Fr(t),p=Or(t),f=Fr(l),g=Or(l),m=Fr(c),v=Or(c),y=Fr(u),b=Or(u),w=Fr(d),x=Or(d),C={a:function(e){return c[e.getDay()]},A:function(e){return l[e.getDay()]},b:function(e){return d[e.getMonth()]},B:function(e){return u[e.getMonth()]},c:null,d:Zr,e:Zr,H:Jr,I:Qr,j:eo,L:to,m:no,M:io,p:function(e){return t[+(12<=e.getHours())]},S:ro,U:oo,w:ao,W:so,x:null,X:null,y:lo,Y:co,Z:uo,"%":ko},S={a:function(e){return c[e.getUTCDay()]},A:function(e){return l[e.getUTCDay()]},b:function(e){return d[e.getUTCMonth()]},B:function(e){return u[e.getUTCMonth()]},c:null,d:ho,e:ho,H:po,I:fo,j:go,L:mo,m:vo,M:yo,p:function(e){return t[+(12<=e.getUTCHours())]},S:bo,U:wo,w:xo,W:Co,x:null,X:null,y:So,Y:$o,Z:Eo,"%":ko},$={a:function(e,t,n){var i=m.exec(t.slice(n));return i?(e.w=v[i[0].toLowerCase()],n+i[0].length):-1},A:function(e,t,n){var i=f.exec(t.slice(n));return i?(e.w=g[i[0].toLowerCase()],n+i[0].length):-1},b:function(e,t,n){var i=w.exec(t.slice(n));return i?(e.m=x[i[0].toLowerCase()],n+i[0].length):-1},B:function(e,t,n){var i=y.exec(t.slice(n));return i?(e.m=b[i[0].toLowerCase()],n+i[0].length):-1},c:function(e,t,n){return o(e,r,t,n)},d:Gr,e:Gr,H:Wr,I:Wr,j:Ur,L:Xr,m:jr,M:qr,p:function(e,t,n){var i=h.exec(t.slice(n));return i?(e.p=p[i[0].toLowerCase()],n+i[0].length):-1},S:Yr,U:Nr,w:Lr,W:Vr,x:function(e,t,n){return o(e,a,t,n)},X:function(e,t,n){return o(e,s,t,n)},y:Br,Y:Hr,Z:zr,"%":Kr};return C.x=n(a,C),C.X=n(s,C),C.c=n(r,C),S.x=n(a,S),S.X=n(s,S),S.c=n(r,S),{format:function(e){var t=n(e+="",C);return t.toString=function(){return e},t},parse:function(e){var t=i(e+="",Mr);return t.toString=function(){return e},t},utcFormat:function(e){var t=n(e+="",S);return t.toString=function(){return e},t},utcParse:function(e){var t=i(e,Dr);return t.toString=function(){return e},t}}}function Rr(e,t,n){var i=e<0?"-":"",r=(i?-e:e)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(t)+r:r)}function Ir(e){return e.replace(Zf,"\\$&")}function Fr(e){return new RegExp("^(?:"+e.map(Ir).join("|")+")","i")}function Or(e){for(var t={},n=-1,i=e.length;++n<i;)t[e[n].toLowerCase()]=n;return t}function Lr(e,t,n){var i=Xf.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function Nr(e,t,n){var i=Xf.exec(t.slice(n));return i?(e.U=+i[0],n+i[0].length):-1}function Vr(e,t,n){var i=Xf.exec(t.slice(n));return i?(e.W=+i[0],n+i[0].length):-1}function Hr(e,t,n){var i=Xf.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function Br(e,t,n){var i=Xf.exec(t.slice(n,n+2));return i?(e.y=+i[0]+(68<+i[0]?1900:2e3),n+i[0].length):-1}function zr(e,t,n){var i=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(t.slice(n,n+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function jr(e,t,n){var i=Xf.exec(t.slice(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function Gr(e,t,n){var i=Xf.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function Ur(e,t,n){var i=Xf.exec(t.slice(n,n+3));return i?(e.m=0,e.d=+i[0],n+i[0].length):-1}function Wr(e,t,n){var i=Xf.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function qr(e,t,n){var i=Xf.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function Yr(e,t,n){var i=Xf.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function Xr(e,t,n){var i=Xf.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function Kr(e,t,n){var i=Kf.exec(t.slice(n,n+1));return i?n+i[0].length:-1}function Zr(e,t){return Rr(e.getDate(),t,2)}function Jr(e,t){return Rr(e.getHours(),t,2)}function Qr(e,t){return Rr(e.getHours()%12||12,t,2)}function eo(e,t){return Rr(1+nf.count(xf(e),e),t,3)}function to(e,t){return Rr(e.getMilliseconds(),t,3)}function no(e,t){return Rr(e.getMonth()+1,t,2)}function io(e,t){return Rr(e.getMinutes(),t,2)}function ro(e,t){return Rr(e.getSeconds(),t,2)}function oo(e,t){return Rr(of.count(xf(e),e),t,2)}function ao(e){return e.getDay()}function so(e,t){return Rr(af.count(xf(e),e),t,2)}function lo(e,t){return Rr(e.getFullYear()%100,t,2)}function co(e,t){return Rr(e.getFullYear()%1e4,t,4)}function uo(e){var t=e.getTimezoneOffset();return(0<t?"-":(t*=-1,"+"))+Rr(t/60|0,"0",2)+Rr(t%60,"0",2)}function ho(e,t){return Rr(e.getUTCDate(),t,2)}function po(e,t){return Rr(e.getUTCHours(),t,2)}function fo(e,t){return Rr(e.getUTCHours()%12||12,t,2)}function go(e,t){return Rr(1+Af.count(Uf(e),e),t,3)}function mo(e,t){return Rr(e.getUTCMilliseconds(),t,3)}function vo(e,t){return Rr(e.getUTCMonth()+1,t,2)}function yo(e,t){return Rr(e.getUTCMinutes(),t,2)}function bo(e,t){return Rr(e.getUTCSeconds(),t,2)}function wo(e,t){return Rr(Mf.count(Uf(e),e),t,2)}function xo(e){return e.getUTCDay()}function Co(e,t){return Rr(Df.count(Uf(e),e),t,2)}function So(e,t){return Rr(e.getUTCFullYear()%100,t,2)}function $o(e,t){return Rr(e.getUTCFullYear()%1e4,t,4)}function Eo(){return"+0000"}function ko(){return"%"}function Ao(e){return Wf=_r(e),H.timeFormat=Wf.format,H.timeParse=Wf.parse,H.utcFormat=Wf.utcFormat,H.utcParse=Wf.utcParse,Wf}function To(e){return new Date(e)}function Mo(e){return e instanceof Date?+e:+new Date(+e)}function Do(a,t,n,i,r,o,s,l,c){function u(e){return(s(e)<e?g:o(e)<e?m:r(e)<e?v:i(e)<e?y:t(e)<e?n(e)<e?b:w:a(e)<e?x:C)(e)}function d(e,t,n,i){if(null==e&&(e=10),"number"==typeof e){var r=Math.abs(n-t)/e,o=os(function(e){return e[2]}).right(S,r);e=o===S.length?(i=$(t/lg,n/lg,e),a):o?(i=(o=S[r/S[o-1][2]<S[o][2]/r?o-1:o])[1],o[0]):(i=$(t,n,e),l)}return null==i?e:e.every(i)}var h=mr(hr,Bl),p=h.invert,f=h.domain,g=c(".%L"),m=c(":%S"),v=c("%I:%M"),y=c("%I %p"),b=c("%a %d"),w=c("%b %d"),x=c("%B"),C=c("%Y"),S=[[s,1,ng],[s,5,5*ng],[s,15,15*ng],[s,30,30*ng],[o,1,ig],[o,5,5*ig],[o,15,15*ig],[o,30,30*ig],[r,1,rg],[r,3,3*rg],[r,6,6*rg],[r,12,12*rg],[i,1,og],[i,2,2*og],[n,1,ag],[t,1,sg],[t,3,3*sg],[a,1,lg]];return h.invert=function(e){return new Date(p(e))},h.domain=function(e){return arguments.length?f(Np.call(e,Mo)):f().map(To)},h.ticks=function(e,t){var n,i=f(),r=i[0],o=i[i.length-1],a=o<r;return a&&(n=r,r=o,o=n),n=(n=d(e,r,o,t))?n.range(r,o+1):[],a?n.reverse():n},h.tickFormat=function(e,t){return null==t?u:c(t)},h.nice=function(e,t){var n=f();return(e=d(e,n[0],n[n.length-1],t))?f(Up(n,e)):h},h.copy=function(){return gr(h,Do(a,t,n,i,r,o,s,l,c))},h}function Po(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}function _o(e){return 1<=e?Dg:e<=-1?-Dg:Math.asin(e)}function Ro(e){return e.innerRadius}function Io(e){return e.outerRadius}function Fo(e){return e.startAngle}function Oo(e){return e.endAngle}function Lo(e){return e&&e.padAngle}function No(e,t,n,i,r,o,a){var s=e-n,l=t-i,c=(a?o:-o)/Ag(s*s+l*l),u=c*l,d=-c*s,h=e+u,p=t+d,f=n+u,g=i+d,m=(h+f)/2,v=(p+g)/2,y=f-h,b=g-p,w=y*y+b*b,x=r-o,C=h*g-f*p,S=(b<0?-1:1)*Ag($g(0,x*x*w-C*C)),$=(C*b-y*S)/w,E=(-C*y-b*S)/w,k=(C*b+y*S)/w,A=(-C*y+b*S)/w,T=$-m,M=E-v,D=k-m,P=A-v;return D*D+P*P<T*T+M*M&&($=k,E=A),{cx:$,cy:E,x01:-u,y01:-d,x11:$*(r/x-1),y11:E*(r/x-1)}}function Vo(e){this._context=e}function Ho(e){return e[0]}function Bo(e){return e[1]}function zo(e){this._curve=e}function jo(t){function e(e){return new zo(t(e))}return e._curve=t,e}function Go(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(e){return arguments.length?t(jo(e)):t()._curve},e}function Uo(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Wo(e){this._context=e}function qo(e){this._context=e}function Yo(e){this._context=e}function Xo(e,t){this._basis=new Wo(e),this._beta=t}function Ko(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Zo(e,t){this._context=e,this._k=(1-t)/6}function Jo(e,t){this._context=e,this._k=(1-t)/6}function Qo(e,t){this._context=e,this._k=(1-t)/6}function ea(e,t,n){var i=e._x1,r=e._y1,o=e._x2,a=e._y2;if(e._l01_a>Tg){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);i=(i*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,r=(r*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>Tg){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*c+e._x1*e._l23_2a-t*e._l12_2a)/u,a=(a*c+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(i,r,o,a,e._x2,e._y2)}function ta(e,t){this._context=e,this._alpha=t}function na(e,t){this._context=e,this._alpha=t}function ia(e,t){this._context=e,this._alpha=t}function ra(e){this._context=e}function oa(e){return e<0?-1:1}function aa(e,t,n){var i=e._x1-e._x0,r=t-e._x1,o=(e._y1-e._y0)/(i||r<0&&-0),a=(n-e._y1)/(r||i<0&&-0),s=(o*r+a*i)/(i+r);return(oa(o)+oa(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function sa(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function la(e,t,n){var i=e._x0,r=e._y0,o=e._x1,a=e._y1,s=(o-i)/3;e._context.bezierCurveTo(i+s,r+s*t,o-s,a-s*n,o,a)}function ca(e){this._context=e}function ua(e){this._context=new da(e)}function da(e){this._context=e}function ha(e){this._context=e}function pa(e){var t,n,i=e.length-1,r=new Array(i),o=new Array(i),a=new Array(i);for(o[r[0]=0]=2,a[0]=e[0]+2*e[1],t=1;t<i-1;++t)r[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(r[i-1]=2,o[i-1]=7,a[i-1]=8*e[i-1]+e[i],t=1;t<i;++t)n=r[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(r[i-1]=a[i-1]/o[i-1],t=i-2;0<=t;--t)r[t]=(a[t]-r[t+1])/o[t];for(o[i-1]=(e[i]+r[i-1])/2,t=0;t<i-1;++t)o[t]=2*e[t+1]-r[t+1];return[r,o]}function fa(e,t){this._context=e,this._t=t}function ga(e,t){return e[t]}function ma(e){for(var t,n=0,i=-1,r=e.length;++i<r;)(t=+e[i][1])&&(n+=t);return n}function va(e){return e[0]}function ya(e){return e[1]}function ba(){this._=null}function wa(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function xa(e,t){var n=t,i=t.R,r=n.U;r?r.L===n?r.L=i:r.R=i:e._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function Ca(e,t){var n=t,i=t.L,r=n.U;r?r.L===n?r.L=i:r.R=i:e._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function Sa(e){for(;e.L;)e=e.L;return e}function $a(e,t,n,i){var r=[null,null],o=ym.push(r)-1;return r.left=e,r.right=t,n&&ka(r,e,t,n),i&&ka(r,t,e,i),mm[e.index].halfedges.push(o),mm[t.index].halfedges.push(o),r}function Ea(e,t,n){var i=[t,n];return i.left=e,i}function ka(e,t,n,i){e[0]||e[1]?e.left===n?e[1]=i:e[0]=i:(e[0]=i,e.left=t,e.right=n)}function Aa(e,t,n,i,r){var o,a=e[0],s=e[1],l=a[0],c=a[1],u=0,d=1,h=s[0]-l,p=s[1]-c;if(o=t-l,h||!(0<o)){if(o/=h,h<0){if(o<u)return;o<d&&(d=o)}else if(0<h){if(d<o)return;u<o&&(u=o)}if(o=i-l,h||!(o<0)){if(o/=h,h<0){if(d<o)return;u<o&&(u=o)}else if(0<h){if(o<u)return;o<d&&(d=o)}if(o=n-c,p||!(0<o)){if(o/=p,p<0){if(o<u)return;o<d&&(d=o)}else if(0<p){if(d<o)return;u<o&&(u=o)}if(o=r-c,p||!(o<0)){if(o/=p,p<0){if(d<o)return;u<o&&(u=o)}else if(0<p){if(o<u)return;o<d&&(d=o)}return!(0<u||d<1)||(0<u&&(e[0]=[l+u*h,c+u*p]),d<1&&(e[1]=[l+d*h,c+d*p]),!0)}}}}}function Ta(e,t,n,i,r){var o=e[1];if(o)return!0;var a,s,l=e[0],c=e.left,u=e.right,d=c[0],h=c[1],p=u[0],f=u[1],g=(d+p)/2,m=(h+f)/2;if(f===h){if(g<t||i<=g)return;if(p<d){if(l){if(l[1]>=r)return}else l=[g,n];o=[g,r]}else{if(l){if(l[1]<n)return}else l=[g,r];o=[g,n]}}else if(s=m-(a=(d-p)/(f-h))*g,a<-1||1<a)if(p<d){if(l){if(l[1]>=r)return}else l=[(n-s)/a,n];o=[(r-s)/a,r]}else{if(l){if(l[1]<n)return}else l=[(r-s)/a,r];o=[(n-s)/a,n]}else if(h<f){if(l){if(l[0]>=i)return}else l=[t,a*t+s];o=[i,a*i+s]}else{if(l){if(l[0]<t)return}else l=[i,a*i+s];o=[t,a*t+s]}return e[0]=l,e[1]=o,!0}function Ma(e,t){return t[+(t.left!==e.site)]}function Da(){wa(this),this.x=this.y=this.arc=this.site=this.cy=null}function Pa(e){var t=e.P,n=e.N;if(t&&n){var i=t.site,r=e.site,o=n.site;if(i!==o){var a=r[0],s=r[1],l=i[0]-a,c=i[1]-s,u=o[0]-a,d=o[1]-s,h=2*(l*d-c*u);if(!(-Cm<=h)){var p=l*l+c*c,f=u*u+d*d,g=(d*p-c*f)/h,m=(l*f-u*p)/h,v=bm.pop()||new Da;v.arc=e,v.site=r,v.x=g+a,v.y=(v.cy=m+s)+Math.sqrt(g*g+m*m),e.circle=v;for(var y=null,b=vm._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}vm.insert(y,v),y||(fm=v)}}}}function _a(e){var t=e.circle;t&&(t.P||(fm=t.N),vm.remove(t),bm.push(t),wa(t),e.circle=null)}function Ra(){wa(this),this.edge=this.site=this.circle=null}function Ia(e){var t=wm.pop()||new Ra;return t.site=e,t}function Fa(e){_a(e),gm.remove(e),wm.push(e),wa(e)}function Oa(e){var t=e.circle,n=t.x,i=t.cy,r=[n,i],o=e.P,a=e.N,s=[e];Fa(e);for(var l=o;l.circle&&Math.abs(n-l.circle.x)<xm&&Math.abs(i-l.circle.cy)<xm;)o=l.P,s.unshift(l),Fa(l),l=o;s.unshift(l),_a(l);for(var c=a;c.circle&&Math.abs(n-c.circle.x)<xm&&Math.abs(i-c.circle.cy)<xm;)a=c.N,s.push(c),Fa(c),c=a;s.push(c),_a(c);var u,d=s.length;for(u=1;u<d;++u)c=s[u],l=s[u-1],ka(c.edge,l.site,c.site,r);l=s[0],(c=s[d-1]).edge=$a(l.site,c.site,null,r),Pa(l),Pa(c)}function La(e){for(var t,n,i,r,o=e[0],a=e[1],s=gm._;s;)if((i=Na(s,a)-o)>xm)s=s.L;else{if(!((r=o-Va(s,a))>xm)){-xm<i?(t=s.P,n=s):-xm<r?n=(t=s).N:t=n=s;break}if(!s.R){t=s;break}s=s.R}!function(e){mm[e.index]={site:e,halfedges:[]}}(e);var l=Ia(e);if(gm.insert(t,l),t||n){if(t===n)return _a(t),n=Ia(t.site),gm.insert(l,n),l.edge=n.edge=$a(t.site,l.site),Pa(t),void Pa(n);if(!n)return void(l.edge=$a(t.site,l.site));_a(t),_a(n);var c=t.site,u=c[0],d=c[1],h=e[0]-u,p=e[1]-d,f=n.site,g=f[0]-u,m=f[1]-d,v=2*(h*m-p*g),y=h*h+p*p,b=g*g+m*m,w=[(m*y-p*b)/v+u,(h*b-g*y)/v+d];ka(n.edge,c,f,w),l.edge=$a(c,e,null,w),n.edge=$a(e,f,null,w),Pa(t),Pa(n)}}function Na(e,t){var n=e.site,i=n[0],r=n[1],o=r-t;if(!o)return i;var a=e.P;if(!a)return-1/0;var s=(n=a.site)[0],l=n[1],c=l-t;if(!c)return s;var u=s-i,d=1/o-1/c,h=u/c;return d?(-h+Math.sqrt(h*h-2*d*(u*u/(-2*c)-l+c/2+r-o/2)))/d+i:(i+s)/2}function Va(e,t){var n=e.N;if(n)return Na(n,t);var i=e.site;return i[1]===t?i[0]:1/0}function Ha(e,t){return t[1]-e[1]||t[0]-e[0]}function Ba(e,t){var n,i,r,o=e.sort(Ha).pop();for(ym=[],mm=new Array(e.length),gm=new ba,vm=new ba;;)if(r=fm,o&&(!r||o[1]<r.y||o[1]===r.y&&o[0]<r.x))o[0]===n&&o[1]===i||(La(o),n=o[0],i=o[1]),o=e.pop();else{if(!r)break;Oa(r.arc)}if(function(){for(var e,t,n,i,r=0,o=mm.length;r<o;++r)if((e=mm[r])&&(i=(t=e.halfedges).length)){var a=new Array(i),s=new Array(i);for(n=0;n<i;++n)a[n]=n,s[n]=(l=e,c=ym[t[n]],h=d=void 0,u=l.site,d=c.left,h=c.right,u===h&&(h=d,d=u),h?Math.atan2(h[1]-d[1],h[0]-d[0]):(h=u===d?(d=c[1],c[0]):(d=c[0],c[1]),Math.atan2(d[0]-h[0],h[1]-d[1])));for(a.sort(function(e,t){return s[t]-s[e]}),n=0;n<i;++n)s[n]=t[a[n]];for(n=0;n<i;++n)t[n]=s[n]}var l,c,u,d,h}(),t){var a=+t[0][0],s=+t[0][1],l=+t[1][0],c=+t[1][1];(function(e,t,n,i){for(var r,o=ym.length;o--;)Ta(r=ym[o],e,t,n,i)&&Aa(r,e,t,n,i)&&(Math.abs(r[0][0]-r[1][0])>xm||Math.abs(r[0][1]-r[1][1])>xm)||delete ym[o]})(a,s,l,c),function(e,t,n,i){var r,o,a,s,l,c,u,d,h,p,f,g,m,v,y=mm.length,b=!0;for(r=0;r<y;++r)if(o=mm[r]){for(a=o.site,s=(l=o.halfedges).length;s--;)ym[l[s]]||l.splice(s,1);for(s=0,c=l.length;s<c;)m=o,f=(p=(v=ym[l[s]])[+(v.left===m.site)])[0],g=p[1],d=(u=Ma(o,ym[l[++s%c]]))[0],h=u[1],(Math.abs(f-d)>xm||Math.abs(g-h)>xm)&&(l.splice(s,0,ym.push(Ea(a,p,Math.abs(f-e)<xm&&xm<i-g?[e,Math.abs(d-e)<xm?h:i]:Math.abs(g-i)<xm&&xm<n-f?[Math.abs(h-i)<xm?d:n,i]:Math.abs(f-n)<xm&&xm<g-t?[n,Math.abs(d-n)<xm?h:t]:Math.abs(g-t)<xm&&xm<f-e?[Math.abs(h-t)<xm?d:e,t]:null))-1),++c);c&&(b=!1)}if(b){var w,x,C,S=1/0;for(r=0,b=null;r<y;++r)(o=mm[r])&&((C=(w=(a=o.site)[0]-e)*w+(x=a[1]-t)*x)<S&&(S=C,b=o));if(b){var $=[e,t],E=[e,i],k=[n,i],A=[n,t];b.halfedges.push(ym.push(Ea(a=b.site,$,E))-1,ym.push(Ea(a,E,k))-1,ym.push(Ea(a,k,A))-1,ym.push(Ea(a,A,$))-1)}}for(r=0;r<y;++r)(o=mm[r])&&(o.halfedges.length||delete mm[r])}(a,s,l,c)}this.edges=ym,this.cells=mm,gm=vm=ym=mm=null}function za(e,t,n){this.target=e,this.type=t,this.transform=n}function ja(e,t,n){this.k=e,this.x=t,this.y=n}function Ga(e){return e.__zoom||$m}function Ua(){H.event.stopImmediatePropagation()}function Wa(){return!H.event.button}function qa(){var e,t,n=this;return t=n instanceof SVGElement?(e=(n=n.ownerSVGElement||n).width.baseVal.value,n.height.baseVal.value):(e=n.clientWidth,n.clientHeight),[[0,0],[e,t]]}function Ya(){return this.__zoom||$m}function Xa(e){return null===e?NaN:+e}function Ka(e,t){var n,i,r=e.length,o=0,a=0,s=-1,l=0;if(null==t)for(;++s<r;)isNaN(n=Xa(e[s]))||(a+=(i=n-o)*(n-(o+=i/++l)));else for(;++s<r;)isNaN(n=Xa(t(e[s],s,e)))||(a+=(i=n-o)*(n-(o+=i/++l)));if(1<l)return a/(l-1)}function Za(e,t){var n=Ka(e,t);return n?Math.sqrt(n):n}function Ja(e,t){var n,i,r,o=-1,a=e.length;if(null==t){for(;++o<a;)if(null!=(i=e[o])&&i<=i){n=r=i;break}for(;++o<a;)null!=(i=e[o])&&(i<n&&(n=i),r<i&&(r=i))}else{for(;++o<a;)if(null!=(i=t(e[o],o,e))&&i<=i){n=r=i;break}for(;++o<a;)null!=(i=t(e[o],o,e))&&(i<n&&(n=i),r<i&&(r=i))}return[n,r]}function Qa(e){return function(){return e}}function es(e){return e}function ts(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1}function ns(e,t){var n,i,r=-1,o=e.length;if(null==t){for(;++r<o;)if(null!=(i=e[r])&&i<=i){n=i;break}for(;++r<o;)null!=(i=e[r])&&i<n&&(n=i)}else{for(;++r<o;)if(null!=(i=t(e[r],r,e))&&i<=i){n=i;break}for(;++r<o;)null!=(i=t(e[r],r,e))&&i<n&&(n=i)}return n}function is(e){if(!(r=e.length))return[];for(var t=-1,n=ns(e,s),i=new Array(n);++t<n;)for(var r,o=-1,a=i[t]=new Array(r);++o<r;)a[o]=e[o][t];return i}var rs=function(e,t){return e<t?-1:t<e?1:t<=e?0:NaN},os=function(o){return 1===o.length&&(o=function(n){return function(e,t){return rs(n(e),t)}}(o)),{left:function(e,t,n,i){for(null==n&&(n=0),null==i&&(i=e.length);n<i;){var r=n+i>>>1;o(e[r],t)<0?n=1+r:i=r}return n},right:function(e,t,n,i){for(null==n&&(n=0),null==i&&(i=e.length);n<i;){var r=n+i>>>1;0<o(e[r],t)?i=r:n=1+r}return n}}},as=os(rs),ss=as.right,ls=as.left,cs=Array.prototype,us=cs.slice,ds=cs.map,hs=function(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(r);++i<r;)o[i]=e+i*n;return o},ps=Math.sqrt(50),fs=Math.sqrt(10),gs=Math.sqrt(2),ms=function(e,t,n){var i=$(e,t,n);return hs(Math.ceil(e/i)*i,Math.floor(t/i)*i+i/2,i)},vs=function(e,t,n){if(null==n&&(n=Xa),i=e.length){if((t=+t)<=0||i<2)return+n(e[0],0,e);if(1<=t)return+n(e[i-1],i-1,e);var i,r=(i-1)*t,o=Math.floor(r),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(r-o)}},ys=function(e){for(var t,n,i,r=e.length,o=-1,a=0;++o<r;)a+=e[o].length;for(n=new Array(a);0<=--r;)for(t=(i=e[r]).length;0<=--t;)n[--a]=i[t];return n},bs=Array.prototype.slice,ws=function(e){return e},xs=1,Cs=2,Ss=3,$s=4,Es=1e-6,ks={value:function(){}};r.prototype=P.prototype={constructor:r,on:function(e,t){var n,i=this._,r=function(e,i){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(0<=n&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!i.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}})}(e+"",i),o=-1,a=r.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++o<a;)if(n=(e=r[o]).type)i[n]=c(i[n],e.name,t);else if(null==t)for(n in i)i[n]=c(i[n],e.name,null);return this}for(;++o<a;)if((n=(e=r[o]).type)&&(n=l(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new r(e)},call:function(e,t){if(0<(n=arguments.length-2))for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(i=this._[e]).length;o<n;++o)i[o].value.apply(t,r)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)}};function As(e){var t=e+="",n=t.indexOf(":");return 0<=n&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),Ds.hasOwnProperty(t)?{space:Ds[t],local:e}:e}function Ts(e){var t=As(e);return(t.local?function(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}:function(n){return function(){var e=this.ownerDocument,t=this.namespaceURI;return t===Ms&&e.documentElement.namespaceURI===Ms?e.createElement(n):e.createElementNS(t,n)}})(t)}var Ms="http://www.w3.org/1999/xhtml",Ds={svg:"http://www.w3.org/2000/svg",xhtml:Ms,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ps=0;o.prototype=i.prototype={constructor:o,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var _s=function(e){return function(){return this.matches(e)}};if("undefined"!=typeof document){var Rs=document.documentElement;if(!Rs.matches){var Is=Rs.webkitMatchesSelector||Rs.msMatchesSelector||Rs.mozMatchesSelector||Rs.oMatchesSelector;_s=function(e){return function(){return Is.call(this,e)}}}}var Fs=_s,Os={};H.event=null,"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Os={mouseenter:"mouseover",mouseleave:"mouseout"}));function Ls(){for(var e,t=H.event;e=t.sourceEvent;)t=e;return t}function Ns(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,[(i=i.matrixTransform(e.getScreenCTM().inverse())).x,i.y]}var r=e.getBoundingClientRect();return[t.clientX-r.left-e.clientLeft,t.clientY-r.top-e.clientTop]}function Vs(e){return null==e?f:function(){return this.querySelector(e)}}function Hs(e){return null==e?g:function(){return this.querySelectorAll(e)}}function Bs(e){return new Array(e.length)}var zs=function(e){var t=Ls();return t.changedTouches&&(t=t.changedTouches[0]),Ns(e,t)};m.prototype={constructor:m,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var js=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView};w.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);0<=t&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return 0<=this._names.indexOf(e)}};var Gs=[null];O.prototype=L.prototype={constructor:O,select:function(e){"function"!=typeof e&&(e=Vs(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o,a,s=t[r],l=s.length,c=i[r]=new Array(l),u=0;u<l;++u)(o=s[u])&&(a=e.call(o,o.__data__,u,s))&&("__data__"in o&&(a.__data__=o.__data__),c[u]=a);return new O(i,this._parents)},selectAll:function(e){"function"!=typeof e&&(e=Hs(e));for(var t=this._groups,n=t.length,i=[],r=[],o=0;o<n;++o)for(var a,s=t[o],l=s.length,c=0;c<l;++c)(a=s[c])&&(i.push(e.call(a,a.__data__,c,s)),r.push(a));return new O(i,r)},filter:function(e){"function"!=typeof e&&(e=Fs(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o,a=t[r],s=a.length,l=i[r]=[],c=0;c<s;++c)(o=a[c])&&e.call(o,o.__data__,c,a)&&l.push(o);return new O(i,this._parents)},data:function(e,t){if(!e)return p=new Array(this.size()),c=-1,this.each(function(e){p[++c]=e}),p;var n=t?C:x,i=this._parents,r=this._groups;"function"!=typeof e&&(e=function(e){return function(){return e}}(e));for(var o=r.length,a=new Array(o),s=new Array(o),l=new Array(o),c=0;c<o;++c){var u=i[c],d=r[c],h=d.length,p=e.call(u,u&&u.__data__,c,i),f=p.length,g=s[c]=new Array(f),m=a[c]=new Array(f);n(u,d,g,m,l[c]=new Array(h),p,t);for(var v,y,b=0,w=0;b<f;++b)if(v=g[b]){for(w<=b&&(w=b+1);!(y=m[w])&&++w<f;);v._next=y||null}}return(a=new O(a,i))._enter=s,a._exit=l,a},enter:function(){return new O(this._enter||this._groups.map(Bs),this._parents)},exit:function(){return new O(this._exit||this._groups.map(Bs),this._parents)},merge:function(e){for(var t=this._groups,n=e._groups,i=t.length,r=n.length,o=Math.min(i,r),a=new Array(i),s=0;s<o;++s)for(var l,c=t[s],u=n[s],d=c.length,h=a[s]=new Array(d),p=0;p<d;++p)(l=c[p]||u[p])&&(h[p]=l);for(;s<i;++s)a[s]=t[s];return new O(a,this._parents)},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i,r=e[t],o=r.length-1,a=r[o];0<=--o;)(i=r[o])&&(a&&a!==i.nextSibling&&a.parentNode.insertBefore(i,a),a=i);return this},sort:function(n){function e(e,t){return e&&t?n(e.__data__,t.__data__):!e-!t}n=n||v;for(var t=this._groups,i=t.length,r=new Array(i),o=0;o<i;++o){for(var a,s=t[o],l=s.length,c=r[o]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(e)}return new O(r,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,o=i.length;r<o;++r){var a=i[r];if(a)return a}return null},size:function(){var e=0;return this.each(function(){++e}),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var r,o=t[n],a=0,s=o.length;a<s;++a)(r=o[a])&&e.call(r,r.__data__,a,o);return this},attr:function(e,t){var n=As(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==t?n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}}:"function"==typeof t?n.local?function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}:function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}:n.local?function(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}:function(e,t){return function(){this.setAttribute(e,t)}})(n,t))},style:function(e,t,n){var i;return 1<arguments.length?this.each((null==t?function(e){return function(){this.style.removeProperty(e)}}:"function"==typeof t?function(t,n,i){return function(){var e=n.apply(this,arguments);null==e?this.style.removeProperty(t):this.style.setProperty(t,e,i)}}:function(e,t,n){return function(){this.style.setProperty(e,t,n)}})(e,t,null==n?"":n)):js(i=this.node()).getComputedStyle(i,null).getPropertyValue(e)},property:function(e,t){return 1<arguments.length?this.each((null==t?function(e){return function(){delete this[e]}}:"function"==typeof t?function(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}:function(e,t){return function(){this[e]=t}})(e,t)):this.node()[e]},classed:function(e,t){var n=y(e+"");if(arguments.length<2){for(var i=b(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof t?function(e,t){return function(){(t.apply(this,arguments)?S:E)(this,e)}}:t?function(e){return function(){S(this,e)}}:function(e){return function(){E(this,e)}})(n,t))},text:function(e){return arguments.length?this.each(null==e?k:("function"==typeof e?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(e){return function(){this.textContent=e}})(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?T:("function"==typeof e?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function(e){return function(){this.innerHTML=e}})(e)):this.node().innerHTML},raise:function(){return this.each(M)},lower:function(){return this.each(D)},append:function(e){var t="function"==typeof e?e:Ts(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"==typeof e?e:Ts(e),i=null==t?R:"function"==typeof t?t:Vs(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function(){return this.each(I)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var i,r,o=function(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return 0<=n&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}(e+""),a=o.length;if(!(arguments.length<2)){for(s=t?p:d,null==n&&(n=!1),i=0;i<a;++i)this.each(s(o[i],t,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(i=0,l=s[c];i<a;++i)if((r=o[i]).type===l.type&&r.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?function(e,t){return function(){return F(this,e,t.apply(this,arguments))}}:function(e,t){return function(){return F(this,e,t)}})(e,t))}};function Us(e,t,n){arguments.length<3&&(n=t,t=Ls().changedTouches);for(var i,r=0,o=t?t.length:0;r<o;++r)if((i=t[r]).identifier===n)return Ns(e,i);return null}function Ws(e){return function(){return e}}var qs=function(e){return"string"==typeof e?new O([[document.querySelector(e)]],[document.documentElement]):new O([[e]],Gs)},Ys=function(){H.event.preventDefault(),H.event.stopImmediatePropagation()},Xs=function(e){var t=e.document.documentElement,n=qs(e).on("dragstart.drag",Ys,!0);"onselectstart"in t?n.on("selectstart.drag",Ys,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")};V.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Ks(e,t,n){e.prototype=t.prototype=n,n.constructor=e}var Zs="\\s*([+-]?\\d+)\\s*",Js="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qs="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",el=/^#([0-9a-f]{3})$/,tl=/^#([0-9a-f]{6})$/,nl=new RegExp("^rgb\\("+[Zs,Zs,Zs]+"\\)$"),il=new RegExp("^rgb\\("+[Qs,Qs,Qs]+"\\)$"),rl=new RegExp("^rgba\\("+[Zs,Zs,Zs,Js]+"\\)$"),ol=new RegExp("^rgba\\("+[Qs,Qs,Qs,Js]+"\\)$"),al=new RegExp("^hsl\\("+[Js,Qs,Qs]+"\\)$"),sl=new RegExp("^hsla\\("+[Js,Qs,Qs,Js]+"\\)$"),ll={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ks(W,q,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),Ks(J,Z,U(W,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new J(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new J(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),Ks(te,ee,U(W,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new te(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new te(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new J(ne(240<=e?e-240:120+e,r,i),ne(e,r,i),ne(e<120?240+e:e-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var cl=Math.PI/180,ul=180/Math.PI,dl=.95047,hl=1,pl=1.08883,fl=4/29,gl=6/29*3*(6/29),ml=6/29*(6/29)*(6/29);Ks(oe,re,U(W,{brighter:function(e){return new oe(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new oe(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return e=hl*se(e),new J(le(3.2404542*(t=dl*se(t))-1.5371385*e-.4985314*(n=pl*se(n))),le(-.969266*t+1.8760108*e+.041556*n),le(.0556434*t-.2040259*e+1.0572252*n),this.opacity)}})),Ks(de,ue,U(W,{brighter:function(e){return new de(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new de(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return ie(this).rgb()}}));var vl=-.29227,yl=-.90649,bl=1.97294,wl=bl*yl,xl=1.78277*bl,Cl=1.78277*vl- -.14861*yl;Ks(pe,he,U(W,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new pe(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new pe(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*cl,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),i=Math.cos(e),r=Math.sin(e);return new J(255*(t+n*(-.14861*i+1.78277*r)),255*(t+n*(vl*i+yl*r)),255*(t+bl*i*n),this.opacity)}}));function Sl(r){var o=r.length-1;return function(e){var t=e<=0?e=0:1<=e?o-(e=1):Math.floor(e*o),n=r[t],i=r[t+1];return fe((e-t/o)*o,0<t?r[t-1]:2*n-i,n,i,t<o-1?r[t+2]:2*i-n)}}function $l(n){var i=n.length;return function(e){var t=Math.floor(((e%=1)<0?++e:e)*i);return fe((e-t/i)*i,n[(t+i-1)%i],n[t%i],n[(t+1)%i],n[(t+2)%i])}}function El(e,t){var n,i=t?t.length:0,r=e?Math.min(i,e.length):0,o=new Array(i),a=new Array(i);for(n=0;n<r;++n)o[n]=Gl(e[n],t[n]);for(;n<i;++n)a[n]=t[n];return function(e){for(n=0;n<r;++n)a[n]=o[n](e);return a}}function kl(t,n){var i=new Date;return n-=t=+t,function(e){return i.setTime(t+n*e),i}}function Al(e,t){var n,i={},r={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?i[n]=Gl(e[n],t[n]):r[n]=t[n];return function(e){for(n in i)r[n]=i[n](e);return r}}function Tl(e,i){var t,n,r,o=zl.lastIndex=jl.lastIndex=0,a=-1,s=[],l=[];for(e+="",i+="";(t=zl.exec(e))&&(n=jl.exec(i));)(r=n.index)>o&&(r=i.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(t=t[0])===(n=n[0])?s[a]?s[a]+=n:s[++a]=n:(s[++a]=null,l.push({i:a,x:Bl(t,n)})),o=jl.lastIndex;return o<i.length&&(r=i.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(e){return function(){return e}}(i):(i=l.length,function(e){for(var t,n=0;n<i;++n)s[(t=l[n]).i]=t.x(e);return s.join("")})}function Ml(e,t,n,i,r,o){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*i)&&(n-=e*l,i-=t*l),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,l/=s),e*i<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:r,translateY:o,rotate:Math.atan2(t,e)*Wl,skewX:Math.atan(l)*Wl,scaleX:a,scaleY:s}}function Dl(e,t){var n,r,o=e[0],a=e[1],s=e[2],i=t[0],l=t[1],c=t[2],u=i-o,d=l-a,h=u*u+d*d;if(h<1e-12)r=Math.log(c/s)/Kl,n=function(e){return[o+e*u,a+e*d,s*Math.exp(Kl*e*r)]};else{var p=Math.sqrt(h),f=(c*c-s*s+4*h)/(2*s*2*p),g=(c*c-s*s-4*h)/(2*c*2*p),m=Math.log(Math.sqrt(f*f+1)-f);r=(Math.log(Math.sqrt(g*g+1)-g)-m)/Kl,n=function(e){var t=e*r,n=xe(m),i=s/(2*p)*(n*function(e){return((e=Math.exp(2*e))-1)/(e+1)}(Kl*t+m)-function(e){return((e=Math.exp(e))-1/e)/2}(m));return[o+i*u,a+i*d,s*n/xe(Kl*t+m)]}}return n.duration=1e3*r,n}var Pl,_l,Rl,Il,Fl,Ol,Ll=function(e){return function(){return e}},Nl=function e(t){function n(t,e){var n=a((t=Z(t)).r,(e=Z(e)).r),i=a(t.g,e.g),r=a(t.b,e.b),o=ye(t.opacity,e.opacity);return function(e){return t.r=n(e),t.g=i(e),t.b=r(e),t.opacity=o(e),t+""}}var a=ve(t);return n.gamma=e,n}(1),Vl=be(Sl),Hl=be($l),Bl=function(t,n){return n-=t=+t,function(e){return t+n*e}},zl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jl=new RegExp(zl.source,"g"),Gl=function(e,t){var n,i=typeof t;return null==t||"boolean"==i?Ll(t):("number"==i?Bl:"string"==i?(n=q(t))?(t=n,Nl):Tl:t instanceof q?Nl:t instanceof Date?kl:Array.isArray(t)?El:isNaN(t)?Al:Bl)(e,t)},Ul=function(t,n){return n-=t=+t,function(e){return Math.round(t+n*e)}},Wl=180/Math.PI,ql={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Yl=we(function(e){return"none"===e?ql:(Pl||(Pl=document.createElement("DIV"),_l=document.documentElement,Rl=document.defaultView),Pl.style.transform=e,e=Rl.getComputedStyle(_l.appendChild(Pl),null).getPropertyValue("transform"),_l.removeChild(Pl),e=e.slice(7,-1).split(","),Ml(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))},"px, ","px)","deg)"),Xl=we(function(e){return null==e?ql:((Il=Il||document.createElementNS("http://www.w3.org/2000/svg","g")).setAttribute("transform",e),(e=Il.transform.baseVal.consolidate())?(e=e.matrix,Ml(e.a,e.b,e.c,e.d,e.e,e.f)):ql)},", ",")",")"),Kl=Math.SQRT2,Zl=Ce(me),Jl=Ce(ye),Ql=Se(me),ec=Se(ye),tc=$e(me),nc=$e(ye),ic=0,rc=0,oc=0,ac=1e3,sc=0,lc=0,cc=0,uc="object"==typeof performance&&performance.now?performance:Date,dc="function"==typeof requestAnimationFrame?requestAnimationFrame:function(e){setTimeout(e,17)};Ae.prototype=Te.prototype={constructor:Ae,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?Ee():+n)+(null==t?0:+t),this._next||Ol===this||(Ol?Ol._next=this:Fl=this,Ol=this),this._call=e,this._time=n,_e()},stop:function(){this._call&&(this._call=null,this._time=1/0,_e())}};function hc(t,n,e){var i=new Ae;return n=null==n?0:+n,i.restart(function(e){i.stop(),t(e+n)},n,e),i}function pc(e,t,n,i,r,o){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(o,a,s){function l(e){var t,n,i,r;if(1!==s.state)return u();for(t in h)if((r=h[t]).name===s.name){if(3===r.state)return hc(l);4===r.state?(r.state=6,r.timer.stop(),r.on.call("interrupt",o,o.__data__,r.index,r.group),delete h[t]):+t<a&&(r.state=6,r.timer.stop(),delete h[t])}if(hc(function(){3===s.state&&(s.state=4,s.timer.restart(c,s.delay,s.time),c(e))}),s.state=yc,s.on.call("start",o,o.__data__,s.index,s.group),s.state===yc){for(s.state=3,d=new Array(i=s.tween.length),t=0,n=-1;t<i;++t)(r=s.tween[t].value.call(o,o.__data__,s.index,s.group))&&(d[++n]=r);d.length=n+1}}function c(e){for(var t=e<s.duration?s.ease.call(null,e/s.duration):(s.timer.restart(u),s.state=5,1),n=-1,i=d.length;++n<i;)d[n].call(null,t);5===s.state&&(s.on.call("end",o,o.__data__,s.index,s.group),u())}function u(){for(var e in s.state=6,s.timer.stop(),delete h[a],h)return;delete o.__transition}var d,h=o.__transition;(h[a]=s).timer=Te(function(e){s.state=1,s.timer.restart(l,s.delay,s.time),s.delay<=e&&l(e-s.delay)},0,s.time)}(e,n,{name:t,index:i,group:r,on:gc,tween:mc,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:vc})}function fc(e,t){var n;return("number"==typeof t?Bl:t instanceof q?Nl:(n=q(t))?(t=n,Nl):Tl)(e,t)}var gc=P("start","end","interrupt"),mc=[],vc=0,yc=2,bc=function(e,t){var n,i,r,o=e.__transition,a=!0;if(o){for(r in t=null==t?null:t+"",o)(n=o[r]).name===t?(i=n.state>yc&&n.state<5,n.state=6,n.timer.stop(),i&&n.on.call("interrupt",e,e.__data__,n.index,n.group),delete o[r]):a=!1;a&&delete e.__transition}},wc=L.prototype.constructor,xc=0,Cc=L.prototype;Le.prototype=Ne.prototype={constructor:Le,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=Vs(e));for(var i=this._groups,r=i.length,o=new Array(r),a=0;a<r;++a)for(var s,l,c=i[a],u=c.length,d=o[a]=new Array(u),h=0;h<u;++h)(s=c[h])&&(l=e.call(s,s.__data__,h,c))&&("__data__"in s&&(l.__data__=s.__data__),d[h]=l,pc(d[h],t,n,h,d,Fe(s,n)));return new Le(o,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=Hs(e));for(var i=this._groups,r=i.length,o=[],a=[],s=0;s<r;++s)for(var l,c=i[s],u=c.length,d=0;d<u;++d)if(l=c[d]){for(var h,p=e.call(l,l.__data__,d,c),f=Fe(l,n),g=0,m=p.length;g<m;++g)(h=p[g])&&pc(h,t,n,g,p,f);o.push(p),a.push(l)}return new Le(o,a,t,n)},filter:function(e){"function"!=typeof e&&(e=Fs(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o,a=t[r],s=a.length,l=i[r]=[],c=0;c<s;++c)(o=a[c])&&e.call(o,o.__data__,c,a)&&l.push(o);return new Le(i,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,r=n.length,o=Math.min(i,r),a=new Array(i),s=0;s<o;++s)for(var l,c=t[s],u=n[s],d=c.length,h=a[s]=new Array(d),p=0;p<d;++p)(l=c[p]||u[p])&&(h[p]=l);for(;s<i;++s)a[s]=t[s];return new Le(a,this._parents,this._name,this._id)},selection:function(){return new wc(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=Ve(),i=this._groups,r=i.length,o=0;o<r;++o)for(var a,s=i[o],l=s.length,c=0;c<l;++c)if(a=s[c]){var u=Fe(a,t);pc(a,e,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Le(i,this._parents,e,n)},call:Cc.call,nodes:Cc.nodes,node:Cc.node,size:Cc.size,empty:Cc.empty,each:Cc.each,on:function(e,t){var n=this._id;return arguments.length<2?Fe(this.node(),n).on.on(e):this.each(function(n,i,r){var o,a,s=function(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return 0<=t&&(e=e.slice(0,t)),!e||"start"===e})}(i)?Re:Ie;return function(){var e=s(this,n),t=e.on;t!==o&&(a=(o=t).copy()).on(i,r),e.on=a}}(n,e,t))},attr:function(e,t){var n=As(e),i="transform"===n?Xl:fc;return this.attrTween(e,"function"==typeof t?(n.local?function(n,i,r){var o,a,s;return function(){var e,t=r(this);return null==t?void this.removeAttributeNS(n.space,n.local):(e=this.getAttributeNS(n.space,n.local))===t?null:e===o&&t===a?s:s=i(o=e,a=t)}}:function(n,i,r){var o,a,s;return function(){var e,t=r(this);return null==t?void this.removeAttribute(n):(e=this.getAttribute(n))===t?null:e===o&&t===a?s:s=i(o=e,a=t)}})(n,i,Oe(this,"attr."+e,t)):null==t?(n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}})(n):(n.local?function(t,n,i){var r,o;return function(){var e=this.getAttributeNS(t.space,t.local);return e===i?null:e===r?o:o=n(r=e,i)}}:function(t,n,i){var r,o;return function(){var e=this.getAttribute(t);return e===i?null:e===r?o:o=n(r=e,i)}})(n,i,t+""))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var i=As(e);return this.tween(n,(i.local?function(i,e){function t(){var t=this,n=e.apply(t,arguments);return n&&function(e){t.setAttributeNS(i.space,i.local,n(e))}}return t._value=e,t}:function(i,e){function t(){var t=this,n=e.apply(t,arguments);return n&&function(e){t.setAttribute(i,n(e))}}return t._value=e,t})(i,t))},style:function(e,t,n){var i="transform"==(e+="")?Yl:fc;return null==t?this.styleTween(e,function(i,r){var o,a,s;return function(){var e=js(this).getComputedStyle(this,null),t=e.getPropertyValue(i),n=(this.style.removeProperty(i),e.getPropertyValue(i));return t===n?null:t===o&&n===a?s:s=r(o=t,a=n)}}(e,i)).on("end.style."+e,function(e){return function(){this.style.removeProperty(e)}}(e)):this.styleTween(e,"function"==typeof t?function(i,r,o){var a,s,l;return function(){var e=js(this).getComputedStyle(this,null),t=e.getPropertyValue(i),n=o(this);return null==n&&(this.style.removeProperty(i),n=e.getPropertyValue(i)),t===n?null:t===a&&n===s?l:l=r(a=t,s=n)}}(e,i,Oe(this,"style."+e,t)):function(t,n,i){var r,o;return function(){var e=js(this).getComputedStyle(this,null).getPropertyValue(t);return e===i?null:e===r?o:o=n(r=e,i)}}(e,i,t+""),n)},styleTween:function(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==t)return this.tween(i,null);if("function"!=typeof t)throw new Error;return this.tween(i,function(i,e,r){function t(){var t=this,n=e.apply(t,arguments);return n&&function(e){t.style.setProperty(i,n(e),r)}}return t._value=e,t}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Oe(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},remove:function(){return this.on("end.remove",function(n){return function(){var e=this.parentNode;for(var t in this.__transition)if(+t!==n)return;e&&e.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i,r=Fe(this.node(),n).tween,o=0,a=r.length;o<a;++o)if((i=r[o]).name===e)return i.value;return null}return this.each((null==t?function(r,o){var a,s;return function(){var e=Ie(this,r),t=e.tween;if(t!==a)for(var n=0,i=(s=a=t).length;n<i;++n)if(s[n].name===o){(s=s.slice()).splice(n,1);break}e.tween=s}}:function(o,a,s){var l,c;if("function"!=typeof s)throw new Error;return function(){var e=Ie(this,o),t=e.tween;if(t!==l){c=(l=t).slice();for(var n={name:a,value:s},i=0,r=c.length;i<r;++i)if(c[i].name===a){c[i]=n;break}i===r&&c.push(n)}e.tween=c}})(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?function(e,t){return function(){Re(this,e).delay=+t.apply(this,arguments)}}:function(e,t){return t=+t,function(){Re(this,e).delay=t}})(t,e)):Fe(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?function(e,t){return function(){Ie(this,e).duration=+t.apply(this,arguments)}}:function(e,t){return t=+t,function(){Ie(this,e).duration=t}})(t,e)):Fe(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw new Error;return function(){Ie(this,e).ease=t}}(t,e)):Fe(this.node(),t).ease}};var Sc=function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n}(3),$c=function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(3),Ec=function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(3),kc=Math.PI,Ac=kc/2,Tc=4/11,Mc=6/11,Dc=8/11,Pc=.75,_c=9/11,Rc=10/11,Ic=.9375,Fc=21/22,Oc=63/64,Lc=1/Tc/Tc,Nc=function e(t){function n(e){return e*e*((t+1)*e-t)}return t=+t,n.overshoot=e,n}(1.70158),Vc=function e(t){function n(e){return--e*e*((t+1)*e+t)+1}return t=+t,n.overshoot=e,n}(1.70158),Hc=function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}(1.70158),Bc=2*Math.PI,zc=function t(n,i){function e(e){return n*Math.pow(2,10*--e)*Math.sin((r-e)/i)}var r=Math.asin(1/(n=Math.max(1,n)))*(i/=Bc);return e.amplitude=function(e){return t(e,i*Bc)},e.period=function(e){return t(n,e)},e}(1,.3),jc=function t(n,i){function e(e){return 1-n*Math.pow(2,-10*(e=+e))*Math.sin((e+r)/i)}var r=Math.asin(1/(n=Math.max(1,n)))*(i/=Bc);return e.amplitude=function(e){return t(e,i*Bc)},e.period=function(e){return t(n,e)},e}(1,.3),Gc=function t(n,i){function e(e){return((e=2*e-1)<0?n*Math.pow(2,10*e)*Math.sin((r-e)/i):2-n*Math.pow(2,-10*e)*Math.sin((r+e)/i))/2}var r=Math.asin(1/(n=Math.max(1,n)))*(i/=Bc);return e.amplitude=function(e){return t(e,i*Bc)},e.period=function(e){return t(n,e)},e}(1,.3),Uc={time:null,delay:0,duration:250,ease:Be};L.prototype.interrupt=function(e){return this.each(function(){bc(this,e)})},L.prototype.transition=function(e){var t,n;e=e instanceof Le?(t=e._id,e._name):(t=Ve(),(n=Uc).time=Ee(),null==e?null:e+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var a,s=i[o],l=s.length,c=0;c<l;++c)(a=s[c])&&pc(a,e,t,c,s,n||We(a,t));return new Le(i,this._parents,e,t)};function Wc(e){return function(){return e}}var qc=[null],Yc=function(e){return function(){return e}},Xc=function(e,t,n){this.target=e,this.type=t,this.selection=n},Kc=function(){H.event.preventDefault(),H.event.stopImmediatePropagation()},Zc={name:"drag"},Jc={name:"space"},Qc={name:"handle"},eu={name:"center"},tu={name:"x",handles:["e","w"].map(Ye),input:function(e,t){return e&&[[e[0],t[0][1]],[e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},nu={name:"y",handles:["n","s"].map(Ye),input:function(e,t){return e&&[[t[0][0],e[0]],[t[1][0],e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},iu={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(Ye),input:function(e){return e},output:function(e){return e}},ru={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ou={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},au={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},su={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},lu={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1},cu=Math.cos,uu=Math.sin,du=Math.PI,hu=du/2,pu=2*du,fu=Math.max,gu=Array.prototype.slice,mu=Math.PI,vu=2*mu,yu=vu-1e-6;et.prototype=tt.prototype={constructor:et,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,i){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(e,t,n,i,r,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+o)},arcTo:function(e,t,n,i,r){e=+e,t=+t,n=+n,i=+i,r=+r;var o=this._x1,a=this._y1,s=n-e,l=i-t,c=o-e,u=a-t,d=c*c+u*u;if(r<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(1e-6<d)if(1e-6<Math.abs(u*s-l*c)&&r){var h=n-o,p=i-a,f=s*s+l*l,g=h*h+p*p,m=Math.sqrt(f),v=Math.sqrt(d),y=r*Math.tan((mu-Math.acos((f+d-g)/(2*m*v)))/2),b=y/v,w=y/m;1e-6<Math.abs(b-1)&&(this._+="L"+(e+b*c)+","+(t+b*u)),this._+="A"+r+","+r+",0,0,"+ +(c*p<u*h)+","+(this._x1=e+w*s)+","+(this._y1=t+w*l)}else this._+="L"+(this._x1=e)+","+(this._y1=t)},arc:function(e,t,n,i,r,o){e=+e,t=+t;var a=(n=+n)*Math.cos(i),s=n*Math.sin(i),l=e+a,c=t+s,u=1^o,d=o?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(1e-6<Math.abs(this._x1-l)||1e-6<Math.abs(this._y1-c))&&(this._+="L"+l+","+c),n&&(d<0&&(d=d%vu+vu),yu<d?this._+="A"+n+","+n+",0,1,"+u+","+(e-a)+","+(t-s)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):1e-6<d&&(this._+="A"+n+","+n+",0,"+ +(mu<=d)+","+u+","+(this._x1=e+n*Math.cos(r))+","+(this._y1=t+n*Math.sin(r))))},rect:function(e,t,n,i){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};st.prototype=lt.prototype={constructor:st,has:function(e){return"$"+e in this},get:function(e){return this["$"+e]},set:function(e,t){return this["$"+e]=t,this},remove:function(e){var t="$"+e;return t in this&&delete this[t]},clear:function(){for(var e in this)"$"===e[0]&&delete this[e]},keys:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)"$"===t[0]&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)"$"===t[0]&&++e;return e},empty:function(){for(var e in this)if("$"===e[0])return!1;return!0},each:function(e){for(var t in this)"$"===t[0]&&e(this[t],t.slice(1),this)}};var bu=lt.prototype;pt.prototype=ft.prototype={constructor:pt,has:bu.has,add:function(e){return this["$"+(e+="")]=e,this},remove:bu.remove,clear:bu.clear,values:bu.keys,size:bu.size,empty:bu.empty,each:bu.each};function wu(i){function o(r,e){function t(){if(l<=c)return s;if(o)return o=!1,a;var e,t=c;if(34===r.charCodeAt(t)){for(var n=t;n++<l;)if(34===r.charCodeAt(n)){if(34!==r.charCodeAt(n+1))break;++n}return c=n+2,13===(e=r.charCodeAt(n+1))?(o=!0,10===r.charCodeAt(n+2)&&++c):10===e&&(o=!0),r.slice(t+1,n).replace(/""/g,'"')}for(;c<l;){var i=1;if(10===(e=r.charCodeAt(c++)))o=!0;else if(13===e)o=!0,10===r.charCodeAt(c)&&(++c,++i);else if(e!==h)continue;return r.slice(t,c-i)}return r.slice(t)}for(var n,o,a={},s={},i=[],l=r.length,c=0,u=0;(n=t())!==s;){for(var d=[];n!==a&&n!==s;)d.push(n),n=t();e&&null==(d=e(d,u++))||i.push(d)}return i}function t(e){return e.map(r).join(i)}function r(e){return null==e?"":n.test(e+="")?'"'+e.replace(/\"/g,'""')+'"':e}var n=new RegExp('["'+i+"\n\r]"),h=i.charCodeAt(0);return{parse:function(e,n){var i,r,t=o(e,function(e,t){if(i)return i(e,t-1);r=e,i=n?function(n,i){var r=gt(n);return function(e,t){return i(r(e),t,n)}}(e,n):gt(e)});return t.columns=r,t},parseRows:o,format:function(e,n){return null==n&&(n=function(e){var n=Object.create(null),i=[];return e.forEach(function(e){for(var t in e)t in n||i.push(n[t]=t)}),i}(e)),[n.map(r).join(i)].concat(e.map(function(t){return n.map(function(e){return r(t[e])}).join(i)})).join("\n")},formatRows:function(e){return e.map(t).join("\n")}}}function xu(e){return function(){return e}}function Cu(){return 1e-6*(Math.random()-.5)}function Su(e,t,n,i,r){this.node=e,this.x0=t,this.y0=n,this.x1=i,this.y1=r}var $u=wu(","),Eu=$u.parse,ku=$u.parseRows,Au=$u.format,Tu=$u.formatRows,Mu=wu("\t"),Du=Mu.parse,Pu=Mu.parseRows,_u=Mu.format,Ru=Mu.formatRows,Iu=bt.prototype=wt.prototype;Iu.copy=function(){var e,t,n=new wt(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return n;if(!i.length)return n._root=xt(i),n;for(e=[{source:i,target:n._root=new Array(4)}];i=e.pop();)for(var r=0;r<4;++r)(t=i.source[r])&&(t.length?e.push({source:t,target:i.target[r]=new Array(4)}):i.target[r]=xt(t));return n},Iu.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return mt(this.cover(t,n),t,n,e)},Iu.addAll=function(e){var t,n,i,r,o=e.length,a=new Array(o),s=new Array(o),l=1/0,c=1/0,u=-1/0,d=-1/0;for(n=0;n<o;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(r=+this._y.call(null,t))||((a[n]=i)<l&&(l=i),u<i&&(u=i),(s[n]=r)<c&&(c=r),d<r&&(d=r));for(u<l&&(l=this._x0,u=this._x1),d<c&&(c=this._y0,d=this._y1),this.cover(l,c).cover(u,d),n=0;n<o;++n)mt(this,a[n],s[n],e[n]);return this},Iu.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,i=this._y0,r=this._x1,o=this._y1;if(isNaN(n))r=(n=Math.floor(e))+1,o=(i=Math.floor(t))+1;else{if(!(e<n||r<e||t<i||o<t))return this;var a,s,l=r-n,c=this._root;switch(s=(t<(i+o)/2)<<1|e<(n+r)/2){case 0:for(;(a=new Array(4))[s]=c,c=a,o=i+(l*=2),(r=n+l)<e||o<t;);break;case 1:for(;(a=new Array(4))[s]=c,c=a,o=i+(l*=2),e<(n=r-l)||o<t;);break;case 2:for(;(a=new Array(4))[s]=c,c=a,i=o-(l*=2),(r=n+l)<e||t<i;);break;case 3:for(;(a=new Array(4))[s]=c,c=a,i=o-(l*=2),e<(n=r-l)||t<i;);}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=i,this._x1=r,this._y1=o,this},Iu.data=function(){var t=[];return this.visit(function(e){if(!e.length)for(;t.push(e.data),e=e.next;);}),t},Iu.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Iu.find=function(e,t,n){var i,r,o,a,s,l,c,u=this._x0,d=this._y0,h=this._x1,p=this._y1,f=[],g=this._root;for(g&&f.push(new Su(g,u,d,h,p)),null==n?n=1/0:(u=e-n,d=t-n,h=e+n,p=t+n,n*=n);l=f.pop();)if(!(!(g=l.node)||(r=l.x0)>h||(o=l.y0)>p||(a=l.x1)<u||(s=l.y1)<d))if(g.length){var m=(r+a)/2,v=(o+s)/2;f.push(new Su(g[3],m,v,a,s),new Su(g[2],r,v,m,s),new Su(g[1],m,o,a,v),new Su(g[0],r,o,m,v)),(c=(v<=t)<<1|m<=e)&&(l=f[f.length-1],f[f.length-1]=f[f.length-1-c],f[f.length-1-c]=l)}else{var y=e-+this._x.call(null,g.data),b=t-+this._y.call(null,g.data),w=y*y+b*b;if(w<n){var x=Math.sqrt(n=w);u=e-x,d=t-x,h=e+x,p=t+x,i=g.data}}return i},Iu.remove=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,i,r,o,a,s,l,c,u,d,h,p=this._root,f=this._x0,g=this._y0,m=this._x1,v=this._y1;if(!p)return this;if(p.length)for(;;){if((c=o>=(s=(f+m)/2))?f=s:m=s,(u=a>=(l=(g+v)/2))?g=l:v=l,!(p=(t=p)[d=u<<1|c]))return this;if(!p.length)break;(t[d+1&3]||t[d+2&3]||t[d+3&3])&&(n=t,h=d)}for(;p.data!==e;)if(!(p=(i=p).next))return this;return(r=p.next)&&delete p.next,i?r?i.next=r:delete i.next:t?(r?t[d]=r:delete t[d],(p=t[0]||t[1]||t[2]||t[3])&&p===(t[3]||t[2]||t[1]||t[0])&&!p.length&&(n?n[h]=p:this._root=p)):this._root=r,this},Iu.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},Iu.root=function(){return this._root},Iu.size=function(){var t=0;return this.visit(function(e){if(!e.length)for(;++t,e=e.next;);}),t},Iu.visit=function(e){var t,n,i,r,o,a,s=[],l=this._root;for(l&&s.push(new Su(l,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(l=t.node,i=t.x0,r=t.y0,o=t.x1,a=t.y1)&&l.length){var c=(i+o)/2,u=(r+a)/2;(n=l[3])&&s.push(new Su(n,c,u,o,a)),(n=l[2])&&s.push(new Su(n,i,u,c,a)),(n=l[1])&&s.push(new Su(n,c,r,o,u)),(n=l[0])&&s.push(new Su(n,i,r,c,u))}return this},Iu.visitAfter=function(e){var t,n=[],i=[];for(this._root&&n.push(new Su(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var r=t.node;if(r.length){var o,a=t.x0,s=t.y0,l=t.x1,c=t.y1,u=(a+l)/2,d=(s+c)/2;(o=r[0])&&n.push(new Su(o,a,s,u,d)),(o=r[1])&&n.push(new Su(o,u,s,l,d)),(o=r[2])&&n.push(new Su(o,a,d,u,c)),(o=r[3])&&n.push(new Su(o,u,d,l,c))}i.push(t)}for(;t=i.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},Iu.x=function(e){return arguments.length?(this._x=e,this):this._x},Iu.y=function(e){return arguments.length?(this._y=e,this):this._y};function Fu(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[1<i.length?i[0]+i.slice(2):i,+e.slice(n+1)]}function Ou(e){return(e=Fu(Math.abs(e)))?e[1]:NaN}function Lu(e,t){var n=Fu(e,t);if(!n)return e+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}var Nu,Vu=Math.PI*(3-Math.sqrt(5)),Hu={"":function(e,t){e:for(var n,i=(e=e.toPrecision(t)).length,r=1,o=-1;r<i;++r)switch(e[r]){case".":o=n=r;break;case"0":0===o&&(o=r),n=r;break;case"e":break e;default:0<o&&(o=0)}return 0<o?e.slice(0,o)+e.slice(n+1):e},"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return Lu(100*e,t)},r:Lu,s:function(e,t){var n=Fu(e,t);if(!n)return e+"";var i=n[0],r=n[1],o=r-(Nu=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,a=i.length;return o===a?i:a<o?i+new Array(o-a+1).join("0"):0<o?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+Fu(e,Math.max(0,t+o-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},Bu=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;Tt.prototype=Mt.prototype,Mt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};function zu(e){return e}function ju(e){function a(e){function t(e){var t,n,i,r=v,o=y;if("c"===m)o=b(e)+o,e="";else{var a=(e=+e)<0;if(e=b(Math.abs(e),g),a&&0==+e&&(a=!1),r=(a?"("===d?d:"-":"-"===d||"("===d?"":d)+r,o=o+("s"===m?Uu[8+Nu/3]:"")+(a&&"("===d?")":""),w)for(t=-1,n=e.length;++t<n;)if((i=e.charCodeAt(t))<48||57<i){o=(46===i?C+e.slice(t+1):e.slice(t))+o,e=e.slice(0,t);break}}f&&!h&&(e=x(e,1/0));var s=r.length+e.length+o.length,l=s<p?new Array(p-s+1).join(c):"";switch(f&&h&&(e=x(l+e,l.length?p-o.length:1/0),l=""),u){case"<":e=r+e+o+l;break;case"=":e=r+l+e+o;break;case"^":e=l.slice(0,s=l.length>>1)+r+e+o+l.slice(s);break;default:e=l+r+e+o}return S(e)}var c=(e=Tt(e)).fill,u=e.align,d=e.sign,n=e.symbol,h=e.zero,p=e.width,f=e.comma,g=e.precision,m=e.type,v="$"===n?i[0]:"#"===n&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",y="$"===n?i[1]:/[%p]/.test(m)?"%":"",b=Hu[m],w=!m||/[defgprs%]/.test(m);return g=null==g?m?6:12:/[gprs]/.test(m)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),t.toString=function(){return e+""},t}var x=e.grouping&&e.thousands?function(s,l){return function(e,t){for(var n=e.length,i=[],r=0,o=s[0],a=0;0<n&&0<o&&(t<a+o+1&&(o=Math.max(1,t-a)),i.push(e.substring(n-=o,n+o)),!((a+=o+1)>t));)o=s[r=(r+1)%s.length];return i.reverse().join(l)}}(e.grouping,e.thousands):zu,i=e.currency,C=e.decimal,S=e.numerals?function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}(e.numerals):zu;return{format:a,formatPrefix:function(e,t){var n=a(((e=Tt(e)).type="f",e)),i=3*Math.max(-8,Math.min(8,Math.floor(Ou(t)/3))),r=Math.pow(10,-i),o=Uu[8+i/3];return function(e){return n(r*e)+o}}}}var Gu,Uu=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];Dt({decimal:".",thousands:",",grouping:[3],currency:["$",""]});function Wu(e){return Math.max(0,-Ou(Math.abs(e)))}function qu(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Ou(t)/3)))-Ou(Math.abs(e)))}function Yu(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ou(t)-Ou(e))+1}function Xu(){return new Pt}Pt.prototype={constructor:Pt,reset:function(){this.s=this.t=0},add:function(e){_t(Td,e,this.t),_t(this,Td.s,this.s),this.s?this.t+=Td.t:this.s=Td.t},valueOf:function(){return this.s}};function Ku(e){return function(){return e}}var Zu,Ju,Qu,ed,td,nd,id,rd,od,ad,sd,ld,cd,ud,dd,hd,pd,fd,gd,md,vd,yd,bd,wd,xd,Cd,Sd,$d,Ed,kd,Ad,Td=new Pt,Md=1e-6,Dd=Math.PI,Pd=Dd/2,_d=Dd/4,Rd=2*Dd,Id=180/Dd,Fd=Dd/180,Od=Math.abs,Ld=Math.atan,Nd=Math.atan2,Vd=Math.cos,Hd=Math.ceil,Bd=Math.exp,zd=Math.log,jd=Math.pow,Gd=Math.sin,Ud=Math.sign||function(e){return 0<e?1:e<0?-1:0},Wd=Math.sqrt,qd=Math.tan,Yd={Feature:function(e,t){Lt(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,r=n.length;++i<r;)Lt(n[i].geometry,t)}},Xd={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)e=n[i],t.point(e[0],e[1],e[2])},LineString:function(e,t){Nt(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)Nt(n[i],t,0)},Polygon:function(e,t){Vt(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)Vt(n[i],t)},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,r=n.length;++i<r;)Lt(n[i],t)}},Kd=function(e,t){e&&Yd.hasOwnProperty(e.type)?Yd[e.type](e,t):Lt(e,t)},Zd=Xu(),Jd=Xu(),Qd={point:Ot,lineStart:Ot,lineEnd:Ot,polygonStart:function(){Zd.reset(),Qd.lineStart=Ht,Qd.lineEnd=Bt},polygonEnd:function(){var e=+Zd;Jd.add(e<0?Rd+e:e),this.lineStart=this.lineEnd=this.point=Ot},sphere:function(){Jd.add(Rd)}},eh=Xu(),th={point:Zt,lineStart:Qt,lineEnd:en,polygonStart:function(){th.point=tn,th.lineStart=nn,th.lineEnd=rn,eh.reset(),Qd.polygonStart()},polygonEnd:function(){Qd.polygonEnd(),th.point=Zt,th.lineStart=Qt,th.lineEnd=en,Zd<0?(nd=-(rd=180),id=-(od=90)):Md<eh?od=90:eh<-Md&&(id=-90),dd[0]=nd,dd[1]=rd}},nh={sphere:Ot,point:ln,lineStart:un,lineEnd:pn,polygonStart:function(){nh.lineStart=fn,nh.lineEnd=gn},polygonEnd:function(){nh.lineStart=un,nh.lineEnd=pn}},ih=function(n,i){function e(e,t){return e=n(e,t),i(e[0],e[1])}return n.invert&&i.invert&&(e.invert=function(e,t){return(e=i.invert(e,t))&&n.invert(e[0],e[1])}),e};yn.invert=yn;function rh(t){function e(e){return(e=t(e[0]*Fd,e[1]*Fd))[0]*=Id,e[1]*=Id,e}return t=bn(t[0]*Fd,t[1]*Fd,2<t.length?t[2]*Fd:0),e.invert=function(e){return(e=t.invert(e[0]*Fd,e[1]*Fd))[0]*=Id,e[1]*=Id,e},e}function oh(e,t){return Od(e[0]-t[0])<Md&&Od(e[1]-t[1])<Md}function ah(e,t){var n=t[0],i=t[1],r=[Gd(n),-Vd(n),0],o=0,a=0;Eh.reset();for(var s=0,l=e.length;s<l;++s)if(u=(c=e[s]).length)for(var c,u,d=c[u-1],h=d[0],p=d[1]/2+_d,f=Gd(p),g=Vd(p),m=0;m<u;++m,h=y,f=w,g=x,d=v){var v=c[m],y=v[0],b=v[1]/2+_d,w=Gd(b),x=Vd(b),C=y-h,S=0<=C?1:-1,$=S*C,E=Dd<$,k=f*w;if(Eh.add(Nd(k*S*Gd($),g*x+k*Vd($))),o+=E?C+S*Rd:C,E^n<=h^n<=y){var A=qt(Ut(d),Ut(v));Kt(A);var T=qt(r,A);Kt(T);var M=(E^0<=C?-1:1)*It(T[2]);(M<i||i===M&&(A[0]||A[1]))&&(a+=E^0<=C?1:-1)}}return(o<-Md||o<Md&&Eh<-Md)^1&a}function sh(e){return kh.reset(),Kd(e,Ah),+kh}function lh(e,t){return Th[0]=e,Th[1]=t,sh(Mh)}var ch,uh,dh,hh,ph,fh,gh,mh,vh,yh,bh,wh=function(){var n,t=[];return{point:function(e,t){n.push([e,t])},lineStart:function(){t.push(n=[])},lineEnd:Ot,rejoin:function(){1<t.length&&t.push(t.pop().concat(t.shift()))},result:function(){var e=t;return t=[],n=null,e}}},xh=function(e,t,n,i,r,o){var a,s=e[0],l=e[1],c=0,u=1,d=t[0]-s,h=t[1]-l;if(a=n-s,d||!(0<a)){if(a/=d,d<0){if(a<c)return;a<u&&(u=a)}else if(0<d){if(u<a)return;c<a&&(c=a)}if(a=r-s,d||!(a<0)){if(a/=d,d<0){if(u<a)return;c<a&&(c=a)}else if(0<d){if(a<c)return;a<u&&(u=a)}if(a=i-l,h||!(0<a)){if(a/=h,h<0){if(a<c)return;a<u&&(u=a)}else if(0<h){if(u<a)return;c<a&&(c=a)}if(a=o-l,h||!(a<0)){if(a/=h,h<0){if(u<a)return;c<a&&(c=a)}else if(0<h){if(a<c)return;a<u&&(u=a)}return 0<c&&(e[0]=s+c*d,e[1]=l+c*h),u<1&&(t[0]=s+u*d,t[1]=l+u*h),!0}}}}},Ch=function(e,t,n,i,o){var a,r,s=[],l=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n,i=e[0],r=e[t];if(oh(i,r)){for(o.lineStart(),a=0;a<t;++a)o.point((i=e[a])[0],i[1]);return void o.lineEnd()}s.push(n=new En(i,e,null,!0)),l.push(n.o=new En(i,null,n,!1)),s.push(n=new En(r,e,null,!1)),l.push(n.o=new En(r,null,n,!0))}}),s.length){for(l.sort(t),kn(s),kn(l),a=0,r=l.length;a<r;++a)l[a].e=n=!n;for(var c,u,d=s[0];;){for(var h=d,p=!0;h.v;)if((h=h.n)===d)return;c=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(a=0,r=c.length;a<r;++a)o.point((u=c[a])[0],u[1]);else i(h.x,h.n.x,1,o);h=h.n}else{if(p)for(c=h.p.z,a=c.length-1;0<=a;--a)o.point((u=c[a])[0],u[1]);else i(h.x,h.p.x,-1,o);h=h.p}c=(h=h.o).z,p=!p}while(!h.v);o.lineEnd()}}},Sh=1e9,$h=-Sh,Eh=Xu(),kh=Xu(),Ah={sphere:Ot,point:Ot,lineStart:function(){Ah.point=Mn,Ah.lineEnd=Tn},lineEnd:Ot,polygonStart:Ot,polygonEnd:Ot},Th=[null,null],Mh={type:"LineString",coordinates:Th},Dh={Feature:function(e,t){return Pn(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,r=n.length;++i<r;)if(Pn(n[i].geometry,t))return!0;return!1}},Ph={Sphere:function(){return!0},Point:function(e,t){return _n(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)if(_n(n[i],t))return!0;return!1},LineString:function(e,t){return Rn(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)if(Rn(n[i],t))return!0;return!1},Polygon:function(e,t){return In(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)if(In(n[i],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,r=n.length;++i<r;)if(Pn(n[i],t))return!0;return!1}},_h=function(e){return e},Rh=Xu(),Ih=Xu(),Fh={point:Ot,lineStart:Ot,lineEnd:Ot,polygonStart:function(){Fh.lineStart=Hn,Fh.lineEnd=jn},polygonEnd:function(){Fh.lineStart=Fh.lineEnd=Fh.point=Ot,Rh.add(Od(Ih)),Ih.reset()},result:function(){var e=Rh/2;return Rh.reset(),e}},Oh=1/0,Lh=Oh,Nh=-Oh,Vh=Nh,Hh={point:function(e,t){e<Oh&&(Oh=e),Nh<e&&(Nh=e),t<Lh&&(Lh=t),Vh<t&&(Vh=t)},lineStart:Ot,lineEnd:Ot,polygonStart:Ot,polygonEnd:Ot,result:function(){var e=[[Oh,Lh],[Nh,Vh]];return Nh=Vh=-(Lh=Oh=1/0),e}},Bh=0,zh=0,jh=0,Gh=0,Uh=0,Wh=0,qh=0,Yh=0,Xh=0,Kh={point:Gn,lineStart:Un,lineEnd:Yn,polygonStart:function(){Kh.lineStart=Xn,Kh.lineEnd=Kn},polygonEnd:function(){Kh.point=Gn,Kh.lineStart=Un,Kh.lineEnd=Yn},result:function(){var e=Xh?[qh/Xh,Yh/Xh]:Wh?[Gh/Wh,Uh/Wh]:jh?[Bh/jh,zh/jh]:[NaN,NaN];return Bh=zh=jh=Gh=Uh=Wh=qh=Yh=Xh=0,e}};Qn.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Rd)}},result:Ot};var Zh,Jh,Qh,ep,tp,np=Xu(),ip={point:Ot,lineStart:function(){ip.point=ei},lineEnd:function(){Zh&&ti(Jh,Qh),ip.point=Ot},polygonStart:function(){Zh=!0},polygonEnd:function(){Zh=null},result:function(){var e=+np;return np.reset(),e}};ni.prototype={_circle:ii(4.5),pointRadius:function(e){return this._circle=ii(e),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}}};function rp(y,b,w,x){return function(i,s){function t(e,t){var n=i(e,t);y(e=n[0],t=n[1])&&s.point(e,t)}function e(e,t){var n=i(e,t);h.point(n[0],n[1])}function n(){v.point=e,h.lineStart()}function r(){v.point=t,h.lineEnd()}function l(e,t){d.push([e,t]);var n=i(e,t);g.point(n[0],n[1])}function o(){g.lineStart(),d=[]}function a(){l(d[0][0],d[0][1]),g.lineEnd();var e,t,n,i,r=g.clean(),o=f.result(),a=o.length;if(d.pop(),c.push(d),d=null,a)if(1&r){if(0<(t=(n=o[0]).length-1)){for(m||(s.polygonStart(),m=!0),s.lineStart(),e=0;e<t;++e)s.point((i=n[e])[0],i[1]);s.lineEnd()}}else 1<a&&2&r&&o.push(o.pop().concat(o.shift())),u.push(o.filter(ri))}var c,u,d,h=b(s),p=i.invert(x[0],x[1]),f=wh(),g=b(f),m=!1,v={point:t,lineStart:n,lineEnd:r,polygonStart:function(){v.point=l,v.lineStart=o,v.lineEnd=a,u=[],c=[]},polygonEnd:function(){v.point=t,v.lineStart=n,v.lineEnd=r,u=ys(u);var e=ah(c,p);u.length?(m||(s.polygonStart(),m=!0),Ch(u,oi,e,w,s)):e&&(m||(s.polygonStart(),m=!0),s.lineStart(),w(null,null,1,s),s.lineEnd()),m&&(s.polygonEnd(),m=!1),u=c=null},sphere:function(){s.polygonStart(),s.lineStart(),w(null,null,1,s),s.lineEnd(),s.polygonEnd()}};return v}}var op=rp(function(){return!0},function(r){var o,a=NaN,s=NaN,l=NaN;return{lineStart:function(){r.lineStart(),o=1},point:function(e,t){var n=0<e?Dd:-Dd,i=Od(e-a);Od(i-Dd)<Md?(r.point(a,s=0<(s+t)/2?Pd:-Pd),r.point(l,s),r.lineEnd(),r.lineStart(),r.point(n,s),r.point(e,s),o=0):l!==n&&Dd<=i&&(Od(a-l)<Md&&(a-=l*Md),Od(e-n)<Md&&(e-=n*Md),s=function(e,t,n,i){var r,o,a=Gd(e-n);return Od(a)>Md?Ld((Gd(t)*(o=Vd(i))*Gd(n)-Gd(i)*(r=Vd(t))*Gd(e))/(r*o*a)):(t+i)/2}(a,s,e,t),r.point(l,s),r.lineEnd(),r.lineStart(),r.point(n,s),o=0),r.point(a=e,s=t),l=n},lineEnd:function(){r.lineEnd(),a=s=NaN},clean:function(){return 2-o}}},function(e,t,n,i){var r;if(null==e)r=n*Pd,i.point(-Dd,r),i.point(0,r),i.point(Dd,r),i.point(Dd,0),i.point(Dd,-r),i.point(0,-r),i.point(-Dd,-r),i.point(-Dd,0),i.point(-Dd,r);else if(Od(e[0]-t[0])>Md){var o=e[0]<t[0]?Dd:-Dd;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(t[0],t[1])},[-Dd,-Pd]),ap=function(r,o){function p(e,t){return Vd(e)*Vd(t)>k}function f(e,t,n){var i=[1,0,0],r=qt(Ut(e),Ut(t)),o=Wt(r,r),a=r[0],s=o-a*a;if(!s)return!n&&e;var l=k*o/s,c=-k*a/s,u=qt(i,r),d=Xt(i,l);Yt(d,Xt(r,c));var h=u,p=Wt(d,h),f=Wt(h,h),g=p*p-f*(Wt(d,d)-1);if(!(g<0)){var m=Wd(g),v=Xt(h,(-p-m)/f);if(Yt(v,d),v=Gt(v),!n)return v;var y,b=e[0],w=t[0],x=e[1],C=t[1];w<b&&(y=b,b=w,w=y);var S=w-b,$=Od(S-Dd)<Md;if(!$&&C<x&&(y=x,x=C,C=y),$||S<Md?$?0<x+C^v[1]<(Od(v[0]-b)<Md?x:C):x<=v[1]&&v[1]<=C:Dd<S^(b<=v[0]&&v[0]<=w)){var E=Xt(h,(-p+m)/f);return Yt(E,d),[v,Gt(E)]}}}function g(e,t){var n=m?r:Dd-r,i=0;return e<-n?i|=1:n<e&&(i|=2),t<-n?i|=4:n<t&&(i|=8),i}var k=Vd(r),m=0<k,v=Od(k)>Md;return rp(p,function(s){var l,c,u,d,h;return{lineStart:function(){d=u=!1,h=1},point:function(e,t){var n,i=[e,t],r=p(e,t),o=m?r?0:g(e,t):r?g(e+(e<0?Dd:-Dd),t):0;if(!l&&(d=u=r)&&s.lineStart(),r!==u&&(n=f(l,i),(oh(l,n)||oh(i,n))&&(i[0]+=Md,i[1]+=Md,r=p(i[0],i[1]))),r!==u)h=0,r?(s.lineStart(),n=f(i,l),s.point(n[0],n[1])):(n=f(l,i),s.point(n[0],n[1]),s.lineEnd()),l=n;else if(v&&l&&m^r){var a;o&c||!(a=f(i,l,!0))||(h=0,m?(s.lineStart(),s.point(a[0][0],a[0][1]),s.point(a[1][0],a[1][1]),s.lineEnd()):(s.point(a[1][0],a[1][1]),s.lineEnd(),s.lineStart(),s.point(a[0][0],a[0][1])))}!r||l&&oh(l,i)||s.point(i[0],i[1]),l=i,u=r,c=o},lineEnd:function(){u&&s.lineEnd(),l=null},clean:function(){return h|(d&&u)<<1}}},function(e,t,n,i){Sn(i,r,o,n,e,t)},m?[0,-r]:[-Dd,r-Dd])};si.prototype={constructor:si,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function sp(){return hi(pi).scale(155.424).center([0,33.6442])}function lp(){return sp().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var cp=Vd(30*Fd),up=function(e,t){return+t?function(M,D){function P(e,t,n,i,r,o,a,s,l,c,u,d,h,p){var f=a-e,g=s-t,m=f*f+g*g;if(4*D<m&&h--){var v=i+c,y=r+u,b=o+d,w=Wd(v*v+y*y+b*b),x=It(b/=w),C=Od(Od(b)-1)<Md||Od(n-l)<Md?(n+l)/2:Nd(y,v),S=M(C,x),$=S[0],E=S[1],k=$-e,A=E-t,T=g*k-f*A;(D<T*T/m||.3<Od((f*k+g*A)/m-.5)||i*c+r*u+o*d<cp)&&(P(e,t,n,i,r,o,$,E,C,v/=w,y/=w,b,h,p),p.point($,E),P($,E,C,v,y,b,a,s,l,c,u,d,h,p))}}return function(r){function e(e,t){e=M(e,t),r.point(e[0],e[1])}function t(){g=NaN,w.point=n,r.lineStart()}function n(e,t){var n=Ut([e,t]),i=M(e,t);P(g,m,f,v,y,b,g=i[0],m=i[1],f=e,v=n[0],y=n[1],b=n[2],16,r),r.point(g,m)}function i(){w.point=e,r.lineEnd()}function o(){t(),w.point=a,w.lineEnd=s}function a(e,t){n(l=e,t),c=g,u=m,d=v,h=y,p=b,w.point=n}function s(){P(g,m,f,v,y,b,c,u,l,d,h,p,16,r),(w.lineEnd=i)()}var l,c,u,d,h,p,f,g,m,v,y,b,w={point:e,lineStart:t,lineEnd:i,polygonStart:function(){r.polygonStart(),w.lineStart=o},polygonEnd:function(){r.polygonEnd(),w.lineStart=t}};return w}}(e,t):function(n){return ai({point:function(e,t){e=n(e,t),this.stream.point(e[0],e[1])}})}(e)},dp=ai({point:function(e,t){this.stream.point(e*Fd,t*Fd)}}),hp=fi(function(e){return Wd(2/(1+e))});hp.invert=gi(function(e){return 2*It(e/2)});var pp=fi(function(e){return(e=Rt(e))&&e/Gd(e)});pp.invert=gi(function(e){return e});mi.invert=function(e,t){return[e,2*Ld(Bd(t))-Pd]};wi.invert=wi;Ci.invert=gi(Ld);$i.invert=gi(It);Ei.invert=gi(function(e){return 2*Ld(e)});ki.invert=function(e,t){return[-t,2*Ld(Bd(e))-Pd]};Fi.prototype=Pi.prototype={constructor:Fi,count:function(){return this.eachAfter(Di)},each:function(e){var t,n,i,r,o=this,a=[o];do{for(t=a.reverse(),a=[];o=t.pop();)if(e(o),n=o.children)for(i=0,r=n.length;i<r;++i)a.push(n[i])}while(a.length);return this},eachAfter:function(e){for(var t,n,i,r=this,o=[r],a=[];r=o.pop();)if(a.push(r),t=r.children)for(n=0,i=t.length;n<i;++n)o.push(t[n]);for(;r=a.pop();)e(r);return this},eachBefore:function(e){for(var t,n,i=this,r=[i];i=r.pop();)if(e(i),t=i.children)for(n=t.length-1;0<=n;--n)r.push(t[n]);return this},sum:function(r){return this.eachAfter(function(e){for(var t=+r(e.data)||0,n=e.children,i=n&&n.length;0<=--i;)t+=n[i].value;e.value=t})},sort:function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),i=t.ancestors(),r=null;for(e=n.pop(),t=i.pop();e===t;)r=e,e=n.pop(),t=i.pop();return r}(t,e),i=[t];t!==n;)t=t.parent,i.push(t);for(var r=i.length;e!==n;)i.splice(r,0,e),e=e.parent;return i},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){var t=[];return this.each(function(e){t.push(e)}),t},leaves:function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},links:function(){var t=this,n=[];return t.each(function(e){e!==t&&n.push({source:e.parent,target:e})}),n},copy:function(){return Pi(this).eachBefore(Ri)}};function fp(e){return function(){return e}}function gp(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}var mp=function(e){return Li(function(e){for(var t=(e=e.slice()).length,n=null,i=n;t;){var r=new Oi(e[t-1]);i=i?i.next=r:n=r,e[void 0]=e[--t]}return{head:n,tail:i}}(e),[])},vp=function(e,t,n,i,r){for(var o,a=e.children,s=-1,l=a.length,c=e.value&&(i-t)/e.value;++s<l;)(o=a[s]).y0=n,o.y1=r,o.x0=t,o.x1=t+=o.value*c},yp={depth:-1},bp={};er.prototype=Object.create(Fi.prototype);var wp=function(e,t,n,i,r){for(var o,a=e.children,s=-1,l=a.length,c=e.value&&(r-n)/e.value;++s<l;)(o=a[s]).x0=t,o.x1=i,o.y0=n,o.y1=n+=o.value*c},xp=(1+Math.sqrt(5))/2,Cp=function t(o){function e(e,t,n,i,r){tr(o,e,t,n,i,r)}return e.ratio=function(e){return t(1<(e=+e)?e:1)},e}(xp),Sp=function t(p){function e(e,t,n,i,r){if((o=e._squarify)&&o.ratio===p)for(var o,a,s,l,c,u=-1,d=o.length,h=e.value;++u<d;){for(s=(a=o[u]).children,l=a.value=0,c=s.length;l<c;++l)a.value+=s[l].value;a.dice?vp(a,t,n,i,n+=(r-n)*a.value/h):wp(a,t,n,t+=(i-t)*a.value/h,r),h-=a.value}else e._squarify=o=tr(p,e,t,n,i,r),o.ratio=p}return e.ratio=function(e){return t(1<(e=+e)?e:1)},e}(xp),$p=[].slice,Ep={};rr.prototype=cr.prototype={constructor:rr,defer:function(e){if("function"!=typeof e||this._call)throw new Error;if(null!=this._error)return this;var t=$p.call(arguments,1);return t.push(e),++this._waiting,this._tasks.push(t),or(this),this},abort:function(){return null==this._error&&sr(this,new Error("abort")),this},await:function(n){if("function"!=typeof n||this._call)throw new Error;return this._call=function(e,t){n.apply(null,[e].concat(t))},lr(this),this},awaitAll:function(e){if("function"!=typeof e||this._call)throw new Error;return this._call=e,lr(this),this}};function kp(t,n){var i,r;return t=null==t?0:+t,n=null==n?1:+n,function(){var e;if(null!=i)e=i,i=null;else for(;i=2*Math.random()-1,e=2*Math.random()-1,!(r=i*i+e*e)||1<r;);return t+n*e*Math.sqrt(-2*Math.log(r)/r)}}function Ap(n){return function(){for(var e=0,t=0;t<n;++t)e+=Math.random();return e}}function Tp(i,e){function t(e){var t,n=u.status;if(!n&&function(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}(u)||200<=n&&n<300||304===n){if(a)try{t=a.call(r,u)}catch(e){return void l.call("error",r,e)}else t=u;l.call("load",r,t)}else l.call("error",r,e)}var r,o,a,s,l=P("beforesend","progress","load","error"),c=lt(),u=new XMLHttpRequest,d=null,h=null,p=0;if("undefined"==typeof XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(i)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=u.ontimeout=t:u.onreadystatechange=function(e){3<u.readyState&&t(e)},u.onprogress=function(e){l.call("progress",r,e)},r={header:function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?c.get(e):(null==t?c.remove(e):c.set(e,t+""),r)},mimeType:function(e){return arguments.length?(o=null==e?null:e+"",r):o},responseType:function(e){return arguments.length?(s=e,r):s},timeout:function(e){return arguments.length?(p=+e,r):p},user:function(e){return arguments.length<1?d:(d=null==e?null:e+"",r)},password:function(e){return arguments.length<1?h:(h=null==e?null:e+"",r)},response:function(e){return a=e,r},get:function(e,t){return r.send("GET",e,t)},post:function(e,t){return r.send("POST",e,t)},send:function(e,t,n){return u.open(e,i,!0,d,h),null==o||c.has("accept")||c.set("accept",o+",*/*"),u.setRequestHeader&&c.each(function(e,t){u.setRequestHeader(t,e)}),null!=o&&u.overrideMimeType&&u.overrideMimeType(o),null!=s&&(u.responseType=s),0<p&&(u.timeout=p),null==n&&"function"==typeof t&&(n=t,t=null),null!=n&&1===n.length&&(n=function(n){return function(e,t){n(null==e?t:null)}}(n)),null!=n&&r.on("error",n).on("load",function(e){n(null,e)}),l.call("beforesend",r,u),u.send(null==t?null:t),r},abort:function(){return u.abort(),r},on:function(){var e=l.on.apply(l,arguments);return e===l?r:e}},null==e)return r;if("function"!=typeof e)throw new Error("invalid callback: "+e);return r.get(e)}function Mp(i,r){return function(e,t){var n=Tp(e).mimeType(i).response(r);if(null==t)return n;if("function"!=typeof t)throw new Error("invalid callback: "+t);return n.get(t)}}function Dp(r,o){return function(e,t,n){arguments.length<3&&(n=t,t=null);var i=Tp(e).mimeType(r);return i.row=function(e){return arguments.length?i.response(function(t,n){return function(e){return t(e.responseText,n)}}(o,t=e)):t},i.row(t),n?i.get(n):i}}var Pp=Mp("text/html",function(e){return document.createRange().createContextualFragment(e.responseText)}),_p=Mp("application/json",function(e){return JSON.parse(e.responseText)}),Rp=Mp("text/plain",function(e){return e.responseText}),Ip=Mp("application/xml",function(e){var t=e.responseXML;if(!t)throw new Error("parse error");return t}),Fp=Dp("text/csv",Eu),Op=Dp("text/tab-separated-values",Du),Lp=Array.prototype,Np=Lp.map,Vp=Lp.slice,Hp={name:"implicit"},Bp=function(e){return function(){return e}},zp=function(e){return+e},jp=[0,1],Gp=function(e,t,n){var i,r=e[0],o=e[e.length-1],a=$(r,o,null==t?10:t);switch((n=Tt(null==n?",f":n)).type){case"s":var s=Math.max(Math.abs(r),Math.abs(o));return null!=n.precision||isNaN(i=qu(a,s))||(n.precision=i),H.formatPrefix(n,s);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(i=Yu(a,Math.max(Math.abs(r),Math.abs(o))))||(n.precision=i-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(i=Wu(a))||(n.precision=i-2*("%"===n.type))}return H.format(n)},Up=function(e,t){var n,i=0,r=(e=e.slice()).length-1,o=e[i],a=e[r];return a<o&&(n=i,i=r,r=n,n=o,o=a,a=n),e[i]=t.floor(o),e[r]=t.ceil(a),e},Wp=new Date,qp=new Date,Yp=kr(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});Yp.every=function(n){return n=Math.floor(n),isFinite(n)&&0<n?1<n?kr(function(e){e.setTime(Math.floor(e/n)*n)},function(e,t){e.setTime(+e+t*n)},function(e,t){return(t-e)/n}):Yp:null};var Xp=Yp.range,Kp=kr(function(e){e.setTime(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(+e+1e3*t)},function(e,t){return(t-e)/1e3},function(e){return e.getUTCSeconds()}),Zp=Kp.range,Jp=kr(function(e){e.setTime(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(+e+6e4*t)},function(e,t){return(t-e)/6e4},function(e){return e.getMinutes()}),Qp=Jp.range,ef=kr(function(e){var t=6e4*e.getTimezoneOffset()%36e5;t<0&&(t+=36e5),e.setTime(36e5*Math.floor((+e-t)/36e5)+t)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5},function(e){return e.getHours()}),tf=ef.range,nf=kr(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5},function(e){return e.getDate()-1}),rf=nf.range,of=Ar(0),af=Ar(1),sf=Ar(2),lf=Ar(3),cf=Ar(4),uf=Ar(5),df=Ar(6),hf=of.range,pf=af.range,ff=sf.range,gf=lf.range,mf=cf.range,vf=uf.range,yf=df.range,bf=kr(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},function(e){return e.getMonth()}),wf=bf.range,xf=kr(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});xf.every=function(n){return isFinite(n=Math.floor(n))&&0<n?kr(function(e){e.setFullYear(Math.floor(e.getFullYear()/n)*n),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t*n)}):null};var Cf=xf.range,Sf=kr(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+6e4*t)},function(e,t){return(t-e)/6e4},function(e){return e.getUTCMinutes()}),$f=Sf.range,Ef=kr(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5},function(e){return e.getUTCHours()}),kf=Ef.range,Af=kr(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5},function(e){return e.getUTCDate()-1}),Tf=Af.range,Mf=Tr(0),Df=Tr(1),Pf=Tr(2),_f=Tr(3),Rf=Tr(4),If=Tr(5),Ff=Tr(6),Of=Mf.range,Lf=Df.range,Nf=Pf.range,Vf=_f.range,Hf=Rf.range,Bf=If.range,zf=Ff.range,jf=kr(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()}),Gf=jf.range,Uf=kr(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});Uf.every=function(n){return isFinite(n=Math.floor(n))&&0<n?kr(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/n)*n),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t*n)}):null};var Wf,qf=Uf.range,Yf={"-":"",_:" ",0:"0"},Xf=/^\s*\d+/,Kf=/^%/,Zf=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;Ao({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Jf(e){return e.match(/.{6}/g).map(function(e){return"#"+e})}function Qf(e){return function(){return e}}var eg=Date.prototype.toISOString?function(e){return e.toISOString()}:H.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),tg=+new Date("2000-01-01T00:00:00.000Z")?function(e){var t=new Date(e);return isNaN(t)?null:t}:H.utcParse("%Y-%m-%dT%H:%M:%S.%LZ"),ng=1e3,ig=60*ng,rg=60*ig,og=24*rg,ag=7*og,sg=30*og,lg=365*og,cg=Jf("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),ug=Jf("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),dg=Jf("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),hg=Jf("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),pg=nc(he(300,.5,0),he(-240,.5,1)),fg=nc(he(-100,.75,.35),he(80,1.5,.8)),gg=nc(he(260,.75,.35),he(80,1.5,.8)),mg=he(),vg=Po(Jf("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),yg=Po(Jf("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),bg=Po(Jf("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),wg=Po(Jf("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),xg=Math.abs,Cg=Math.atan2,Sg=Math.cos,$g=Math.max,Eg=Math.min,kg=Math.sin,Ag=Math.sqrt,Tg=1e-12,Mg=Math.PI,Dg=Mg/2,Pg=2*Mg;Vo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};function _g(e){return new Vo(e)}function Rg(){function t(e){var t,n,i,r=e.length,o=!1;for(null==c&&(d=u(i=tt())),t=0;t<=r;++t)!(t<r&&l(n=e[t],t,e))===o&&((o=!o)?d.lineStart():d.lineEnd()),o&&d.point(+a(n,t,e),+s(n,t,e));if(i)return d=null,i+""||null}var a=Ho,s=Bo,l=Qf(!0),c=null,u=_g,d=null;return t.x=function(e){return arguments.length?(a="function"==typeof e?e:Qf(+e),t):a},t.y=function(e){return arguments.length?(s="function"==typeof e?e:Qf(+e),t):s},t.defined=function(e){return arguments.length?(l="function"==typeof e?e:Qf(!!e),t):l},t.curve=function(e){return arguments.length?(u=e,null!=c&&(d=u(c)),t):u},t.context=function(e){return arguments.length?(null==e?c=d=null:d=u(c=e),t):c},t}function Ig(){function t(e){var t,n,i,r,o,a=e.length,s=!1,l=new Array(a),c=new Array(a);for(null==g&&(v=m(o=tt())),t=0;t<=a;++t){if(!(t<a&&f(r=e[t],t,e))===s)if(s=!s)n=t,v.areaStart(),v.lineStart();else{for(v.lineEnd(),v.lineStart(),i=t-1;n<=i;--i)v.point(l[i],c[i]);v.lineEnd(),v.areaEnd()}s&&(l[t]=+u(r,t,e),c[t]=+h(r,t,e),v.point(d?+d(r,t,e):l[t],p?+p(r,t,e):c[t]))}if(o)return v=null,o+""||null}function e(){return Rg().defined(f).curve(m).context(g)}var u=Ho,d=null,h=Qf(0),p=Bo,f=Qf(!0),g=null,m=_g,v=null;return t.x=function(e){return arguments.length?(u="function"==typeof e?e:Qf(+e),d=null,t):u},t.x0=function(e){return arguments.length?(u="function"==typeof e?e:Qf(+e),t):u},t.x1=function(e){return arguments.length?(d=null==e?null:"function"==typeof e?e:Qf(+e),t):d},t.y=function(e){return arguments.length?(h="function"==typeof e?e:Qf(+e),p=null,t):h},t.y0=function(e){return arguments.length?(h="function"==typeof e?e:Qf(+e),t):h},t.y1=function(e){return arguments.length?(p=null==e?null:"function"==typeof e?e:Qf(+e),t):p},t.lineX0=t.lineY0=function(){return e().x(u).y(h)},t.lineY1=function(){return e().x(u).y(p)},t.lineX1=function(){return e().x(d).y(h)},t.defined=function(e){return arguments.length?(f="function"==typeof e?e:Qf(!!e),t):f},t.curve=function(e){return arguments.length?(m=e,null!=g&&(v=m(g)),t):m},t.context=function(e){return arguments.length?(null==e?g=v=null:v=m(g=e),t):g},t}function Fg(e,t){return t<e?-1:e<t?1:e<=t?0:NaN}function Og(e){return e}var Lg=jo(_g);zo.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};function Ng(){}var Vg={draw:function(e,t){var n=Math.sqrt(t/Mg);e.moveTo(n,0),e.arc(0,0,n,0,Pg)}},Hg={draw:function(e,t){var n=Math.sqrt(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Bg=Math.sqrt(1/3),zg=2*Bg,jg={draw:function(e,t){var n=Math.sqrt(t/zg),i=n*Bg;e.moveTo(0,-n),e.lineTo(i,0),e.lineTo(0,n),e.lineTo(-i,0),e.closePath()}},Gg=Math.sin(Mg/10)/Math.sin(7*Mg/10),Ug=Math.sin(Pg/10)*Gg,Wg=-Math.cos(Pg/10)*Gg,qg={draw:function(e,t){var n=Math.sqrt(.8908130915292852*t),i=Ug*n,r=Wg*n;e.moveTo(0,-n),e.lineTo(i,r);for(var o=1;o<5;++o){var a=Pg*o/5,s=Math.cos(a),l=Math.sin(a);e.lineTo(l*n,-s*n),e.lineTo(s*i-l*r,l*i+s*r)}e.closePath()}},Yg={draw:function(e,t){var n=Math.sqrt(t),i=-n/2;e.rect(i,i,n,n)}},Xg=Math.sqrt(3),Kg={draw:function(e,t){var n=-Math.sqrt(t/(3*Xg));e.moveTo(0,2*n),e.lineTo(-Xg*n,-n),e.lineTo(Xg*n,-n),e.closePath()}},Zg=Math.sqrt(3)/2,Jg=1/Math.sqrt(12),Qg=3*(Jg/2+1),em={draw:function(e,t){var n=Math.sqrt(t/Qg),i=n/2,r=n*Jg,o=i,a=n*Jg+n,s=-o,l=a;e.moveTo(i,r),e.lineTo(o,a),e.lineTo(s,l),e.lineTo(-.5*i-Zg*r,Zg*i+-.5*r),e.lineTo(-.5*o-Zg*a,Zg*o+-.5*a),e.lineTo(-.5*s-Zg*l,Zg*s+-.5*l),e.lineTo(-.5*i+Zg*r,-.5*r-Zg*i),e.lineTo(-.5*o+Zg*a,-.5*a-Zg*o),e.lineTo(-.5*s+Zg*l,-.5*l-Zg*s),e.closePath()}},tm=[Vg,Hg,jg,Yg,qg,Kg,em];Wo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Uo(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Uo(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};qo.prototype={areaStart:Ng,areaEnd:Ng,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Uo(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};Yo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:Uo(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};Xo.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(0<n)for(var i,r=e[0],o=t[0],a=e[n]-r,s=t[n]-o,l=-1;++l<=n;)i=l/n,this._basis.point(this._beta*e[l]+(1-this._beta)*(r+i*a),this._beta*t[l]+(1-this._beta)*(o+i*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var nm=function t(n){function e(e){return 1===n?new Wo(e):new Xo(e,n)}return e.beta=function(e){return t(+e)},e}(.85);Zo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ko(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Ko(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var im=function t(n){function e(e){return new Zo(e,n)}return e.tension=function(e){return t(+e)},e}(0);Jo.prototype={areaStart:Ng,areaEnd:Ng,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Ko(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var rm=function t(n){function e(e){return new Jo(e,n)}return e.tension=function(e){return t(+e)},e}(0);Qo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ko(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var om=function t(n){function e(e){return new Qo(e,n)}return e.tension=function(e){return t(+e)},e}(0);ta.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:ea(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var am=function t(n){function e(e){return n?new ta(e,n):new Zo(e,0)}return e.alpha=function(e){return t(+e)},e}(.5);na.prototype={areaStart:Ng,areaEnd:Ng,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:ea(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var sm=function t(n){function e(e){return n?new na(e,n):new Jo(e,0)}return e.alpha=function(e){return t(+e)},e}(.5);ia.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ea(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var lm=function t(n){function e(e){return n?new ia(e,n):new Qo(e,0)}return e.alpha=function(e){return t(+e)},e}(.5);ra.prototype={areaStart:Ng,areaEnd:Ng,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};ca.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:la(this,this._t0,sa(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,la(this,sa(this,n=aa(this,e,t)),n);break;default:la(this,this._t0,n=aa(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(ua.prototype=Object.create(ca.prototype)).point=function(e,t){ca.prototype.point.call(this,t,e)},da.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,i,r,o){this._context.bezierCurveTo(t,e,i,n,o,r)}},ha.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var i=pa(e),r=pa(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(i[0][o],r[0][o],i[1][o],r[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};fa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};function cm(e,t){if(1<(i=e.length))for(var n,i,r=1,o=e[t[0]],a=o.length;r<i;++r){n=o,o=e[t[r]];for(var s=0;s<a;++s)o[s][1]+=o[s][0]=isNaN(n[s][1])?n[s][0]:n[s][1]}}function um(e){for(var t=e.length,n=new Array(t);0<=--t;)n[t]=t;return n}function dm(e){var n=e.map(ma);return um(e).sort(function(e,t){return n[e]-n[t]})}function hm(e){return function(){return e}}var pm=Array.prototype.slice;ba.prototype={constructor:ba,insert:function(e,t){var n,i,r;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else n=this._?(e=Sa(this._),t.P=null,(t.N=e).P=e.L=t,e):(t.P=t.N=null,this._=t,null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)n===(i=n.U).L?(r=i.R)&&r.C?(n.C=r.C=!1,i.C=!0,e=i):(e===n.R&&(xa(this,n),n=(e=n).U),n.C=!1,i.C=!0,Ca(this,i)):(r=i.L)&&r.C?(n.C=r.C=!1,i.C=!0,e=i):(e===n.L&&(Ca(this,n),n=(e=n).U),n.C=!1,i.C=!0,xa(this,i)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,i,r=e.U,o=e.L,a=e.R;if(n=o?a?Sa(a):o:a,r?r.L===e?r.L=n:r.R=n:this._=n,o&&a?(i=n.C,n.C=e.C,((n.L=o).U=n)!==a?(r=n.U,n.U=e.U,e=n.R,r.L=e,(n.R=a).U=n):(n.U=r,e=(r=n).R)):(i=e.C,e=n),e&&(e.U=r),!i){if(e&&e.C)return void(e.C=!1);do{if(e===this._)break;if(e===r.L){if((t=r.R).C&&(t.C=!1,r.C=!0,xa(this,r),t=r.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,Ca(this,t),t=r.R),t.C=r.C,r.C=t.R.C=!1,xa(this,r),e=this._;break}}else if((t=r.L).C&&(t.C=!1,r.C=!0,Ca(this,r),t=r.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,xa(this,t),t=r.L),t.C=r.C,r.C=t.L.C=!1,Ca(this,r),e=this._;break}t.C=!0,r=(e=r).U}while(!e.C);e&&(e.C=!1)}}};var fm,gm,mm,vm,ym,bm=[],wm=[],xm=1e-6,Cm=1e-12;Ba.prototype={constructor:Ba,polygons:function(){var n=this.edges;return this.cells.map(function(t){var e=t.halfedges.map(function(e){return Ma(t,n[e])});return e.data=t.site.data,e})},triangles:function(){var h=[],p=this.edges;return this.cells.forEach(function(e,t){if(i=(n=e.halfedges).length)for(var n,i,r,o=e.site,a=-1,s=p[n[i-1]],l=s.left===o?s.right:s.left;++a<i;)r=l,l=(s=p[n[a]]).left===o?s.right:s.left,r&&l&&t<r.index&&t<l.index&&(u=r,d=l,((c=o)[0]-d[0])*(u[1]-c[1])-(c[0]-u[0])*(d[1]-c[1])<0)&&h.push([o.data,r.data,l.data]);var c,u,d}),h},links:function(){return this.edges.filter(function(e){return e.right}).map(function(e){return{source:e.left.data,target:e.right.data}})},find:function(a,s,e){for(var t,l,c=this,u=c._found||0,n=c.cells.length;!(l=c.cells[u]);)if(++u>=n)return null;for(var i=a-l.site[0],r=s-l.site[1],d=i*i+r*r;l=c.cells[t=u],u=null,l.halfedges.forEach(function(e){var t=c.edges[e],n=t.left;if(n!==l.site&&n||(n=t.right)){var i=a-n[0],r=s-n[1],o=i*i+r*r;o<d&&(d=o,u=n.index)}}),null!==u;);return c._found=t,null==e||d<=e*e?l.site:null}};function Sm(e){return function(){return e}}ja.prototype={constructor:ja,scale:function(e){return 1===e?this:new ja(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new ja(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var $m=new ja(1,0,0);Ga.prototype=ja.prototype;function Em(){H.event.preventDefault(),H.event.stopImmediatePropagation()}H.version="4.7.3",H.bisect=ss,H.bisectRight=ss,H.bisectLeft=ls,H.ascending=rs,H.bisector=os,H.cross=function(e,t,n){var i,r,o,a,s=e.length,l=t.length,c=new Array(s*l);for(null==n&&(n=u),i=o=0;i<s;++i)for(a=e[i],r=0;r<l;++r,++o)c[o]=n(a,t[r]);return c},H.descending=function(e,t){return t<e?-1:e<t?1:e<=t?0:NaN},H.deviation=Za,H.extent=Ja,H.histogram=function(){function t(e){var t,n,i=e.length,r=new Array(i);for(t=0;t<i;++t)r[t]=h(e[t],t,e);var o=p(r),a=o[0],s=o[1],l=f(r,a,s);Array.isArray(l)||(l=ms(a,s,l));for(var c=l.length;l[0]<=a;)l.shift(),--c;for(;l[c-1]>=s;)l.pop(),--c;var u,d=new Array(c+1);for(t=0;t<=c;++t)(u=d[t]=[]).x0=0<t?l[t-1]:a,u.x1=t<c?l[t]:s;for(t=0;t<i;++t)a<=(n=r[t])&&n<=s&&d[ss(l,n,0,c)].push(e[t]);return d}var h=es,p=Ja,f=ts;return t.value=function(e){return arguments.length?(h="function"==typeof e?e:Qa(e),t):h},t.domain=function(e){return arguments.length?(p="function"==typeof e?e:Qa([e[0],e[1]]),t):p},t.thresholds=function(e){return arguments.length?(f="function"==typeof e?e:Qa(Array.isArray(e)?us.call(e):e),t):f},t},H.thresholdFreedmanDiaconis=function(e,t,n){return e=ds.call(e,Xa).sort(rs),Math.ceil((n-t)/(2*(vs(e,.75)-vs(e,.25))*Math.pow(e.length,-1/3)))},H.thresholdScott=function(e,t,n){return Math.ceil((n-t)/(3.5*Za(e)*Math.pow(e.length,-1/3)))},H.thresholdSturges=ts,H.max=function(e,t){var n,i,r=-1,o=e.length;if(null==t){for(;++r<o;)if(null!=(i=e[r])&&i<=i){n=i;break}for(;++r<o;)null!=(i=e[r])&&n<i&&(n=i)}else{for(;++r<o;)if(null!=(i=t(e[r],r,e))&&i<=i){n=i;break}for(;++r<o;)null!=(i=t(e[r],r,e))&&n<i&&(n=i)}return n},H.mean=function(e,t){var n,i=0,r=e.length,o=-1,a=r;if(null==t)for(;++o<r;)isNaN(n=Xa(e[o]))?--a:i+=n;else for(;++o<r;)isNaN(n=Xa(t(e[o],o,e)))?--a:i+=n;if(a)return i/a},H.median=function(e,t){var n,i=[],r=e.length,o=-1;if(null==t)for(;++o<r;)isNaN(n=Xa(e[o]))||i.push(n);else for(;++o<r;)isNaN(n=Xa(t(e[o],o,e)))||i.push(n);return vs(i.sort(rs),.5)},H.merge=ys,H.min=ns,H.pairs=function(e,t){null==t&&(t=u);for(var n=0,i=e.length-1,r=e[0],o=new Array(i<0?0:i);n<i;)o[n]=t(r,r=e[++n]);return o},H.permute=function(e,t){for(var n=t.length,i=new Array(n);n--;)i[n]=e[t[n]];return i},H.quantile=vs,H.range=hs,H.scan=function(e,t){if(n=e.length){var n,i,r=0,o=0,a=e[o];for(t=t||rs;++r<n;)(t(i=e[r],a)<0||0!==t(a,a))&&(a=i,o=r);return 0===t(a,a)?o:void 0}},H.shuffle=function(e,t,n){for(var i,r,o=(null==n?e.length:n)-(t=null==t?0:+t);o;)r=Math.random()*o--|0,i=e[o+t],e[o+t]=e[r+t],e[r+t]=i;return e},H.sum=function(e,t){var n,i=0,r=e.length,o=-1;if(null==t)for(;++o<r;)(n=+e[o])&&(i+=n);else for(;++o<r;)(n=+t(e[o],o,e))&&(i+=n);return i},H.ticks=ms,H.tickStep=$,H.transpose=is,H.variance=Ka,H.zip=function(){return is(arguments)},H.axisTop=function(e){return t(xs,e)},H.axisRight=function(e){return t(Cs,e)},H.axisBottom=function(e){return t(Ss,e)},H.axisLeft=function(e){return t($s,e)},H.brush=function(){return Qe(iu)},H.brushX=function(){return Qe(tu)},H.brushY=function(){return Qe(nu)},H.brushSelection=function(e){var t=e.__brush;return t?t.dim.output(t.selection):null},H.chord=function(){function t(i){var e,t,n,r,o,a,s=i.length,l=[],c=hs(s),u=[],d=[],h=d.groups=new Array(s),p=new Array(s*s);for(e=0,o=-1;++o<s;){for(t=0,a=-1;++a<s;)t+=i[o][a];l.push(t),u.push(hs(s)),e+=t}for(C&&c.sort(function(e,t){return C(l[e],l[t])}),S&&u.forEach(function(e,n){e.sort(function(e,t){return S(i[n][e],i[n][t])})}),r=(e=fu(0,pu-x*s)/e)?x:pu/s,t=0,o=-1;++o<s;){for(n=t,a=-1;++a<s;){var f=c[o],g=u[f][a],m=i[f][g],v=t,y=t+=m*e;p[g*s+f]={index:f,subindex:g,startAngle:v,endAngle:y,value:m}}h[f]={index:f,startAngle:n,endAngle:t,value:l[f]},t+=r}for(o=-1;++o<s;)for(a=o-1;++a<s;){var b=p[a*s+o],w=p[o*s+a];(b.value||w.value)&&d.push(b.value<w.value?{source:w,target:b}:{source:b,target:w})}return $?d.sort($):d}var x=0,C=null,S=null,$=null;return t.padAngle=function(e){return arguments.length?(x=fu(0,e),t):x},t.sortGroups=function(e){return arguments.length?(C=e,t):C},t.sortSubgroups=function(e){return arguments.length?(S=e,t):S},t.sortChords=function(e){return arguments.length?(null==e?$=null:($=function(n){return function(e,t){return n(e.source.value+e.target.value,t.source.value+t.target.value)}}(e))._=e,t):$&&$._},t},H.ribbon=function(){function t(){var e,t=gu.call(arguments),n=h.apply(this,t),i=p.apply(this,t),r=+f.apply(this,(t[0]=n,t)),o=g.apply(this,t)-hu,a=m.apply(this,t)-hu,s=r*cu(o),l=r*uu(o),c=+f.apply(this,(t[0]=i,t)),u=g.apply(this,t)-hu,d=m.apply(this,t)-hu;if((v=v||(e=tt())).moveTo(s,l),v.arc(0,0,r,o,a),o==u&&a==d||(v.quadraticCurveTo(0,0,c*cu(u),c*uu(u)),v.arc(0,0,c,u,d)),v.quadraticCurveTo(0,0,s,l),v.closePath(),e)return v=null,e+""||null}var h=nt,p=it,f=rt,g=ot,m=at,v=null;return t.radius=function(e){return arguments.length?(f="function"==typeof e?e:Wc(+e),t):f},t.startAngle=function(e){return arguments.length?(g="function"==typeof e?e:Wc(+e),t):g},t.endAngle=function(e){return arguments.length?(m="function"==typeof e?e:Wc(+e),t):m},t.source=function(e){return arguments.length?(h=e,t):h},t.target=function(e){return arguments.length?(p=e,t):p},t.context=function(e){return arguments.length?(v=null==e?null:e,t):v},t},H.nest=function(){function h(e,n,i,r){if(n>=g.length)return null!=f?f(e):null!=p?e.sort(p):e;for(var t,o,a,s=-1,l=e.length,c=g[n++],u=lt(),d=i();++s<l;)(a=u.get(t=c(o=e[s])+""))?a.push(o):u.set(t,[o]);return u.each(function(e,t){r(d,t,h(e,n,i,r))}),d}var p,f,t,g=[],a=[];return t={object:function(e){return h(e,0,ct,ut)},map:function(e){return h(e,0,dt,ht)},entries:function(e){return function n(e,i){if(++i>g.length)return e;var r,o=a[i-1];return null!=f&&i>=g.length?r=e.entries():(r=[],e.each(function(e,t){r.push({key:t,values:n(e,i)})})),null!=o?r.sort(function(e,t){return o(e.key,t.key)}):r}(h(e,0,dt,ht),0)},key:function(e){return g.push(e),t},sortKeys:function(e){return a[g.length-1]=e,t},sortValues:function(e){return p=e,t},rollup:function(e){return f=e,t}}},H.set=ft,H.map=lt,H.keys=function(e){var t=[];for(var n in e)t.push(n);return t},H.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},H.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},H.color=q,H.rgb=Z,H.hsl=ee,H.lab=re,H.hcl=ue,H.cubehelix=he,H.dispatch=P,H.drag=function(){function f(e){e.on("mousedown.drag",t).on("touchstart.drag",r).on("touchmove.drag",o).on("touchend.drag touchcancel.drag",a).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function t(){if(!c&&u.apply(this,arguments)){var e=s("mouse",d.apply(this,arguments),zs,this,arguments);e&&(qs(H.event.view).on("mousemove.drag",n,!0).on("mouseup.drag",i,!0),Xs(H.event.view),N(),l=!1,e("start"))}}function n(){Ys(),l=!0,m.mouse("drag")}function i(){qs(H.event.view).on("mousemove.drag mouseup.drag",null),B(H.event.view,l),Ys(),m.mouse("end")}function r(){if(u.apply(this,arguments)){var e,t,n=H.event.changedTouches,i=d.apply(this,arguments),r=n.length;for(e=0;e<r;++e)(t=s(n[e].identifier,i,Us,this,arguments))&&(N(),t("start"))}}function o(){var e,t,n=H.event.changedTouches,i=n.length;for(e=0;e<i;++e)(t=m[n[e].identifier])&&(Ys(),t("drag"))}function a(){var e,t,n=H.event.changedTouches,i=n.length;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),e=0;e<i;++e)(t=m[n[e].identifier])&&(N(),t("end"))}function s(r,o,a,s,l){var c,u,d,h=a(o,r),p=v.copy();if(_(new V(f,"beforestart",c,r,y,h[0],h[1],0,0,p),function(){return null!=(H.event.subject=c=g.apply(s,l))&&(u=c.x-h[0]||0,d=c.y-h[1]||0,!0)}))return function e(t){var n,i=h;switch(t){case"start":m[r]=e,n=y++;break;case"end":delete m[r],--y;case"drag":h=a(o,r),n=y}_(new V(f,t,c,r,n,h[0]+u,h[1]+d,h[0]-i[0],h[1]-i[1],p),p.apply,p,[t,s,l])}}var l,c,u=z,d=j,g=G,m={},v=P("start","drag","end"),y=0;return f.filter=function(e){return arguments.length?(u="function"==typeof e?e:Ws(!!e),f):u},f.container=function(e){return arguments.length?(d="function"==typeof e?e:Ws(e),f):d},f.subject=function(e){return arguments.length?(g="function"==typeof e?e:Ws(e),f):g},f.on=function(){var e=v.on.apply(v,arguments);return e===v?f:e},f},H.dragDisable=Xs,H.dragEnable=B,H.dsvFormat=wu,H.csvParse=Eu,H.csvParseRows=ku,H.csvFormat=Au,H.csvFormatRows=Tu,H.tsvParse=Du,H.tsvParseRows=Pu,H.tsvFormat=_u,H.tsvFormatRows=Ru,H.easeLinear=function(e){return+e},H.easeQuad=He,H.easeQuadIn=function(e){return e*e},H.easeQuadOut=function(e){return e*(2-e)},H.easeQuadInOut=He,H.easeCubic=Be,H.easeCubicIn=function(e){return e*e*e},H.easeCubicOut=function(e){return--e*e*e+1},H.easeCubicInOut=Be,H.easePoly=Ec,H.easePolyIn=Sc,H.easePolyOut=$c,H.easePolyInOut=Ec,H.easeSin=ze,H.easeSinIn=function(e){return 1-Math.cos(e*Ac)},H.easeSinOut=function(e){return Math.sin(e*Ac)},H.easeSinInOut=ze,H.easeExp=je,H.easeExpIn=function(e){return Math.pow(2,10*e-10)},H.easeExpOut=function(e){return 1-Math.pow(2,-10*e)},H.easeExpInOut=je,H.easeCircle=Ge,H.easeCircleIn=function(e){return 1-Math.sqrt(1-e*e)},H.easeCircleOut=function(e){return Math.sqrt(1- --e*e)},H.easeCircleInOut=Ge,H.easeBounce=Ue,H.easeBounceIn=function(e){return 1-Ue(1-e)},H.easeBounceOut=Ue,H.easeBounceInOut=function(e){return((e*=2)<=1?1-Ue(1-e):Ue(e-1)+1)/2},H.easeBack=Hc,H.easeBackIn=Nc,H.easeBackOut=Vc,H.easeBackInOut=Hc,H.easeElastic=jc,H.easeElasticIn=zc,H.easeElasticOut=jc,H.easeElasticInOut=Gc,H.forceCenter=function(o,a){function t(){var e,t,n=s.length,i=0,r=0;for(e=0;e<n;++e)i+=(t=s[e]).x,r+=t.y;for(i=i/n-o,r=r/n-a,e=0;e<n;++e)(t=s[e]).x-=i,t.y-=r}var s;return null==o&&(o=0),null==a&&(a=0),t.initialize=function(e){s=e},t.x=function(e){return arguments.length?(o=+e,t):o},t.y=function(e){return arguments.length?(a=+e,t):a},t},H.forceCollide=function(i){function t(){function e(e,t,n,i,r){var o=e.data,a=e.r,s=f+a;if(!o)return h+s<t||i<h-s||p+s<n||r<p-s;if(o.index>d.index){var l=h-o.x-o.vx,c=p-o.y-o.vy,u=l*l+c*c;u<s*s&&(0===l&&(u+=(l=Cu())*l),0===c&&(u+=(c=Cu())*c),u=(s-(u=Math.sqrt(u)))/u*m,d.vx+=(l*=u)*(s=(a*=a)/(g+a)),d.vy+=(c*=u)*s,o.vx-=l*(s=1-s),o.vy-=c*s)}}for(var t,n,d,h,p,f,g,i=a.length,r=0;r<l;++r)for(n=bt(a,Ct,St).visitAfter(o),t=0;t<i;++t)d=a[t],f=s[d.index],g=f*f,h=d.x+d.vx,p=d.y+d.vy,n.visit(e)}function o(e){if(e.data)return e.r=s[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function n(){if(a){var e,t,n=a.length;for(s=new Array(n),e=0;e<n;++e)t=a[e],s[t.index]=+i(t,e,a)}}var a,s,m=1,l=1;return"function"!=typeof i&&(i=xu(null==i?1:+i)),t.initialize=function(e){a=e,n()},t.iterations=function(e){return arguments.length?(l=+e,t):l},t.strength=function(e){return arguments.length?(m=+e,t):m},t.radius=function(e){return arguments.length?(i="function"==typeof e?e:xu(+e),n(),t):i},t},H.forceLink=function(d){function t(e){for(var t=0,n=d.length;t<g;++t)for(var i,r,o,a,s,l,c,u=0;u<n;++u)r=(i=d[u]).source,a=(o=i.target).x+o.vx-r.x-r.vx||Cu(),s=o.y+o.vy-r.y-r.vy||Cu(),a*=l=((l=Math.sqrt(a*a+s*s))-p[u])/l*e*h[u],s*=l,o.vx-=a*(c=f[u]),o.vy-=s*c,r.vx+=a*(c=1-c),r.vy+=s*c}function n(){if(s){var e,t,n=s.length,i=d.length,r=lt(s,c);for(e=0,l=new Array(n);e<i;++e)(t=d[e]).index=e,"object"!=typeof t.source&&(t.source=Et(r,t.source)),"object"!=typeof t.target&&(t.target=Et(r,t.target)),l[t.source.index]=(l[t.source.index]||0)+1,l[t.target.index]=(l[t.target.index]||0)+1;for(e=0,f=new Array(i);e<i;++e)t=d[e],f[e]=l[t.source.index]/(l[t.source.index]+l[t.target.index]);h=new Array(i),o(),p=new Array(i),a()}}function o(){if(s)for(var e=0,t=d.length;e<t;++e)h[e]=+i(d[e],e,d)}function a(){if(s)for(var e=0,t=d.length;e<t;++e)p[e]=+r(d[e],e,d)}var h,p,s,l,f,c=$t,i=function(e){return 1/Math.min(l[e.source.index],l[e.target.index])},r=xu(30),g=1;return null==d&&(d=[]),t.initialize=function(e){s=e,n()},t.links=function(e){return arguments.length?(d=e,n(),t):d},t.id=function(e){return arguments.length?(c=e,t):c},t.iterations=function(e){return arguments.length?(g=+e,t):g},t.strength=function(e){return arguments.length?(i="function"==typeof e?e:xu(+e),o(),t):i},t.distance=function(e){return arguments.length?(r="function"==typeof e?e:xu(+e),a(),t):r},t},H.forceManyBody=function(){function t(e){var t,n=a.length,i=bt(a,kt,At).visitAfter(r);for(c=e,t=0;t<n;++t)l=a[t],i.visit(o)}function n(){if(a){var e,t,n=a.length;for(u=new Array(n),e=0;e<n;++e)t=a[e],u[t.index]=+i(t,e,a)}}function r(e){var t,n,i,r,o,a=0;if(e.length){for(i=r=o=0;o<4;++o)(t=e[o])&&(n=t.value)&&(a+=n,i+=n*t.x,r+=n*t.y);e.x=i/a,e.y=r/a}else for((t=e).x=t.data.x,t.y=t.data.y;a+=u[t.data.index],t=t.next;);e.value=a}function o(e,t,n,i){if(!e.value)return!0;var r=e.x-l.x,o=e.y-l.y,a=i-t,s=r*r+o*o;if(a*a/p<s)return s<h&&(0===r&&(s+=(r=Cu())*r),0===o&&(s+=(o=Cu())*o),s<d&&(s=Math.sqrt(d*s)),l.vx+=r*e.value*c/s,l.vy+=o*e.value*c/s),!0;if(!(e.length||h<=s))for(e.data===l&&!e.next||(0===r&&(s+=(r=Cu())*r),0===o&&(s+=(o=Cu())*o),s<d&&(s=Math.sqrt(d*s)));e.data!==l&&(a=u[e.data.index]*c/s,l.vx+=r*a,l.vy+=o*a),e=e.next;);}var a,l,c,u,i=xu(-30),d=1,h=1/0,p=.81;return t.initialize=function(e){a=e,n()},t.strength=function(e){return arguments.length?(i="function"==typeof e?e:xu(+e),n(),t):i},t.distanceMin=function(e){return arguments.length?(d=e*e,t):Math.sqrt(d)},t.distanceMax=function(e){return arguments.length?(h=e*e,t):Math.sqrt(h)},t.theta=function(e){return arguments.length?(p=e*e,t):Math.sqrt(p)},t},H.forceSimulation=function(u){function e(){t(),p.call("tick",r),o<a&&(h.stop(),p.call("end",r))}function t(){var e,t,n=u.length;for(o+=(l-o)*s,d.each(function(e){e(o)}),e=0;e<n;++e)null==(t=u[e]).fx?t.x+=t.vx*=c:(t.x=t.fx,t.vx=0),null==t.fy?t.y+=t.vy*=c:(t.y=t.fy,t.vy=0)}function n(){for(var e,t=0,n=u.length;t<n;++t){if((e=u[t]).index=t,isNaN(e.x)||isNaN(e.y)){var i=10*Math.sqrt(t),r=t*Vu;e.x=i*Math.cos(r),e.y=i*Math.sin(r)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function i(e){return e.initialize&&e.initialize(u),e}var r,o=1,a=.001,s=1-Math.pow(a,1/300),l=0,c=.6,d=lt(),h=Te(e),p=P("tick","end");return null==u&&(u=[]),n(),r={tick:t,restart:function(){return h.restart(e),r},stop:function(){return h.stop(),r},nodes:function(e){return arguments.length?(u=e,n(),d.each(i),r):u},alpha:function(e){return arguments.length?(o=+e,r):o},alphaMin:function(e){return arguments.length?(a=+e,r):a},alphaDecay:function(e){return arguments.length?(s=+e,r):+s},alphaTarget:function(e){return arguments.length?(l=+e,r):l},velocityDecay:function(e){return arguments.length?(c=1-e,r):1-c},force:function(e,t){return 1<arguments.length?(null==t?d.remove(e):d.set(e,i(t)),r):d.get(e)},find:function(e,t,n){var i,r,o,a,s,l=0,c=u.length;for(null==n?n=1/0:n*=n,l=0;l<c;++l)(o=(i=e-(a=u[l]).x)*i+(r=t-a.y)*r)<n&&(s=a,n=o);return s},on:function(e,t){return 1<arguments.length?(p.on(e,t),r):p.on(e)}}},H.forceX=function(n){function t(e){for(var t,n=0,i=r.length;n<i;++n)(t=r[n]).vx+=(a[n]-t.x)*o[n]*e}function i(){if(r){var e,t=r.length;for(o=new Array(t),a=new Array(t),e=0;e<t;++e)o[e]=isNaN(a[e]=+n(r[e],e,r))?0:+s(r[e],e,r)}}var r,o,a,s=xu(.1);return"function"!=typeof n&&(n=xu(null==n?0:+n)),t.initialize=function(e){r=e,i()},t.strength=function(e){return arguments.length?(s="function"==typeof e?e:xu(+e),i(),t):s},t.x=function(e){return arguments.length?(n="function"==typeof e?e:xu(+e),i(),t):n},t},H.forceY=function(n){function t(e){for(var t,n=0,i=r.length;n<i;++n)(t=r[n]).vy+=(a[n]-t.y)*o[n]*e}function i(){if(r){var e,t=r.length;for(o=new Array(t),a=new Array(t),e=0;e<t;++e)o[e]=isNaN(a[e]=+n(r[e],e,r))?0:+s(r[e],e,r)}}var r,o,a,s=xu(.1);return"function"!=typeof n&&(n=xu(null==n?0:+n)),t.initialize=function(e){r=e,i()},t.strength=function(e){return arguments.length?(s="function"==typeof e?e:xu(+e),i(),t):s},t.y=function(e){return arguments.length?(n="function"==typeof e?e:xu(+e),i(),t):n},t},H.formatDefaultLocale=Dt,H.formatLocale=ju,H.formatSpecifier=Tt,H.precisionFixed=Wu,H.precisionPrefix=qu,H.precisionRound=Yu,H.geoArea=function(e){return Jd.reset(),Kd(e,Qd),2*Jd},H.geoBounds=function(e){var t,n,i,r,o,a,s;if(od=rd=-(nd=id=1/0),ud=[],Kd(e,th),n=ud.length){for(ud.sort(an),t=1,o=[i=ud[0]];t<n;++t)sn(i,(r=ud[t])[0])||sn(i,r[1])?(on(i[0],r[1])>on(i[0],i[1])&&(i[1]=r[1]),on(r[0],i[1])>on(i[0],i[1])&&(i[0]=r[0])):o.push(i=r);for(a=-1/0,t=0,i=o[n=o.length-1];t<=n;i=r,++t)r=o[t],(s=on(i[1],r[0]))>a&&(a=s,nd=r[0],rd=i[1])}return ud=dd=null,nd===1/0||id===1/0?[[NaN,NaN],[NaN,NaN]]:[[nd,id],[rd,od]]},H.geoCentroid=function(e){hd=pd=fd=gd=md=vd=yd=bd=wd=xd=Cd=0,Kd(e,nh);var t=wd,n=xd,i=Cd,r=t*t+n*n+i*i;return r<1e-12&&(t=vd,n=yd,i=bd,pd<Md&&(t=fd,n=gd,i=md),(r=t*t+n*n+i*i)<1e-12)?[NaN,NaN]:[Nd(n,t)*Id,It(i/Wd(r))*Id]},H.geoCircle=function(){function t(){var e=o.apply(this,arguments),t=a.apply(this,arguments)*Fd,n=s.apply(this,arguments)*Fd;return i=[],r=bn(-e[0]*Fd,-e[1]*Fd,0).invert,Sn(l,t,n,1),e={type:"Polygon",coordinates:[i]},i=r=null,e}var i,r,o=Ku([0,0]),a=Ku(90),s=Ku(6),l={point:function(e,t){i.push(e=r(e,t)),e[0]*=Id,e[1]*=Id}};return t.center=function(e){return arguments.length?(o="function"==typeof e?e:Ku([+e[0],+e[1]]),t):o},t.radius=function(e){return arguments.length?(a="function"==typeof e?e:Ku(+e),t):a},t.precision=function(e){return arguments.length?(s="function"==typeof e?e:Ku(+e),t):s},t},H.geoClipExtent=function(){var t,n,i,r=0,o=0,a=960,s=500;return i={stream:function(e){return t&&n===e?t:t=An(r,o,a,s)(n=e)},extent:function(e){return arguments.length?(r=+e[0][0],o=+e[0][1],a=+e[1][0],s=+e[1][1],t=n=null,i):[[r,o],[a,s]]}}},H.geoContains=function(e,t){return(e&&Dh.hasOwnProperty(e.type)?Dh[e.type]:Pn)(e,t)},H.geoDistance=lh,H.geoGraticule=Vn,H.geoGraticule10=function(){return Vn()()},H.geoInterpolate=function(e,t){var n=e[0]*Fd,i=e[1]*Fd,r=t[0]*Fd,o=t[1]*Fd,a=Vd(i),s=Gd(i),l=Vd(o),c=Gd(o),u=a*Vd(n),d=a*Gd(n),h=l*Vd(r),p=l*Gd(r),f=2*It(Wd(Ft(o-i)+a*l*Ft(r-n))),g=Gd(f),m=f?function(e){var t=Gd(e*=f)/g,n=Gd(f-e)/g,i=n*u+t*h,r=n*d+t*p,o=n*s+t*c;return[Nd(r,i)*Id,Nd(o,Wd(i*i+r*r))*Id]}:function(){return[n*Id,i*Id]};return m.distance=f,m},H.geoLength=sh,H.geoPath=function(t,n){function i(e){return e&&("function"==typeof a&&o.pointRadius(+a.apply(this,arguments)),Kd(e,r(o))),o.result()}var r,o,a=4.5;return i.area=function(e){return Kd(e,r(Fh)),Fh.result()},i.measure=function(e){return Kd(e,r(ip)),ip.result()},i.bounds=function(e){return Kd(e,r(Hh)),Hh.result()},i.centroid=function(e){return Kd(e,r(Kh)),Kh.result()},i.projection=function(e){return arguments.length?(r=null==e?(t=null,_h):(t=e).stream,i):t},i.context=function(e){return arguments.length?(o=null==e?(n=null,new ni):new Qn(n=e),"function"!=typeof a&&o.pointRadius(a),i):n},i.pointRadius=function(e){return arguments.length?(a="function"==typeof e?e:(o.pointRadius(+e),+e),i):a},i.projection(t).context(n)},H.geoAlbers=lp,H.geoAlbersUsa=function(){function n(e){var t=e[0],n=e[1];return l=null,o.point(t,n),l||(a.point(t,n),l)||(s.point(t,n),l)}function r(){return t=i=null,n}var t,i,o,a,s,l,c=lp(),u=sp().rotate([154,0]).center([-2,58.5]).parallels([55,65]),d=sp().rotate([157,0]).center([-3,19.9]).parallels([8,18]),h={point:function(e,t){l=[e,t]}};return n.invert=function(e){var t=c.scale(),n=c.translate(),i=(e[0]-n[0])/t,r=(e[1]-n[1])/t;return(.12<=r&&r<.234&&-.425<=i&&i<-.214?u:.166<=r&&r<.234&&-.214<=i&&i<-.115?d:c).invert(e)},n.stream=function(e){return t&&i===e?t:t=function(i){var r=i.length;return{point:function(e,t){for(var n=-1;++n<r;)i[n].point(e,t)},sphere:function(){for(var e=-1;++e<r;)i[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)i[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)i[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)i[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)i[e].polygonEnd()}}}([c.stream(i=e),u.stream(e),d.stream(e)])},n.precision=function(e){return arguments.length?(c.precision(e),u.precision(e),d.precision(e),r()):c.precision()},n.scale=function(e){return arguments.length?(c.scale(e),u.scale(.35*e),d.scale(e),n.translate(c.translate())):c.scale()},n.translate=function(e){if(!arguments.length)return c.translate();var t=c.scale(),n=+e[0],i=+e[1];return o=c.translate(e).clipExtent([[n-.455*t,i-.238*t],[n+.455*t,i+.238*t]]).stream(h),a=u.translate([n-.307*t,i+.201*t]).clipExtent([[n-.425*t+Md,i+.12*t+Md],[n-.214*t-Md,i+.234*t-Md]]).stream(h),s=d.translate([n-.205*t,i+.212*t]).clipExtent([[n-.214*t+Md,i+.166*t+Md],[n-.115*t-Md,i+.234*t-Md]]).stream(h),r()},n.fitExtent=function(e,t){return li(n,e,t)},n.fitSize=function(e,t){return ci(n,e,t)},n.scale(1070)},H.geoAzimuthalEqualArea=function(){return ui(hp).scale(124.75).clipAngle(179.999)},H.geoAzimuthalEqualAreaRaw=hp,H.geoAzimuthalEquidistant=function(){return ui(pp).scale(79.4188).clipAngle(179.999)},H.geoAzimuthalEquidistantRaw=pp,H.geoConicConformal=function(){return hi(bi).scale(109.5).parallels([30,30])},H.geoConicConformalRaw=bi,H.geoConicEqualArea=sp,H.geoConicEqualAreaRaw=pi,H.geoConicEquidistant=function(){return hi(xi).scale(131.154).center([0,13.9389])},H.geoConicEquidistantRaw=xi,H.geoEquirectangular=function(){return ui(wi).scale(152.63)},H.geoEquirectangularRaw=wi,H.geoGnomonic=function(){return ui(Ci).scale(144.049).clipAngle(60)},H.geoGnomonicRaw=Ci,H.geoIdentity=function(){function t(){return o=a=null,s}var n,i,r,o,a,s,l=1,c=0,u=0,d=1,h=1,p=_h,f=null,g=_h;return s={stream:function(e){return o&&a===e?o:o=p(g(a=e))},clipExtent:function(e){return arguments.length?(g=null==e?(f=n=i=r=null,_h):An(f=+e[0][0],n=+e[0][1],i=+e[1][0],r=+e[1][1]),t()):null==f?null:[[f,n],[i,r]]},scale:function(e){return arguments.length?(p=Si((l=+e)*d,l*h,c,u),t()):l},translate:function(e){return arguments.length?(p=Si(l*d,l*h,c=+e[0],u=+e[1]),t()):[c,u]},reflectX:function(e){return arguments.length?(p=Si(l*(d=e?-1:1),l*h,c,u),t()):d<0},reflectY:function(e){return arguments.length?(p=Si(l*d,l*(h=e?-1:1),c,u),t()):h<0},fitExtent:function(e,t){return li(s,e,t)},fitSize:function(e,t){return ci(s,e,t)}}},H.geoProjection=ui,H.geoProjectionMutator=di,H.geoMercator=function(){return vi(mi).scale(961/Rd)},H.geoMercatorRaw=mi,H.geoOrthographic=function(){return ui($i).scale(249.5).clipAngle(90+Md)},H.geoOrthographicRaw=$i,H.geoStereographic=function(){return ui(Ei).scale(250).clipAngle(142)},H.geoStereographicRaw=Ei,H.geoTransverseMercator=function(){var e=vi(ki),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return arguments.length?n([e[0],e[1],2<e.length?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90]).scale(159.155)},H.geoTransverseMercatorRaw=ki,H.geoRotation=rh,H.geoStream=Kd,H.geoTransform=function(e){return{stream:ai(e)}},H.cluster=function(){function t(t){var n,i=0;t.eachAfter(function(e){var t=e.children;t?(e.x=function(e){return e.reduce(Ti,0)/e.length}(t),e.y=function(e){return 1+e.reduce(Mi,0)}(t)):(e.x=n?i+=s(e,n):0,e.y=0,n=e)});var e=function(e){for(var t;t=e.children;)e=t[0];return e}(t),r=function(e){for(var t;t=e.children;)e=t[t.length-1];return e}(t),o=e.x-s(e,r)/2,a=r.x+s(r,e)/2;return t.eachAfter(u?function(e){e.x=(e.x-t.x)*l,e.y=(t.y-e.y)*c}:function(e){e.x=(e.x-o)/(a-o)*l,e.y=(1-(t.y?e.y/t.y:1))*c})}var s=Ai,l=1,c=1,u=!1;return t.separation=function(e){return arguments.length?(s=e,t):s},t.size=function(e){return arguments.length?(u=!1,l=+e[0],c=+e[1],t):u?null:[l,c]},t.nodeSize=function(e){return arguments.length?(u=!0,l=+e[0],c=+e[1],t):u?[l,c]:null},t},H.hierarchy=Pi,H.pack=function(){function t(e){return e.x=i/2,e.y=r/2,n?e.eachBefore(Wi(n)).eachAfter(qi(o,.5)).eachBefore(Yi(1)):e.eachBefore(Wi(Ui)).eachAfter(qi(Gi,1)).eachAfter(qi(o,e.r/Math.min(i,r))).eachBefore(Yi(Math.min(i,r)/(2*e.r))),e}var n=null,i=1,r=1,o=Gi;return t.radius=function(e){return arguments.length?(n=function(e){return null==e?null:ji(e)}(e),t):n},t.size=function(e){return arguments.length?(i=+e[0],r=+e[1],t):[i,r]},t.padding=function(e){return arguments.length?(o="function"==typeof e?e:fp(+e),t):o},t},H.packSiblings=function(e){return zi(e),e},H.packEnclose=mp,H.partition=function(){function t(e){var t=e.height+1;return e.x0=e.y0=s,e.x1=n,e.y1=i/t,e.eachBefore(function(o,a){return function(e){e.children&&vp(e,e.x0,o*(e.depth+1)/a,e.x1,o*(e.depth+2)/a);var t=e.x0,n=e.y0,i=e.x1-s,r=e.y1-s;i<t&&(t=i=(t+i)/2),r<n&&(n=r=(n+r)/2),e.x0=t,e.y0=n,e.x1=i,e.y1=r}}(i,t)),r&&e.eachBefore(gp),e}var n=1,i=1,s=0,r=!1;return t.round=function(e){return arguments.length?(r=!!e,t):r},t.size=function(e){return arguments.length?(n=+e[0],i=+e[1],t):[n,i]},t.padding=function(e){return arguments.length?(s=+e,t):s},t},H.stratify=function(){function t(e){var t,n,i,r,o,a,s,l=e.length,c=new Array(l),u={};for(n=0;n<l;++n)t=e[n],o=c[n]=new Fi(t),null!=(a=d(t,n,e))&&(a+="")&&(u[s="$"+(o.id=a)]=s in u?bp:o);for(n=0;n<l;++n)if(o=c[n],null!=(a=h(e[n],n,e))&&(a+="")){if(!(r=u["$"+a]))throw new Error("missing: "+a);if(r===bp)throw new Error("ambiguous: "+a);r.children?r.children.push(o):r.children=[o],o.parent=r}else{if(i)throw new Error("multiple roots");i=o}if(!i)throw new Error("no root");if(i.parent=yp,i.eachBefore(function(e){e.depth=e.parent.depth+1,--l}).eachBefore(Ii),i.parent=null,0<l)throw new Error("cycle");return i}var d=Xi,h=Ki;return t.id=function(e){return arguments.length?(d=ji(e),t):d},t.parentId=function(e){return arguments.length?(h=ji(e),t):h},t},H.tree=function(){function t(e){var t=function(e){for(var t,n,i,r,o,a=new er(e,0),s=[a];t=s.pop();)if(i=t._.children)for(t.children=new Array(o=i.length),r=o-1;0<=r;--r)s.push(n=t.children[r]=new er(i[r],r)),n.parent=t;return(a.parent=new er(null,0)).children=[a],a}(e);if(t.eachAfter(c),t.parent.m=-t.z,t.eachBefore(u),f)e.eachBefore(d);else{var n=e,i=e,r=e;e.eachBefore(function(e){e.x<n.x&&(n=e),e.x>i.x&&(i=e),e.depth>r.depth&&(r=e)});var o=n===i?1:b(n,i)/2,a=o-n.x,s=h/(i.x+o+a),l=p/(r.depth||1);e.eachBefore(function(e){e.x=(e.x+a)*s,e.y=e.depth*l})}return e}function c(e){var t=e.children,n=e.parent.children,i=e.i?n[e.i-1]:null;if(t){!function(e){for(var t,n=0,i=0,r=e.children,o=r.length;0<=--o;)(t=r[o]).z+=n,t.m+=n,n+=t.s+(i+=t.c)}(e);var r=(t[0].z+t[t.length-1].z)/2;i?(e.z=i.z+b(e._,i._),e.m=e.z-r):e.z=r}else i&&(e.z=i.z+b(e._,i._));e.parent.A=function(e,t,n){if(t){for(var i,r=e,o=e,a=t,s=r.parent.children[0],l=r.m,c=o.m,u=a.m,d=s.m;a=Qi(a),r=Ji(r),a&&r;)s=Ji(s),(o=Qi(o)).a=e,0<(i=a.z+u-r.z-l+b(a._,r._))&&(v=e,y=n,h=(m=a).a.parent===v.parent?m.a:y,void 0,g=(f=i)/((p=e).i-h.i),p.c-=g,p.s+=f,h.c+=g,p.z+=f,p.m+=f,l+=i,c+=i),u+=a.m,l+=r.m,d+=s.m,c+=o.m;a&&!Qi(o)&&(o.t=a,o.m+=u-c),r&&!Ji(s)&&(s.t=r,s.m+=l-d,n=e)}var h,p,f,g;var m,v,y;return n}(e,i,e.parent.A||n[0])}function u(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function d(e){e.x*=h,e.y=e.depth*p}var b=Zi,h=1,p=1,f=null;return t.separation=function(e){return arguments.length?(b=e,t):b},t.size=function(e){return arguments.length?(f=!1,h=+e[0],p=+e[1],t):f?null:[h,p]},t.nodeSize=function(e){return arguments.length?(f=!0,h=+e[0],p=+e[1],t):f?[h,p]:null},t},H.treemap=function(){function t(e){return e.x0=e.y0=0,e.x1=r,e.y1=o,e.eachBefore(n),s=[0],i&&e.eachBefore(gp),e}function n(e){var t=s[e.depth],n=e.x0+t,i=e.y0+t,r=e.x1-t,o=e.y1-t;r<n&&(n=r=(n+r)/2),o<i&&(i=o=(i+o)/2),e.x0=n,e.y0=i,e.x1=r,e.y1=o,e.children&&(t=s[e.depth+1]=l(e)/2,n+=h(e)-t,i+=c(e)-t,(r-=u(e)-t)<n&&(n=r=(n+r)/2),(o-=d(e)-t)<i&&(i=o=(i+o)/2),a(e,n,i,r,o))}var a=Cp,i=!1,r=1,o=1,s=[0],l=Gi,c=Gi,u=Gi,d=Gi,h=Gi;return t.round=function(e){return arguments.length?(i=!!e,t):i},t.size=function(e){return arguments.length?(r=+e[0],o=+e[1],t):[r,o]},t.tile=function(e){return arguments.length?(a=ji(e),t):a},t.padding=function(e){return arguments.length?t.paddingInner(e).paddingOuter(e):t.paddingInner()},t.paddingInner=function(e){return arguments.length?(l="function"==typeof e?e:fp(+e),t):l},t.paddingOuter=function(e){return arguments.length?t.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):t.paddingTop()},t.paddingTop=function(e){return arguments.length?(c="function"==typeof e?e:fp(+e),t):c},t.paddingRight=function(e){return arguments.length?(u="function"==typeof e?e:fp(+e),t):u},t.paddingBottom=function(e){return arguments.length?(d="function"==typeof e?e:fp(+e),t):d},t.paddingLeft=function(e){return arguments.length?(h="function"==typeof e?e:fp(+e),t):h},t},H.treemapBinary=function(e,t,n,i,r){var o,a,y=e.children,s=y.length,b=new Array(s+1);for(b[0]=a=o=0;o<s;++o)b[o+1]=a+=y[o].value;!function e(t,n,i,r,o,a,s){if(n-1<=t){var l=y[t];return l.x0=r,l.y0=o,l.x1=a,void(l.y1=s)}for(var c=b[t],u=i/2+c,d=t+1,h=n-1;d<h;){var p=d+h>>>1;b[p]<u?d=1+p:h=p}u-b[d-1]<b[d]-u&&t+1<d&&--d;var f=b[d]-c,g=i-f;if(s-o<a-r){var m=(r*g+a*f)/i;e(t,d,f,r,o,m,s),e(d,n,g,m,o,a,s)}else{var v=(o*g+s*f)/i;e(t,d,f,r,o,a,v),e(d,n,g,r,v,a,s)}}(0,s,e.value,t,n,i,r)},H.treemapDice=vp,H.treemapSlice=wp,H.treemapSliceDice=function(e,t,n,i,r){(1&e.depth?wp:vp)(e,t,n,i,r)},H.treemapSquarify=Cp,H.treemapResquarify=Sp,H.interpolate=Gl,H.interpolateArray=El,H.interpolateBasis=Sl,H.interpolateBasisClosed=$l,H.interpolateDate=kl,H.interpolateNumber=Bl,H.interpolateObject=Al,H.interpolateRound=Ul,H.interpolateString=Tl,H.interpolateTransformCss=Yl,H.interpolateTransformSvg=Xl,H.interpolateZoom=Dl,H.interpolateRgb=Nl,H.interpolateRgbBasis=Vl,H.interpolateRgbBasisClosed=Hl,H.interpolateHsl=Zl,H.interpolateHslLong=Jl,H.interpolateLab=function(t,e){var n=ye((t=re(t)).l,(e=re(e)).l),i=ye(t.a,e.a),r=ye(t.b,e.b),o=ye(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=i(e),t.b=r(e),t.opacity=o(e),t+""}},H.interpolateHcl=Ql,H.interpolateHclLong=ec,H.interpolateCubehelix=tc,H.interpolateCubehelixLong=nc,H.quantize=function(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e(i/(t-1));return n},H.path=tt,H.polygonArea=function(e){for(var t,n=-1,i=e.length,r=e[i-1],o=0;++n<i;)t=r,r=e[n],o+=t[1]*r[0]-t[0]*r[1];return o/2},H.polygonCentroid=function(e){for(var t,n,i=-1,r=e.length,o=0,a=0,s=e[r-1],l=0;++i<r;)t=s,s=e[i],l+=n=t[0]*s[1]-s[0]*t[1],o+=(t[0]+s[0])*n,a+=(t[1]+s[1])*n;return[o/(l*=3),a/l]},H.polygonHull=function(e){if((n=e.length)<3)return null;var t,n,i=new Array(n),r=new Array(n);for(t=0;t<n;++t)i[t]=[+e[t][0],+e[t][1],t];for(i.sort(nr),t=0;t<n;++t)r[t]=[i[t][0],-i[t][1]];var o=ir(i),a=ir(r),s=a[0]===o[0],l=a[a.length-1]===o[o.length-1],c=[];for(t=o.length-1;0<=t;--t)c.push(e[i[o[t]][2]]);for(t=+s;t<a.length-l;++t)c.push(e[i[a[t]][2]]);return c},H.polygonContains=function(e,t){for(var n,i,r=e.length,o=e[r-1],a=t[0],s=t[1],l=o[0],c=o[1],u=!1,d=0;d<r;++d)n=(o=e[d])[0],s<(i=o[1])!=s<c&&a<(l-n)*(s-i)/(c-i)+n&&(u=!u),l=n,c=i;return u},H.polygonLength=function(e){for(var t,n,i=-1,r=e.length,o=e[r-1],a=o[0],s=o[1],l=0;++i<r;)t=a,n=s,t-=a=(o=e[i])[0],n-=s=o[1],l+=Math.sqrt(t*t+n*n);return l},H.quadtree=bt,H.queue=cr,H.randomUniform=function(e,t){return e=null==e?0:+e,t=null==t?1:+t,1===arguments.length?(t=e,e=0):t-=e,function(){return Math.random()*t+e}},H.randomNormal=kp,H.randomLogNormal=function(){var e=kp.apply(this,arguments);return function(){return Math.exp(e())}},H.randomBates=function(e){var t=Ap(e);return function(){return t()/e}},H.randomIrwinHall=Ap,H.randomExponential=function(e){return function(){return-Math.log(1-Math.random())/e}},H.request=Tp,H.html=Pp,H.json=_p,H.text=Rp,H.xml=Ip,H.csv=Fp,H.tsv=Op,H.scaleBand=dr,H.scalePoint=function(){return function e(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return e(n())},t}(dr().paddingInner(1))},H.scaleIdentity=function e(){function t(e){return+e}var n=[0,1];return(t.invert=t).domain=t.range=function(e){return arguments.length?(n=Np.call(e,zp),t):n.slice()},t.copy=function(){return e().domain(n)},vr(t)},H.scaleLinear=function e(){var t=mr(hr,Bl);return t.copy=function(){return gr(t,e())},vr(t)},H.scaleLog=function e(){function t(){return f=Cr(p),g=xr(p),h()[0]<0&&(f=Sr(f),g=Sr(g)),r}var r=mr(yr,br).domain([1,10]),h=r.domain,p=10,f=Cr(10),g=xr(10);return r.base=function(e){return arguments.length?(p=+e,t()):p},r.domain=function(e){return arguments.length?(h(e),t()):h()},r.ticks=function(e){var t,n=h(),i=n[0],r=n[n.length-1];(t=r<i)&&(l=i,i=r,r=l);var o,a,s,l=f(i),c=f(r),u=null==e?10:+e,d=[];if(!(p%1)&&c-l<u){if(l=Math.round(l)-1,c=Math.round(c)+1,0<i){for(;l<c;++l)for(a=1,o=g(l);a<p;++a)if(!((s=o*a)<i)){if(r<s)break;d.push(s)}}else for(;l<c;++l)for(a=p-1,o=g(l);1<=a;--a)if(!((s=o*a)<i)){if(r<s)break;d.push(s)}}else d=ms(l,c,Math.min(c-l,u)).map(g);return t?d.reverse():d},r.tickFormat=function(e,n){if(null==n&&(n=10===p?".0e":","),"function"!=typeof n&&(n=H.format(n)),e===1/0)return n;null==e&&(e=10);var i=Math.max(1,p*e/r.ticks().length);return function(e){var t=e/g(Math.round(f(e)));return t*p<p-.5&&(t*=p),t<=i?n(e):""}},r.nice=function(){return h(Up(h(),{floor:function(e){return g(Math.floor(f(e)))},ceil:function(e){return g(Math.ceil(f(e)))}}))},r.copy=function(){return gr(r,e().base(p))},r},H.scaleOrdinal=ur,H.scaleImplicit=Hp,H.scalePow=Er,H.scaleSqrt=function(){return Er().exponent(.5)},H.scaleQuantile=function e(){function r(){var e=0,t=Math.max(1,i.length);for(a=new Array(t-1);++e<t;)a[e-1]=vs(o,e/t);return n}function n(e){if(!isNaN(e=+e))return i[ss(a,e)]}var o=[],i=[],a=[];return n.invertExtent=function(e){var t=i.indexOf(e);return t<0?[NaN,NaN]:[0<t?a[t-1]:o[0],t<a.length?a[t]:o[o.length-1]]},n.domain=function(e){if(!arguments.length)return o.slice();o=[];for(var t,n=0,i=e.length;n<i;++n)null==(t=e[n])||isNaN(t=+t)||o.push(t);return o.sort(rs),r()},n.range=function(e){return arguments.length?(i=Vp.call(e),r()):i.slice()},n.quantiles=function(){return a.slice()},n.copy=function(){return e().domain(o).range(i)},n},H.scaleQuantize=function e(){function t(e){if(e<=e)return s[ss(a,e,0,o)]}function n(){var e=-1;for(a=new Array(o);++e<o;)a[e]=((e+1)*r-(e-o)*i)/(o+1);return t}var i=0,r=1,o=1,a=[.5],s=[0,1];return t.domain=function(e){return arguments.length?(i=+e[0],r=+e[1],n()):[i,r]},t.range=function(e){return arguments.length?(o=(s=Vp.call(e)).length-1,n()):s.slice()},t.invertExtent=function(e){var t=s.indexOf(e);return t<0?[NaN,NaN]:t<1?[i,a[0]]:o<=t?[a[o-1],r]:[a[t-1],a[t]]},t.copy=function(){return e().domain([i,r]).range(s)},vr(t)},H.scaleThreshold=function e(){function t(e){if(e<=e)return i[ss(n,e,0,r)]}var n=[.5],i=[0,1],r=1;return t.domain=function(e){return arguments.length?(n=Vp.call(e),r=Math.min(n.length,i.length-1),t):n.slice()},t.range=function(e){return arguments.length?(i=Vp.call(e),r=Math.min(n.length,i.length-1),t):i.slice()},t.invertExtent=function(e){var t=i.indexOf(e);return[n[t-1],n[t]]},t.copy=function(){return e().domain(n).range(i)},t},H.scaleTime=function(){return Do(xf,bf,of,nf,ef,Jp,Kp,Yp,H.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},H.scaleUtc=function(){return Do(Uf,jf,Mf,Af,Ef,Sf,Kp,Yp,H.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},H.schemeCategory10=cg,H.schemeCategory20b=ug,H.schemeCategory20c=dg,H.schemeCategory20=hg,H.interpolateCubehelixDefault=pg,H.interpolateRainbow=function(e){(e<0||1<e)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return mg.h=360*e-100,mg.s=1.5-1.5*t,mg.l=.8-.9*t,mg+""},H.interpolateWarm=fg,H.interpolateCool=gg,H.interpolateViridis=vg,H.interpolateMagma=yg,H.interpolateInferno=bg,H.interpolatePlasma=wg,H.scaleSequential=function e(n){function t(e){var t=(e-i)/(r-i);return n(o?Math.max(0,Math.min(1,t)):t)}var i=0,r=1,o=!1;return t.domain=function(e){return arguments.length?(i=+e[0],r=+e[1],t):[i,r]},t.clamp=function(e){return arguments.length?(o=!!e,t):o},t.interpolator=function(e){return arguments.length?(n=e,t):n},t.copy=function(){return e(n).domain([i,r]).clamp(o)},vr(t)},H.creator=Ts,H.local=i,H.matcher=Fs,H.mouse=zs,H.namespace=As,H.namespaces=Ds,H.select=qs,H.selectAll=function(e){return"string"==typeof e?new O([document.querySelectorAll(e)],[document.documentElement]):new O([null==e?[]:e],Gs)},H.selection=L,H.selector=Vs,H.selectorAll=Hs,H.touch=Us,H.touches=function(e,t){null==t&&(t=Ls().touches);for(var n=0,i=t?t.length:0,r=new Array(i);n<i;++n)r[n]=Ns(e,t[n]);return r},H.window=js,H.customEvent=_,H.arc=function(){function t(){var e,t,n=+N.apply(this,arguments),i=+V.apply(this,arguments),r=z.apply(this,arguments)-Dg,o=j.apply(this,arguments)-Dg,a=xg(o-r),s=r<o;if(U=U||(e=tt()),i<n&&(t=i,i=n,n=t),Tg<i)if(Pg-Tg<a)U.moveTo(i*Sg(r),i*kg(r)),U.arc(0,0,i,r,o,!s),Tg<n&&(U.moveTo(n*Sg(o),n*kg(o)),U.arc(0,0,n,o,r,s));else{var l,c,u=r,d=o,h=r,p=o,f=a,g=a,m=G.apply(this,arguments)/2,v=Tg<m&&(B?+B.apply(this,arguments):Ag(n*n+i*i)),y=Eg(xg(i-n)/2,+H.apply(this,arguments)),b=y,w=y;if(Tg<v){var x=_o(v/n*kg(m)),C=_o(v/i*kg(m));(f-=2*x)>Tg?(h+=x*=s?1:-1,p-=x):(f=0,h=p=(r+o)/2),(g-=2*C)>Tg?(u+=C*=s?1:-1,d-=C):(g=0,u=d=(r+o)/2)}var S=i*Sg(u),$=i*kg(u),E=n*Sg(p),k=n*kg(p);if(Tg<y){var A=i*Sg(d),T=i*kg(d),M=n*Sg(h),D=n*kg(h);if(a<Mg){var P=Tg<f?function(e,t,n,i,r,o,a,s){var l=n-e,c=i-t,u=a-r,d=s-o,h=(u*(t-o)-d*(e-r))/(d*l-u*c);return[e+h*l,t+h*c]}(S,$,M,D,A,T,E,k):[E,k],_=S-P[0],R=$-P[1],I=A-P[0],F=T-P[1],O=1/kg(function(e){return 1<e?0:e<-1?Mg:Math.acos(e)}((_*I+R*F)/(Ag(_*_+R*R)*Ag(I*I+F*F)))/2),L=Ag(P[0]*P[0]+P[1]*P[1]);b=Eg(y,(n-L)/(O-1)),w=Eg(y,(i-L)/(1+O))}}Tg<g?Tg<w?(l=No(M,D,S,$,i,w,s),c=No(A,T,E,k,i,w,s),U.moveTo(l.cx+l.x01,l.cy+l.y01),w<y?U.arc(l.cx,l.cy,w,Cg(l.y01,l.x01),Cg(c.y01,c.x01),!s):(U.arc(l.cx,l.cy,w,Cg(l.y01,l.x01),Cg(l.y11,l.x11),!s),U.arc(0,0,i,Cg(l.cy+l.y11,l.cx+l.x11),Cg(c.cy+c.y11,c.cx+c.x11),!s),U.arc(c.cx,c.cy,w,Cg(c.y11,c.x11),Cg(c.y01,c.x01),!s))):(U.moveTo(S,$),U.arc(0,0,i,u,d,!s)):U.moveTo(S,$),Tg<n&&Tg<f?Tg<b?(l=No(E,k,A,T,n,-b,s),c=No(S,$,M,D,n,-b,s),U.lineTo(l.cx+l.x01,l.cy+l.y01),b<y?U.arc(l.cx,l.cy,b,Cg(l.y01,l.x01),Cg(c.y01,c.x01),!s):(U.arc(l.cx,l.cy,b,Cg(l.y01,l.x01),Cg(l.y11,l.x11),!s),U.arc(0,0,n,Cg(l.cy+l.y11,l.cx+l.x11),Cg(c.cy+c.y11,c.cx+c.x11),s),U.arc(c.cx,c.cy,b,Cg(c.y11,c.x11),Cg(c.y01,c.x01),!s))):U.arc(0,0,n,p,h,s):U.lineTo(E,k)}else U.moveTo(0,0);if(U.closePath(),e)return U=null,e+""||null}var N=Ro,V=Io,H=Qf(0),B=null,z=Fo,j=Oo,G=Lo,U=null;return t.centroid=function(){var e=(+N.apply(this,arguments)+ +V.apply(this,arguments))/2,t=(+z.apply(this,arguments)+ +j.apply(this,arguments))/2-Mg/2;return[Sg(t)*e,kg(t)*e]},t.innerRadius=function(e){return arguments.length?(N="function"==typeof e?e:Qf(+e),t):N},t.outerRadius=function(e){return arguments.length?(V="function"==typeof e?e:Qf(+e),t):V},t.cornerRadius=function(e){return arguments.length?(H="function"==typeof e?e:Qf(+e),t):H},t.padRadius=function(e){return arguments.length?(B=null==e?null:"function"==typeof e?e:Qf(+e),t):B},t.startAngle=function(e){return arguments.length?(z="function"==typeof e?e:Qf(+e),t):z},t.endAngle=function(e){return arguments.length?(j="function"==typeof e?e:Qf(+e),t):j},t.padAngle=function(e){return arguments.length?(G="function"==typeof e?e:Qf(+e),t):G},t.context=function(e){return arguments.length?(U=null==e?null:e,t):U},t},H.area=Ig,H.line=Rg,H.pie=function(){function t(n){var e,t,i,r,o,a=n.length,s=0,l=new Array(a),c=new Array(a),u=+v.apply(this,arguments),d=Math.min(Pg,Math.max(-Pg,y.apply(this,arguments)-u)),h=Math.min(Math.abs(d)/a,b.apply(this,arguments)),p=h*(d<0?-1:1);for(e=0;e<a;++e)0<(o=c[l[e]=e]=+f(n[e],e,n))&&(s+=o);for(null!=g?l.sort(function(e,t){return g(c[e],c[t])}):null!=m&&l.sort(function(e,t){return m(n[e],n[t])}),e=0,i=s?(d-a*p)/s:0;e<a;++e,u=r)t=l[e],r=u+(0<(o=c[t])?o*i:0)+p,c[t]={data:n[t],index:e,value:o,startAngle:u,endAngle:r,padAngle:h};return c}var f=Og,g=Fg,m=null,v=Qf(0),y=Qf(Pg),b=Qf(0);return t.value=function(e){return arguments.length?(f="function"==typeof e?e:Qf(+e),t):f},t.sortValues=function(e){return arguments.length?(g=e,m=null,t):g},t.sort=function(e){return arguments.length?(m=e,g=null,t):m},t.startAngle=function(e){return arguments.length?(v="function"==typeof e?e:Qf(+e),t):v},t.endAngle=function(e){return arguments.length?(y="function"==typeof e?e:Qf(+e),t):y},t.padAngle=function(e){return arguments.length?(b="function"==typeof e?e:Qf(+e),t):b},t},H.radialArea=function(){var e=Ig().curve(Lg),t=e.curve,n=e.lineX0,i=e.lineX1,r=e.lineY0,o=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return Go(n())},delete e.lineX0,e.lineEndAngle=function(){return Go(i())},delete e.lineX1,e.lineInnerRadius=function(){return Go(r())},delete e.lineY0,e.lineOuterRadius=function(){return Go(o())},delete e.lineY1,e.curve=function(e){return arguments.length?t(jo(e)):t()._curve},e},H.radialLine=function(){return Go(Rg().curve(Lg))},H.symbol=function(){function t(){var e;if(r=r||(e=tt()),n.apply(this,arguments).draw(r,+i.apply(this,arguments)),e)return r=null,e+""||null}var n=Qf(Vg),i=Qf(64),r=null;return t.type=function(e){return arguments.length?(n="function"==typeof e?e:Qf(e),t):n},t.size=function(e){return arguments.length?(i="function"==typeof e?e:Qf(+e),t):i},t.context=function(e){return arguments.length?(r=null==e?null:e,t):r},t},H.symbols=tm,H.symbolCircle=Vg,H.symbolCross=Hg,H.symbolDiamond=jg,H.symbolSquare=Yg,H.symbolStar=qg,H.symbolTriangle=Kg,H.symbolWye=em,H.curveBasisClosed=function(e){return new qo(e)},H.curveBasisOpen=function(e){return new Yo(e)},H.curveBasis=function(e){return new Wo(e)},H.curveBundle=nm,H.curveCardinalClosed=rm,H.curveCardinalOpen=om,H.curveCardinal=im,H.curveCatmullRomClosed=sm,H.curveCatmullRomOpen=lm,H.curveCatmullRom=am,H.curveLinearClosed=function(e){return new ra(e)},H.curveLinear=_g,H.curveMonotoneX=function(e){return new ca(e)},H.curveMonotoneY=function(e){return new ua(e)},H.curveNatural=function(e){return new ha(e)},H.curveStep=function(e){return new fa(e,.5)},H.curveStepAfter=function(e){return new fa(e,1)},H.curveStepBefore=function(e){return new fa(e,0)},H.stack=function(){function t(e){var t,n,i=d.apply(this,arguments),r=e.length,o=i.length,a=new Array(o);for(t=0;t<o;++t){for(var s,l=i[t],c=a[t]=new Array(r),u=0;u<r;++u)c[u]=s=[0,+f(e[u],l,u,e)],s.data=e[u];c.key=l}for(t=0,n=h(a);t<o;++t)a[n[t]].index=t;return p(a,n),a}var d=Qf([]),h=um,p=cm,f=ga;return t.keys=function(e){return arguments.length?(d="function"==typeof e?e:Qf(pm.call(e)),t):d},t.value=function(e){return arguments.length?(f="function"==typeof e?e:Qf(+e),t):f},t.order=function(e){return arguments.length?(h=null==e?um:"function"==typeof e?e:Qf(pm.call(e)),t):h},t.offset=function(e){return arguments.length?(p=null==e?cm:e,t):p},t},H.stackOffsetExpand=function(e,t){if(0<(i=e.length)){for(var n,i,r,o=0,a=e[0].length;o<a;++o){for(r=n=0;n<i;++n)r+=e[n][o][1]||0;if(r)for(n=0;n<i;++n)e[n][o][1]/=r}cm(e,t)}},H.stackOffsetNone=cm,H.stackOffsetSilhouette=function(e,t){if(0<(n=e.length)){for(var n,i=0,r=e[t[0]],o=r.length;i<o;++i){for(var a=0,s=0;a<n;++a)s+=e[a][i][1]||0;r[i][1]+=r[i][0]=-s/2}cm(e,t)}},H.stackOffsetWiggle=function(e,t){if(0<(r=e.length)&&0<(i=(n=e[t[0]]).length)){for(var n,i,r,o=0,a=1;a<i;++a){for(var s=0,l=0,c=0;s<r;++s){for(var u=e[t[s]],d=u[a][1]||0,h=(d-(u[a-1][1]||0))/2,p=0;p<s;++p){var f=e[t[p]];h+=(f[a][1]||0)-(f[a-1][1]||0)}l+=d,c+=h*d}n[a-1][1]+=n[a-1][0]=o,l&&(o-=c/l)}n[a-1][1]+=n[a-1][0]=o,cm(e,t)}},H.stackOrderAscending=dm,H.stackOrderDescending=function(e){return dm(e).reverse()},H.stackOrderInsideOut=function(e){var t,n,i=e.length,r=e.map(ma),o=um(e).sort(function(e,t){return r[t]-r[e]}),a=0,s=0,l=[],c=[];for(t=0;t<i;++t)n=o[t],a<s?(a+=r[n],l.push(n)):(s+=r[n],c.push(n));return c.reverse().concat(l)},H.stackOrderNone=um,H.stackOrderReverse=function(e){return um(e).reverse()},H.timeInterval=kr,H.timeMillisecond=Yp,H.timeMilliseconds=Xp,H.utcMillisecond=Yp,H.utcMilliseconds=Xp,H.timeSecond=Kp,H.timeSeconds=Zp,H.utcSecond=Kp,H.utcSeconds=Zp,H.timeMinute=Jp,H.timeMinutes=Qp,H.timeHour=ef,H.timeHours=tf,H.timeDay=nf,H.timeDays=rf,H.timeWeek=of,H.timeWeeks=hf,H.timeSunday=of,H.timeSundays=hf,H.timeMonday=af,H.timeMondays=pf,H.timeTuesday=sf,H.timeTuesdays=ff,H.timeWednesday=lf,H.timeWednesdays=gf,H.timeThursday=cf,H.timeThursdays=mf,H.timeFriday=uf,H.timeFridays=vf,H.timeSaturday=df,H.timeSaturdays=yf,H.timeMonth=bf,H.timeMonths=wf,H.timeYear=xf,H.timeYears=Cf,H.utcMinute=Sf,H.utcMinutes=$f,H.utcHour=Ef,H.utcHours=kf,H.utcDay=Af,H.utcDays=Tf,H.utcWeek=Mf,H.utcWeeks=Of,H.utcSunday=Mf,H.utcSundays=Of,H.utcMonday=Df,H.utcMondays=Lf,H.utcTuesday=Pf,H.utcTuesdays=Nf,H.utcWednesday=_f,H.utcWednesdays=Vf,H.utcThursday=Rf,H.utcThursdays=Hf,H.utcFriday=If,H.utcFridays=Bf,H.utcSaturday=Ff,H.utcSaturdays=zf,H.utcMonth=jf,H.utcMonths=Gf,H.utcYear=Uf,H.utcYears=qf,H.timeFormatDefaultLocale=Ao,H.timeFormatLocale=_r,H.isoFormat=eg,H.isoParse=tg,H.now=Ee,H.timer=Te,H.timerFlush=Me,H.timeout=hc,H.interval=function(n,i,r){var o=new Ae,a=i;return null==i?o.restart(n,i,r):(i=+i,r=null==r?Ee():+r,o.restart(function e(t){t+=a,o.restart(e,a+=i,r),n(t)},i,r)),o},H.transition=Ne,H.active=function(e,t){var n,i,r=e.__transition;if(r)for(i in t=null==t?null:t+"",r)if(1<(n=r[i]).state&&n.name===t)return new Le([[e]],qc,t,+i);return null},H.interrupt=bc,H.voronoi=function(){function t(i){return new Ba(i.map(function(e,t){var n=[Math.round(r(e,t,i)/xm)*xm,Math.round(o(e,t,i)/xm)*xm];return n.index=t,n.data=e,n}),n)}var r=va,o=ya,n=null;return t.polygons=function(e){return t(e).polygons()},t.links=function(e){return t(e).links()},t.triangles=function(e){return t(e).triangles()},t.x=function(e){return arguments.length?(r="function"==typeof e?e:hm(+e),t):r},t.y=function(e){return arguments.length?(o="function"==typeof e?e:hm(+e),t):o},t.extent=function(e){return arguments.length?(n=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],t):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},t.size=function(e){return arguments.length?(n=null==e?null:[[0,0],[+e[0],+e[1]]],t):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},t},H.zoom=function(){function o(e){e.on("wheel.zoom",t).on("mousedown.zoom",n).on("dblclick.zoom",i).on("touchstart.zoom",s).on("touchmove.zoom",l).on("touchend.zoom touchcancel.zoom",c).style("-webkit-tap-highlight-color","rgba(0,0,0,0)").property("__zoom",Ya)}function p(e,t){return(t=Math.max(b,Math.min(w,t)))===e.k?e:new ja(t,e.x,e.y)}function f(e,t,n){var i=t[0]-n[0]*e.k,r=t[1]-n[1]*e.k;return i===e.x&&r===e.y?e:new ja(e.k,i,r)}function g(e,t){var n=e.invertX(t[0][0])-x,i=e.invertX(t[1][0])-C,r=e.invertY(t[0][1])-S,o=e.invertY(t[1][1])-$;return e.translate(n<i?(n+i)/2:Math.min(0,n)||Math.max(0,i),r<o?(r+o)/2:Math.min(0,r)||Math.max(0,o))}function u(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function r(e,l,c){e.on("start.zoom",function(){m(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){m(this,arguments).end()}).tween("zoom",function(){var e=arguments,i=m(this,e),t=y.apply(this,e),r=c||u(t),o=Math.max(t[1][0]-t[0][0],t[1][1]-t[0][1]),n=this.__zoom,a="function"==typeof l?l.apply(this,e):l,s=k(n.invert(r).concat(o/n.k),a.invert(r).concat(o/a.k));return function(e){if(1===e)e=a;else{var t=s(e),n=o/t[2];e=new ja(n,r[0]-t[0]*n,r[1]-t[1]*n)}i.zoom(null,e)}})}function m(e,t){for(var n,i=0,r=A.length;i<r;++i)if((n=A[i]).that===e)return n;return new a(e,t)}function a(e,t){this.that=e,this.args=t,this.index=-1,this.active=0,this.extent=y.apply(e,t)}function t(){if(h.apply(this,arguments)){var e=m(this,arguments),t=this.__zoom,n=Math.max(b,Math.min(w,t.k*Math.pow(2,-H.event.deltaY*(H.event.deltaMode?120:1)/500))),i=zs(this);if(e.wheel)e.mouse[0][0]===i[0]&&e.mouse[0][1]===i[1]||(e.mouse[1]=t.invert(e.mouse[0]=i)),clearTimeout(e.wheel);else{if(t.k===n)return;e.mouse=[i,t.invert(i)],bc(this),e.start()}Em(),e.wheel=setTimeout(function(){e.wheel=null,e.end()},D),e.zoom("mouse",g(f(p(t,n),e.mouse[0],e.mouse[1]),e.extent))}}function n(){if(!d&&h.apply(this,arguments)){var e=m(this,arguments),t=qs(H.event.view).on("mousemove.zoom",function(){Em(),e.moved=!0,e.zoom("mouse",g(f(e.that.__zoom,e.mouse[0]=zs(e.that),e.mouse[1]),e.extent))},!0).on("mouseup.zoom",function(){t.on("mousemove.zoom mouseup.zoom",null),B(H.event.view,e.moved),Em(),e.end()},!0),n=zs(this);Xs(H.event.view),Ua(),e.mouse=[n,this.__zoom.invert(n)],bc(this),e.start()}}function i(){if(h.apply(this,arguments)){var e=this.__zoom,t=zs(this),n=e.invert(t),i=g(f(p(e,e.k*(H.event.shiftKey?.5:2)),t,n),y.apply(this,arguments));Em(),0<E?qs(this).transition().duration(E).call(r,i,t):qs(this).call(o.transform,i)}}function s(){if(h.apply(this,arguments)){var e,t,n,i,r=m(this,arguments),o=H.event.changedTouches,a=o.length;for(Ua(),t=0;t<a;++t)n=o[t],i=[i=Us(this,o,n.identifier),this.__zoom.invert(i),n.identifier],r.touch0?r.touch1||(r.touch1=i):(r.touch0=i,e=!0);if(v&&(v=clearTimeout(v),!r.touch1))return r.end(),void((i=qs(this).on("dblclick.zoom"))&&i.apply(this,arguments));e&&(v=setTimeout(function(){v=null},M),bc(this),r.start())}}function l(){var e,t,n,i,r=m(this,arguments),o=H.event.changedTouches,a=o.length;for(Em(),v=v&&clearTimeout(v),e=0;e<a;++e)t=o[e],n=Us(this,o,t.identifier),r.touch0&&r.touch0[2]===t.identifier?r.touch0[0]=n:r.touch1&&r.touch1[2]===t.identifier&&(r.touch1[0]=n);if(t=r.that.__zoom,r.touch1){var s=r.touch0[0],l=r.touch0[1],c=r.touch1[0],u=r.touch1[1],d=(d=c[0]-s[0])*d+(d=c[1]-s[1])*d,h=(h=u[0]-l[0])*h+(h=u[1]-l[1])*h;t=p(t,Math.sqrt(d/h)),n=[(s[0]+c[0])/2,(s[1]+c[1])/2],i=[(l[0]+u[0])/2,(l[1]+u[1])/2]}else{if(!r.touch0)return;n=r.touch0[0],i=r.touch0[1]}r.zoom("touch",g(f(t,n,i),r.extent))}function c(){var e,t,n=m(this,arguments),i=H.event.changedTouches,r=i.length;for(Ua(),d&&clearTimeout(d),d=setTimeout(function(){d=null},M),e=0;e<r;++e)t=i[e],n.touch0&&n.touch0[2]===t.identifier?delete n.touch0:n.touch1&&n.touch1[2]===t.identifier&&delete n.touch1;n.touch1&&!n.touch0&&(n.touch0=n.touch1,delete n.touch1),n.touch0||n.end()}var v,d,h=Wa,y=qa,b=0,w=1/0,x=-w,C=w,S=x,$=C,E=250,k=Dl,A=[],T=P("start","zoom","end"),M=500,D=150;return o.transform=function(e,t){var n=e.selection?e.selection():e;n.property("__zoom",Ya),e!==n?r(e,t):n.interrupt().each(function(){m(this,arguments).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()})},o.scaleBy=function(e,t){o.scaleTo(e,function(){return this.__zoom.k*("function"==typeof t?t.apply(this,arguments):t)})},o.scaleTo=function(e,r){o.transform(e,function(){var e=y.apply(this,arguments),t=this.__zoom,n=u(e),i=t.invert(n);return g(f(p(t,"function"==typeof r?r.apply(this,arguments):r),n,i),e)})},o.translateBy=function(e,t,n){o.transform(e,function(){return g(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),y.apply(this,arguments))})},a.prototype={start:function(){return 1==++this.active&&(this.index=A.push(this)-1,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(A.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(e){_(new za(o,e,this.that.__zoom),T.apply,T,[e,this.that,this.args])}},o.filter=function(e){return arguments.length?(h="function"==typeof e?e:Sm(!!e),o):h},o.extent=function(e){return arguments.length?(y="function"==typeof e?e:Sm([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),o):y},o.scaleExtent=function(e){return arguments.length?(b=+e[0],w=+e[1],o):[b,w]},o.translateExtent=function(e){return arguments.length?(x=+e[0][0],C=+e[1][0],S=+e[0][1],$=+e[1][1],o):[[x,S],[C,$]]},o.duration=function(e){return arguments.length?(E=+e,o):E},o.interpolate=function(e){return arguments.length?(k=e,o):k},o.on=function(){var e=T.on.apply(T,arguments);return e===T?o:e},o},H.zoomTransform=Ga,H.zoomIdentity=$m,Object.defineProperty(H,"__esModule",{value:!0})}),function(){var e=this,t=e._,i=Array.prototype,n=Object.prototype,r=Function.prototype,s=i.push,c=i.slice,u=i.concat,h=n.toString,o=n.hasOwnProperty,a=Array.isArray,l=Object.keys,d=r.bind,p=function(e){return e instanceof p?e:this instanceof p?void(this._wrapped=e):new p(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=p),exports._=p):e._=p,p.VERSION="1.7.0";function f(r,o,e){if(void 0===o)return r;switch(null==e?3:e){case 1:return function(e){return r.call(o,e)};case 2:return function(e,t){return r.call(o,e,t)};case 3:return function(e,t,n){return r.call(o,e,t,n)};case 4:return function(e,t,n,i){return r.call(o,e,t,n,i)}}return function(){return r.apply(o,arguments)}}p.iteratee=function(e,t,n){return null==e?p.identity:p.isFunction(e)?f(e,t,n):p.isObject(e)?p.matches(e):p.property(e)},p.each=p.forEach=function(e,t,n){if(null==e)return e;t=f(t,n);var i,r=e.length;if(r===+r)for(i=0;i<r;i++)t(e[i],i,e);else{var o=p.keys(e);for(i=0,r=o.length;i<r;i++)t(e[o[i]],o[i],e)}return e},p.map=p.collect=function(e,t,n){if(null==e)return[];t=p.iteratee(t,n);for(var i,r=e.length!==+e.length&&p.keys(e),o=(r||e).length,a=Array(o),s=0;s<o;s++)i=r?r[s]:s,a[s]=t(e[i],i,e);return a};var g="Reduce of empty array with no initial value";p.reduce=p.foldl=p.inject=function(e,t,n,i){null==e&&(e=[]),t=f(t,i,4);var r,o=e.length!==+e.length&&p.keys(e),a=(o||e).length,s=0;if(arguments.length<3){if(!a)throw new TypeError(g);n=e[o?o[s++]:s++]}for(;s<a;s++)n=t(n,e[r=o?o[s]:s],r,e);return n},p.reduceRight=p.foldr=function(e,t,n,i){null==e&&(e=[]),t=f(t,i,4);var r,o=e.length!==+e.length&&p.keys(e),a=(o||e).length;if(arguments.length<3){if(!a)throw new TypeError(g);n=e[o?o[--a]:--a]}for(;a--;)n=t(n,e[r=o?o[a]:a],r,e);return n},p.find=p.detect=function(e,i,t){var r;return i=p.iteratee(i,t),p.some(e,function(e,t,n){return i(e,t,n)?(r=e,!0):void 0}),r},p.filter=p.select=function(e,i,t){var r=[];return null==e||(i=p.iteratee(i,t),p.each(e,function(e,t,n){i(e,t,n)&&r.push(e)})),r},p.reject=function(e,t,n){return p.filter(e,p.negate(p.iteratee(t)),n)},p.every=p.all=function(e,t,n){if(null==e)return!0;t=p.iteratee(t,n);var i,r,o=e.length!==+e.length&&p.keys(e),a=(o||e).length;for(i=0;i<a;i++)if(!t(e[r=o?o[i]:i],r,e))return!1;return!0},p.some=p.any=function(e,t,n){if(null==e)return!1;t=p.iteratee(t,n);var i,r,o=e.length!==+e.length&&p.keys(e),a=(o||e).length;for(i=0;i<a;i++)if(t(e[r=o?o[i]:i],r,e))return!0;return!1},p.contains=p.include=function(e,t){return null!=e&&(e.length!==+e.length&&(e=p.values(e)),0<=p.indexOf(e,t))},p.invoke=function(e,t){var n=c.call(arguments,2),i=p.isFunction(t);return p.map(e,function(e){return(i?t:e[t]).apply(e,n)})},p.pluck=function(e,t){return p.map(e,p.property(t))},p.where=function(e,t){return p.filter(e,p.matches(t))},p.findWhere=function(e,t){return p.find(e,p.matches(t))},p.max=function(e,i,t){var n,r,o=-1/0,a=-1/0;if(null==i&&null!=e)for(var s=0,l=(e=e.length===+e.length?e:p.values(e)).length;s<l;s++)n=e[s],o<n&&(o=n);else i=p.iteratee(i,t),p.each(e,function(e,t,n){r=i(e,t,n),(a<r||r===-1/0&&o===-1/0)&&(o=e,a=r)});return o},p.min=function(e,i,t){var n,r,o=1/0,a=1/0;if(null==i&&null!=e)for(var s=0,l=(e=e.length===+e.length?e:p.values(e)).length;s<l;s++)(n=e[s])<o&&(o=n);else i=p.iteratee(i,t),p.each(e,function(e,t,n){((r=i(e,t,n))<a||1/0===r&&1/0===o)&&(o=e,a=r)});return o},p.shuffle=function(e){for(var t,n=e&&e.length===+e.length?e:p.values(e),i=n.length,r=Array(i),o=0;o<i;o++)(t=p.random(0,o))!==o&&(r[o]=r[t]),r[t]=n[o];return r},p.sample=function(e,t,n){return null==t||n?(e.length!==+e.length&&(e=p.values(e)),e[p.random(e.length-1)]):p.shuffle(e).slice(0,Math.max(0,t))},p.sortBy=function(e,i,t){return i=p.iteratee(i,t),p.pluck(p.map(e,function(e,t,n){return{value:e,index:t,criteria:i(e,t,n)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(i<n||void 0===n)return 1;if(n<i||void 0===i)return-1}return e.index-t.index}),"value")};function m(a){return function(i,r,e){var o={};return r=p.iteratee(r,e),p.each(i,function(e,t){var n=r(e,t,i);a(o,e,n)}),o}}p.groupBy=m(function(e,t,n){p.has(e,n)?e[n].push(t):e[n]=[t]}),p.indexBy=m(function(e,t,n){e[n]=t}),p.countBy=m(function(e,t,n){p.has(e,n)?e[n]++:e[n]=1}),p.sortedIndex=function(e,t,n,i){for(var r=(n=p.iteratee(n,i,1))(t),o=0,a=e.length;o<a;){var s=o+a>>>1;n(e[s])<r?o=1+s:a=s}return o},p.toArray=function(e){return e?p.isArray(e)?c.call(e):e.length===+e.length?p.map(e,p.identity):p.values(e):[]},p.size=function(e){return null==e?0:e.length===+e.length?e.length:p.keys(e).length},p.partition=function(e,i,t){i=p.iteratee(i,t);var r=[],o=[];return p.each(e,function(e,t,n){(i(e,t,n)?r:o).push(e)}),[r,o]},p.first=p.head=p.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:t<0?[]:c.call(e,0,t)},p.initial=function(e,t,n){return c.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},p.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:c.call(e,Math.max(e.length-t,0))},p.rest=p.tail=p.drop=function(e,t,n){return c.call(e,null==t||n?1:t)},p.compact=function(e){return p.filter(e,p.identity)};var v=function(e,t,n,i){if(t&&p.every(e,p.isArray))return u.apply(i,e);for(var r=0,o=e.length;r<o;r++){var a=e[r];p.isArray(a)||p.isArguments(a)?t?s.apply(i,a):v(a,t,n,i):n||i.push(a)}return i};p.flatten=function(e,t){return v(e,t,!1,[])},p.without=function(e){return p.difference(e,c.call(arguments,1))},p.uniq=p.unique=function(e,t,n,i){if(null==e)return[];p.isBoolean(t)||(i=n,n=t,t=!1),null!=n&&(n=p.iteratee(n,i));for(var r=[],o=[],a=0,s=e.length;a<s;a++){var l=e[a];if(t)a&&o===l||r.push(l),o=l;else if(n){var c=n(l,a,e);p.indexOf(o,c)<0&&(o.push(c),r.push(l))}else p.indexOf(r,l)<0&&r.push(l)}return r},p.union=function(){return p.uniq(v(arguments,!0,!0,[]))},p.intersection=function(e){if(null==e)return[];for(var t=[],n=arguments.length,i=0,r=e.length;i<r;i++){var o=e[i];if(!p.contains(t,o)){for(var a=1;a<n&&p.contains(arguments[a],o);a++);a===n&&t.push(o)}}return t},p.difference=function(e){var t=v(c.call(arguments,1),!0,!0,[]);return p.filter(e,function(e){return!p.contains(t,e)})},p.zip=function(e){if(null==e)return[];for(var t=p.max(arguments,"length").length,n=Array(t),i=0;i<t;i++)n[i]=p.pluck(arguments,i);return n},p.object=function(e,t){if(null==e)return{};for(var n={},i=0,r=e.length;i<r;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},p.indexOf=function(e,t,n){if(null==e)return-1;var i=0,r=e.length;if(n){if("number"!=typeof n)return e[i=p.sortedIndex(e,t)]===t?i:-1;i=n<0?Math.max(0,r+n):n}for(;i<r;i++)if(e[i]===t)return i;return-1},p.lastIndexOf=function(e,t,n){if(null==e)return-1;var i=e.length;for("number"==typeof n&&(i=n<0?i+n+1:Math.min(i,n+1));0<=--i;)if(e[i]===t)return i;return-1},p.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=n||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=Array(i),o=0;o<i;o++,e+=n)r[o]=e;return r};function y(){}p.bind=function(n,i){var r,o;if(d&&n.bind===d)return d.apply(n,c.call(arguments,1));if(!p.isFunction(n))throw new TypeError("Bind must be called on a function");return r=c.call(arguments,2),o=function(){if(!(this instanceof o))return n.apply(i,r.concat(c.call(arguments)));y.prototype=n.prototype;var e=new y;y.prototype=null;var t=n.apply(e,r.concat(c.call(arguments)));return p.isObject(t)?t:e}},p.partial=function(r){var o=c.call(arguments,1);return function(){for(var e=0,t=o.slice(),n=0,i=t.length;n<i;n++)t[n]===p&&(t[n]=arguments[e++]);for(;e<arguments.length;)t.push(arguments[e++]);return r.apply(this,t)}},p.bindAll=function(e){var t,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(t=1;t<i;t++)e[n=arguments[t]]=p.bind(e[n],e);return e},p.memoize=function(i,r){var o=function(e){var t=o.cache,n=r?r.apply(this,arguments):e;return p.has(t,n)||(t[n]=i.apply(this,arguments)),t[n]};return o.cache={},o},p.delay=function(e,t){var n=c.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},p.defer=function(e){return p.delay.apply(p,[e,1].concat(c.call(arguments,1)))},p.throttle=function(n,i,r){var o,a,s,l=null,c=0;r=r||{};function u(){c=!1===r.leading?0:p.now(),l=null,s=n.apply(o,a),l||(o=a=null)}return function(){var e=p.now();c||!1!==r.leading||(c=e);var t=i-(e-c);return o=this,a=arguments,t<=0||i<t?(clearTimeout(l),l=null,c=e,s=n.apply(o,a),l||(o=a=null)):l||!1===r.trailing||(l=setTimeout(u,t)),s}},p.debounce=function(t,n,i){var r,o,a,s,l,c=function(){var e=p.now()-s;e<n&&0<e?r=setTimeout(c,n-e):(r=null,i||(l=t.apply(a,o),r||(a=o=null)))};return function(){a=this,o=arguments,s=p.now();var e=i&&!r;return r=r||setTimeout(c,n),e&&(l=t.apply(a,o),a=o=null),l}},p.wrap=function(e,t){return p.partial(t,e)},p.negate=function(e){return function(){return!e.apply(this,arguments)}},p.compose=function(){var n=arguments,i=n.length-1;return function(){for(var e=i,t=n[i].apply(this,arguments);e--;)t=n[e].call(this,t);return t}},p.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},p.before=function(e,t){var n;return function(){return 0<--e?n=t.apply(this,arguments):t=null,n}},p.once=p.partial(p.before,2),p.keys=function(e){if(!p.isObject(e))return[];if(l)return l(e);var t=[];for(var n in e)p.has(e,n)&&t.push(n);return t},p.values=function(e){for(var t=p.keys(e),n=t.length,i=Array(n),r=0;r<n;r++)i[r]=e[t[r]];return i},p.pairs=function(e){for(var t=p.keys(e),n=t.length,i=Array(n),r=0;r<n;r++)i[r]=[t[r],e[t[r]]];return i},p.invert=function(e){for(var t={},n=p.keys(e),i=0,r=n.length;i<r;i++)t[e[n[i]]]=n[i];return t},p.functions=p.methods=function(e){var t=[];for(var n in e)p.isFunction(e[n])&&t.push(n);return t.sort()},p.extend=function(e){if(!p.isObject(e))return e;for(var t,n,i=1,r=arguments.length;i<r;i++)for(n in t=arguments[i])o.call(t,n)&&(e[n]=t[n]);return e},p.pick=function(e,t,n){var i,r={};if(null==e)return r;if(p.isFunction(t))for(i in t=f(t,n),e){var o=e[i];t(o,i,e)&&(r[i]=o)}else{var a=u.apply([],c.call(arguments,1));e=new Object(e);for(var s=0,l=a.length;s<l;s++)(i=a[s])in e&&(r[i]=e[i])}return r},p.omit=function(e,t,n){if(p.isFunction(t))t=p.negate(t);else{var i=p.map(u.apply([],c.call(arguments,1)),String);t=function(e,t){return!p.contains(i,t)}}return p.pick(e,t,n)},p.defaults=function(e){if(!p.isObject(e))return e;for(var t=1,n=arguments.length;t<n;t++){var i=arguments[t];for(var r in i)void 0===e[r]&&(e[r]=i[r])}return e},p.clone=function(e){return p.isObject(e)?p.isArray(e)?e.slice():p.extend({},e):e},p.tap=function(e,t){return t(e),e};var b=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof p&&(e=e._wrapped),t instanceof p&&(t=t._wrapped);var r=h.call(e);if(r!==h.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t}if("object"!=typeof e||"object"!=typeof t)return!1;for(var o=n.length;o--;)if(n[o]===e)return i[o]===t;var a,s,l=e.constructor,c=t.constructor;if(l!==c&&"constructor"in e&&"constructor"in t&&!(p.isFunction(l)&&l instanceof l&&p.isFunction(c)&&c instanceof c))return!1;if(n.push(e),i.push(t),"[object Array]"===r){if(s=(a=e.length)===t.length)for(;a--&&(s=b(e[a],t[a],n,i)););}else{var u,d=p.keys(e);if(a=d.length,s=p.keys(t).length===a)for(;a--&&(u=d[a],s=p.has(t,u)&&b(e[u],t[u],n,i)););}return n.pop(),i.pop(),s};p.isEqual=function(e,t){return b(e,t,[],[])},p.isEmpty=function(e){if(null==e)return!0;if(p.isArray(e)||p.isString(e)||p.isArguments(e))return 0===e.length;for(var t in e)if(p.has(e,t))return!1;return!0},p.isElement=function(e){return!(!e||1!==e.nodeType)},p.isArray=a||function(e){return"[object Array]"===h.call(e)},p.isObject=function(e){var t=typeof e;return"function"==t||"object"==t&&!!e},p.each(["Arguments","Function","String","Number","Date","RegExp"],function(t){p["is"+t]=function(e){return h.call(e)==="[object "+t+"]"}}),p.isArguments(arguments)||(p.isArguments=function(e){return p.has(e,"callee")}),"function"!=typeof/./&&(p.isFunction=function(e){return"function"==typeof e||!1}),p.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},p.isNaN=function(e){return p.isNumber(e)&&e!==+e},p.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===h.call(e)},p.isNull=function(e){return null===e},p.isUndefined=function(e){return void 0===e},p.has=function(e,t){return null!=e&&o.call(e,t)},p.noConflict=function(){return e._=t,this},p.identity=function(e){return e},p.constant=function(e){return function(){return e}},p.noop=function(){},p.property=function(t){return function(e){return e[t]}},p.matches=function(e){var r=p.pairs(e),o=r.length;return function(e){if(null==e)return!o;e=new Object(e);for(var t=0;t<o;t++){var n=r[t],i=n[0];if(n[1]!==e[i]||!(i in e))return!1}return!0}},p.times=function(e,t,n){var i=Array(Math.max(0,e));t=f(t,n,1);for(var r=0;r<e;r++)i[r]=t(r);return i},p.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},p.now=Date.now||function(){return(new Date).getTime()};function w(t){function n(e){return t[e]}var e="(?:"+p.keys(t).join("|")+")",i=RegExp(e),r=RegExp(e,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(r,n):e}}var x={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},C=p.invert(x);p.escape=w(x),p.unescape=w(C),p.result=function(e,t){if(null!=e){var n=e[t];return p.isFunction(n)?e[t]():n}};var S=0;p.uniqueId=function(e){var t=++S+"";return e?e+t:t},p.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};function $(e){return"\\"+k[e]}var E=/(.)^/,k={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},A=/\\|'|\r|\n|\u2028|\u2029/g;p.template=function(o,e,t){!e&&t&&(e=t),e=p.defaults({},e,p.templateSettings);var n=RegExp([(e.escape||E).source,(e.interpolate||E).source,(e.evaluate||E).source].join("|")+"|$","g"),a=0,s="__p+='";o.replace(n,function(e,t,n,i,r){return s+=o.slice(a,r).replace(A,$),a=r+e.length,t?s+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'":n?s+="'+\n((__t=("+n+"))==null?'':__t)+\n'":i&&(s+="';\n"+i+"\n__p+='"),e}),s+="';\n",e.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var i=new Function(e.variable||"obj","_",s)}catch(e){throw e.source=s,e}function r(e){return i.call(this,e,p)}var l=e.variable||"obj";return r.source="function("+l+"){\n"+s+"}",r},p.chain=function(e){var t=p(e);return t._chain=!0,t};function T(e){return this._chain?p(e).chain():e}p.mixin=function(n){p.each(p.functions(n),function(e){var t=p[e]=n[e];p.prototype[e]=function(){var e=[this._wrapped];return s.apply(e,arguments),T.call(this,t.apply(p,e))}})},p.mixin(p),p.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var n=i[t];p.prototype[t]=function(){var e=this._wrapped;return n.apply(e,arguments),"shift"!==t&&"splice"!==t||0!==e.length||delete e[0],T.call(this,e)}}),p.each(["concat","join","slice"],function(e){var t=i[e];p.prototype[e]=function(){return T.call(this,t.apply(this._wrapped,arguments))}}),p.prototype.value=function(){return this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return p})}.call(this),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(e,I,F){"use strict";function O(e,t){return K(new(K(function(){},{prototype:e})),t)}function x(n){return X(arguments,function(e){e!==n&&X(e,function(e,t){n.hasOwnProperty(t)||(n[t]=e)})}),n}function L(e){if(Object.keys)return Object.keys(e);var n=[];return X(e,function(e,t){n.push(t)}),n}function N(e,t,n){if(Array.prototype.indexOf)return e.indexOf(t,Number(n)||0);var i=e.length>>>0,r=Number(n)||0;for((r=r<0?Math.ceil(r):Math.floor(r))<0&&(r+=i);r<i;r++)if(r in e&&e[r]===t)return r;return-1}function V(e,t,n,i){var r,o=function(e,t){var n=[];for(var i in e.path){if(e.path[i]!==t.path[i])break;n.push(e.path[i])}return n}(n,i),a={},s=[];for(var l in o)if(o[l]&&o[l].params&&(r=L(o[l].params)).length)for(var c in r)0<=N(s,r[c])||(s.push(r[c]),a[r[c]]=e[r[c]]);return K({},a,t)}function H(e,t){var n={};return X(e,function(e){n[e]=t[e]}),n}function B(t){var n={},e=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return X(e,function(e){e in t&&(n[e]=t[e])}),n}function C(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var i in e)-1==N(n,i)&&(t[i]=e[i]);return t}function $(e,n){var i=Y(e),r=i?[]:{};return X(e,function(e,t){n(e,t)&&(r[i?r.length:t]=e)}),r}function z(e,n){var i=Y(e)?[]:{};return X(e,function(e,t){i[t]=n(e,t)}),i}function j(e){return e.then(F,function(){})&&e}function t(v,y){var e={},s=[],b=e,w=K(v.when(e),{$$promises:e,$$values:e});this.study=function(r){function f(e){return q(e)&&e.then&&e.$$promises}if(!q(r))throw new Error("'invocables' must be an object");var g=L(r||{}),m=[],o=[],a={};return X(r,function t(e,n){if(2!==a[n]){if(o.push(n),1===a[n])throw o.splice(0,N(o,n)),new Error("Cyclic dependency: "+o.join(" -> "));if(a[n]=1,W(e))m.push(n,[function(){return y.get(e)}],s);else{var i=y.annotate(e);X(i,function(e){e!==n&&r.hasOwnProperty(e)&&t(r[e],e)}),m.push(n,e,i)}o.pop(),a[n]=2}}),r=o=a=null,function(s,e,l){function c(){--i||(r||x(p,e.$$values),d.$$values=p,d.$$promises=d.$$promises||!0,delete d.$$inheritedValues,n.resolve(p))}function u(e){d.$$failure=e,n.reject(e)}function t(t,e,n){function i(e){o.reject(e),u(e)}function r(){if(!U(d.$$failure))try{o.resolve(y.invoke(e,l,p)),o.promise.then(function(e){p[t]=e,c()},i)}catch(e){i(e)}}var o=v.defer(),a=0;X(n,function(t){h.hasOwnProperty(t)&&!s.hasOwnProperty(t)&&(a++,h[t].then(function(e){p[t]=e,--a||r()},i))}),a||r(),h[t]=j(o.promise)}if(f(s)&&l===F&&(l=e,e=s,s=null),s){if(!q(s))throw new Error("'locals' must be an object")}else s=b;if(e){if(!f(e))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else e=w;var n=v.defer(),d=j(n.promise),h=d.$$promises={},p=K({},s),i=1+m.length/3,r=!1;if(j(d),U(e.$$failure))return u(e.$$failure),d;e.$$inheritedValues&&x(p,C(e.$$inheritedValues,g)),K(h,e.$$promises),e.$$values?(r=x(p,C(e.$$values,g)),d.$$inheritedValues=C(e.$$values,g),c()):(e.$$inheritedValues&&(d.$$inheritedValues=C(e.$$inheritedValues,g)),e.then(c,u));for(var o=0,a=m.length;o<a;o+=3)s.hasOwnProperty(m[o])?c():t(m[o],m[o+1],m[o+2]);return d}},this.resolve=function(e,t,n,i){return this.study(e)(t,n,i)}}function r(n,i,r,o){this.fromConfig=function(e,t,n){return U(e.template)?this.fromString(e.template,t):U(e.templateUrl)?this.fromUrl(e.templateUrl,t):U(e.templateProvider)?this.fromProvider(e.templateProvider,t,n):null},this.fromString=function(e,t){return y(e)?e(t):e},this.fromUrl=function(e,t){return y(e)&&(e=e(t)),null==e?null:o?n.get(e,{cache:i,headers:{Accept:"text/html"}}).then(function(e){return e.data}):r.get("$templateRequest")(e)},this.fromProvider=function(e,t,n){return r.invoke(e,null,n||{params:t})}}function c(s,l,e){function t(e,t,n,i){if(v.push(e),g[e])return g[e];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(e))throw new Error("Invalid parameter name '"+e+"' in pattern '"+s+"'");if(m[e])throw new Error("Duplicate parameter name '"+e+"' in pattern '"+s+"'");return m[e]=new G.Param(e,t,n,i),m[e]}function n(e,t,n,i){var r=["",""],o=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return o;switch(n){case!1:r=["(",")"+(i?"?":"")];break;case!0:o=o.replace(/\/$/,""),r=["(?:/(",")|/)?"];break;default:r=["("+n+"|",")?"]}return o+r[0]+t+r[1]}function i(e,t){var n,i,r,o,a;return n=e[2]||e[3],a=l.params[n],r=s.substring(p,e.index),(i=t?e[4]:e[4]||("*"==e[1]?".*":null))&&(o=G.type(i)||O(G.type("string"),{pattern:new RegExp(i,l.caseInsensitive?"i":F)})),{id:n,regexp:i,segment:r,type:o,cfg:a}}l=K({params:{}},q(l)?l:{});var r,o,a,c,u=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,d=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,h="^",p=0,f=this.segments=[],g=e?e.params:{},m=this.params=e?e.params.$$new():new G.ParamSet,v=[];for(this.source=s;(r=u.exec(s))&&!(0<=(o=i(r,!1)).segment.indexOf("?"));)a=t(o.id,o.type,o.cfg,"path"),h+=n(o.segment,a.type.pattern.source,a.squash,a.isOptional),f.push(o.segment),p=u.lastIndex;var y=(c=s.substring(p)).indexOf("?");if(0<=y){var b=this.sourceSearch=c.substring(y);if(c=c.substring(0,y),this.sourcePath=s.substring(0,p+y),0<b.length)for(p=0;r=d.exec(b);)a=t((o=i(r,!0)).id,o.type,o.cfg,"search"),p=u.lastIndex}else this.sourcePath=s,this.sourceSearch="";h+=n(c)+(!1===l.strict?"/?":"")+"$",f.push(c),this.regexp=new RegExp(h,l.caseInsensitive?"i":F),this.prefix=f[0],this.$$paramNames=v}function E(e){K(this,e)}function n(u,s){function l(e,t,n){if(!n)return!1;var i=e.invoke(t,t,{$match:n});return!U(i)||i}function e(s,e,r,t,l){function n(e){function t(e){var t=e(r,s);return!!t&&(W(t)&&s.replace().url(t),!0)}if(!e||!e.defaultPrevented){o&&s.url(),o=F;var n,i=h.length;for(n=0;n<i;n++)if(t(h[n]))return;p&&t(p)}}function i(){return d=d||e.$on("$locationChangeSuccess",n)}var o,c=t.baseHref(),a=s.url();return f||i(),{sync:function(){n()},listen:function(){return i()},update:function(e){return e?void(a=s.url()):void(s.url()!==a&&(s.url(a),s.replace()))},push:function(e,t,n){var i=e.format(t||{});null!==i&&t&&t["#"]&&(i+="#"+t["#"]),s.url(i),o=n&&n.$$avoidResync?s.url():F,n&&n.replace&&s.replace()},href:function(e,t,n){if(!e.validates(t))return null;var i=u.html5Mode();I.isObject(i)&&(i=i.enabled),i=i&&l.history;var r=e.format(t);if(n=n||{},i||null===r||(r="#"+u.hashPrefix()+r),null!==r&&t&&t["#"]&&(r+="#"+t["#"]),r=function(e,t,n){return"/"===c?e:t?c.slice(0,-1)+e:n?c.slice(1)+e:e}(r,i,n.absolute),!n.absolute||!r)return r;var o=!i&&r?"/":"",a=s.port();return a=80===a||443===a?"":":"+a,[s.protocol(),"://",s.host(),a,o,r].join("")}}}var d,h=[],p=null,f=!1;this.rule=function(e){if(!y(e))throw new Error("'rule' must be a function");return h.push(e),this},this.otherwise=function(e){if(W(e)){var t=e;e=function(){return t}}else if(!y(e))throw new Error("'rule' must be a function");return p=e,this},this.when=function(e,t){var r,o=W(t);if(W(e)&&(e=s.compile(e)),!o&&!y(t)&&!Y(t))throw new Error("invalid 'handler' in when()");var n={matcher:function(n,i){return o&&(r=s.compile(i),i=["$match",function(e){return r.format(e)}]),K(function(e,t){return l(e,i,n.exec(t.path(),t.search()))},{prefix:W(n.prefix)?n.prefix:""})},regex:function(n,i){if(n.global||n.sticky)throw new Error("when() RegExp must not be global or sticky");return o&&(r=i,i=["$match",function(e){return function(e,n){return e.replace(/\$(\$|\d{1,2})/,function(e,t){return n["$"===t?0:Number(t)]})}(r,e)}]),K(function(e,t){return l(e,i,n.exec(t.path()))},{prefix:function(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}(n)})}},i={matcher:s.isMatcher(e),regex:e instanceof RegExp};for(var a in i)if(i[a])return this.rule(n[a](e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===F&&(e=!0),f=e},(this.$get=e).$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function i(r,i){function D(e,t){if(!e)return F;var n=W(e),i=n?e:e.name;if(function(e){return 0===e.indexOf(".")||0===e.indexOf("^")}(i)){if(!t)throw new Error("No reference point given for path '"+i+"'");t=D(t);for(var r=i.split("."),o=0,a=r.length,s=t;o<a;o++)if(""!==r[o]||0!==o){if("^"!==r[o])break;if(!s.parent)throw new Error("Path '"+i+"' not valid for state '"+t.name+"'");s=s.parent}else s=t;r=r.slice(o).join("."),i=s.name+(s.name&&r?".":"")+r}var l=d[i];return!l||!n&&(n||l!==e&&l.self!==e)?F:l}function o(n){var e=(n=O(n,{self:n,resolve:n.resolve||{},toString:function(){return this.name}})).name;if(!W(e)||0<=e.indexOf("@"))throw new Error("State must have a valid name");if(d.hasOwnProperty(e))throw new Error("State '"+e+"' is already defined");var t=-1!==e.indexOf(".")?e.substring(0,e.lastIndexOf(".")):W(n.parent)?n.parent:q(n.parent)&&W(n.parent.name)?n.parent.name:"";if(t&&!d[t])return function(e,t){a[e]||(a[e]=[]),a[e].push(t)}(t,n.self);for(var i in s)y(s[i])&&(n[i]=s[i](n,s.$delegates[i]));return!(d[e]=n)[R]&&n.url&&r.when(n.url,["$match","$stateParams",function(e,t){_.$current.navigable==n&&function(e,t,n){if(!n)for(var i in n=[],e)n.push(i);for(var r=0;r<n.length;r++){var o=n[r];if(e[o]!=t[o])return!1}return!0}(e,t)||_.transitionTo(n,e,{inherit:!0,location:!1})}]),function(e){for(var t=a[e]||[];t.length;)o(t.shift())}(e),n}function e(b,w,c,x,u,C,S,e,t){function $(o,e,t,n,a,s){var l=t?e:H(o.params.$$keys(),e),i={$stateParams:l};a.resolve=u.resolve(o.resolve,i,a.resolve,o);var r=[a.resolve.then(function(e){a.globals=e})];return n&&r.push(n),w.all(r).then(function(){var e=[];return X(o.views,function(n,i){var r=n.resolve&&n.resolve!==o.resolve?n.resolve:{};r.$template=[function(){return c.load(i,{view:n,locals:a.globals,params:l,notify:s.notify})||""}],e.push(u.resolve(r,a.globals,a.resolve,o).then(function(e){if(y(n.controllerProvider)||Y(n.controllerProvider)){var t=I.extend({},r,a.globals);e.$$controller=x.invoke(n.controllerProvider,null,t)}else e.$$controller=n.controller;e.$$state=o,e.$$controllerAs=n.controllerAs,e.$$resolveAs=n.resolveAs,a[i]=e}))}),w.all(e).then(function(){return a.globals})}).then(function(e){return a})}var E=new Error("transition superseded"),k=j(w.reject(E)),A=j(w.reject(new Error("transition prevented"))),T=j(w.reject(new Error("transition aborted"))),M=j(w.reject(new Error("transition failed")));return P.locals={resolve:null,globals:{$stateParams:{}}},(_={params:{},current:P.self,$current:P,transition:null,reload:function(e){return _.transitionTo(_.current,C,{reload:e||!0,inherit:!1,notify:!0})},go:function(e,t,n){return _.transitionTo(e,t,K({inherit:!0,relative:_.$current},n))}}).transitionTo=function(i,r,o){r=r||{},o=K({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},o||{});var a=_.$current,s=_.params,l=a.path,e=D(i,o.relative),t=r["#"];if(!U(e)){var n={to:i,toParams:r,options:o},c=function(e,t,n,i){var r=b.$broadcast("$stateNotFound",e,t,n);if(r.defaultPrevented)return S.update(),T;if(!r.retry)return null;if(i.$retry)return S.update(),M;var o=_.transition=w.when(r.retry);return o.then(function(){return o!==_.transition?(b.$broadcast("$stateChangeCancel",e.to,e.toParams,t,n),k):(e.options.$retry=!0,_.transitionTo(e.to,e.toParams,e.options))},function(){return T}),S.update(),o}(n,a.self,s,o);if(c)return c;if(r=n.toParams,e=D(i=n.to,(o=n.options).relative),!U(e)){if(!o.relative)throw new Error("No such state '"+i+"'");throw new Error("Could not resolve '"+i+"' from state '"+o.relative+"'")}}if(e[R])throw new Error("Cannot transition to abstract state '"+i+"'");if(o.inherit&&(r=V(C,r||{},_.$current,e)),!e.params.$$validates(r))return M;r=e.params.$$values(r);var u=(i=e).path,d=0,h=u[d],p=P.locals,f=[];if(o.reload){if(W(o.reload)||q(o.reload)){if(q(o.reload)&&!o.reload.name)throw new Error("Invalid reload state object");var g=!0===o.reload?l[0]:D(o.reload);if(o.reload&&!g)throw new Error("No such reload state '"+(W(o.reload)?o.reload:o.reload.name)+"'");for(;h&&h===l[d]&&h!==g;)p=f[d]=h.locals,h=u[++d]}}else for(;h&&h===l[d]&&h.ownParams.$$equals(r,s);)p=f[d]=h.locals,h=u[++d];if(function(e,t,n,i,r,o){if(!o.reload&&e===n&&(r===n.locals||!1===e.self.reloadOnSearch&&function(t,e,n){var i=t.params.$$keys().filter(function(e){return"search"!=t.params[e].location}),r=B.apply({},[t.params].concat(i));return new G.ParamSet(r).$$equals(e,n)}(n,i,t)))return!0}(i,r,a,s,p,o))return t&&(r["#"]=t),_.params=r,Z(_.params,C),Z(H(i.params.$$keys(),C),i.locals.globals.$stateParams),o.location&&i.navigable&&i.navigable.url&&(S.push(i.navigable.url,r,{$$avoidResync:!0,replace:"replace"===o.location}),S.update(!0)),_.transition=null,w.when(_.current);if(r=H(i.params.$$keys(),r||{}),t&&(r["#"]=t),o.notify&&b.$broadcast("$stateChangeStart",i.self,r,a.self,s,o).defaultPrevented)return b.$broadcast("$stateChangeCancel",i.self,r,a.self,s),null==_.transition&&S.update(),A;for(var m=w.when(p),v=d;v<u.length;h=u[++v])p=f[v]=O(p),m=$(h,r,h===i,m,p,o);var y=_.transition=m.then(function(){var e,t,n;if(_.transition!==y)return b.$broadcast("$stateChangeCancel",i.self,r,a.self,s),k;for(e=l.length-1;d<=e;e--)(n=l[e]).self.onExit&&x.invoke(n.self.onExit,n.self,n.locals.globals),n.locals=null;for(e=d;e<u.length;e++)(t=u[e]).locals=f[e],t.self.onEnter&&x.invoke(t.self.onEnter,t.self,t.locals.globals);return _.transition!==y?(b.$broadcast("$stateChangeCancel",i.self,r,a.self,s),k):(_.$current=i,_.current=i.self,_.params=r,Z(_.params,C),_.transition=null,o.location&&i.navigable&&S.push(i.navigable.url,i.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===o.location}),o.notify&&b.$broadcast("$stateChangeSuccess",i.self,r,a.self,s),S.update(!0),_.current)}).then(null,function(e){return e===E?k:_.transition!==y?(b.$broadcast("$stateChangeCancel",i.self,r,a.self,s),k):(_.transition=null,b.$broadcast("$stateChangeError",i.self,r,a.self,s,e).defaultPrevented||S.update(),w.reject(e))});return j(y),y},_.is=function(e,i,t){var r=D(e,(t=K({relative:_.$current},t||{})).relative);return U(r)?_.$current===r&&(!i||L(i).reduce(function(e,t){var n=r.params[t];return e&&!n||n.type.equals(C[t],i[t])},!0)):F},_.includes=function(e,i,t){if(t=K({relative:_.$current},t||{}),W(e)&&function(e){return-1<e.indexOf("*")}(e)){if(!function(e){for(var t=e.split("."),n=_.$current.name.split("."),i=0,r=t.length;i<r;i++)"*"===t[i]&&(n[i]="*");return"**"===t[0]&&(n=n.slice(N(n,t[1]))).unshift("**"),"**"===t[t.length-1]&&(n.splice(N(n,t[t.length-2])+1,Number.MAX_VALUE),n.push("**")),t.length==n.length&&n.join("")===t.join("")}(e))return!1;e=_.$current.name}var r=D(e,t.relative);if(!U(r))return F;if(!U(_.$current.includes[r.name]))return!1;if(!i)return!0;for(var n=L(i),o=0;o<n.length;o++){var a=n[o],s=r.params[a];if(s&&!s.type.equals(C[a],i[a]))return!1}return L(i).reduce(function(e,t){var n=r.params[t];return e&&!n||n.type.equals(C[t],i[t])},!0)},_.href=function(e,t,n){var i=D(e,(n=K({lossy:!0,inherit:!0,absolute:!1,relative:_.$current},n||{})).relative);if(!U(i))return null;n.inherit&&(t=V(C,t||{},_.$current,i));var r=i&&n.lossy?i.navigable:i;return r&&r.url!==F&&null!==r.url?S.href(r.url,H(i.params.$$keys().concat("#"),t||{}),{absolute:n.absolute}):null},_.get=function(e,t){if(0===arguments.length)return z(L(d),function(e){return d[e].self});var n=D(e,t||_.$current);return n&&n.self?n.self:null},_}var P,_,d={},a={},R="abstract",s={parent:function(e){if(U(e.parent)&&e.parent)return D(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?D(t[1]):P},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=O(e.parent.data,e.data)),e.data},url:function(e){var t=e.url,n={params:e.params||{}};if(W(t))return"^"==t.charAt(0)?i.compile(t.substring(1),n):(e.parent.navigable||P).url.concat(t,n);if(!t||i.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var n=e.url&&e.url.params||new G.ParamSet;return X(e.params||{},function(e,t){n[t]||(n[t]=new G.Param(t,null,e,"config"))}),n},params:function(e){var t=B(e.ownParams,e.ownParams.$$keys());return e.parent&&e.parent.params?K(e.parent.params.$$new(),t):new G.ParamSet},views:function(n){var i={};return X(U(n.views)?n.views:{"":n},function(e,t){t.indexOf("@")<0&&(t+="@"+n.parent.name),e.resolveAs=e.resolveAs||n.resolveAs||"$resolve",i[t]=e}),i},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?K({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};(P=o({name:"",url:"^",views:null,abstract:!0})).navigable=null,this.decorator=function(e,t){return W(e)&&!U(t)?s[e]:(y(t)&&W(e)&&(s[e]&&!s.$delegates[e]&&(s.$delegates[e]=s[e]),s[e]=t),this)},this.state=function(e,t){return q(e)?t=e:t.name=e,o(t),this},(this.$get=e).$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function o(){function e(e,i){return{load:function(e,t){var n;return(t=K({template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}},t)).view&&(n=i.fromConfig(t.view,t.params,t.locals)),n}}}(this.$get=e).$inject=["$rootScope","$templateFactory"]}function a(g,t,m,v,y){var e=t.has?function(e){return t.has(e)?t.get(e):null}:function(e){try{return t.get(e)}catch(e){return null}},n=e("$animator"),b=e("$animate");return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(e,t,f){return function(r,o,a){function e(e){var t,n=w(r,a,o,v),i=n&&g.$current&&g.$current.locals[n];!e&&i===u||(t=r.$new(),u=g.$current.locals[n],t.$emit("$viewContentLoading",n),l=f(t,function(e){var t=y.defer(),n=y.defer(),i={$animEnter:t.promise,$animLeave:n.promise,$$animLeave:n};e.data("$uiViewAnim",i),p.enter(e,o,function(){t.resolve(),c&&c.$emit("$viewContentAnimationEnded"),(I.isDefined(h)&&!h||r.$eval(h))&&m(e)}),function(){if(s&&(s.remove(),s=null),c&&(c.$destroy(),c=null),l){var e=l.data("$uiViewAnim");p.leave(l,function(){e.$$animLeave.resolve(),s=null}),s=l,l=null}}()}),(c=t).$emit("$viewContentLoaded",n),c.$eval(d))}var s,l,c,u,d=a.onload||"",h=a.autoscroll,p=function(e,t){if(b)return{enter:function(e,t,n){2<I.version.minor?b.enter(e,null,t).then(n):b.enter(e,null,t,n)},leave:function(e,t){2<I.version.minor?b.leave(e).then(t):b.leave(e,t)}};if(n){var i=n&&n(t,e);return{enter:function(e,t,n){i.enter(e,null,t),n()},leave:function(e,t){i.leave(e),t()}}}return{enter:function(e,t,n){t.after(e),n()},leave:function(e,t){e.remove(),t()}}}(a,r);o.inheritedData("$uiView"),r.$on("$stateChangeSuccess",function(){e(!1)}),e(!0)}}}}function s(u,d,h,p){return{restrict:"ECA",priority:-400,compile:function(e){var c=e.html();return e.empty?e.empty():e[0].innerHTML=null,function(e,t,n){var i=h.$current,r=w(e,n,t,p),o=i&&i.locals[r];if(!o)return t.html(c),void u(t.contents())(e);t.data("$uiView",{name:r,state:o.$$state}),t.html(o.$template?o.$template:c);var a=I.extend({},o);e[o.$$resolveAs]=a;var s=u(t.contents());if(o.$$controller){o.$scope=e,o.$element=t;var l=d(o.$$controller,o);o.$$controllerAs&&(e[o.$$controllerAs]=l,e[o.$$controllerAs][o.$$resolveAs]=a),y(l.$onInit)&&l.$onInit(),t.data("$ngControllerController",l),t.children().data("$ngControllerController",l)}s(e)}}}}function w(e,t,n,i){var r=i(t.uiView||t.name||"")(e),o=n.inheritedData("$uiView");return 0<=r.indexOf("@")?r:r+"@"+(o?o.state.name:"")}function f(e,t){var n,i=e.match(/^\s*({[^}]*})\s*$/);if(i&&(e=t+"("+i[1]+")"),!(n=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/))||4!==n.length)throw new Error("Invalid state ref '"+e+"'");return{state:n[1],paramExpr:n[3]||null}}function g(e){var t=e.parent().inheritedData("$uiView");if(t&&t.state&&t.state.name)return t.state}function p(e){var t="[object SVGAnimatedString]"===Object.prototype.toString.call(e.prop("href")),n="FORM"===e[0].nodeName;return{attr:n?"action":t?"xlink:href":"href",isAnchor:"A"===e.prop("tagName").toUpperCase(),clickable:!n}}function m(o,a,s,l,c){return function(e){var t=e.which||e.button,n=c();if(!(1<t||e.ctrlKey||e.metaKey||e.shiftKey||o.attr("target"))){var i=s(function(){a.go(n.state,n.params,n.options)});e.preventDefault();var r=l.isAnchor&&!n.href?1:0;e.preventDefault=function(){r--<=0&&s.cancel(i)}}}}function l(d,h){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(e,t,n,i){var r,o=f(n.uiSref,d.current.name),a={state:o.state,href:null,params:null},s=p(t),l=i[1]||i[0],c=null;a.options=K(function(e,t){return{relative:g(e)||t.$current,inherit:!0}}(t,d),n.uiSrefOpts?e.$eval(n.uiSrefOpts):{});function u(e){e&&(a.params=I.copy(e)),a.href=d.href(o.state,a.params,a.options),c&&c(),l&&(c=l.$$addStateInfo(o.state,a.params)),null!==a.href&&n.$set(s.attr,a.href)}o.paramExpr&&(e.$watch(o.paramExpr,function(e){e!==a.params&&u(e)},!0),a.params=I.copy(e.$eval(o.paramExpr))),u(),s.clickable&&(r=m(t,d,h,s,function(){return a}),t[t.on?"on":"bind"]("click",r),e.$on("$destroy",function(){t[t.off?"off":"unbind"]("click",r)}))}}}function u(d,h){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(e,t,n,i){function r(e){c.state=e[0],c.params=e[1],c.options=e[2],c.href=d.href(c.state,c.params,c.options),u&&u(),s&&(u=s.$$addStateInfo(c.state,c.params)),c.href&&n.$set(a.attr,c.href)}var o,a=p(t),s=i[1]||i[0],l="["+[n.uiState,n.uiStateParams||null,n.uiStateOpts||null].map(function(e){return e||"null"}).join(", ")+"]",c={state:null,params:null,options:null,href:null},u=null;e.$watch(l,r,!0),r(e.$eval(l)),a.clickable&&(o=m(t,d,h,a,function(){return c}),t[t.on?"on":"bind"]("click",o),e.$on("$destroy",function(){t[t.off?"off":"unbind"]("click",o)}))}}}function d(p,e,t){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(a,s,e,n){function i(e,t,n){var i=p.get(e,g(s)),r=function(e,t){if(!W(e))throw new Error("state should be a string");return q(t)?e+b(t):(t=a.$eval(t),q(t)?e+b(t):e)}(e,t),o={state:i||{name:e},params:t,hash:r};return d.push(o),h[r]=n,function(){var e=d.indexOf(o);-1!==e&&d.splice(e,1)}}function r(){for(var e=0;e<d.length;e++)i=d[e].state,r=d[e].params,p.includes(i.name,r)?o(s,h[d[e].hash]):l(s,h[d[e].hash]),t=d[e].state,n=d[e].params,p.is(t.name,n)?o(s,c):l(s,c);var t,n,i,r}function o(e,t){n(function(){e.addClass(t)})}function l(e,t){e.removeClass(t)}var c,u,d=[],h={};c=t(e.uiSrefActiveEq||"",!1)(a);try{u=a.$eval(e.uiSrefActive)}catch(e){}u=u||t(e.uiSrefActive||"",!1)(a),q(u)&&X(u,function(e,t){if(W(e)){var n=f(e,p.current.name);i(n.state,a.$eval(n.paramExpr),t)}}),this.$$addStateInfo=function(e,t){if(!(q(u)&&0<d.length)){var n=i(e,t,u);return r(),n}},a.$on("$stateChangeSuccess",r),r()}]}}function h(n){function e(e,t){return n.is(e,t)}return e.$stateful=!0,e}function v(i){function e(e,t,n){return i.includes(e,t,n)}return e.$stateful=!0,e}var G,U=I.isDefined,y=I.isFunction,W=I.isString,q=I.isObject,Y=I.isArray,X=I.forEach,K=I.extend,Z=I.copy,b=I.toJson;I.module("ui.router.util",["ng"]),I.module("ui.router.router",["ui.router.util"]),I.module("ui.router.state",["ui.router.router","ui.router.util"]),I.module("ui.router",["ui.router.state"]),I.module("ui.router.compat",["ui.router"]),t.$inject=["$q","$injector"],I.module("ui.router.util").service("$resolve",t),I.module("ui.router.util").provider("$templateFactory",function(){var i=I.version.minor<3;this.shouldUnsafelyUseHttp=function(e){i=!!e},this.$get=["$http","$templateCache","$injector",function(e,t,n){return new r(e,t,n,i)}]}),c.prototype.concat=function(e,t){var n={caseInsensitive:G.caseInsensitive(),strict:G.strictMode(),squash:G.defaultSquashPolicy()};return new c(this.sourcePath+e+this.sourceSearch,K(n,t),this)},c.prototype.toString=function(){return this.source},c.prototype.exec=function(e,t){var n=this.regexp.exec(e);if(!n)return null;t=t||{};var i,r,o,a,s,l=this.parameters(),c=l.length,u=this.segments.length-1,d={};if(u!=n.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(i=0;i<u;i++){for(o=l[i],a=this.params[o],s=n[i+1],r=0;r<a.replace.length;r++)a.replace[r].from===s&&(s=a.replace[r].to);s&&!0===a.array&&(s=z(z(h(s).split(/-(?!\\)/),h),function(e){return e.replace(/\\-/g,"-")}).reverse()),U(s)&&(s=a.type.decode(s)),d[o]=a.value(s)}function h(e){return e.split("").reverse().join("")}for(;i<c;i++){for(d[o=l[i]]=this.params[o].value(t[o]),a=this.params[o],s=t[o],r=0;r<a.replace.length;r++)a.replace[r].from===s&&(s=a.replace[r].to);U(s)&&(s=a.type.decode(s)),d[o]=a.value(s)}return d},c.prototype.parameters=function(e){return U(e)?this.params[e]||null:this.$$paramNames},c.prototype.validates=function(e){return this.params.$$validates(e)},c.prototype.format=function(e){function t(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}e=e||{};var n=this.segments,i=this.parameters(),r=this.params;if(!this.validates(e))return null;var o,a=!1,s=n.length-1,l=i.length,c=n[0];for(o=0;o<l;o++){var u=o<s,d=i[o],h=r[d],p=h.value(e[d]),f=h.isOptional&&h.type.equals(h.value(),p),g=!!f&&h.squash,m=h.type.encode(p);if(u){var v=n[o+1],y=o+1===s;if(!1===g)null!=m&&(c+=Y(m)?z(m,t).join("-"):encodeURIComponent(m)),c+=v;else if(!0===g){var b=c.match(/\/$/)?/\/?(.*)/:/(.*)/;c+=v.match(b)[1]}else W(g)&&(c+=g+v);y&&!0===h.squash&&"/"===c.slice(-1)&&(c=c.slice(0,-1))}else{if(null==m||f&&!1!==g)continue;if(Y(m)||(m=[m]),0===m.length)continue;c+=(a?"&":"?")+d+"="+(m=z(m,encodeURIComponent).join("&"+d+"=")),a=!0}}return c},E.prototype.is=function(e,t){return!0},E.prototype.encode=function(e,t){return e},E.prototype.decode=function(e,t){return e},E.prototype.equals=function(e,t){return e==t},E.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},E.prototype.pattern=/.*/,E.prototype.toString=function(){return"{Type:"+this.name+"}"},E.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},E.prototype.$asArray=function(e,t){if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new function(e,r){function t(e,t){return function(){return e[t].apply(e,arguments)}}function o(e){return Y(e)?e:U(e)?[e]:[]}function a(e){return!e}function n(n,i){return function(e){if(Y(e)&&0===e.length)return e;var t=z(e=o(e),n);return!0===i?0===$(t,a).length:function(e){switch(e.length){case 0:return F;case 1:return"auto"===r?e[0]:e;default:return e}}(t)}}var s;this.encode=n(t(e,"encode")),this.decode=n(t(e,"decode")),this.is=n(t(e,"is"),!0),this.equals=(s=t(e,"equals"),function(e,t){var n=o(e),i=o(t);if(n.length!==i.length)return!1;for(var r=0;r<n.length;r++)if(!s(n[r],i[r]))return!1;return!0}),this.pattern=e.pattern,this.$normalize=n(t(e,"$normalize")),this.name=e.name,this.$arrayMode=r}(this,e)},I.module("ui.router.util").provider("$urlMatcherFactory",function e(){function t(e){return null!=e?e.toString().replace(/(~|\/)/g,function(e){return{"~":"~~","/":"~2F"}[e]}):e}function w(e){return y(e)||Y(e)&&y(e[e.length-1])}function i(){for(;s.length;){var e=s.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");I.extend(S[e.name],x.invoke(e.def))}}function r(e){K(this,e||{})}G=this;var x,n=!1,o=!0,C=!1,S={},a=!0,s=[],l={string:{encode:t,decode:function(e){return null!=e?e.toString().replace(/(~~|~2F)/g,function(e){return{"~~":"~","~2F":"/"}[e]}):e},is:function(e){return null==e||!U(e)||"string"==typeof e},pattern:/[^\/]*/},int:{encode:t,decode:function(e){return parseInt(e,10)},is:function(e){return e!==F&&null!==e&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return!0===e||!1===e},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):F},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):F},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:I.toJson,decode:I.fromJson,is:I.isObject,equals:I.equals,pattern:/[^\/]*/},any:{encode:I.identity,decode:I.identity,equals:I.equals,pattern:/.*/}};e.$$getDefaultValue=function(e){if(!w(e.value))return e.value;if(!x)throw new Error("Injectable functions cannot be called at configuration time");return x.invoke(e.value)},this.caseInsensitive=function(e){return U(e)&&(n=e),n},this.strictMode=function(e){return U(e)&&(o=e),o},this.defaultSquashPolicy=function(e){if(!U(e))return C;if(!0!==e&&!1!==e&&!W(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return C=e},this.compile=function(e,t){return new c(e,K({strict:o,caseInsensitive:n},t))},this.isMatcher=function(n){if(!q(n))return!1;var i=!0;return X(c.prototype,function(e,t){y(e)&&(i=i&&U(n[t])&&y(n[t]))}),i},this.type=function(e,t,n){if(!U(t))return S[e];if(S.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return S[e]=new E(K({name:e},t)),n&&(s.push({name:e,def:n}),a||i()),this},X(l,function(e,t){S[t]=new E(K({name:t},e))}),S=O(S,{}),this.$get=["$injector",function(e){return x=e,a=!1,i(),X(l,function(e,t){S[t]||(S[t]=new E(e))}),this}],this.Param=function(i,e,r,t){var n,o,a=this;-1===N(o=q(n=r)?L(n):[],"value")&&-1===N(o,"type")&&-1===N(o,"squash")&&-1===N(o,"array")&&(n={value:n}),n.$$fn=w(n.value)?n.value:function(){return n.value},e=function(e,t,n){if(e.type&&t)throw new Error("Param '"+i+"' has two type configurations.");return t||(e.type?I.isString(e.type)?S[e.type]:e.type instanceof E?e.type:new E(e.type):"config"===n?S.any:S.string)}(r=n,e,t);var s,l,c=(s={array:"search"===t&&"auto"},l=i.match(/\[\]$/)?{array:!0}:{},K(s,l,r).array);"string"!==(e=c?e.$asArray(c,"search"===t):e).name||c||"path"!==t||r.value!==F||(r.value="");var u,d,h,p,f,g,m,v=r.value!==F,y=function(e,t){var n=e.squash;if(!t||!1===n)return!1;if(!U(n)||null==n)return C;if(!0===n||W(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}(r,v),b=(d=c,p=y,m=[{from:"",to:(h=v)||d?F:""},{from:null,to:h||d?F:""}],f=Y((u=r).replace)?u.replace:[],W(p)&&f.push({from:p,to:F}),g=z(f,function(e){return e.from}),$(m,function(e){return-1===N(g,e.from)}).concat(f));K(this,{id:i,type:e,location:t,array:c,squash:y,replace:b,isOptional:v,value:function(e){return t=e,e=(n=z($(a.replace,function(t){return function(e){return e.from===t}}(t)),function(e){return e.to})).length?n[0]:t,U(e)?a.type.$normalize(e):function(){if(!x)throw new Error("Injectable functions cannot be called at configuration time");var e=x.invoke(r.$$fn);if(null!==e&&e!==F&&!a.type.is(e))throw new Error("Default value ("+e+") for parameter '"+a.id+"' is not an instance of Type ("+a.type.name+")");return e}();var t,n},dynamic:F,config:r,toString:function(){return"{Param:"+i+" "+e+" squash: '"+y+"' optional: "+v+"}"}})},r.prototype={$$new:function(){return O(this,K(new r,{$$parent:this}))},$$keys:function(){for(var t=[],e=[],n=this,i=L(r.prototype);n;)e.push(n),n=n.$$parent;return e.reverse(),X(e,function(e){X(L(e),function(e){-1===N(t,e)&&-1===N(i,e)&&t.push(e)})}),t},$$values:function(t){var n={},i=this;return X(i.$$keys(),function(e){n[e]=i[e].value(t&&t[e])}),n},$$equals:function(i,r){var o=!0,a=this;return X(a.$$keys(),function(e){var t=i&&i[e],n=r&&r[e];a[e].type.equals(t,n)||(o=!1)}),o},$$validates:function(e){var t,n,i,r,o,a=this.$$keys();for(t=0;t<a.length&&(n=this[a[t]],(i=e[a[t]])!==F&&null!==i||!n.isOptional);t++){if(r=n.type.$normalize(i),!n.type.is(r))return!1;if(o=n.type.encode(r),I.isString(o)&&!n.type.pattern.exec(o))return!1}return!0},$$parent:F},this.ParamSet=r}),I.module("ui.router.util").run(["$urlMatcherFactory",function(e){}]),n.$inject=["$locationProvider","$urlMatcherFactoryProvider"],I.module("ui.router.router").provider("$urlRouter",n),i.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],I.module("ui.router.state").factory("$stateParams",function(){return{}}).constant("$state.runtime",{autoinject:!0}).provider("$state",i).run(["$injector",function(e){e.get("$state.runtime").autoinject&&e.get("$state")}]),o.$inject=[],I.module("ui.router.state").provider("$view",o),I.module("ui.router.state").provider("$uiViewScroll",function(){var n=!1;this.useAnchorScroll=function(){n=!0},this.$get=["$anchorScroll","$timeout",function(e,t){return n?e:function(e){return t(function(){e[0].scrollIntoView()},0,!1)}}]}),a.$inject=["$state","$injector","$uiViewScroll","$interpolate","$q"],s.$inject=["$compile","$controller","$state","$interpolate"],I.module("ui.router.state").directive("uiView",a),I.module("ui.router.state").directive("uiView",s),l.$inject=["$state","$timeout"],u.$inject=["$state","$timeout"],d.$inject=["$state","$stateParams","$interpolate"],I.module("ui.router.state").directive("uiSref",l).directive("uiSrefActive",d).directive("uiSrefActiveEq",d).directive("uiState",u),h.$inject=["$state"],v.$inject=["$state"],I.module("ui.router.state").filter("isState",h).filter("includedByState",v)}(window,window.angular),function(){"use strict";angular.module("ui.event",[]).directive("uiEvent",["$parse",function(o){return function(i,r,e){var t=i.$eval(e.uiEvent);angular.forEach(t,function(e,t){var n=o(e);r.bind(t,function(e){var t=Array.prototype.slice.call(arguments);t=t.splice(1),n(i,{$event:e,$params:t}),i.$$phase||i.$apply()})})}}])}(),function(o,a,d){var f=o.requestAnimationFrame||o.webkitRequestAnimationFrame||o.mozRequestAnimationFrame||o.oRequestAnimationFrame||o.msRequestAnimationFrame||function(e){o.setTimeout(e,1e3/60)},g=function(){var i={},r=a.createElement("div").style,t=function(){for(var e=["t","webkitT","MozT","msT","OT"],t=0,n=e.length;t<n;t++)if(e[t]+"ransform"in r)return e[t].substr(0,e[t].length-1);return!1}();function e(e){return!1!==t&&(""===t?e:t+e.charAt(0).toUpperCase()+e.substr(1))}i.getTime=Date.now||function(){return(new Date).getTime()},i.extend=function(e,t){for(var n in t)e[n]=t[n]},i.addEvent=function(e,t,n,i){e.addEventListener(t,n,!!i)},i.removeEvent=function(e,t,n,i){e.removeEventListener(t,n,!!i)},i.prefixPointerEvent=function(e){return o.MSPointerEvent?"MSPointer"+e.charAt(7).toUpperCase()+e.substr(8):e},i.momentum=function(e,t,n,i,r,o){var a,s,l=e-t,c=d.abs(l)/n;return s=c/(o=void 0===o?6e-4:o),(a=e+c*c/(2*o)*(l<0?-1:1))<i?(a=r?i-r/2.5*(c/8):i,s=(l=d.abs(a-e))/c):0<a&&(a=r?r/2.5*(c/8):0,s=(l=d.abs(e)+a)/c),{destination:d.round(a),duration:s}};var n=e("transform");return i.extend(i,{hasTransform:!1!==n,hasPerspective:e("perspective")in r,hasTouch:"ontouchstart"in o,hasPointer:!(!o.PointerEvent&&!o.MSPointerEvent),hasTransition:e("transition")in r}),i.isBadAndroid=function(){var e=o.navigator.appVersion;if(!/Android/.test(e)||/Chrome\/\d/.test(e))return!1;var t=e.match(/Safari\/(\d+.\d)/);return!(t&&"object"==typeof t&&2<=t.length)||parseFloat(t[1])<535.19}(),i.extend(i.style={},{transform:n,transitionTimingFunction:e("transitionTimingFunction"),transitionDuration:e("transitionDuration"),transitionDelay:e("transitionDelay"),transformOrigin:e("transformOrigin")}),i.hasClass=function(e,t){return new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},i.addClass=function(e,t){if(!i.hasClass(e,t)){var n=e.className.split(" ");n.push(t),e.className=n.join(" ")}},i.removeClass=function(e,t){if(i.hasClass(e,t)){var n=new RegExp("(^|\\s)"+t+"(\\s|$)","g");e.className=e.className.replace(n," ")}},i.offset=function(e){for(var t=-e.offsetLeft,n=-e.offsetTop;e=e.offsetParent;)t-=e.offsetLeft,n-=e.offsetTop;return{left:t,top:n}},i.preventDefaultException=function(e,t){for(var n in t)if(t[n].test(e[n]))return!0;return!1},i.extend(i.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),i.extend(i.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(e){return e*(2-e)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(e){return d.sqrt(1- --e*e)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(e){return(e-=1)*e*(5*e+4)+1}},bounce:{style:"",fn:function(e){return(e/=1)<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}},elastic:{style:"",fn:function(e){return 0===e?0:1==e?1:.4*d.pow(2,-10*e)*d.sin((e-.055)*(2*d.PI)/.22)+1}}}),i.tap=function(e,t){var n=a.createEvent("Event");n.initEvent(t,!0,!0),n.pageX=e.pageX,n.pageY=e.pageY,e.target.dispatchEvent(n)},i.click=function(e){var t,n=e.target;/(SELECT|INPUT|TEXTAREA)/i.test(n.tagName)||((t=a.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,e.view,1,n.screenX,n.screenY,n.clientX,n.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),t._constructed=!0,n.dispatchEvent(t))},i}();function e(e,t){for(var n in this.wrapper="string"==typeof e?a.querySelector(e):e,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,disablePointer:!g.hasPointer,disableTouch:g.hasPointer||!g.hasTouch,disableMouse:g.hasPointer||g.hasTouch,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0,bindToWrapper:void 0===o.onmousedown},t)this.options[n]=t[n];this.translateZ=this.options.HWCompositing&&g.hasPerspective?" translateZ(0)":"",this.options.useTransition=g.hasTransition&&this.options.useTransition,this.options.useTransform=g.hasTransform&&this.options.useTransform,this.options.eventPassthrough=!0===this.options.eventPassthrough?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"!=this.options.eventPassthrough&&this.options.scrollY,this.options.scrollX="horizontal"!=this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?g.ease[this.options.bounceEasing]||g.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,!0===this.options.tap&&(this.options.tap="tap"),"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function s(e,t,n){var i=a.createElement("div"),r=a.createElement("div");return!0===n&&(i.style.cssText="position:absolute;z-index:9999",r.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),r.className="iScrollIndicator","h"==e?(!0===n&&(i.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",r.style.height="100%"),i.className="iScrollHorizontalScrollbar"):(!0===n&&(i.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",r.style.width="100%"),i.className="iScrollVerticalScrollbar"),i.style.cssText+=";overflow:hidden",t||(i.style.pointerEvents="none"),i.appendChild(r),i}function l(e,t){for(var n in this.wrapper="string"==typeof t.el?a.querySelector(t.el):t.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=e,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0},t)this.options[n]=t[n];if(this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(g.addEvent(this.indicator,"touchstart",this),g.addEvent(o,"touchend",this)),this.options.disablePointer||(g.addEvent(this.indicator,g.prefixPointerEvent("pointerdown"),this),g.addEvent(o,g.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(g.addEvent(this.indicator,"mousedown",this),g.addEvent(o,"mouseup",this))),this.options.fade){this.wrapperStyle[g.style.transform]=this.scroller.translateZ;var i=g.style.transitionDuration;this.wrapperStyle[i]=g.isBadAndroid?"0.0001ms":"0ms";var r=this;g.isBadAndroid&&f(function(){"0.0001ms"===r.wrapperStyle[i]&&(r.wrapperStyle[i]="0s")}),this.wrapperStyle.opacity="0"}}e.prototype={version:"5.2.0",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),clearTimeout(this.resizeTimeout),this.resizeTimeout=null,this._execEvent("destroy")},_transitionEnd:function(e){e.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(e){if(1!=g.eventType[e.type]&&0!==(e.which?e.button:e.button<2?0:4==e.button?1:2))return;if(this.enabled&&(!this.initiated||g.eventType[e.type]===this.initiated)){!this.options.preventDefault||g.isBadAndroid||g.preventDefaultException(e.target,this.options.preventDefaultException)||e.preventDefault();var t,n=e.touches?e.touches[0]:e;this.initiated=g.eventType[e.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this.startTime=g.getTime(),this.options.useTransition&&this.isInTransition?(this._transitionTime(),this.isInTransition=!1,t=this.getComputedPosition(),this._translate(d.round(t.x),d.round(t.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=n.pageX,this.pointY=n.pageY,this._execEvent("beforeScrollStart")}},_move:function(e){if(this.enabled&&g.eventType[e.type]===this.initiated){this.options.preventDefault&&e.preventDefault();var t,n,i,r,o=e.touches?e.touches[0]:e,a=o.pageX-this.pointX,s=o.pageY-this.pointY,l=g.getTime();if(this.pointX=o.pageX,this.pointY=o.pageY,this.distX+=a,this.distY+=s,i=d.abs(this.distX),r=d.abs(this.distY),!(300<l-this.endTime&&i<10&&r<10)){if(this.directionLocked||this.options.freeScroll||(i>r+this.options.directionLockThreshold?this.directionLocked="h":r>=i+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)e.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);s=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)e.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);a=0}a=this.hasHorizontalScroll?a:0,s=this.hasVerticalScroll?s:0,t=this.x+a,n=this.y+s,(0<t||t<this.maxScrollX)&&(t=this.options.bounce?this.x+a/3:0<t?0:this.maxScrollX),(0<n||n<this.maxScrollY)&&(n=this.options.bounce?this.y+s/3:0<n?0:this.maxScrollY),this.directionX=0<a?-1:a<0?1:0,this.directionY=0<s?-1:s<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(t,n),300<l-this.startTime&&(this.startTime=l,this.startX=this.x,this.startY=this.y)}}},_end:function(e){if(this.enabled&&g.eventType[e.type]===this.initiated){this.options.preventDefault&&!g.preventDefaultException(e.target,this.options.preventDefaultException)&&e.preventDefault();e.changedTouches&&e.changedTouches[0];var t,n,i=g.getTime()-this.startTime,r=d.round(this.x),o=d.round(this.y),a=d.abs(r-this.startX),s=d.abs(o-this.startY),l=0,c="";if(this.isInTransition=0,this.initiated=0,this.endTime=g.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(r,o),!this.moved)return this.options.tap&&g.tap(e,this.options.tap),this.options.click&&g.click(e),void this._execEvent("scrollCancel");if(this._events.flick&&i<200&&a<100&&s<100)this._execEvent("flick");else{if(this.options.momentum&&i<300&&(t=this.hasHorizontalScroll?g.momentum(this.x,this.startX,i,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:r,duration:0},n=this.hasVerticalScroll?g.momentum(this.y,this.startY,i,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:o,duration:0},r=t.destination,o=n.destination,l=d.max(t.duration,n.duration),this.isInTransition=1),this.options.snap){var u=this._nearestSnap(r,o);this.currentPage=u,l=this.options.snapSpeed||d.max(d.max(d.min(d.abs(r-u.x),1e3),d.min(d.abs(o-u.y),1e3)),300),r=u.x,o=u.y,this.directionX=0,this.directionY=0,c=this.options.bounceEasing}if(r!=this.x||o!=this.y)return(0<r||r<this.maxScrollX||0<o||o<this.maxScrollY)&&(c=g.ease.quadratic),void this.scrollTo(r,o,l,c);this._execEvent("scrollEnd")}}}},_resize:function(){var e=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){e.refresh()},this.options.resizePolling)},resetPosition:function(e){var t=this.x,n=this.y;return e=e||0,!this.hasHorizontalScroll||0<this.x?t=0:this.x<this.maxScrollX&&(t=this.maxScrollX),!this.hasVerticalScroll||0<this.y?n=0:this.y<this.maxScrollY&&(n=this.maxScrollY),(t!=this.x||n!=this.y)&&(this.scrollTo(t,n,e,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=g.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(e,t){this._events[e]||(this._events[e]=[]),this._events[e].push(t)},off:function(e,t){if(this._events[e]){var n=this._events[e].indexOf(t);-1<n&&this._events[e].splice(n,1)}},_execEvent:function(e){if(this._events[e]){var t=0,n=this._events[e].length;if(n)for(;t<n;t++)this._events[e][t].apply(this,[].slice.call(arguments,1))}},scrollBy:function(e,t,n,i){e=this.x+e,t=this.y+t,n=n||0,this.scrollTo(e,t,n,i)},scrollTo:function(e,t,n,i){i=i||g.ease.circular,this.isInTransition=this.options.useTransition&&0<n;var r=this.options.useTransition&&i.style;!n||r?(r&&(this._transitionTimingFunction(i.style),this._transitionTime(n)),this._translate(e,t)):this._animate(e,t,n,i.fn)},scrollToElement:function(e,t,n,i,r){if(e=e.nodeType?e:this.scroller.querySelector(e)){var o=g.offset(e);o.left-=this.wrapperOffset.left,o.top-=this.wrapperOffset.top,!0===n&&(n=d.round(e.offsetWidth/2-this.wrapper.offsetWidth/2)),!0===i&&(i=d.round(e.offsetHeight/2-this.wrapper.offsetHeight/2)),o.left-=n||0,o.top-=i||0,o.left=0<o.left?0:o.left<this.maxScrollX?this.maxScrollX:o.left,o.top=0<o.top?0:o.top<this.maxScrollY?this.maxScrollY:o.top,t=null==t||"auto"===t?d.max(d.abs(this.x-o.left),d.abs(this.y-o.top)):t,this.scrollTo(o.left,o.top,t,r)}},_transitionTime:function(e){e=e||0;var t=g.style.transitionDuration;if(this.scrollerStyle[t]=e+"ms",!e&&g.isBadAndroid){this.scrollerStyle[t]="0.0001ms";var n=this;f(function(){"0.0001ms"===n.scrollerStyle[t]&&(n.scrollerStyle[t]="0s")})}if(this.indicators)for(var i=this.indicators.length;i--;)this.indicators[i].transitionTime(e)},_transitionTimingFunction:function(e){if(this.scrollerStyle[g.style.transitionTimingFunction]=e,this.indicators)for(var t=this.indicators.length;t--;)this.indicators[t].transitionTimingFunction(e)},_translate:function(e,t){if(this.options.useTransform?this.scrollerStyle[g.style.transform]="translate("+e+"px,"+t+"px)"+this.translateZ:(e=d.round(e),t=d.round(t),this.scrollerStyle.left=e+"px",this.scrollerStyle.top=t+"px"),this.x=e,this.y=t,this.indicators)for(var n=this.indicators.length;n--;)this.indicators[n].updatePosition()},_initEvents:function(e){var t=e?g.removeEvent:g.addEvent,n=this.options.bindToWrapper?this.wrapper:o;t(o,"orientationchange",this),t(o,"resize",this),this.options.click&&t(this.wrapper,"click",this,!0),this.options.disableMouse||(t(this.wrapper,"mousedown",this),t(n,"mousemove",this),t(n,"mousecancel",this),t(n,"mouseup",this)),g.hasPointer&&!this.options.disablePointer&&(t(this.wrapper,g.prefixPointerEvent("pointerdown"),this),t(n,g.prefixPointerEvent("pointermove"),this),t(n,g.prefixPointerEvent("pointercancel"),this),t(n,g.prefixPointerEvent("pointerup"),this)),g.hasTouch&&!this.options.disableTouch&&(t(this.wrapper,"touchstart",this),t(n,"touchmove",this),t(n,"touchcancel",this),t(n,"touchend",this)),t(this.scroller,"transitionend",this),t(this.scroller,"webkitTransitionEnd",this),t(this.scroller,"oTransitionEnd",this),t(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var e,t,n=o.getComputedStyle(this.scroller,null);return t=this.options.useTransform?(e=+((n=n[g.style.transform].split(")")[0].split(", "))[12]||n[4]),+(n[13]||n[5])):(e=+n.left.replace(/[^-\d.]/g,""),+n.top.replace(/[^-\d.]/g,"")),{x:e,y:t}},_initIndicators:function(){var e,t=this.options.interactiveScrollbars,n="string"!=typeof this.options.scrollbars,i=[],r=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(e={el:s("v",t,this.options.scrollbars),interactive:t,defaultScrollbars:!0,customStyle:n,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(e.el),i.push(e)),this.options.scrollX&&(e={el:s("h",t,this.options.scrollbars),interactive:t,defaultScrollbars:!0,customStyle:n,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(e.el),i.push(e))),this.options.indicators&&(i=i.concat(this.options.indicators));for(var o=i.length;o--;)this.indicators.push(new l(this,i[o]));function a(e){if(r.indicators)for(var t=r.indicators.length;t--;)e.call(r.indicators[t])}this.options.fadeScrollbars&&(this.on("scrollEnd",function(){a(function(){this.fade()})}),this.on("scrollCancel",function(){a(function(){this.fade()})}),this.on("scrollStart",function(){a(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){a(function(){this.fade(1,!0)})})),this.on("refresh",function(){a(function(){this.refresh()})}),this.on("destroy",function(){a(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){g.addEvent(this.wrapper,"wheel",this),g.addEvent(this.wrapper,"mousewheel",this),g.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){clearTimeout(this.wheelTimeout),this.wheelTimeout=null,g.removeEvent(this.wrapper,"wheel",this),g.removeEvent(this.wrapper,"mousewheel",this),g.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(e){if(this.enabled){e.preventDefault();var t,n,i,r,o=this;if(void 0===this.wheelTimeout&&o._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){o.options.snap||o._execEvent("scrollEnd"),o.wheelTimeout=void 0},400),"deltaX"in e)n=1===e.deltaMode?(t=-e.deltaX*this.options.mouseWheelSpeed,-e.deltaY*this.options.mouseWheelSpeed):(t=-e.deltaX,-e.deltaY);else if("wheelDeltaX"in e)t=e.wheelDeltaX/120*this.options.mouseWheelSpeed,n=e.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in e)t=n=e.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in e))return;t=n=-e.detail/3*this.options.mouseWheelSpeed}if(t*=this.options.invertWheelDirection,n*=this.options.invertWheelDirection,this.hasVerticalScroll||(t=n,n=0),this.options.snap)return i=this.currentPage.pageX,r=this.currentPage.pageY,0<t?i--:t<0&&i++,0<n?r--:n<0&&r++,void this.goToPage(i,r);i=this.x+d.round(this.hasHorizontalScroll?t:0),r=this.y+d.round(this.hasVerticalScroll?n:0),this.directionX=0<t?-1:t<0?1:0,this.directionY=0<n?-1:n<0?1:0,0<i?i=0:i<this.maxScrollX&&(i=this.maxScrollX),0<r?r=0:r<this.maxScrollY&&(r=this.maxScrollY),this.scrollTo(i,r,0)}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var e,t,n,i,r,o,a=0,s=0,l=0,c=this.options.snapStepX||this.wrapperWidth,u=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(!0===this.options.snap)for(n=d.round(c/2),i=d.round(u/2);l>-this.scrollerWidth;){for(this.pages[a]=[],r=e=0;r>-this.scrollerHeight;)this.pages[a][e]={x:d.max(l,this.maxScrollX),y:d.max(r,this.maxScrollY),width:c,height:u,cx:l-n,cy:r-i},r-=u,e++;l-=c,a++}else for(e=(o=this.options.snap).length,t=-1;a<e;a++)(0===a||o[a].offsetLeft<=o[a-1].offsetLeft)&&(s=0,t++),this.pages[s]||(this.pages[s]=[]),l=d.max(-o[a].offsetLeft,this.maxScrollX),r=d.max(-o[a].offsetTop,this.maxScrollY),n=l-d.round(o[a].offsetWidth/2),i=r-d.round(o[a].offsetHeight/2),this.pages[s][t]={x:l,y:r,width:o[a].offsetWidth,height:o[a].offsetHeight,cx:n,cy:i},l>this.maxScrollX&&s++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1==0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=d.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=d.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var e=this.options.snapSpeed||d.max(d.max(d.min(d.abs(this.x-this.startX),1e3),d.min(d.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,e)})},_nearestSnap:function(e,t){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var n=0,i=this.pages.length,r=0;if(d.abs(e-this.absStartX)<this.snapThresholdX&&d.abs(t-this.absStartY)<this.snapThresholdY)return this.currentPage;for(0<e?e=0:e<this.maxScrollX&&(e=this.maxScrollX),0<t?t=0:t<this.maxScrollY&&(t=this.maxScrollY);n<i;n++)if(e>=this.pages[n][0].cx){e=this.pages[n][0].x;break}for(i=this.pages[n].length;r<i;r++)if(t>=this.pages[0][r].cy){t=this.pages[0][r].y;break}return n==this.currentPage.pageX&&((n+=this.directionX)<0?n=0:n>=this.pages.length&&(n=this.pages.length-1),e=this.pages[n][0].x),r==this.currentPage.pageY&&((r+=this.directionY)<0?r=0:r>=this.pages[0].length&&(r=this.pages[0].length-1),t=this.pages[0][r].y),{x:e,y:t,pageX:n,pageY:r}},goToPage:function(e,t,n,i){i=i||this.options.bounceEasing,e>=this.pages.length?e=this.pages.length-1:e<0&&(e=0),t>=this.pages[e].length?t=this.pages[e].length-1:t<0&&(t=0);var r=this.pages[e][t].x,o=this.pages[e][t].y;n=void 0===n?this.options.snapSpeed||d.max(d.max(d.min(d.abs(r-this.x),1e3),d.min(d.abs(o-this.y),1e3)),300):n,this.currentPage={x:r,y:o,pageX:e,pageY:t},this.scrollTo(r,o,n,i)},next:function(e,t){var n=this.currentPage.pageX,i=this.currentPage.pageY;++n>=this.pages.length&&this.hasVerticalScroll&&(n=0,i++),this.goToPage(n,i,e,t)},prev:function(e,t){var n=this.currentPage.pageX,i=this.currentPage.pageY;--n<0&&this.hasVerticalScroll&&(n=0,i--),this.goToPage(n,i,e,t)},_initKeys:function(e){var t,n={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==typeof this.options.keyBindings)for(t in this.options.keyBindings)"string"==typeof this.options.keyBindings[t]&&(this.options.keyBindings[t]=this.options.keyBindings[t].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(t in n)this.options.keyBindings[t]=this.options.keyBindings[t]||n[t];g.addEvent(o,"keydown",this),this.on("destroy",function(){g.removeEvent(o,"keydown",this)})},_key:function(e){if(this.enabled){var t,n=this.options.snap,i=n?this.currentPage.pageX:this.x,r=n?this.currentPage.pageY:this.y,o=g.getTime(),a=this.keyTime||0;switch(this.options.useTransition&&this.isInTransition&&(t=this.getComputedPosition(),this._translate(d.round(t.x),d.round(t.y)),this.isInTransition=!1),this.keyAcceleration=o-a<200?d.min(this.keyAcceleration+.25,50):0,e.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?i+=n?1:this.wrapperWidth:r+=n?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?i-=n?1:this.wrapperWidth:r-=n?1:this.wrapperHeight;break;case this.options.keyBindings.end:i=n?this.pages.length-1:this.maxScrollX,r=n?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:r=i=0;break;case this.options.keyBindings.left:i+=n?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:r+=n?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:i-=n?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:r-=n?1:5+this.keyAcceleration>>0;break;default:return}n?this.goToPage(i,r):(0<i?(i=0,this.keyAcceleration=0):i<this.maxScrollX&&(i=this.maxScrollX,this.keyAcceleration=0),0<r?(r=0,this.keyAcceleration=0):r<this.maxScrollY&&(r=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(i,r,0),this.keyTime=o)}},_animate:function(o,a,s,l){var c=this,u=this.x,d=this.y,h=g.getTime(),p=h+s;this.isAnimating=!0,function e(){var t,n,i,r=g.getTime();if(p<=r)return c.isAnimating=!1,c._translate(o,a),void(c.resetPosition(c.options.bounceTime)||c._execEvent("scrollEnd"));i=l(r=(r-h)/s),t=(o-u)*i+u,n=(a-d)*i+d,c._translate(t,n),c.isAnimating&&f(e)}()},handleEvent:function(e){switch(e.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(e);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(e);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(e);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(e);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(e);break;case"keydown":this._key(e);break;case"click":this.enabled&&!e._constructed&&(e.preventDefault(),e.stopPropagation())}}},l.prototype={handleEvent:function(e){switch(e.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(e);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(e);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(e)}},destroy:function(){this.options.fadeScrollbars&&(clearTimeout(this.fadeTimeout),this.fadeTimeout=null),this.options.interactive&&(g.removeEvent(this.indicator,"touchstart",this),g.removeEvent(this.indicator,g.prefixPointerEvent("pointerdown"),this),g.removeEvent(this.indicator,"mousedown",this),g.removeEvent(o,"touchmove",this),g.removeEvent(o,g.prefixPointerEvent("pointermove"),this),g.removeEvent(o,"mousemove",this),g.removeEvent(o,"touchend",this),g.removeEvent(o,g.prefixPointerEvent("pointerup"),this),g.removeEvent(o,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(e){var t=e.touches?e.touches[0]:e;e.preventDefault(),e.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=t.pageX,this.lastPointY=t.pageY,this.startTime=g.getTime(),this.options.disableTouch||g.addEvent(o,"touchmove",this),this.options.disablePointer||g.addEvent(o,g.prefixPointerEvent("pointermove"),this),this.options.disableMouse||g.addEvent(o,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(e){var t,n,i,r,o=e.touches?e.touches[0]:e;g.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,t=o.pageX-this.lastPointX,this.lastPointX=o.pageX,n=o.pageY-this.lastPointY,this.lastPointY=o.pageY,i=this.x+t,r=this.y+n,this._pos(i,r),e.preventDefault(),e.stopPropagation()},_end:function(e){if(this.initiated){if(this.initiated=!1,e.preventDefault(),e.stopPropagation(),g.removeEvent(o,"touchmove",this),g.removeEvent(o,g.prefixPointerEvent("pointermove"),this),g.removeEvent(o,"mousemove",this),this.scroller.options.snap){var t=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),n=this.options.snapSpeed||d.max(d.max(d.min(d.abs(this.scroller.x-t.x),1e3),d.min(d.abs(this.scroller.y-t.y),1e3)),300);this.scroller.x==t.x&&this.scroller.y==t.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=t,this.scroller.scrollTo(t.x,t.y,n,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(e){e=e||0;var t=g.style.transitionDuration;if(this.indicatorStyle[t]=e+"ms",!e&&g.isBadAndroid){this.indicatorStyle[t]="0.0001ms";var n=this;f(function(){"0.0001ms"===n.indicatorStyle[t]&&(n.indicatorStyle[t]="0s")})}},transitionTimingFunction:function(e){this.indicatorStyle[g.style.transitionTimingFunction]=e},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(g.addClass(this.wrapper,"iScrollBothScrollbars"),g.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(g.removeClass(this.wrapper,"iScrollBothScrollbars"),g.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=d.max(d.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=8-this.indicatorWidth,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=d.max(d.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=8-this.indicatorHeight,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var e=this.options.listenX&&d.round(this.sizeRatioX*this.scroller.x)||0,t=this.options.listenY&&d.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(e<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=d.max(this.indicatorWidth+e,8),this.indicatorStyle.width=this.width+"px"),e=this.minBoundaryX):e>this.maxBoundaryX?e="scale"==this.options.shrink?(this.width=d.max(this.indicatorWidth-(e-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",this.maxPosX+this.indicatorWidth-this.width):this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),t<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=d.max(this.indicatorHeight+3*t,8),this.indicatorStyle.height=this.height+"px"),t=this.minBoundaryY):t>this.maxBoundaryY?t="scale"==this.options.shrink?(this.height=d.max(this.indicatorHeight-3*(t-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",this.maxPosY+this.indicatorHeight-this.height):this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=e,this.y=t,this.scroller.options.useTransform?this.indicatorStyle[g.style.transform]="translate("+e+"px,"+t+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=e+"px",this.indicatorStyle.top=t+"px")},_pos:function(e,t){e<0?e=0:e>this.maxPosX&&(e=this.maxPosX),t<0?t=0:t>this.maxPosY&&(t=this.maxPosY),e=this.options.listenX?d.round(e/this.sizeRatioX):this.scroller.x,t=this.options.listenY?d.round(t/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(e,t)},fade:function(e,t){if(!t||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var n=e?250:500,i=e?0:300;e=e?"1":"0",this.wrapperStyle[g.style.transitionDuration]=n+"ms",this.fadeTimeout=setTimeout(function(e){this.wrapperStyle.opacity=e,this.visible=+e}.bind(this,e),i)}}},e.utils=g,"undefined"!=typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd?define(function(){return e}):o.IScroll=e}(window,document,Math),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");!function(){"use strict";var e=jQuery.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||3<e[0])throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(),function(i){"use strict";i.fn.emulateTransitionEnd=function(e){var t=!1,n=this;i(this).one("bsTransitionEnd",function(){t=!0});return setTimeout(function(){t||i(n).trigger(i.support.transition.end)},e),this},i(function(){i.support.transition=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}(),i.support.transition&&(i.event.special.bsTransitionEnd={bindType:i.support.transition.end,delegateType:i.support.transition.end,handle:function(e){if(i(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(o){"use strict";function a(e){o(e).on("click",t,this.close)}var t='[data-dismiss="alert"]';a.VERSION="3.3.7",a.TRANSITION_DURATION=150,a.prototype.close=function(e){function t(){r.detach().trigger("closed.bs.alert").remove()}var n=o(this),i=n.attr("data-target");i||(i=(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,""));var r=o("#"===i?[]:i);e&&e.preventDefault(),r.length||(r=n.closest(".alert")),r.trigger(e=o.Event("close.bs.alert")),e.isDefaultPrevented()||(r.removeClass("in"),o.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",t).emulateTransitionEnd(a.TRANSITION_DURATION):t())};var e=o.fn.alert;o.fn.alert=function(n){return this.each(function(){var e=o(this),t=e.data("bs.alert");t||e.data("bs.alert",t=new a(this)),"string"==typeof n&&t[n].call(e)})},o.fn.alert.Constructor=a,o.fn.alert.noConflict=function(){return o.fn.alert=e,this},o(document).on("click.bs.alert.data-api",t,a.prototype.close)}(jQuery),function(o){"use strict";function n(i){return this.each(function(){var e=o(this),t=e.data("bs.button"),n="object"==typeof i&&i;t||e.data("bs.button",t=new r(this,n)),"toggle"==i?t.toggle():i&&t.setState(i)})}var r=function(e,t){this.$element=o(e),this.options=o.extend({},r.DEFAULTS,t),this.isLoading=!1};r.VERSION="3.3.7",r.DEFAULTS={loadingText:"loading..."},r.prototype.setState=function(e){var t="disabled",n=this.$element,i=n.is("input")?"val":"html",r=n.data();e+="Text",null==r.resetText&&n.data("resetText",n[i]()),setTimeout(o.proxy(function(){n[i](null==r[e]?this.options[e]:r[e]),"loadingText"==e?(this.isLoading=!0,n.addClass(t).attr(t,t).prop(t,!0)):this.isLoading&&(this.isLoading=!1,n.removeClass(t).removeAttr(t).prop(t,!1))},this),0)},r.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(e=!1),t.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),e&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var e=o.fn.button;o.fn.button=n,o.fn.button.Constructor=r,o.fn.button.noConflict=function(){return o.fn.button=e,this},o(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(e){var t=o(e.target).closest(".btn");n.call(t,"toggle"),o(e.target).is('input[type="radio"], input[type="checkbox"]')||(e.preventDefault(),t.is("input,button")?t.trigger("focus"):t.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){o(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),function(d){"use strict";function a(r){return this.each(function(){var e=d(this),t=e.data("bs.carousel"),n=d.extend({},h.DEFAULTS,e.data(),"object"==typeof r&&r),i="string"==typeof r?r:n.slide;t||e.data("bs.carousel",t=new h(this,n)),"number"==typeof r?t.to(r):i?t[i]():n.interval&&t.pause().cycle()})}function h(e,t){this.$element=d(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=t,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",d.proxy(this.keydown,this)),"hover"!=this.options.pause||"ontouchstart"in document.documentElement||this.$element.on("mouseenter.bs.carousel",d.proxy(this.pause,this)).on("mouseleave.bs.carousel",d.proxy(this.cycle,this))}h.VERSION="3.3.7",h.TRANSITION_DURATION=600,h.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},h.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},h.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(d.proxy(this.next,this),this.options.interval)),this},h.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},h.prototype.getItemForDirection=function(e,t){var n=this.getItemIndex(t);if(("prev"==e&&0===n||"next"==e&&n==this.$items.length-1)&&!this.options.wrap)return t;var i=(n+("prev"==e?-1:1))%this.$items.length;return this.$items.eq(i)},h.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(n<e?"next":"prev",this.$items.eq(e))},h.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&d.support.transition&&(this.$element.trigger(d.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},h.prototype.next=function(){if(!this.sliding)return this.slide("next")},h.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},h.prototype.slide=function(e,t){var n=this.$element.find(".item.active"),i=t||this.getItemForDirection(e,n),r=this.interval,o="next"==e?"left":"right",a=this;if(i.hasClass("active"))return this.sliding=!1;var s=i[0],l=d.Event("slide.bs.carousel",{relatedTarget:s,direction:o});if(this.$element.trigger(l),!l.isDefaultPrevented()){if(this.sliding=!0,r&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var c=d(this.$indicators.children()[this.getItemIndex(i)]);c&&c.addClass("active")}var u=d.Event("slid.bs.carousel",{relatedTarget:s,direction:o});return d.support.transition&&this.$element.hasClass("slide")?(i.addClass(e),i[0].offsetWidth,n.addClass(o),i.addClass(o),n.one("bsTransitionEnd",function(){i.removeClass([e,o].join(" ")).addClass("active"),n.removeClass(["active",o].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger(u)},0)}).emulateTransitionEnd(h.TRANSITION_DURATION)):(n.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger(u)),r&&this.cycle(),this}};var e=d.fn.carousel;d.fn.carousel=a,d.fn.carousel.Constructor=h,d.fn.carousel.noConflict=function(){return d.fn.carousel=e,this};function t(e){var t,n=d(this),i=d(n.attr("data-target")||(t=n.attr("href"))&&t.replace(/.*(?=#[^\s]+$)/,""));if(i.hasClass("carousel")){var r=d.extend({},i.data(),n.data()),o=n.attr("data-slide-to");o&&(r.interval=!1),a.call(i,r),o&&i.data("bs.carousel").to(o),e.preventDefault()}}d(document).on("click.bs.carousel.data-api","[data-slide]",t).on("click.bs.carousel.data-api","[data-slide-to]",t),d(window).on("load",function(){d('[data-ride="carousel"]').each(function(){var e=d(this);a.call(e,e.data())})})}(jQuery),function(a){"use strict";function r(e){var t,n=e.attr("data-target")||(t=e.attr("href"))&&t.replace(/.*(?=#[^\s]+$)/,"");return a(n)}function s(i){return this.each(function(){var e=a(this),t=e.data("bs.collapse"),n=a.extend({},l.DEFAULTS,e.data(),"object"==typeof i&&i);!t&&n.toggle&&/show|hide/.test(i)&&(n.toggle=!1),t||e.data("bs.collapse",t=new l(this,n)),"string"==typeof i&&t[i]()})}var l=function(e,t){this.$element=a(e),this.options=a.extend({},l.DEFAULTS,t),this.$trigger=a('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};l.VERSION="3.3.7",l.TRANSITION_DURATION=350,l.DEFAULTS={toggle:!0},l.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},l.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,t=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(t&&t.length&&((e=t.data("bs.collapse"))&&e.transitioning))){var n=a.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){t&&t.length&&(s.call(t,"hide"),e||t.data("bs.collapse",null));var i=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[i](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[i](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return r.call(this);var o=a.camelCase(["scroll",i].join("-"));this.$element.one("bsTransitionEnd",a.proxy(r,this)).emulateTransitionEnd(l.TRANSITION_DURATION)[i](this.$element[0][o])}}}},l.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=a.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var t=this.dimension();this.$element[t](this.$element[t]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[t](0).one("bsTransitionEnd",a.proxy(n,this)).emulateTransitionEnd(l.TRANSITION_DURATION):n.call(this)}}},l.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},l.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(e,t){var n=a(t);this.addAriaAndCollapsedClass(r(n),n)},this)).end()},l.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var e=a.fn.collapse;a.fn.collapse=s,a.fn.collapse.Constructor=l,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(e){var t=a(this);t.attr("data-target")||e.preventDefault();var n=r(t),i=n.data("bs.collapse")?"toggle":t.data();s.call(n,i)})}(jQuery),function(a){"use strict";function s(e){var t=e.attr("data-target");t||(t=(t=e.attr("href"))&&/#[A-Za-z]/.test(t)&&t.replace(/.*(?=#[^\s]*$)/,""));var n=t&&a(t);return n&&n.length?n:e.parent()}function o(i){i&&3===i.which||(a(".dropdown-backdrop").remove(),a(l).each(function(){var e=a(this),t=s(e),n={relatedTarget:this};t.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&a.contains(t[0],i.target)||(t.trigger(i=a.Event("hide.bs.dropdown",n)),i.isDefaultPrevented()||(e.attr("aria-expanded","false"),t.removeClass("open").trigger(a.Event("hidden.bs.dropdown",n)))))}))}function i(e){a(e).on("click.bs.dropdown",this.toggle)}var l='[data-toggle="dropdown"]';i.VERSION="3.3.7",i.prototype.toggle=function(e){var t=a(this);if(!t.is(".disabled, :disabled")){var n=s(t),i=n.hasClass("open");if(o(),!i){"ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length&&a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click",o);var r={relatedTarget:this};if(n.trigger(e=a.Event("show.bs.dropdown",r)),e.isDefaultPrevented())return;t.trigger("focus").attr("aria-expanded","true"),n.toggleClass("open").trigger(a.Event("shown.bs.dropdown",r))}return!1}},i.prototype.keydown=function(e){if(/(38|40|27|32)/.test(e.which)&&!/input|textarea/i.test(e.target.tagName)){var t=a(this);if(e.preventDefault(),e.stopPropagation(),!t.is(".disabled, :disabled")){var n=s(t),i=n.hasClass("open");if(!i&&27!=e.which||i&&27==e.which)return 27==e.which&&n.find(l).trigger("focus"),t.trigger("click");var r=n.find(".dropdown-menu li:not(.disabled):visible a");if(r.length){var o=r.index(e.target);38==e.which&&0<o&&o--,40==e.which&&o<r.length-1&&o++,~o||(o=0),r.eq(o).trigger("focus")}}}};var e=a.fn.dropdown;a.fn.dropdown=function(n){return this.each(function(){var e=a(this),t=e.data("bs.dropdown");t||e.data("bs.dropdown",t=new i(this)),"string"==typeof n&&t[n].call(e)})},a.fn.dropdown.Constructor=i,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=e,this},a(document).on("click.bs.dropdown.data-api",o).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",l,i.prototype.toggle).on("keydown.bs.dropdown.data-api",l,i.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",i.prototype.keydown)}(jQuery),function(o){"use strict";function a(i,r){return this.each(function(){var e=o(this),t=e.data("bs.modal"),n=o.extend({},s.DEFAULTS,e.data(),"object"==typeof i&&i);t||e.data("bs.modal",t=new s(this,n)),"string"==typeof i?t[i](r):n.show&&t.show(r)})}function s(e,t){this.options=t,this.$body=o(document.body),this.$element=o(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,o.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))}s.VERSION="3.3.7",s.TRANSITION_DURATION=300,s.BACKDROP_TRANSITION_DURATION=150,s.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},s.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},s.prototype.show=function(n){var i=this,e=o.Event("show.bs.modal",{relatedTarget:n});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',o.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(e){o(e.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var e=o.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),e&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var t=o.Event("shown.bs.modal",{relatedTarget:n});e?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(t)}).emulateTransitionEnd(s.TRANSITION_DURATION):i.$element.trigger("focus").trigger(t)}))},s.prototype.hide=function(e){e&&e.preventDefault(),e=o.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),o(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),o.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",o.proxy(this.hideModal,this)).emulateTransitionEnd(s.TRANSITION_DURATION):this.hideModal())},s.prototype.enforceFocus=function(){o(document).off("focusin.bs.modal").on("focusin.bs.modal",o.proxy(function(e){document===e.target||this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},s.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",o.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},s.prototype.resize=function(){this.isShown?o(window).on("resize.bs.modal",o.proxy(this.handleUpdate,this)):o(window).off("resize.bs.modal")},s.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},s.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},s.prototype.backdrop=function(e){var t=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=o.support.transition&&n;if(this.$backdrop=o(document.createElement("div")).addClass("modal-backdrop "+n).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",o.proxy(function(e){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;i?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(s.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var r=function(){t.removeBackdrop(),e&&e()};o.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",r).emulateTransitionEnd(s.BACKDROP_TRANSITION_DURATION):r()}else e&&e()},s.prototype.handleUpdate=function(){this.adjustDialog()},s.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},s.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},s.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},s.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},s.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},s.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var e=o.fn.modal;o.fn.modal=a,o.fn.modal.Constructor=s,o.fn.modal.noConflict=function(){return o.fn.modal=e,this},o(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var t=o(this),n=t.attr("href"),i=o(t.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),r=i.data("bs.modal")?"toggle":o.extend({remote:!/#/.test(n)&&n},i.data(),t.data());t.is("a")&&e.preventDefault(),i.one("show.bs.modal",function(e){e.isDefaultPrevented()||i.one("hidden.bs.modal",function(){t.is(":visible")&&t.trigger("focus")})}),a.call(i,r,this)})}(jQuery),function(g){"use strict";function m(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)}m.VERSION="3.3.7",m.TRANSITION_DURATION=150,m.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},m.prototype.init=function(e,t,n){if(this.enabled=!0,this.type=e,this.$element=g(t),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&g(g.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),r=i.length;r--;){var o=i[r];if("click"==o)this.$element.on("click."+this.type,this.options.selector,g.proxy(this.toggle,this));else if("manual"!=o){var a="hover"==o?"mouseenter":"focusin",s="hover"==o?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,g.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,g.proxy(this.leave,this))}}this.options.selector?this._options=g.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},m.prototype.getDefaults=function(){return m.DEFAULTS},m.prototype.getOptions=function(e){return(e=g.extend({},this.getDefaults(),this.$element.data(),e)).delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},m.prototype.getDelegateOptions=function(){var n={},i=this.getDefaults();return this._options&&g.each(this._options,function(e,t){i[e]!=t&&(n[e]=t)}),n},m.prototype.enter=function(e){var t=e instanceof this.constructor?e:g(e.currentTarget).data("bs."+this.type);return t||(t=new this.constructor(e.currentTarget,this.getDelegateOptions()),g(e.currentTarget).data("bs."+this.type,t)),e instanceof g.Event&&(t.inState["focusin"==e.type?"focus":"hover"]=!0),t.tip().hasClass("in")||"in"==t.hoverState?void(t.hoverState="in"):(clearTimeout(t.timeout),t.hoverState="in",t.options.delay&&t.options.delay.show?void(t.timeout=setTimeout(function(){"in"==t.hoverState&&t.show()},t.options.delay.show)):t.show())},m.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},m.prototype.leave=function(e){var t=e instanceof this.constructor?e:g(e.currentTarget).data("bs."+this.type);if(t||(t=new this.constructor(e.currentTarget,this.getDelegateOptions()),g(e.currentTarget).data("bs."+this.type,t)),e instanceof g.Event&&(t.inState["focusout"==e.type?"focus":"hover"]=!1),!t.isInStateTrue())return clearTimeout(t.timeout),t.hoverState="out",t.options.delay&&t.options.delay.hide?void(t.timeout=setTimeout(function(){"out"==t.hoverState&&t.hide()},t.options.delay.hide)):t.hide()},m.prototype.show=function(){var e=g.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var t=g.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!t)return;var n=this,i=this.tip(),r=this.getUID(this.type);this.setContent(),i.attr("id",r),this.$element.attr("aria-describedby",r),this.options.animation&&i.addClass("fade");var o="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,a=/\s?auto?\s?/i,s=a.test(o);s&&(o=o.replace(a,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(o).data("bs."+this.type,this),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var l=this.getPosition(),c=i[0].offsetWidth,u=i[0].offsetHeight;if(s){var d=o,h=this.getPosition(this.$viewport);o="bottom"==o&&l.bottom+u>h.bottom?"top":"top"==o&&l.top-u<h.top?"bottom":"right"==o&&l.right+c>h.width?"left":"left"==o&&l.left-c<h.left?"right":o,i.removeClass(d).addClass(o)}var p=this.getCalculatedOffset(o,l,c,u);this.applyPlacement(p,o);var f=function(){var e=n.hoverState;n.$element.trigger("shown.bs."+n.type),n.hoverState=null,"out"==e&&n.leave(n)};g.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",f).emulateTransitionEnd(m.TRANSITION_DURATION):f()}},m.prototype.applyPlacement=function(e,t){var n=this.tip(),i=n[0].offsetWidth,r=n[0].offsetHeight,o=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(a)&&(a=0),e.top+=o,e.left+=a,g.offset.setOffset(n[0],g.extend({using:function(e){n.css({top:Math.round(e.top),left:Math.round(e.left)})}},e),0),n.addClass("in");var s=n[0].offsetWidth,l=n[0].offsetHeight;"top"==t&&l!=r&&(e.top=e.top+r-l);var c=this.getViewportAdjustedDelta(t,e,s,l);c.left?e.left+=c.left:e.top+=c.top;var u=/top|bottom/.test(t),d=u?2*c.left-i+s:2*c.top-r+l,h=u?"offsetWidth":"offsetHeight";n.offset(e),this.replaceArrow(d,n[0][h],u)},m.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},m.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},m.prototype.hide=function(e){function t(){"in"!=n.hoverState&&i.detach(),n.$element&&n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),e&&e()}var n=this,i=g(this.$tip),r=g.Event("hide.bs."+this.type);if(this.$element.trigger(r),!r.isDefaultPrevented())return i.removeClass("in"),g.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",t).emulateTransitionEnd(m.TRANSITION_DURATION):t(),this.hoverState=null,this},m.prototype.fixTitle=function(){var e=this.$element;!e.attr("title")&&"string"==typeof e.attr("data-original-title")||e.attr("data-original-title",e.attr("title")||"").attr("title","")},m.prototype.hasContent=function(){return this.getTitle()},m.prototype.getPosition=function(e){var t=(e=e||this.$element)[0],n="BODY"==t.tagName,i=t.getBoundingClientRect();null==i.width&&(i=g.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var r=window.SVGElement&&t instanceof window.SVGElement,o=n?{top:0,left:0}:r?null:e.offset(),a={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},s=n?{width:g(window).width(),height:g(window).height()}:null;return g.extend({},i,a,s,o)},m.prototype.getCalculatedOffset=function(e,t,n,i){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-i,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-i/2,left:t.left-n}:{top:t.top+t.height/2-i/2,left:t.left+t.width}},m.prototype.getViewportAdjustedDelta=function(e,t,n,i){var r={top:0,left:0};if(!this.$viewport)return r;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-o-a.scroll,l=t.top+o-a.scroll+i;s<a.top?r.top=a.top-s:l>a.top+a.height&&(r.top=a.top+a.height-l)}else{var c=t.left-o,u=t.left+o+n;c<a.left?r.left=a.left-c:u>a.right&&(r.left=a.left+a.width-u)}return r},m.prototype.getTitle=function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},m.prototype.getUID=function(e){for(;e+=~~(1e6*Math.random()),document.getElementById(e););return e},m.prototype.tip=function(){if(!this.$tip&&(this.$tip=g(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},m.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},m.prototype.enable=function(){this.enabled=!0},m.prototype.disable=function(){this.enabled=!1},m.prototype.toggleEnabled=function(){this.enabled=!this.enabled},m.prototype.toggle=function(e){var t=this;e&&((t=g(e.currentTarget).data("bs."+this.type))||(t=new this.constructor(e.currentTarget,this.getDelegateOptions()),g(e.currentTarget).data("bs."+this.type,t))),e?(t.inState.click=!t.inState.click,t.isInStateTrue()?t.enter(t):t.leave(t)):t.tip().hasClass("in")?t.leave(t):t.enter(t)},m.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null,e.$element=null})};var e=g.fn.tooltip;g.fn.tooltip=function(i){return this.each(function(){var e=g(this),t=e.data("bs.tooltip"),n="object"==typeof i&&i;!t&&/destroy|hide/.test(i)||(t||e.data("bs.tooltip",t=new m(this,n)),"string"==typeof i&&t[i]())})},g.fn.tooltip.Constructor=m,g.fn.tooltip.noConflict=function(){return g.fn.tooltip=e,this}}(jQuery),function(r){"use strict";function o(e,t){this.init("popover",e,t)}if(!r.fn.tooltip)throw new Error("Popover requires tooltip.js");o.VERSION="3.3.7",o.DEFAULTS=r.extend({},r.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),((o.prototype=r.extend({},r.fn.tooltip.Constructor.prototype)).constructor=o).prototype.getDefaults=function(){return o.DEFAULTS},o.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},o.prototype.hasContent=function(){return this.getTitle()||this.getContent()},o.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},o.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var e=r.fn.popover;r.fn.popover=function(i){return this.each(function(){var e=r(this),t=e.data("bs.popover"),n="object"==typeof i&&i;!t&&/destroy|hide/.test(i)||(t||e.data("bs.popover",t=new o(this,n)),"string"==typeof i&&t[i]())})},r.fn.popover.Constructor=o,r.fn.popover.noConflict=function(){return r.fn.popover=e,this}}(jQuery),function(o){"use strict";function r(e,t){this.$body=o(document.body),this.$scrollElement=o(o(e).is(document.body)?window:e),this.options=o.extend({},r.DEFAULTS,t),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",o.proxy(this.process,this)),this.refresh(),this.process()}function t(i){return this.each(function(){var e=o(this),t=e.data("bs.scrollspy"),n="object"==typeof i&&i;t||e.data("bs.scrollspy",t=new r(this,n)),"string"==typeof i&&t[i]()})}r.VERSION="3.3.7",r.DEFAULTS={offset:10},r.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},r.prototype.refresh=function(){var e=this,i="offset",r=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),o.isWindow(this.$scrollElement[0])||(i="position",r=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=o(this),t=e.data("target")||e.attr("href"),n=/^#./.test(t)&&o(t);return n&&n.length&&n.is(":visible")&&[[n[i]().top+r,t]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},r.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),i<=t)return a!=(e=o[o.length-1])&&this.activate(e);if(a&&t<r[0])return this.activeTarget=null,this.clear();for(e=r.length;e--;)a!=o[e]&&t>=r[e]&&(void 0===r[e+1]||t<r[e+1])&&this.activate(o[e])},r.prototype.activate=function(e){this.activeTarget=e,this.clear();var t=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=o(t).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},r.prototype.clear=function(){o(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var e=o.fn.scrollspy;o.fn.scrollspy=t,o.fn.scrollspy.Constructor=r,o.fn.scrollspy.noConflict=function(){return o.fn.scrollspy=e,this},o(window).on("load.bs.scrollspy.data-api",function(){o('[data-spy="scroll"]').each(function(){var e=o(this);t.call(e,e.data())})})}(jQuery),function(s){"use strict";function t(n){return this.each(function(){var e=s(this),t=e.data("bs.tab");t||e.data("bs.tab",t=new a(this)),"string"==typeof n&&t[n]()})}function a(e){this.element=s(e)}a.VERSION="3.3.7",a.TRANSITION_DURATION=150,a.prototype.show=function(){var e=this.element,t=e.closest("ul:not(.dropdown-menu)"),n=e.data("target");if(n||(n=(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var i=t.find(".active:last a"),r=s.Event("hide.bs.tab",{relatedTarget:e[0]}),o=s.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(r),e.trigger(o),!o.isDefaultPrevented()&&!r.isDefaultPrevented()){var a=s(n);this.activate(e.closest("li"),t),this.activate(a,a.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},a.prototype.activate=function(e,t,n){function i(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),o?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),n&&n()}var r=t.find("> .active"),o=n&&s.support.transition&&(r.length&&r.hasClass("fade")||!!t.find("> .fade").length);r.length&&o?r.one("bsTransitionEnd",i).emulateTransitionEnd(a.TRANSITION_DURATION):i(),r.removeClass("in")};var e=s.fn.tab;s.fn.tab=t,s.fn.tab.Constructor=a,s.fn.tab.noConflict=function(){return s.fn.tab=e,this};function n(e){e.preventDefault(),t.call(s(this),"show")}s(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',n).on("click.bs.tab.data-api",'[data-toggle="pill"]',n)}(jQuery),function(l){"use strict";function n(i){return this.each(function(){var e=l(this),t=e.data("bs.affix"),n="object"==typeof i&&i;t||e.data("bs.affix",t=new c(this,n)),"string"==typeof i&&t[i]()})}var c=function(e,t){this.options=l.extend({},c.DEFAULTS,t),this.$target=l(this.options.target).on("scroll.bs.affix.data-api",l.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",l.proxy(this.checkPositionWithEventLoop,this)),this.$element=l(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.7",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(e,t,n,i){var r=this.$target.scrollTop(),o=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return r<n&&"top";if("bottom"==this.affixed)return null!=n?!(r+this.unpin<=o.top)&&"bottom":!(r+a<=e-i)&&"bottom";var s=null==this.affixed,l=s?r:o.top;return null!=n&&r<=n?"top":null!=i&&e-i<=l+(s?a:t)&&"bottom"},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},c.prototype.checkPositionWithEventLoop=function(){setTimeout(l.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),t=this.options.offset,n=t.top,i=t.bottom,r=Math.max(l(document).height(),l(document.body).height());"object"!=typeof t&&(i=n=t),"function"==typeof n&&(n=t.top(this.$element)),"function"==typeof i&&(i=t.bottom(this.$element));var o=this.getState(r,e,n,i);if(this.affixed!=o){null!=this.unpin&&this.$element.css("top","");var a="affix"+(o?"-"+o:""),s=l.Event(a+".bs.affix");if(this.$element.trigger(s),s.isDefaultPrevented())return;this.affixed=o,this.unpin="bottom"==o?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(a).trigger(a.replace("affix","affixed")+".bs.affix")}"bottom"==o&&this.$element.offset({top:r-e-i})}};var e=l.fn.affix;l.fn.affix=n,l.fn.affix.Constructor=c,l.fn.affix.noConflict=function(){return l.fn.affix=e,this},l(window).on("load",function(){l('[data-spy="affix"]').each(function(){var e=l(this),t=e.data();t.offset=t.offset||{},null!=t.offsetBottom&&(t.offset.bottom=t.offsetBottom),null!=t.offsetTop&&(t.offset.top=t.offsetTop),n.call(e,t)})})}(jQuery),function(d){"use strict";function h(e,t){this.$element=d(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=t,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",d.proxy(this.keydown,this)),"hover"!=this.options.pause||"ontouchstart"in document.documentElement||this.$element.on("mouseenter.bs.carousel",d.proxy(this.pause,this)).on("mouseleave.bs.carousel",d.proxy(this.cycle,this))}function a(r){return this.each(function(){var e=d(this),t=e.data("bs.carousel"),n=d.extend({},h.DEFAULTS,e.data(),"object"==typeof r&&r),i="string"==typeof r?r:n.slide;t||e.data("bs.carousel",t=new h(this,n)),"number"==typeof r?t.to(r):i?t[i]():n.interval&&t.pause().cycle()})}h.VERSION="3.3.7",h.TRANSITION_DURATION=600,h.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},h.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},h.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(d.proxy(this.next,this),this.options.interval)),this},h.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},h.prototype.getItemForDirection=function(e,t){var n=this.getItemIndex(t);if(("prev"==e&&0===n||"next"==e&&n==this.$items.length-1)&&!this.options.wrap)return t;var i=(n+("prev"==e?-1:1))%this.$items.length;return this.$items.eq(i)},h.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(n<e?"next":"prev",this.$items.eq(e))},h.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&d.support.transition&&(this.$element.trigger(d.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},h.prototype.next=function(){if(!this.sliding)return this.slide("next")},h.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},h.prototype.slide=function(e,t){var n=this.$element.find(".item.active"),i=t||this.getItemForDirection(e,n),r=this.interval,o="next"==e?"left":"right",a=this;if(i.hasClass("active"))return this.sliding=!1;var s=i[0],l=d.Event("slide.bs.carousel",{relatedTarget:s,direction:o});if(this.$element.trigger(l),!l.isDefaultPrevented()){if(this.sliding=!0,r&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var c=d(this.$indicators.children()[this.getItemIndex(i)]);c&&c.addClass("active")}var u=d.Event("slid.bs.carousel",{relatedTarget:s,direction:o});return d.support.transition&&this.$element.hasClass("slide")?(i.addClass(e),i[0].offsetWidth,n.addClass(o),i.addClass(o),n.one("bsTransitionEnd",function(){i.removeClass([e,o].join(" ")).addClass("active"),n.removeClass(["active",o].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger(u)},0)}).emulateTransitionEnd(h.TRANSITION_DURATION)):(n.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger(u)),r&&this.cycle(),this}};var e=d.fn.carousel;d.fn.carousel=a,d.fn.carousel.Constructor=h,d.fn.carousel.noConflict=function(){return d.fn.carousel=e,this};function t(e){var t,n=d(this),i=d(n.attr("data-target")||(t=n.attr("href"))&&t.replace(/.*(?=#[^\s]+$)/,""));if(i.hasClass("carousel")){var r=d.extend({},i.data(),n.data()),o=n.attr("data-slide-to");o&&(r.interval=!1),a.call(i,r),o&&i.data("bs.carousel").to(o),e.preventDefault()}}d(document).on("click.bs.carousel.data-api","[data-slide]",t).on("click.bs.carousel.data-api","[data-slide-to]",t),d(window).on("load",function(){d('[data-ride="carousel"]').each(function(){var e=d(this);a.call(e,e.data())})})}(jQuery),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-popup.html","template/tooltip/tooltip-popup.html","template/tooltip/tooltip-template-popup.html","template/popover/popover-html.html","template/popover/popover-template.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$injector",function(o,e){var a=e.has("$animateCss")?e.get("$animateCss"):null;return{link:function(e,t,n){function i(){t.removeClass("collapsing").addClass("collapse").css({height:"auto"})}function r(){t.css({height:"0"}),t.removeClass("collapsing").addClass("collapse")}e.$watch(n.uibCollapse,function(e){e?t.hasClass("collapse")||t.hasClass("in")?(t.css({height:t[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),a?a(t,{removeClass:"in",to:{height:"0"}}).start().finally(r):o.removeClass(t,"in",{to:{height:"0"}}).then(r)):r():(t.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),a?a(t,{addClass:"in",easing:"ease",to:{height:t[0].scrollHeight+"px"}}).start().finally(i):o.addClass(t,"in",{to:{height:t[0].scrollHeight+"px"}}).then(i))})}}}]),angular.module("ui.bootstrap.collapse").value("$collapseSuppressWarning",!1).directive("collapse",["$animate","$injector","$log","$collapseSuppressWarning",function(o,e,a,s){var l=e.has("$animateCss")?e.get("$animateCss"):null;return{link:function(e,t,n){function i(){t.removeClass("collapsing").addClass("collapse in").css({height:"auto"})}function r(){t.css({height:"0"}),t.removeClass("collapsing").addClass("collapse")}s||a.warn("collapse is now deprecated. Use uib-collapse instead."),e.$watch(n.collapse,function(e){e?t.hasClass("collapse")||t.hasClass("in")?(t.css({height:t[0].scrollHeight+"px"}).removeClass("collapse in").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),l?l(t,{to:{height:"0"}}).start().done(r):o.animate(t,{},{height:"0"}).then(r)):r():(t.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),l?l(t,{easing:"ease",to:{height:t[0].scrollHeight+"px"}}).start().done(i):o.animate(t,{},{height:t[0].scrollHeight+"px"}).then(i))})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(e,n,i){this.groups=[],this.closeOthers=function(t){(angular.isDefined(n.closeOthers)?e.$eval(n.closeOthers):i.closeOthers)&&angular.forEach(this.groups,function(e){e!==t&&(e.isOpen=!1)})},this.addGroup=function(t){var n=this;this.groups.push(t),t.$on("$destroy",function(e){n.removeGroup(t)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(t,n,e,i){i.addGroup(t),t.openClass=e.openClass||"panel-open",t.panelClass=e.panelClass,t.$watch("isOpen",function(e){n.toggleClass(t.openClass,!!e),e&&i.closeOthers(t)}),t.toggleOpen=function(e){t.isDisabled||e&&32!==e.which||(t.isOpen=!t.isOpen)}}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(e,t,n,i,r){i.setHeading(r(e,angular.noop))}}}).directive("uibAccordionTransclude",function(){return{require:["?^uibAccordionGroup","?^accordionGroup"],link:function(e,t,n,i){i=i[0]?i[0]:i[1],e.$watch(function(){return i[n.uibAccordionTransclude]},function(e){e&&(t.find("span").html(""),t.find("span").append(e))})}}}),angular.module("ui.bootstrap.accordion").value("$accordionSuppressWarning",!1).controller("AccordionController",["$scope","$attrs","$controller","$log","$accordionSuppressWarning",function(e,t,n,i,r){r||i.warn("AccordionController is now deprecated. Use UibAccordionController instead."),angular.extend(this,n("UibAccordionController",{$scope:e,$attrs:t}))}]).directive("accordion",["$log","$accordionSuppressWarning",function(e,t){return{restrict:"EA",controller:"AccordionController",controllerAs:"accordion",transclude:!0,replace:!1,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion.html"},link:function(){t||e.warn("accordion is now deprecated. Use uib-accordion instead.")}}}]).directive("accordionGroup",["$log","$accordionSuppressWarning",function(r,o){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(t,n,e,i){o||r.warn("accordion-group is now deprecated. Use uib-accordion-group instead."),i.addGroup(t),t.openClass=e.openClass||"panel-open",t.panelClass=e.panelClass,t.$watch("isOpen",function(e){n.toggleClass(t.openClass,!!e),e&&i.closeOthers(t)}),t.toggleOpen=function(e){t.isDisabled||e&&32!==e.which||(t.isOpen=!t.isOpen)}}}}]).directive("accordionHeading",["$log","$accordionSuppressWarning",function(o,a){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(e,t,n,i,r){a||o.warn("accordion-heading is now deprecated. Use uib-accordion-heading instead."),i.setHeading(r(e,angular.noop))}}}]).directive("accordionTransclude",["$log","$accordionSuppressWarning",function(r,o){return{require:"^accordionGroup",link:function(e,t,n,i){o||r.warn("accordion-transclude is now deprecated. Use uib-accordion-transclude instead."),e.$watch(function(){return i[n.accordionTransclude]},function(e){e&&(t.find("span").html(""),t.find("span").append(e))})}}}]),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$attrs","$interpolate","$timeout",function(e,t,n,i){e.closeable=!!t.close;var r=angular.isDefined(t.dismissOnTimeout)?n(t.dismissOnTimeout)(e.$parent):null;r&&i(function(){e.close()},parseInt(r,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",templateUrl:function(e,t){return t.templateUrl||"template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}),angular.module("ui.bootstrap.alert").value("$alertSuppressWarning",!1).controller("AlertController",["$scope","$attrs","$controller","$log","$alertSuppressWarning",function(e,t,n,i,r){r||i.warn("AlertController is now deprecated. Use UibAlertController instead."),angular.extend(this,n("UibAlertController",{$scope:e,$attrs:t}))}]).directive("alert",["$log","$alertSuppressWarning",function(e,t){return{controller:"AlertController",controllerAs:"alert",templateUrl:function(e,t){return t.templateUrl||"template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"},link:function(){t||e.warn("alert is now deprecated. Use uib-alert instead.")}}}]),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("uibBtnRadio",function(){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(t,n,i,e){var r=e[0],o=e[1];n.find("input").css({display:"none"}),o.$render=function(){n.toggleClass(r.activeClass,angular.equals(o.$modelValue,t.$eval(i.uibBtnRadio)))},n.on(r.toggleEvent,function(){if(!i.disabled){var e=n.hasClass(r.activeClass);e&&!angular.isDefined(i.uncheckable)||t.$apply(function(){o.$setViewValue(e?null:t.$eval(i.uibBtnRadio)),o.$render()})}})}}}).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(n,e,t,i){function r(){return o(t.btnCheckboxTrue,!0)}function o(e,t){return angular.isDefined(e)?n.$eval(e):t}var a=i[0],s=i[1];e.find("input").css({display:"none"}),s.$render=function(){e.toggleClass(a.activeClass,angular.equals(s.$modelValue,r()))},e.on(a.toggleEvent,function(){t.disabled||n.$apply(function(){s.$setViewValue(e.hasClass(a.activeClass)?o(t.btnCheckboxFalse,!1):r()),s.$render()})})}}}),angular.module("ui.bootstrap.buttons").value("$buttonsSuppressWarning",!1).controller("ButtonsController",["$controller","$log","$buttonsSuppressWarning",function(e,t,n){n||t.warn("ButtonsController is now deprecated. Use UibButtonsController instead."),angular.extend(this,e("UibButtonsController"))}]).directive("btnRadio",["$log","$buttonsSuppressWarning",function(a,s){return{require:["btnRadio","ngModel"],controller:"ButtonsController",controllerAs:"buttons",link:function(t,n,i,e){s||a.warn("btn-radio is now deprecated. Use uib-btn-radio instead.");var r=e[0],o=e[1];n.find("input").css({display:"none"}),o.$render=function(){n.toggleClass(r.activeClass,angular.equals(o.$modelValue,t.$eval(i.btnRadio)))},n.bind(r.toggleEvent,function(){if(!i.disabled){var e=n.hasClass(r.activeClass);e&&!angular.isDefined(i.uncheckable)||t.$apply(function(){o.$setViewValue(e?null:t.$eval(i.btnRadio)),o.$render()})}})}}}]).directive("btnCheckbox",["$document","$log","$buttonsSuppressWarning",function(c,u,d){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",controllerAs:"button",link:function(i,t,n,e){function r(){return a(n.btnCheckboxTrue,!0)}function o(){return a(n.btnCheckboxFalse,!1)}function a(e,t){var n=i.$eval(e);return angular.isDefined(n)?n:t}d||u.warn("btn-checkbox is now deprecated. Use uib-btn-checkbox instead.");var s=e[0],l=e[1];t.find("input").css({display:"none"}),l.$render=function(){t.toggleClass(s.activeClass,angular.equals(l.$modelValue,r()))},t.bind(s.toggleEvent,function(){n.disabled||i.$apply(function(){l.$setViewValue(t.hasClass(s.activeClass)?o():r()),l.$render()})}),t.on("keypress",function(e){n.disabled||32!==e.which||c[0].activeElement!==t[0]||i.$apply(function(){l.$setViewValue(t.hasClass(s.activeClass)?o():r()),l.$render()})})}}}]),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$animate",function(i,t,n,r){function o(e){if(angular.isUndefined(h[e].index))return h[e];var t;for(h.length,t=0;t<h.length;++t)if(h[t].index==e)return h[t]}function a(){s();var e=+i.interval;!isNaN(e)&&0<e&&(c=n(l,e))}function s(){c&&(n.cancel(c),c=null)}function l(){var e=+i.interval;u&&!isNaN(e)&&0<e&&h.length?i.next():i.pause()}var c,u,d=this,h=d.slides=i.slides=[],p=4<=angular.version.minor,f="uib-slideDirection",g=-1;d.currentSlide=null;var m=!1;d.select=i.select=function(e,t){var n=i.indexOfSlide(e);void 0===t&&(t=n>d.getCurrentIndex()?"next":"prev"),e&&e!==d.currentSlide&&!i.$currentTransition&&function(e,t,n){m||(angular.extend(e,{direction:n,active:!0}),angular.extend(d.currentSlide||{},{direction:n,active:!1}),r.enabled()&&!i.noTransition&&!i.$currentTransition&&e.$element&&1<d.slides.length&&(e.$element.data(f,e.direction),d.currentSlide&&d.currentSlide.$element&&d.currentSlide.$element.data(f,e.direction),i.$currentTransition=!0,p?r.on("addClass",e.$element,function(e,t){"close"===t&&(i.$currentTransition=null,r.off("addClass",e))}):e.$element.one("$animate:close",function(){i.$currentTransition=null})),d.currentSlide=e,g=t,a())}(e,n,t)},i.$on("$destroy",function(){m=!0}),d.getCurrentIndex=function(){return d.currentSlide&&angular.isDefined(d.currentSlide.index)?+d.currentSlide.index:g},i.indexOfSlide=function(e){return angular.isDefined(e.index)?+e.index:h.indexOf(e)},i.next=function(){var e=(d.getCurrentIndex()+1)%h.length;return 0==e&&i.noWrap()?void i.pause():d.select(o(e),"next")},i.prev=function(){var e=d.getCurrentIndex()-1<0?h.length-1:d.getCurrentIndex()-1;return i.noWrap()&&e==h.length-1?void i.pause():d.select(o(e),"prev")},i.isActive=function(e){return d.currentSlide===e},i.$watch("interval",a),i.$watchCollection("slides",function(e){e.length||(i.$currentTransition=null)}),i.$on("$destroy",s),i.play=function(){u||(u=!0,a())},i.pause=function(){i.noPause||(u=!1,s())},d.addSlide=function(e,t){e.$element=t,h.push(e),1===h.length||e.active?(d.select(h[h.length-1]),1===h.length&&i.play()):e.active=!1},d.removeSlide=function(e){angular.isDefined(e.index)&&h.sort(function(e,t){return+e.index>+t.index});var t=h.indexOf(e);h.splice(t,1),0<h.length&&e.active?t>=h.length?d.select(h[t-1]):d.select(h[t]):t<g&&g--,0===h.length&&(d.currentSlide=null)},i.$watch("noTransition",function(e){t.data("uib-noTransition",e)})}]).directive("uibCarousel",[function(){return{transclude:!0,replace:!0,controller:"UibCarouselController",controllerAs:"carousel",require:"carousel",templateUrl:function(e,t){return t.templateUrl||"template/carousel/carousel.html"},scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}]).directive("uibSlide",function(){return{require:"^uibCarousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/carousel/slide.html"},scope:{active:"=?",actual:"=?",index:"=?"},link:function(t,e,n,i){i.addSlide(t,e),t.$on("$destroy",function(){i.removeSlide(t)}),t.$watch("active",function(e){e&&i.select(t)})}}}).animation(".item",["$injector","$animate",function(e,s){function l(e,t,n){e.removeClass(t),n&&n()}var c="uib-noTransition",u="uib-slideDirection",d=null;return e.has("$animateCss")&&(d=e.get("$animateCss")),{beforeAddClass:function(e,t,n){if("active"==t&&e.parent()&&e.parent().parent()&&!e.parent().parent().data(c)){var i=!1,r=e.data(u),o="next"==r?"left":"right",a=l.bind(this,e,o+" "+r,n);return e.addClass(r),d?d(e,{addClass:o}).start().done(a):s.addClass(e,o).then(function(){i||a(),n()}),function(){i=!0}}n()},beforeRemoveClass:function(e,t,n){if("active"===t&&e.parent()&&e.parent().parent()&&!e.parent().parent().data(c)){var i=!1,r="next"==e.data(u)?"left":"right",o=l.bind(this,e,r,n);return d?d(e,{addClass:r}).start().done(o):s.addClass(e,r).then(function(){i||o(),n()}),function(){i=!0}}n()}}}]),angular.module("ui.bootstrap.carousel").value("$carouselSuppressWarning",!1).controller("CarouselController",["$scope","$element","$controller","$log","$carouselSuppressWarning",function(e,t,n,i,r){r||i.warn("CarouselController is now deprecated. Use UibCarouselController instead."),angular.extend(this,n("UibCarouselController",{$scope:e,$element:t}))}]).directive("carousel",["$log","$carouselSuppressWarning",function(e,t){return{transclude:!0,replace:!0,controller:"CarouselController",controllerAs:"carousel",require:"carousel",templateUrl:function(e,t){return t.templateUrl||"template/carousel/carousel.html"},scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"},link:function(){t||e.warn("carousel is now deprecated. Use uib-carousel instead.")}}}]).directive("slide",["$log","$carouselSuppressWarning",function(r,o){return{require:"^carousel",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/carousel/slide.html"},scope:{active:"=?",actual:"=?",index:"=?"},link:function(t,e,n,i){o||r.warn("slide is now deprecated. Use uib-slide instead."),i.addSlide(t,e),t.$on("$destroy",function(){i.removeSlide(t)}),t.$watch("active",function(e){e&&i.select(t)})}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","orderByFilter",function(h,p,f){var g,m,v=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){g=p.id,this.parsers={},m={yyyy:{regex:"\\d{4}",apply:function(e){this.year=+e}},yy:{regex:"\\d{2}",apply:function(e){this.year=+e+2e3}},y:{regex:"\\d{1,4}",apply:function(e){this.year=+e}},MMMM:{regex:p.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=p.DATETIME_FORMATS.MONTH.indexOf(e)}},MMM:{regex:p.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=p.DATETIME_FORMATS.SHORTMONTH.indexOf(e)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1}},M:{regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},EEEE:{regex:p.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:p.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e}},hh:{regex:"0[0-9]|1[0-2]",apply:function(e){this.hours=+e}},H:{regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e}},h:{regex:"[0-9]|1[0-2]",apply:function(e){this.hours=+e}},mm:{regex:"[0-5][0-9]",apply:function(e){this.minutes=+e}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e}},sss:{regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e}},ss:{regex:"[0-5][0-9]",apply:function(e){this.seconds=+e}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e}},a:{regex:p.DATETIME_FORMATS.AMPMS.join("|"),apply:function(e){12===this.hours&&(this.hours=0),"PM"===e&&(this.hours+=12)}}}},this.init(),this.parse=function(e,t,n){if(!angular.isString(e)||!t)return e;t=(t=p.DATETIME_FORMATS[t]||t).replace(v,"\\$&"),p.id!==g&&this.init(),this.parsers[t]||(this.parsers[t]=function(o){var a=[],s=o.split("");return angular.forEach(m,function(e,t){var n=o.indexOf(t);if(-1<n){o=o.split(""),s[n]="("+e.regex+")",o[n]="$";for(var i=n+1,r=n+t.length;i<r;i++)s[i]="",o[i]="$";o=o.join(""),a.push({index:n,apply:e.apply})}}),{regex:new RegExp("^"+s.join("")+"$"),map:f(a,"index")}}(t));var i=this.parsers[t],r=i.regex,o=i.map,a=e.match(r);if(a&&a.length){var s,l;s=angular.isDate(n)&&!isNaN(n.getTime())?{year:n.getFullYear(),month:n.getMonth(),date:n.getDate(),hours:n.getHours(),minutes:n.getMinutes(),seconds:n.getSeconds(),milliseconds:n.getMilliseconds()}:(n&&h.warn("dateparser:","baseDate is not a valid date"),{year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var c=1,u=a.length;c<u;c++){var d=o[c-1];d.apply&&d.apply.call(s,a[c])}return function(e,t,n){return!(n<1)&&(1===t&&28<n?29===n&&(e%4==0&&e%100!=0||e%400==0):3!==t&&5!==t&&8!==t&&10!==t||n<31)}(s.year,s.month,s.date)&&(angular.isDate(n)&&!isNaN(n.getTime())?(l=new Date(n)).setFullYear(s.year,s.month,s.date,s.hours,s.minutes,s.seconds,s.milliseconds||0):l=new Date(s.year,s.month,s.date,s.hours,s.minutes,s.seconds,s.milliseconds||0)),l}}}]),angular.module("ui.bootstrap.dateparser").value("$dateParserSuppressWarning",!1).service("dateParser",["$log","$dateParserSuppressWarning","uibDateParser",function(e,t,n){t||e.warn("dateParser is now deprecated. Use uibDateParser instead."),angular.extend(this,n)}]),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(o,n){function a(e){return"static"===(function(e,t){return e.currentStyle?e.currentStyle[t]:n.getComputedStyle?n.getComputedStyle(e)[t]:e.style[t]}(e,"position")||"static")}return{position:function(e){var t=this.offset(e),n={top:0,left:0},i=function(e){for(var t=o[0],n=e.offsetParent||t;n&&n!==t&&a(n);)n=n.offsetParent;return n||t}(e[0]);i!=o[0]&&((n=this.offset(angular.element(i))).top+=i.clientTop-i.scrollTop,n.left+=i.clientLeft-i.scrollLeft);var r=e[0].getBoundingClientRect();return{width:r.width||e.prop("offsetWidth"),height:r.height||e.prop("offsetHeight"),top:t.top-n.top,left:t.left-n.left}},offset:function(e){var t=e[0].getBoundingClientRect();return{width:t.width||e.prop("offsetWidth"),height:t.height||e.prop("offsetHeight"),top:t.top+(n.pageYOffset||o[0].documentElement.scrollTop),left:t.left+(n.pageXOffset||o[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,i){var r,o,a,s,l=n.split("-"),c=l[0],u=l[1]||"center";r=i?this.offset(e):this.position(e),o=t.prop("offsetWidth"),a=t.prop("offsetHeight");var d={center:function(){return r.left+r.width/2-o/2},left:function(){return r.left},right:function(){return r.left+r.width}},h={center:function(){return r.top+r.height/2-a/2},top:function(){return r.top},bottom:function(){return r.top+r.height}};switch(c){case"right":s={top:h[u](),left:d[c]()};break;case"left":s={top:h[u](),left:r.left-o};break;case"bottom":s={top:h[c](),left:d[u]()};break;default:s={top:r.top-a,left:d[u]()}}return s}}}]),angular.module("ui.bootstrap.position").value("$positionSuppressWarning",!1).service("$position",["$log","$positionSuppressWarning","$uibPosition",function(e,t,n){t||e.warn("$position is now deprecated. Use $uibPosition instead."),angular.extend(this,n)}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).value("$datepickerSuppressError",!1).constant("uibDatepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("UibDatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","uibDatepickerConfig","$datepickerSuppressError",function(n,i,e,r,t,o,a,s){var l=this,c={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRange","shortcutPropagation"],function(e,t){l[e]=angular.isDefined(i[e])?t<6?r(i[e])(n.$parent):n.$parent.$eval(i[e]):a[e]}),angular.forEach(["minDate","maxDate"],function(t){i[t]?n.$parent.$watch(e(i[t]),function(e){l[t]=e?new Date(e):null,l.refreshView()}):l[t]=a[t]?new Date(a[t]):null}),angular.forEach(["minMode","maxMode"],function(t){i[t]?n.$parent.$watch(e(i[t]),function(e){l[t]=angular.isDefined(e)?e:i[t],n[t]=l[t],("minMode"==t&&l.modes.indexOf(n.datepickerMode)<l.modes.indexOf(l[t])||"maxMode"==t&&l.modes.indexOf(n.datepickerMode)>l.modes.indexOf(l[t]))&&(n.datepickerMode=l[t])}):(l[t]=a[t]||null,n[t]=l[t])}),n.datepickerMode=n.datepickerMode||a.datepickerMode,n.uniqueId="datepicker-"+n.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(i.initDate)?(this.activeDate=n.$parent.$eval(i.initDate)||new Date,n.$parent.$watch(i.initDate,function(e){e&&(c.$isEmpty(c.$modelValue)||c.$invalid)&&(l.activeDate=e,l.refreshView())})):this.activeDate=new Date,n.isActive=function(e){return 0===l.compare(e.date,l.activeDate)&&(n.activeDateId=e.uid,!0)},this.init=function(e){(c=e).$render=function(){l.render()}},this.render=function(){if(c.$viewValue){var e=new Date(c.$viewValue);!isNaN(e)?this.activeDate=e:s||t.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=c.$viewValue?new Date(c.$viewValue):null;c.$setValidity("dateDisabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,t){var n=c.$viewValue?new Date(c.$viewValue):null;return{date:e,label:o(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),current:0===this.compare(e,new Date),customClass:this.customClass(e)}},this.isDisabled=function(e){return this.minDate&&this.compare(e,this.minDate)<0||this.maxDate&&0<this.compare(e,this.maxDate)||i.dateDisabled&&n.dateDisabled({date:e,mode:n.datepickerMode})},this.customClass=function(e){return n.customClass({date:e,mode:n.datepickerMode})},this.split=function(e,t){for(var n=[];0<e.length;)n.push(e.splice(0,t));return n},n.select=function(e){if(n.datepickerMode===l.minMode){var t=c.$viewValue?new Date(c.$viewValue):new Date(0,0,0,0,0,0,0);t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),c.$setViewValue(t),c.$render()}else l.activeDate=e,n.datepickerMode=l.modes[l.modes.indexOf(n.datepickerMode)-1]},n.move=function(e){var t=l.activeDate.getFullYear()+e*(l.step.years||0),n=l.activeDate.getMonth()+e*(l.step.months||0);l.activeDate.setFullYear(t,n,1),l.refreshView()},n.toggleMode=function(e){e=e||1,n.datepickerMode===l.maxMode&&1===e||n.datepickerMode===l.minMode&&-1===e||(n.datepickerMode=l.modes[l.modes.indexOf(n.datepickerMode)+e])},n.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};n.$on("uib:datepicker.focus",function(){l.element[0].focus()}),n.keydown=function(e){var t=n.keys[e.which];if(t&&!e.shiftKey&&!e.altKey)if(e.preventDefault(),l.shortcutPropagation||e.stopPropagation(),"enter"===t||"space"===t){if(l.isDisabled(l.activeDate))return;n.select(l.activeDate)}else!e.ctrlKey||"up"!==t&&"down"!==t?(l.handleKeyDown(t,e),l.refreshView()):n.toggleMode("up"===t?1:-1)}}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(h,e,p){function r(e,t){return 1!==t||e%4!=0||e%100==0&&e%400!=0?n[t]:29}function f(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}var n=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=e,this.init=function(e){angular.extend(e,this),h.showWeeks=e.showWeeks,e.refreshView()},this.getDates=function(e,t){for(var n,i=new Array(t),r=new Date(e),o=0;o<t;)n=new Date(r),i[o++]=n,r.setDate(r.getDate()+1);return i},this._refreshView=function(){var e=this.activeDate.getFullYear(),t=this.activeDate.getMonth(),n=new Date(this.activeDate);n.setFullYear(e,t,1);var i=this.startingDay-n.getDay(),r=0<i?7-i:-i,o=new Date(n);0<r&&o.setDate(1-r);for(var a=this.getDates(o,42),s=0;s<42;s++)a[s]=angular.extend(this.createDateObject(a[s],this.formatDay),{secondary:a[s].getMonth()!==t,uid:h.uniqueId+"-"+s});h.labels=new Array(7);for(var l=0;l<7;l++)h.labels[l]={abbr:p(a[l].date,this.formatDayHeader),full:p(a[l].date,"EEEE")};if(h.title=p(this.activeDate,this.formatDayTitle),h.rows=this.split(a,7),h.showWeeks){h.weekNumbers=[];for(var c=(11-this.startingDay)%7,u=h.rows.length,d=0;d<u;d++)h.weekNumbers.push(f(h.rows[d][c].date))}},this.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},this.handleKeyDown=function(e,t){var n=this.activeDate.getDate();if("left"===e)n-=1;else if("up"===e)n-=7;else if("right"===e)n+=1;else if("down"===e)n+=7;else if("pageup"===e||"pagedown"===e){var i=this.activeDate.getMonth()+("pageup"===e?-1:1);this.activeDate.setMonth(i,1),n=Math.min(r(this.activeDate.getFullYear(),this.activeDate.getMonth()),n)}else"home"===e?n=1:"end"===e&&(n=r(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(n)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(r,e,o){this.step={years:1},this.element=e,this.init=function(e){angular.extend(e,this),e.refreshView()},this._refreshView=function(){for(var e,t=new Array(12),n=this.activeDate.getFullYear(),i=0;i<12;i++)(e=new Date(this.activeDate)).setFullYear(n,i,1),t[i]=angular.extend(this.createDateObject(e,this.formatMonth),{uid:r.uniqueId+"-"+i});r.title=o(this.activeDate,this.formatMonthTitle),r.rows=this.split(t,3)},this.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},this.handleKeyDown=function(e,t){var n=this.activeDate.getMonth();if("left"===e)n-=1;else if("up"===e)n-=3;else if("right"===e)n+=1;else if("down"===e)n+=3;else if("pageup"===e||"pagedown"===e){var i=this.activeDate.getFullYear()+("pageup"===e?-1:1);this.activeDate.setFullYear(i)}else"home"===e?n=0:"end"===e&&(n=11);this.activeDate.setMonth(n)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(r,e,t){function o(e){return parseInt((e-1)/a,10)*a+1}var a;this.element=e,this.yearpickerInit=function(){a=this.yearRange,this.step={years:a}},this._refreshView=function(){for(var e,t=new Array(a),n=0,i=o(this.activeDate.getFullYear());n<a;n++)(e=new Date(this.activeDate)).setFullYear(i+n,0,1),t[n]=angular.extend(this.createDateObject(e,this.formatYear),{uid:r.uniqueId+"-"+n});r.title=[t[0].label,t[a-1].label].join(" - "),r.rows=this.split(t,5)},this.compare=function(e,t){return e.getFullYear()-t.getFullYear()},this.handleKeyDown=function(e,t){var n=this.activeDate.getFullYear();"left"===e?n-=1:"up"===e?n-=5:"right"===e?n+=1:"down"===e?n+=5:"pageup"===e||"pagedown"===e?n+=("pageup"===e?-1:1)*this.step.years:"home"===e?n=o(this.activeDate.getFullYear()):"end"===e&&(n=o(this.activeDate.getFullYear())+a-1),this.activeDate.setFullYear(n)}}]).directive("uibDatepicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["uibDatepicker","^ngModel"],controller:"UibDatepickerController",controllerAs:"datepicker",link:function(e,t,n,i){var r=i[0],o=i[1];r.init(o)}}}).directive("uibDaypicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/day.html"},require:["^?uibDatepicker","uibDaypicker","^?datepicker"],controller:"UibDaypickerController",link:function(e,t,n,i){var r=i[0]||i[2];i[1].init(r)}}}).directive("uibMonthpicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/month.html"},require:["^?uibDatepicker","uibMonthpicker","^?datepicker"],controller:"UibMonthpickerController",link:function(e,t,n,i){var r=i[0]||i[2];i[1].init(r)}}}).directive("uibYearpicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/year.html"},require:["^?uibDatepicker","uibYearpicker","^?datepicker"],controller:"UibYearpickerController",link:function(e,t,n,i){var r=i[0]||i[2];angular.extend(r,i[1]),r.yearpickerInit(),r.refreshView()}}}).constant("uibDatepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"template/datepicker/popup.html",datepickerTemplateUrl:"template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0,onOpenFocus:!0}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$parse","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout",function(r,o,a,n,i,s,l,t,c,u,d,h){function p(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function f(e){if(angular.isNumber(e)&&(e=new Date(e)),!e)return null;if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var t=u.parse(e,y,r.date);return isNaN(t)?void 0:t}}function g(e,t){var n=e||t;if(!a.ngRequired&&!n)return!0;if(angular.isNumber(n)&&(n=new Date(n)),n){if(angular.isDate(n)&&!isNaN(n))return!0;if(angular.isString(n)){var i=u.parse(n,y);return!isNaN(i)}return!1}return!0}function m(e){var t=A[0],n=o[0].contains(e.target),i=void 0!==t.contains&&t.contains(e.target);!r.isOpen||n||i||r.$apply(function(){r.isOpen=!1})}function v(e){27===e.which&&r.isOpen?(e.preventDefault(),e.stopPropagation(),r.$apply(function(){r.isOpen=!1}),o[0].focus()):40!==e.which||r.isOpen||(e.preventDefault(),e.stopPropagation(),r.$apply(function(){r.isOpen=!0}))}var y,b,w,x,C,S,$,E,k,A,T={},M=!1;r.watchData={},this.init=function(e){if(k=e,b=angular.isDefined(a.closeOnDateSelection)?r.$parent.$eval(a.closeOnDateSelection):d.closeOnDateSelection,w=angular.isDefined(a.datepickerAppendToBody)?r.$parent.$eval(a.datepickerAppendToBody):d.appendToBody,x=angular.isDefined(a.onOpenFocus)?r.$parent.$eval(a.onOpenFocus):d.onOpenFocus,C=angular.isDefined(a.datepickerPopupTemplateUrl)?a.datepickerPopupTemplateUrl:d.datepickerPopupTemplateUrl,S=angular.isDefined(a.datepickerTemplateUrl)?a.datepickerTemplateUrl:d.datepickerTemplateUrl,r.showButtonBar=angular.isDefined(a.showButtonBar)?r.$parent.$eval(a.showButtonBar):d.showButtonBar,d.html5Types[a.type]?(y=d.html5Types[a.type],M=!0):(y=a.datepickerPopup||a.uibDatepickerPopup||d.datepickerPopup,a.$observe("uibDatepickerPopup",function(e,t){var n=e||d.datepickerPopup;if(n!==y&&(y=n,k.$modelValue=null,!y))throw new Error("uibDatepickerPopup must have a date format specified.")})),!y)throw new Error("uibDatepickerPopup must have a date format specified.");if(M&&a.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");if(($=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>")).attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":C}),(E=angular.element($.children()[0])).attr("template-url",S),M&&"month"===a.type&&(E.attr("datepicker-mode",'"month"'),E.attr("min-mode","month")),a.datepickerOptions){var t=r.$parent.$eval(a.datepickerOptions);t&&t.initDate&&(r.initDate=t.initDate,E.attr("init-date","initDate"),delete t.initDate),angular.forEach(t,function(e,t){E.attr(p(t),e)})}angular.forEach(["minMode","maxMode","minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(t){if(a[t]){var e=i(a[t]);if(r.$parent.$watch(e,function(e){r.watchData[t]=e,"minDate"!==t&&"maxDate"!==t||(T[t]=new Date(e))}),E.attr(p(t),"watchData."+t),"datepickerMode"===t){var n=e.assign;r.$watch("watchData."+t,function(e,t){angular.isFunction(n)&&e!==t&&n(r.$parent,e)})}}}),a.dateDisabled&&E.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),a.showWeeks&&E.attr("show-weeks",a.showWeeks),a.customClass&&E.attr("custom-class","customClass({ date: date, mode: mode })"),M?k.$formatters.push(function(e){return r.date=e}):(k.$$parserName="date",k.$validators.date=g,k.$parsers.unshift(f),k.$formatters.push(function(e){return r.date=e,k.$isEmpty(e)?e:c(e,y)})),k.$viewChangeListeners.push(function(){r.date=u.parse(k.$viewValue,y,r.date)}),o.bind("keydown",v),A=n($)(r),$.remove(),w?s.find("body").append(A):o.after(A),r.$on("$destroy",function(){!0===r.isOpen&&(l.$$phase||r.$apply(function(){r.isOpen=!1})),A.remove(),o.unbind("keydown",v),s.unbind("click",m)})},r.getText=function(e){return r[e+"Text"]||d[e+"Text"]},r.isDisabled=function(e){return"today"===e&&(e=new Date),r.watchData.minDate&&r.compare(e,T.minDate)<0||r.watchData.maxDate&&0<r.compare(e,T.maxDate)},r.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},r.dateSelection=function(e){angular.isDefined(e)&&(r.date=e);var t=r.date?c(r.date,y):null;o.val(t),k.$setViewValue(t),b&&(r.isOpen=!1,o[0].focus())},r.keydown=function(e){27===e.which&&(r.isOpen=!1,o[0].focus())},r.select=function(e){if("today"===e){var t=new Date;angular.isDate(r.date)?(e=new Date(r.date)).setFullYear(t.getFullYear(),t.getMonth(),t.getDate()):e=new Date(t.setHours(0,0,0,0))}r.dateSelection(e)},r.close=function(){r.isOpen=!1,o[0].focus()},r.$watch("isOpen",function(e){e?(r.position=w?t.offset(o):t.position(o),r.position.top=r.position.top+o.prop("offsetHeight"),h(function(){x&&r.$broadcast("uib:datepicker.focus"),s.bind("click",m)},0,!1)):s.unbind("click",m)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(e,t,n,i){var r=i[0];i[1].init(r)}}}).directive("uibDatepickerPopupWrap",function(){return{replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/popup.html"}}}),angular.module("ui.bootstrap.datepicker").value("$datepickerSuppressWarning",!1).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","uibDatepickerConfig","$datepickerSuppressError","$datepickerSuppressWarning",function(n,i,e,r,t,o,a,s,l){l||t.warn("DatepickerController is now deprecated. Use UibDatepickerController instead.");var c=this,u={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRange","shortcutPropagation"],function(e,t){c[e]=angular.isDefined(i[e])?t<6?r(i[e])(n.$parent):n.$parent.$eval(i[e]):a[e]}),angular.forEach(["minDate","maxDate"],function(t){i[t]?n.$parent.$watch(e(i[t]),function(e){c[t]=e?new Date(e):null,c.refreshView()}):c[t]=a[t]?new Date(a[t]):null}),angular.forEach(["minMode","maxMode"],function(t){i[t]?n.$parent.$watch(e(i[t]),function(e){c[t]=angular.isDefined(e)?e:i[t],n[t]=c[t],("minMode"==t&&c.modes.indexOf(n.datepickerMode)<c.modes.indexOf(c[t])||"maxMode"==t&&c.modes.indexOf(n.datepickerMode)>c.modes.indexOf(c[t]))&&(n.datepickerMode=c[t])}):(c[t]=a[t]||null,n[t]=c[t])}),n.datepickerMode=n.datepickerMode||a.datepickerMode,n.uniqueId="datepicker-"+n.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(i.initDate)?(this.activeDate=n.$parent.$eval(i.initDate)||new Date,n.$parent.$watch(i.initDate,function(e){e&&(u.$isEmpty(u.$modelValue)||u.$invalid)&&(c.activeDate=e,c.refreshView())})):this.activeDate=new Date,n.isActive=function(e){return 0===c.compare(e.date,c.activeDate)&&(n.activeDateId=e.uid,!0)},this.init=function(e){(u=e).$render=function(){c.render()}},this.render=function(){if(u.$viewValue){var e=new Date(u.$viewValue);!isNaN(e)?this.activeDate=e:s||t.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=u.$viewValue?new Date(u.$viewValue):null;u.$setValidity("dateDisabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,t){var n=u.$viewValue?new Date(u.$viewValue):null;return{date:e,label:o(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),current:0===this.compare(e,new Date),customClass:this.customClass(e)}},this.isDisabled=function(e){return this.minDate&&this.compare(e,this.minDate)<0||this.maxDate&&0<this.compare(e,this.maxDate)||i.dateDisabled&&n.dateDisabled({date:e,mode:n.datepickerMode})},this.customClass=function(e){return n.customClass({date:e,mode:n.datepickerMode})},this.split=function(e,t){for(var n=[];0<e.length;)n.push(e.splice(0,t));return n},this.fixTimeZone=function(e){var t=e.getHours();e.setHours(23===t?t+2:0)},n.select=function(e){if(n.datepickerMode===c.minMode){var t=u.$viewValue?new Date(u.$viewValue):new Date(0,0,0,0,0,0,0);t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),u.$setViewValue(t),u.$render()}else c.activeDate=e,n.datepickerMode=c.modes[c.modes.indexOf(n.datepickerMode)-1]},n.move=function(e){var t=c.activeDate.getFullYear()+e*(c.step.years||0),n=c.activeDate.getMonth()+e*(c.step.months||0);c.activeDate.setFullYear(t,n,1),c.refreshView()},n.toggleMode=function(e){e=e||1,n.datepickerMode===c.maxMode&&1===e||n.datepickerMode===c.minMode&&-1===e||(n.datepickerMode=c.modes[c.modes.indexOf(n.datepickerMode)+e])},n.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};n.$on("uib:datepicker.focus",function(){c.element[0].focus()}),n.keydown=function(e){var t=n.keys[e.which];if(t&&!e.shiftKey&&!e.altKey)if(e.preventDefault(),c.shortcutPropagation||e.stopPropagation(),"enter"===t||"space"===t){if(c.isDisabled(c.activeDate))return;n.select(c.activeDate)}else!e.ctrlKey||"up"!==t&&"down"!==t?(c.handleKeyDown(t,e),c.refreshView()):n.toggleMode("up"===t?1:-1)}}]).directive("datepicker",["$log","$datepickerSuppressWarning",function(a,s){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","^ngModel"],controller:"DatepickerController",controllerAs:"datepicker",link:function(e,t,n,i){s||a.warn("datepicker is now deprecated. Use uib-datepicker instead.");var r=i[0],o=i[1];r.init(o)}}}]).directive("daypicker",["$log","$datepickerSuppressWarning",function(o,a){return{replace:!0,templateUrl:"template/datepicker/day.html",require:["^datepicker","daypicker"],controller:"UibDaypickerController",link:function(e,t,n,i){a||o.warn("daypicker is now deprecated. Use uib-daypicker instead.");var r=i[0];i[1].init(r)}}}]).directive("monthpicker",["$log","$datepickerSuppressWarning",function(o,a){return{replace:!0,templateUrl:"template/datepicker/month.html",require:["^datepicker","monthpicker"],controller:"UibMonthpickerController",link:function(e,t,n,i){a||o.warn("monthpicker is now deprecated. Use uib-monthpicker instead.");var r=i[0];i[1].init(r)}}}]).directive("yearpicker",["$log","$datepickerSuppressWarning",function(o,a){return{replace:!0,templateUrl:"template/datepicker/year.html",require:["^datepicker","yearpicker"],controller:"UibYearpickerController",link:function(e,t,n,i){a||o.warn("yearpicker is now deprecated. Use uib-yearpicker instead.");var r=i[0];angular.extend(r,i[1]),r.yearpickerInit(),r.refreshView()}}}]).directive("datepickerPopup",["$log","$datepickerSuppressWarning",function(o,a){return{require:["ngModel","datepickerPopup"],controller:"UibDatepickerPopupController",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(e,t,n,i){a||o.warn("datepicker-popup is now deprecated. Use uib-datepicker-popup instead.");var r=i[0];i[1].init(r)}}}]).directive("datepickerPopupWrap",["$log","$datepickerSuppressWarning",function(e,t){return{replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/popup.html"},link:function(){t||e.warn("datepicker-popup-wrap is now deprecated. Use uib-datepicker-popup-wrap instead.")}}}]),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("uibDropdownConfig",{openClass:"open"}).service("uibDropdownService",["$document","$rootScope",function(t,i){var r=null;this.open=function(e){r||(t.bind("click",n),t.bind("keydown",o)),r&&r!==e&&(r.isOpen=!1),r=e},this.close=function(e){r===e&&(r=null,t.unbind("click",n),t.unbind("keydown",o))};var n=function(e){if(r&&(!e||"disabled"!==r.getAutoClose())){var t=r.getToggleElement();if(!(e&&t&&t[0].contains(e.target))){var n=r.getDropdownElement();e&&"outsideClick"===r.getAutoClose()&&n&&n[0].contains(e.target)||(r.isOpen=!1,i.$$phase||r.$apply())}}},o=function(e){27===e.which?(r.focusToggleElement(),n()):r.isKeynavEnabled()&&/(38|40)/.test(e.which)&&r.isOpen&&(e.preventDefault(),e.stopPropagation(),r.focusDropdownEntry(e.which))}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(o,a,e,t,n,s,l,c,i,u,d){var h,r,p=this,f=o.$new(),g=n.openClass,m=angular.noop,v=e.onToggle?t(e.onToggle):angular.noop,y=!1,b=!1;a.addClass("dropdown"),this.init=function(){e.isOpen&&(r=t(e.isOpen),m=r.assign,o.$watch(r,function(e){f.isOpen=!!e})),y=angular.isDefined(e.dropdownAppendToBody),b=angular.isDefined(e.uibKeyboardNav),y&&p.dropdownMenu&&(i.find("body").append(p.dropdownMenu),a.on("$destroy",function(){p.dropdownMenu.remove()}))},this.toggle=function(e){return f.isOpen=arguments.length?!!e:!f.isOpen},this.isOpen=function(){return f.isOpen},f.getToggleElement=function(){return p.toggleElement},f.getAutoClose=function(){return e.autoClose||"always"},f.getElement=function(){return a},f.isKeynavEnabled=function(){return b},f.focusDropdownEntry=function(e){var t=p.dropdownMenu?angular.element(p.dropdownMenu).find("a"):angular.element(a).find("ul").eq(0).find("a");switch(e){case 40:angular.isNumber(p.selectedOption)?p.selectedOption=p.selectedOption===t.length-1?p.selectedOption:p.selectedOption+1:p.selectedOption=0;break;case 38:angular.isNumber(p.selectedOption)?p.selectedOption=0===p.selectedOption?0:p.selectedOption-1:p.selectedOption=t.length-1}t[p.selectedOption].focus()},f.getDropdownElement=function(){return p.dropdownMenu},f.focusToggleElement=function(){p.toggleElement&&p.toggleElement[0].focus()},f.$watch("isOpen",function(e,t){if(y&&p.dropdownMenu){var n=c.positionElements(a,p.dropdownMenu,"bottom-left",!0),i={top:n.top+"px",display:e?"block":"none"};p.dropdownMenu.hasClass("dropdown-menu-right")?(i.left="auto",i.right=window.innerWidth-(n.left+a.prop("offsetWidth"))+"px"):(i.left=n.left+"px",i.right="auto"),p.dropdownMenu.css(i)}if(l[e?"addClass":"removeClass"](a,g).then(function(){angular.isDefined(e)&&e!==t&&v(o,{open:!!e})}),e)p.dropdownMenuTemplateUrl&&d(p.dropdownMenuTemplateUrl).then(function(e){h=f.$new(),u(e.trim())(h,function(e){var t=e;p.dropdownMenu.replaceWith(t),p.dropdownMenu=t})}),f.focusToggleElement(),s.open(f);else{if(p.dropdownMenuTemplateUrl){h&&h.$destroy();var r=angular.element('<ul class="dropdown-menu"></ul>');p.dropdownMenu.replaceWith(r),p.dropdownMenu=r}s.close(f),p.selectedOption=null}angular.isFunction(m)&&m(o,e)}),o.$on("$locationChangeSuccess",function(){"disabled"!==f.getAutoClose()&&(f.isOpen=!1)});var w=o.$on("$destroy",function(){f.$destroy()});f.$on("$destroy",w)}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(e,t,n,i){i.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"AC",require:"?^uibDropdown",link:function(e,t,n,i){if(i&&!angular.isDefined(n.dropdownNested)){t.addClass("dropdown-menu");var r=n.templateUrl;r&&(i.dropdownMenuTemplateUrl=r),i.dropdownMenu||(i.dropdownMenu=t)}}}}).directive("uibKeyboardNav",function(){return{restrict:"A",require:"?^uibDropdown",link:function(e,t,n,i){t.bind("keydown",function(e){if(-1!==[38,40].indexOf(e.which)){e.preventDefault(),e.stopPropagation();var t=i.dropdownMenu.find("a");switch(e.which){case 40:angular.isNumber(i.selectedOption)?i.selectedOption=i.selectedOption===t.length-1?i.selectedOption:i.selectedOption+1:i.selectedOption=0;break;case 38:angular.isNumber(i.selectedOption)?i.selectedOption=0===i.selectedOption?0:i.selectedOption-1:i.selectedOption=t.length-1}t[i.selectedOption].focus()}})}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(t,n,i,r){if(r){n.addClass("dropdown-toggle"),r.toggleElement=n;function e(e){e.preventDefault(),n.hasClass("disabled")||i.disabled||t.$apply(function(){r.toggle()})}n.bind("click",e),n.attr({"aria-haspopup":!0,"aria-expanded":!1}),t.$watch(r.isOpen,function(e){n.attr("aria-expanded",!!e)}),t.$on("$destroy",function(){n.unbind("click",e)})}}}}),angular.module("ui.bootstrap.dropdown").value("$dropdownSuppressWarning",!1).service("dropdownService",["$log","$dropdownSuppressWarning","uibDropdownService",function(e,t,n){t||e.warn("dropdownService is now deprecated. Use uibDropdownService instead."),angular.extend(this,n)}]).controller("DropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest","$log","$dropdownSuppressWarning",function(o,a,e,t,n,s,l,c,i,u,d,r,h){h||r.warn("DropdownController is now deprecated. Use UibDropdownController instead.");var p,f,g=this,m=o.$new(),v=n.openClass,y=angular.noop,b=e.onToggle?t(e.onToggle):angular.noop,w=!1,x=!1;a.addClass("dropdown"),this.init=function(){e.isOpen&&(f=t(e.isOpen),y=f.assign,o.$watch(f,function(e){m.isOpen=!!e})),w=angular.isDefined(e.dropdownAppendToBody),x=angular.isDefined(e.uibKeyboardNav),w&&g.dropdownMenu&&(i.find("body").append(g.dropdownMenu),a.on("$destroy",function(){g.dropdownMenu.remove()}))},this.toggle=function(e){return m.isOpen=arguments.length?!!e:!m.isOpen},this.isOpen=function(){return m.isOpen},m.getToggleElement=function(){return g.toggleElement},m.getAutoClose=function(){return e.autoClose||"always"},m.getElement=function(){return a},m.isKeynavEnabled=function(){return x},m.focusDropdownEntry=function(e){var t=g.dropdownMenu?angular.element(g.dropdownMenu).find("a"):angular.element(a).find("ul").eq(0).find("a");switch(e){case 40:angular.isNumber(g.selectedOption)?g.selectedOption=g.selectedOption===t.length-1?g.selectedOption:g.selectedOption+1:g.selectedOption=0;break;case 38:angular.isNumber(g.selectedOption)?g.selectedOption=0===g.selectedOption?0:g.selectedOption-1:g.selectedOption=t.length-1}t[g.selectedOption].focus()},m.getDropdownElement=function(){return g.dropdownMenu},m.focusToggleElement=function(){g.toggleElement&&g.toggleElement[0].focus()},m.$watch("isOpen",function(e,t){if(w&&g.dropdownMenu){var n=c.positionElements(a,g.dropdownMenu,"bottom-left",!0),i={top:n.top+"px",display:e?"block":"none"};g.dropdownMenu.hasClass("dropdown-menu-right")?(i.left="auto",i.right=window.innerWidth-(n.left+a.prop("offsetWidth"))+"px"):(i.left=n.left+"px",i.right="auto"),g.dropdownMenu.css(i)}if(l[e?"addClass":"removeClass"](a,v).then(function(){angular.isDefined(e)&&e!==t&&b(o,{open:!!e})}),e)g.dropdownMenuTemplateUrl&&d(g.dropdownMenuTemplateUrl).then(function(e){p=m.$new(),u(e.trim())(p,function(e){var t=e;g.dropdownMenu.replaceWith(t),g.dropdownMenu=t})}),m.focusToggleElement(),s.open(m);else{if(g.dropdownMenuTemplateUrl){p&&p.$destroy();var r=angular.element('<ul class="dropdown-menu"></ul>');g.dropdownMenu.replaceWith(r),g.dropdownMenu=r}s.close(m),g.selectedOption=null}angular.isFunction(y)&&y(o,e)}),o.$on("$locationChangeSuccess",function(){"disabled"!==m.getAutoClose()&&(m.isOpen=!1)});var C=o.$on("$destroy",function(){m.$destroy()});m.$on("$destroy",C)}]).directive("dropdown",["$log","$dropdownSuppressWarning",function(r,o){return{controller:"DropdownController",link:function(e,t,n,i){o||r.warn("dropdown is now deprecated. Use uib-dropdown instead."),i.init()}}}]).directive("dropdownMenu",["$log","$dropdownSuppressWarning",function(o,a){return{restrict:"AC",require:"?^dropdown",link:function(e,t,n,i){if(i&&!angular.isDefined(n.dropdownNested)){a||o.warn("dropdown-menu is now deprecated. Use uib-dropdown-menu instead."),t.addClass("dropdown-menu");var r=n.templateUrl;r&&(i.dropdownMenuTemplateUrl=r),i.dropdownMenu||(i.dropdownMenu=t)}}}}]).directive("keyboardNav",["$log","$dropdownSuppressWarning",function(r,o){return{restrict:"A",require:"?^dropdown",link:function(e,t,n,i){o||r.warn("keyboard-nav is now deprecated. Use uib-keyboard-nav instead."),t.bind("keydown",function(e){if(-1!==[38,40].indexOf(e.which)){e.preventDefault(),e.stopPropagation();var t=i.dropdownMenu.find("a");switch(e.which){case 40:angular.isNumber(i.selectedOption)?i.selectedOption=i.selectedOption===t.length-1?i.selectedOption:i.selectedOption+1:i.selectedOption=0;break;case 38:angular.isNumber(i.selectedOption)?i.selectedOption=0===i.selectedOption?0:i.selectedOption-1:i.selectedOption=t.length-1}t[i.selectedOption].focus()}})}}}]).directive("dropdownToggle",["$log","$dropdownSuppressWarning",function(o,a){return{require:"?^dropdown",link:function(t,n,i,r){if(a||o.warn("dropdown-toggle is now deprecated. Use uib-dropdown-toggle instead."),r){n.addClass("dropdown-toggle"),r.toggleElement=n;function e(e){e.preventDefault(),n.hasClass("disabled")||i.disabled||t.$apply(function(){r.toggle()})}n.bind("click",e),n.attr({"aria-haspopup":!0,"aria-expanded":!1}),t.$watch(r.isOpen,function(e){n.attr("aria-expanded",!!e)}),t.$on("$destroy",function(){n.unbind("click",e)})}}}}]),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var i=[];return{add:function(e,t){i.push({key:e,value:t})},get:function(e){for(var t=0;t<i.length;t++)if(e==i[t].key)return i[t]},keys:function(){for(var e=[],t=0;t<i.length;t++)e.push(i[t].key);return e},top:function(){return i[i.length-1]},remove:function(e){for(var t=-1,n=0;n<i.length;n++)if(e==i[n].key){t=n;break}return i.splice(t,1)[0]},removeTop:function(){return i.splice(i.length-1,1)[0]},length:function(){return i.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.stackedMap"]).factory("$$multiMap",function(){return{createNew:function(){var r={};return{entries:function(){return Object.keys(r).map(function(e){return{key:e,value:r[e]}})},get:function(e){return r[e]},hasKey:function(e){return!!r[e]},keys:function(){return Object.keys(r)},put:function(e,t){r[e]||(r[e]=[]),r[e].push(t)},remove:function(e,t){var n=r[e];if(n){var i=n.indexOf(t);-1!==i&&n.splice(i,1),n.length||delete r[e]}}}}}}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(o,e,t){function n(e,i,r){i.addClass("modal-backdrop"),r.modalInClass&&(a?a(i,{addClass:r.modalInClass}).start():o.addClass(i,r.modalInClass),e.$on(t.NOW_CLOSING_EVENT,function(e,t){var n=t();a?a(i,{removeClass:r.modalInClass}).start().then(n):o.removeClass(i,r.modalInClass).then(n)}))}var a=null;return e.has("$animateCss")&&(a=e.get("$animateCss")),{replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(e,t){return e.addClass(t.backdropClass),n}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animate","$injector",function(o,a,s,e){var l=null;return e.has("$animateCss")&&(l=e.get("$animateCss")),{scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(n,i,r){i.addClass(r.windowClass||""),i.addClass(r.windowTopClass||""),n.size=r.size,n.close=function(e){var t=o.getTop();t&&t.value.backdrop&&"static"!==t.value.backdrop&&e.target===e.currentTarget&&(e.preventDefault(),e.stopPropagation(),o.dismiss(t.key,"backdrop click"))},i.on("click",n.close),n.$isRendered=!0;var t=a.defer();r.$observe("modalRender",function(e){"true"==e&&t.resolve()}),t.promise.then(function(){var e=null;r.modalInClass&&(e=l?l(i,{addClass:r.modalInClass}).start():s.addClass(i,r.modalInClass),n.$on(o.NOW_CLOSING_EVENT,function(e,t){var n=t();l?l(i,{removeClass:r.modalInClass}).start().then(n):s.removeClass(i,r.modalInClass).then(n)})),a.when(e).then(function(){var e=i[0].querySelector("[autofocus]");e?e.focus():i[0].focus()});var t=o.getTop();t&&o.modalRendered(t.key)})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.uibModalAnimationClass)}}}).directive("uibModalTransclude",function(){return{link:function(e,t,n,i,r){r(e.$parent,function(e){t.empty(),t.append(e)})}}}).factory("$uibModalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$injector","$$multiMap","$$stackedMap",function(o,e,c,u,d,a,t,n,i){function h(){for(var e=-1,t=b.keys(),n=0;n<t.length;n++)b.get(t[n]).value.backdrop&&(e=n);return e}function r(t,e){var n=c.find("body").eq(0),i=b.get(t).value;b.remove(t),s(i.modalDomEl,i.modalScope,function(){var e=i.openedClass||y;w.remove(e,t),n.toggleClass(e,w.hasKey(e)),p(!0)}),function(){if(g&&-1==h()){s(g,m,function(){null}),m=g=void 0}}(),e&&e.focus?e.focus():n.focus()}function p(e){var t;0<b.length()&&(t=b.top().value).modalDomEl.toggleClass(t.windowTopClass||"",e)}function s(t,n,i){var e,r=null;return n.$broadcast(x.NOW_CLOSING_EVENT,function(){return e||(e=a.defer(),r=e.promise),function(){e.resolve()}}),a.when(r).then(function e(){e.done||(e.done=!0,f?f(t,{event:"leave"}).start().then(function(){t.remove()}):o.leave(t),n.$destroy(),i&&i())})}function l(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}var f=null;t.has("$animateCss")&&(f=t.get("$animateCss"));var g,m,v,y="modal-open",b=i.createNew(),w=n.createNew(),x={NOW_CLOSING_EVENT:"modal.stack.now-closing"};return d.$watch(h,function(e){m&&(m.index=e)}),c.bind("keydown",function(e){if(e.isDefaultPrevented())return e;var t=b.top();if(t&&t.value.keyboard)switch(e.which){case 27:e.preventDefault(),d.$apply(function(){x.dismiss(t.key,"escape key press")});break;case 9:x.loadFocusElementList(t);var n=!1;e.shiftKey?x.isFocusInFirstItem(e)&&(n=x.focusLastFocusableElement()):x.isFocusInLastItem(e)&&(n=x.focusFirstFocusableElement()),n&&(e.preventDefault(),e.stopPropagation())}}),x.open=function(e,t){var n=c[0].activeElement,i=t.openedClass||y;p(!1),b.add(e,{deferred:t.deferred,renderDeferred:t.renderDeferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard,openedClass:t.openedClass,windowTopClass:t.windowTopClass}),w.put(i,e);var r=c.find("body").eq(0),o=h();if(0<=o&&!g){(m=d.$new(!0)).index=o;var a=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>');a.attr("backdrop-class",t.backdropClass),t.animation&&a.attr("modal-animation","true"),g=u(a)(m),r.append(g)}var s=angular.element('<div uib-modal-window="modal-window"></div>');s.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,"window-top-class":t.windowTopClass,size:t.size,index:b.length()-1,animate:"animate"}).html(t.content),t.animation&&s.attr("modal-animation","true");var l=u(s)(t.scope);b.top().value.modalDomEl=l,b.top().value.modalOpener=n,r.append(l),r.addClass(i),x.clearFocusListCache()},x.close=function(e,t){var n=b.get(e);return n&&l(n,t,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(t),r(e,n.value.modalOpener),!0):!n},x.dismiss=function(e,t){var n=b.get(e);return n&&l(n,t,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(t),r(e,n.value.modalOpener),!0):!n},x.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},x.getTop=function(){return b.top()},x.modalRendered=function(e){var t=b.get(e);t&&t.value.renderDeferred.resolve()},x.focusFirstFocusableElement=function(){return 0<v.length&&(v[0].focus(),!0)},x.focusLastFocusableElement=function(){return 0<v.length&&(v[v.length-1].focus(),!0)},x.isFocusInFirstItem=function(e){return 0<v.length&&(e.target||e.srcElement)==v[0]},x.isFocusInLastItem=function(e){return 0<v.length&&(e.target||e.srcElement)==v[v.length-1]},x.clearFocusListCache=function(){v=[],0},x.loadFocusElementList=function(e){if((void 0===v||!v.length)&&e){var t=e.value.modalDomEl;t&&t.length&&(v=t[0].querySelectorAll("a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]"))}},x}]).provider("$uibModal",function(){var v={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$uibModalStack","$modalSuppressWarning","$log",function(i,u,r,d,h,p,f,g){var e={},m=null;return e.getPromiseChain=function(){return m},e.open=function(o){function e(){return n}var a=r.defer(),s=r.defer(),l=r.defer(),c={result:a.promise,opened:s.promise,rendered:l.promise,close:function(e){return p.close(c,e)},dismiss:function(e){return p.dismiss(c,e)}};if((o=angular.extend({},v.options,o)).resolve=o.resolve||{},!o.template&&!o.templateUrl)throw new Error("One of template or templateUrl options is required.");var t,n=r.all([function(e){return e.template?r.when(e.template):d(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}(o)].concat(function(e){var t=[];return angular.forEach(e,function(e){angular.isFunction(e)||angular.isArray(e)?t.push(r.when(i.invoke(e))):angular.isString(e)?t.push(r.when(i.get(e))):t.push(r.when(e))}),t}(o.resolve)));return t=m=r.all([m]).then(e,e).then(function(n){var e=(o.scope||u).$new();e.$close=c.close,e.$dismiss=c.dismiss,e.$on("$destroy",function(){e.$$uibDestructionScheduled||e.$dismiss("$uibUnscheduledDestruction")});var t,i={},r=1;o.controller&&(i.$scope=e,i.$uibModalInstance=c,Object.defineProperty(i,"$modalInstance",{get:function(){return f||g.warn("$modalInstance is now deprecated. Use $uibModalInstance instead."),c}}),angular.forEach(o.resolve,function(e,t){i[t]=n[r++]}),t=h(o.controller,i),o.controllerAs&&(o.bindToController&&angular.extend(t,e),e[o.controllerAs]=t)),p.open(c,{scope:e,deferred:a,renderDeferred:l,content:n[0],animation:o.animation,backdrop:o.backdrop,keyboard:o.keyboard,backdropClass:o.backdropClass,windowTopClass:o.windowTopClass,windowClass:o.windowClass,windowTemplateUrl:o.windowTemplateUrl,size:o.size,openedClass:o.openedClass}),s.resolve(!0)},function(e){s.reject(e),a.reject(e)}).finally(function(){m===t&&(m=null)}),c},e}]};return v}),angular.module("ui.bootstrap.modal").value("$modalSuppressWarning",!1).directive("modalBackdrop",["$animate","$injector","$modalStack","$log","$modalSuppressWarning",function(o,e,t,n,a){function i(e,i,r){a||n.warn("modal-backdrop is now deprecated. Use uib-modal-backdrop instead."),i.addClass("modal-backdrop"),r.modalInClass&&(s?s(i,{addClass:r.modalInClass}).start():o.addClass(i,r.modalInClass),e.$on(t.NOW_CLOSING_EVENT,function(e,t){var n=t();s?s(i,{removeClass:r.modalInClass}).start().then(n):o.removeClass(i,r.modalInClass).then(n)}))}var s=null;return e.has("$animateCss")&&(s=e.get("$animateCss")),{replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(e,t){return e.addClass(t.backdropClass),i}}}]).directive("modalWindow",["$modalStack","$q","$animate","$injector","$log","$modalSuppressWarning",function(o,a,s,e,l,c){var u=null;return e.has("$animateCss")&&(u=e.get("$animateCss")),{scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(n,i,r){c||l.warn("modal-window is now deprecated. Use uib-modal-window instead."),i.addClass(r.windowClass||""),i.addClass(r.windowTopClass||""),n.size=r.size,n.close=function(e){var t=o.getTop();t&&t.value.backdrop&&"static"!==t.value.backdrop&&e.target===e.currentTarget&&(e.preventDefault(),e.stopPropagation(),o.dismiss(t.key,"backdrop click"))},i.on("click",n.close),n.$isRendered=!0;var t=a.defer();r.$observe("modalRender",function(e){"true"==e&&t.resolve()}),t.promise.then(function(){var e=null;r.modalInClass&&(e=u?u(i,{addClass:r.modalInClass}).start():s.addClass(i,r.modalInClass),n.$on(o.NOW_CLOSING_EVENT,function(e,t){var n=t();u?u(i,{removeClass:r.modalInClass}).start().then(n):s.removeClass(i,r.modalInClass).then(n)})),a.when(e).then(function(){var e=i[0].querySelector("[autofocus]");e?e.focus():i[0].focus()});var t=o.getTop();t&&o.modalRendered(t.key)})}}}]).directive("modalAnimationClass",["$log","$modalSuppressWarning",function(n,i){return{compile:function(e,t){i||n.warn("modal-animation-class is now deprecated. Use uib-modal-animation-class instead."),t.modalAnimation&&e.addClass(t.modalAnimationClass)}}}]).directive("modalTransclude",["$log","$modalSuppressWarning",function(o,a){return{link:function(e,t,n,i,r){a||o.warn("modal-transclude is now deprecated. Use uib-modal-transclude instead."),r(e.$parent,function(e){t.empty(),t.append(e)})}}}]).service("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$injector","$$multiMap","$$stackedMap","$uibModalStack","$log","$modalSuppressWarning",function(e,t,n,i,r,o,a,s,l,c,u,d){d||u.warn("$modalStack is now deprecated. Use $uibModalStack instead."),angular.extend(this,c)}]).provider("$modal",["$uibModalProvider",function(i){angular.extend(this,i),this.$get=["$injector","$log","$modalSuppressWarning",function(e,t,n){return n||t.warn("$modal is now deprecated. Use $uibModal instead."),e.invoke(i.$get)}]}]),angular.module("ui.bootstrap.pagination",[]).controller("UibPaginationController",["$scope","$attrs","$parse",function(n,i,r){var o=this,a={$setViewValue:angular.noop},s=i.numPages?r(i.numPages).assign:angular.noop;this.init=function(e,t){a=e,this.config=t,a.$render=function(){o.render()},i.itemsPerPage?n.$parent.$watch(r(i.itemsPerPage),function(e){o.itemsPerPage=parseInt(e,10),n.totalPages=o.calculateTotalPages()}):this.itemsPerPage=t.itemsPerPage,n.$watch("totalItems",function(){n.totalPages=o.calculateTotalPages()}),n.$watch("totalPages",function(e){s(n.$parent,e),n.page>e?n.selectPage(e):a.$render()})},this.calculateTotalPages=function(){var e=this.itemsPerPage<1?1:Math.ceil(n.totalItems/this.itemsPerPage);return Math.max(e||0,1)},this.render=function(){n.page=parseInt(a.$viewValue,10)||1},n.selectPage=function(e,t){t&&t.preventDefault(),(!n.ngDisabled||!t)&&n.page!==e&&0<e&&e<=n.totalPages&&(t&&t.target&&t.target.blur(),a.$setViewValue(e),a.$render())},n.getText=function(e){return n[e+"Text"]||o.config[e+"Text"]},n.noPrevious=function(){return 1===n.page},n.noNext=function(){return n.page===n.totalPages}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("uibPagination",["$parse","uibPaginationConfig",function(s,l){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pagination.html"},replace:!0,link:function(e,t,n,i){function u(e,t,n){return{number:e,text:t,active:n}}var r=i[0],o=i[1];if(o){var d=angular.isDefined(n.maxSize)?e.$parent.$eval(n.maxSize):l.maxSize,h=angular.isDefined(n.rotate)?e.$parent.$eval(n.rotate):l.rotate;e.boundaryLinks=angular.isDefined(n.boundaryLinks)?e.$parent.$eval(n.boundaryLinks):l.boundaryLinks,e.directionLinks=angular.isDefined(n.directionLinks)?e.$parent.$eval(n.directionLinks):l.directionLinks,r.init(o,l),n.maxSize&&e.$parent.$watch(s(n.maxSize),function(e){d=parseInt(e,10),r.render()});var a=r.render;r.render=function(){a(),0<e.page&&e.page<=e.totalPages&&(e.pages=function(e,t){var n=[],i=1,r=t,o=angular.isDefined(d)&&d<t;o&&(h?t<(r=(i=Math.max(e-Math.floor(d/2),1))+d-1)&&(i=(r=t)-d+1):(i=(Math.ceil(e/d)-1)*d+1,r=Math.min(i+d-1,t)));for(var a=i;a<=r;a++){var s=u(a,a,a===e);n.push(s)}if(o&&!h){if(1<i){var l=u(i-1,"...",!1);n.unshift(l)}if(r<t){var c=u(r+1,"...",!1);n.push(c)}}return n}(e.page,e.totalPages))}}}}}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:" Previous",nextText:"Next ",align:!0}).directive("uibPager",["uibPagerConfig",function(a){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pager.html"},replace:!0,link:function(e,t,n,i){var r=i[0],o=i[1];o&&(e.align=angular.isDefined(n.align)?e.$parent.$eval(n.align):a.align,r.init(o,a))}}}]),angular.module("ui.bootstrap.pagination").value("$paginationSuppressWarning",!1).controller("PaginationController",["$scope","$attrs","$parse","$log","$paginationSuppressWarning",function(n,i,r,e,t){t||e.warn("PaginationController is now deprecated. Use UibPaginationController instead.");var o=this,a={$setViewValue:angular.noop},s=i.numPages?r(i.numPages).assign:angular.noop;this.init=function(e,t){a=e,this.config=t,a.$render=function(){o.render()},i.itemsPerPage?n.$parent.$watch(r(i.itemsPerPage),function(e){o.itemsPerPage=parseInt(e,10),n.totalPages=o.calculateTotalPages()}):this.itemsPerPage=t.itemsPerPage,n.$watch("totalItems",function(){n.totalPages=o.calculateTotalPages()}),n.$watch("totalPages",function(e){s(n.$parent,e),n.page>e?n.selectPage(e):a.$render()})},this.calculateTotalPages=function(){var e=this.itemsPerPage<1?1:Math.ceil(n.totalItems/this.itemsPerPage);return Math.max(e||0,1)},this.render=function(){n.page=parseInt(a.$viewValue,10)||1},n.selectPage=function(e,t){t&&t.preventDefault(),(!n.ngDisabled||!t)&&n.page!==e&&0<e&&e<=n.totalPages&&(t&&t.target&&t.target.blur(),a.$setViewValue(e),a.$render())},n.getText=function(e){return n[e+"Text"]||o.config[e+"Text"]},n.noPrevious=function(){return 1===n.page},n.noNext=function(){return n.page===n.totalPages}}]).directive("pagination",["$parse","uibPaginationConfig","$log","$paginationSuppressWarning",function(s,l,c,p){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["pagination","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pagination.html"},replace:!0,link:function(e,t,n,i){function u(e,t,n){return{number:e,text:t,active:n}}p||c.warn("pagination is now deprecated. Use uib-pagination instead.");var r=i[0],o=i[1];if(o){var d=angular.isDefined(n.maxSize)?e.$parent.$eval(n.maxSize):l.maxSize,h=angular.isDefined(n.rotate)?e.$parent.$eval(n.rotate):l.rotate;e.boundaryLinks=angular.isDefined(n.boundaryLinks)?e.$parent.$eval(n.boundaryLinks):l.boundaryLinks,e.directionLinks=angular.isDefined(n.directionLinks)?e.$parent.$eval(n.directionLinks):l.directionLinks,r.init(o,l),n.maxSize&&e.$parent.$watch(s(n.maxSize),function(e){d=parseInt(e,10),r.render()});var a=r.render;r.render=function(){a(),0<e.page&&e.page<=e.totalPages&&(e.pages=function(e,t){var n=[],i=1,r=t,o=angular.isDefined(d)&&d<t;o&&(h?t<(r=(i=Math.max(e-Math.floor(d/2),1))+d-1)&&(i=(r=t)-d+1):(i=(Math.ceil(e/d)-1)*d+1,r=Math.min(i+d-1,t)));for(var a=i;a<=r;a++){var s=u(a,a,a===e);n.push(s)}if(o&&!h){if(1<i){var l=u(i-1,"...",!1);n.unshift(l)}if(r<t){var c=u(r+1,"...",!1);n.push(c)}}return n}(e.page,e.totalPages))}}}}}]).directive("pager",["uibPagerConfig","$log","$paginationSuppressWarning",function(a,s,l){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["pager","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pager.html"},replace:!0,link:function(e,t,n,i){l||s.warn("pager is now deprecated. Use uib-pager instead.");var r=i[0],o=i[1];o&&(e.align=angular.isDefined(n.align)?e.$parent.$eval(n.align):a.align,r.init(o,a))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){var s={placement:"top",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},l={mouseenter:"mouseleave",click:"click",focus:"blur",none:""},c={};this.options=function(e){angular.extend(c,e)},this.setTriggers=function(e){angular.extend(l,e)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(e,o,L,N,V,a,t,H,n){var B=n.createNew();return N.on("keypress",function(e){if(27===e.which){var t=B.top();t&&(t.value.close(),B.removeTop(),t=null)}}),function(R,I,i,F){function O(e){var t=(e||F.trigger||i).split(" "),n=t.map(function(e){return l[e]||e});return{show:t,hide:n}}F=angular.extend({},s,c,F);var e=function(e){return e.replace(/[A-Z]/g,function(e,t){return(t?"-":"")+e.toLowerCase()})}(R),t=a.startSymbol(),n=a.endSymbol(),r="<div "+e+'-popup title="'+t+"title"+n+'" '+(F.useContentExp?'content-exp="contentExp()" ':'content="'+t+"content"+n+'" ')+'placement="'+t+"placement"+n+'" popup-class="'+t+"popupClass"+n+'" animation="animation" is-open="isOpen"origin-scope="origScope" style="visibility: hidden; display: block; top: -9999px; left: -9999px;"></div>';return{compile:function(e,t){var _=o(r);return function(n,i,r,e){function o(){C.isOpen?s():a()}function a(){x&&!n.$eval(r[I+"Enable"])||(u(),function(){C.title=r[I+"Title"],C.content=E?E(n):r[R],C.popupClass=r[I+"Class"],C.placement=angular.isDefined(r[I+"Placement"])?r[I+"Placement"]:F.placement;var e=parseInt(r[I+"PopupDelay"],10),t=parseInt(r[I+"PopupCloseDelay"],10);C.popupDelay=isNaN(e)?F.popupDelay:e,C.popupCloseDelay=isNaN(t)?F.popupCloseDelay:t}(),C.popupDelay?m=m||L(t,C.popupDelay,!1):t())}function s(){l(),C.popupCloseDelay?v=v||L(c,C.popupCloseDelay,!1):c()}function t(){return l(),u(),C.content?(p||(f=C.$new(),p=_(f,function(e){b?N.find("body").append(e):i.after(e)}),k.length=0,E?(k.push(n.$watch(E,function(e){!(C.content=e)&&C.isOpen&&c()})),k.push(f.$watch(function(){S||(S=!0,f.$$postDigest(function(){S=!1,C&&C.isOpen&&A()}))}))):k.push(r.$observe(R,function(e){!(C.content=e)&&C.isOpen?c():A()})),k.push(r.$observe(I+"Title",function(e){C.title=e,C.isOpen&&A()})),k.push(r.$observe(I+"Placement",function(e){C.placement=e||F.placement,C.isOpen&&A()}))),void C.$evalAsync(function(){h(C.isOpen=!0),A()})):angular.noop}function l(){m&&(L.cancel(m),m=null),y&&(L.cancel(y),y=null)}function c(){l(),u(),C&&C.$evalAsync(function(){h(C.isOpen=!1),C.animation?g=g||L(d,150,!1):d()})}function u(){v&&(L.cancel(v),v=null),g&&(L.cancel(g),g=null)}function d(){k.length&&(angular.forEach(k,function(e){e()}),k.length=0),g=null,p&&(p.remove(),p=null),f&&(f.$destroy(),f=null)}function h(e){$&&angular.isFunction($.assign)&&$.assign(n,e)}var p,f,g,m,v,y,b=!!angular.isDefined(F.appendToBody)&&F.appendToBody,w=O(void 0),x=angular.isDefined(r[I+"Enable"]),C=n.$new(!0),S=!1,$=!!angular.isDefined(r[I+"IsOpen"])&&H(r[I+"IsOpen"]),E=!!F.useContentExp&&H(r[R]),k=[],A=function(){p&&p.html()&&(y=y||L(function(){p.css({top:0,left:0});var e=V.positionElements(i,p,C.placement,b);e.top+="px",e.left+="px",e.visibility="visible",p.css(e),y=null},0,!1))};C.origScope=n,C.isOpen=!1,B.add(C,{close:c}),C.contentExp=function(){return C.content},r.$observe("disabled",function(e){e&&l(),e&&C.isOpen&&c()}),$&&n.$watch($,function(e){C&&!e===C.isOpen&&o()});function T(){w.show.forEach(function(e){i.unbind(e,a)}),w.hide.forEach(function(e){e.split(" ").forEach(function(e){i[0].removeEventListener(e,s)})})}var M;M=r[I+"Trigger"],T(),"none"!==(w=O(M)).show&&w.show.forEach(function(e,t){e===w.hide[t]?i[0].addEventListener(e,o):e&&(i[0].addEventListener(e,a),w.hide[t].split(" ").forEach(function(e){i[0].addEventListener(e,s)})),i.on("keypress",function(e){27===e.which&&s()})});var D=n.$eval(r[I+"Animation"]);C.animation=angular.isDefined(D)?!!D:F.animation;var P=n.$eval(r[I+"AppendToBody"]);(b=angular.isDefined(P)?P:b)&&n.$on("$locationChangeSuccess",function(){C.isOpen&&c()}),n.$on("$destroy",function(){l(),u(),T(),d(),B.remove(C),C=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(d,i,h,p){return{link:function(e,o,t){function a(){n&&(n.remove(),n=null),s&&(s.$destroy(),s=null),l&&(d.leave(l).then(function(){n=null}),n=l,l=null)}var s,n,l,c=e.$eval(t.tooltipTemplateTranscludeScope),u=0;e.$watch(i.parseAsResourceUrl(t.uibTooltipTemplateTransclude),function(i){var r=++u;i?(p(i,!0).then(function(e){if(r===u){var t=c.$new(),n=h(e)(t,function(e){a(),d.enter(e,o)});l=n,(s=t).$emit("$includeContentLoaded",i)}},function(){r===u&&(a(),e.$emit("$includeContentError",i))}),e.$emit("$includeContentRequested",i)):a()}),e.$on("$destroy",a)}}}]).directive("uibTooltipClasses",function(){return{restrict:"A",link:function(e,t,n){e.placement&&t.addClass(e.placement),e.popupClass&&t.addClass(e.popupClass),e.animation()&&t.addClass(n.tooltipAnimationClass)}}}).directive("uibTooltipPopup",function(){return{replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html",link:function(e,t){t.addClass("tooltip")}}}).directive("uibTooltip",["$uibTooltip",function(e){return e("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html",link:function(e,t){t.addClass("tooltip")}}}).directive("uibTooltipTemplate",["$uibTooltip",function(e){return e("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html",link:function(e,t){t.addClass("tooltip")}}}).directive("uibTooltipHtml",["$uibTooltip",function(e){return e("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.tooltip").value("$tooltipSuppressWarning",!1).provider("$tooltip",["$uibTooltipProvider",function(i){angular.extend(this,i),this.$get=["$log","$tooltipSuppressWarning","$injector",function(e,t,n){return t||e.warn("$tooltip is now deprecated. Use $uibTooltip instead."),n.invoke(i.$get)}]}]).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest","$log","$tooltipSuppressWarning",function(d,i,h,p,r,f){return{link:function(e,o,t){f||r.warn("tooltip-template-transclude is now deprecated. Use uib-tooltip-template-transclude instead.");function a(){n&&(n.remove(),n=null),s&&(s.$destroy(),s=null),l&&(d.leave(l).then(function(){n=null}),n=l,l=null)}var s,n,l,c=e.$eval(t.tooltipTemplateTranscludeScope),u=0;e.$watch(i.parseAsResourceUrl(t.tooltipTemplateTransclude),function(i){var r=++u;i?(p(i,!0).then(function(e){if(r===u){var t=c.$new(),n=h(e)(t,function(e){a(),d.enter(e,o)});l=n,(s=t).$emit("$includeContentLoaded",i)}},function(){r===u&&(a(),e.$emit("$includeContentError",i))}),e.$emit("$includeContentRequested",i)):a()}),e.$on("$destroy",a)}}}]).directive("tooltipClasses",["$log","$tooltipSuppressWarning",function(i,r){return{restrict:"A",link:function(e,t,n){r||i.warn("tooltip-classes is now deprecated. Use uib-tooltip-classes instead."),e.placement&&t.addClass(e.placement),e.popupClass&&t.addClass(e.popupClass),e.animation()&&t.addClass(n.tooltipAnimationClass)}}}]).directive("tooltipPopup",["$log","$tooltipSuppressWarning",function(n,i){return{replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html",link:function(e,t){i||n.warn("tooltip-popup is now deprecated. Use uib-tooltip-popup instead."),t.addClass("tooltip")}}}]).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",["$log","$tooltipSuppressWarning",function(n,i){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html",link:function(e,t){i||n.warn("tooltip-template-popup is now deprecated. Use uib-tooltip-template-popup instead."),t.addClass("tooltip")}}}]).directive("tooltipTemplate",["$tooltip",function(e){return e("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",["$log","$tooltipSuppressWarning",function(n,i){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html",link:function(e,t){i||n.warn("tooltip-html-popup is now deprecated. Use uib-tooltip-html-popup instead."),t.addClass("tooltip")}}}]).directive("tooltipHtml",["$tooltip",function(e){return e("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html",link:function(e,t){t.addClass("popover")}}}).directive("uibPopoverTemplate",["$uibTooltip",function(e){return e("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover-html.html",link:function(e,t){t.addClass("popover")}}}).directive("uibPopoverHtml",["$uibTooltip",function(e){return e("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html",link:function(e,t){t.addClass("popover")}}}).directive("uibPopover",["$uibTooltip",function(e){return e("uibPopover","popover","click")}]),angular.module("ui.bootstrap.popover").value("$popoverSuppressWarning",!1).directive("popoverTemplatePopup",["$log","$popoverSuppressWarning",function(n,i){return{replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html",link:function(e,t){i||n.warn("popover-template-popup is now deprecated. Use uib-popover-template-popup instead."),t.addClass("popover")}}}]).directive("popoverTemplate",["$tooltip",function(e){return e("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverHtmlPopup",["$log","$popoverSuppressWarning",function(n,i){return{replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover-html.html",link:function(e,t){i||n.warn("popover-html-popup is now deprecated. Use uib-popover-html-popup instead."),t.addClass("popover")}}}]).directive("popoverHtml",["$tooltip",function(e){return e("popoverHtml","popover","click",{useContentExp:!0})}]).directive("popoverPopup",["$log","$popoverSuppressWarning",function(n,i){return{replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html",link:function(e,t){i||n.warn("popover-popup is now deprecated. Use uib-popover-popup instead."),t.addClass("popover")}}}]).directive("popover",["$tooltip",function(e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(i,e,t){var r=this,o=angular.isDefined(e.animate)?i.$parent.$eval(e.animate):t.animate;this.bars=[],i.max=angular.isDefined(i.max)?i.max:t.max,this.addBar=function(t,e,n){o||e.css({transition:"none"}),this.bars.push(t),t.max=i.max,t.title=n&&angular.isDefined(n.title)?n.title:"progressbar",t.$watch("value",function(e){t.recalculatePercentage()}),t.recalculatePercentage=function(){var e=r.bars.reduce(function(e,t){return t.percent=+(100*t.value/t.max).toFixed(2),e+t.percent},0);100<e&&(t.percent-=e-100)},t.$on("$destroy",function(){e=null,r.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1),this.bars.forEach(function(e){e.recalculatePercentage()})},i.$watch("max",function(e){r.bars.forEach(function(e){e.max=i.max,e.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,i){i.addBar(e,t,n)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,n,i){i.addBar(e,angular.element(t.children()[0]),{title:n.title})}}}),angular.module("ui.bootstrap.progressbar").value("$progressSuppressWarning",!1).controller("ProgressController",["$scope","$attrs","uibProgressConfig","$log","$progressSuppressWarning",function(i,e,t,n,r){r||n.warn("ProgressController is now deprecated. Use UibProgressController instead.");var o=this,a=angular.isDefined(e.animate)?i.$parent.$eval(e.animate):t.animate;this.bars=[],i.max=angular.isDefined(i.max)?i.max:t.max,this.addBar=function(t,e,n){a||e.css({transition:"none"}),this.bars.push(t),t.max=i.max,t.title=n&&angular.isDefined(n.title)?n.title:"progressbar",t.$watch("value",function(e){t.recalculatePercentage()}),t.recalculatePercentage=function(){t.percent=+(100*t.value/t.max).toFixed(2);var e=o.bars.reduce(function(e,t){return e+t.percent},0);100<e&&(t.percent-=e-100)},t.$on("$destroy",function(){e=null,o.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1)},i.$watch("max",function(e){o.bars.forEach(function(e){e.max=i.max,e.recalculatePercentage()})})}]).directive("progress",["$log","$progressSuppressWarning",function(e,t){return{replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{max:"=?",title:"@?"},templateUrl:"template/progressbar/progress.html",link:function(){t||e.warn("progress is now deprecated. Use uib-progress instead.")}}}]).directive("bar",["$log","$progressSuppressWarning",function(r,o){return{replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,i){o||r.warn("bar is now deprecated. Use uib-bar instead."),i.addBar(e,t)}}}]).directive("progressbar",["$log","$progressSuppressWarning",function(r,o){return{replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,n,i){o||r.warn("progressbar is now deprecated. Use uib-progressbar instead."),i.addBar(e,angular.element(t.children()[0]),{title:n.title})}}}]),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(i,r,o){var a={$setViewValue:angular.noop};this.init=function(e){(a=e).$render=this.render,a.$formatters.push(function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e}),this.stateOn=angular.isDefined(r.stateOn)?i.$parent.$eval(r.stateOn):o.stateOn,this.stateOff=angular.isDefined(r.stateOff)?i.$parent.$eval(r.stateOff):o.stateOff;var t=angular.isDefined(r.titles)?i.$parent.$eval(r.titles):o.titles;this.titles=angular.isArray(t)&&0<t.length?t:o.titles;var n=angular.isDefined(r.ratingStates)?i.$parent.$eval(r.ratingStates):new Array(angular.isDefined(r.max)?i.$parent.$eval(r.max):o.max);i.range=this.buildTemplateObjects(n)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;t<n;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(t)},e[t]);return e},this.getTitle=function(e){return e>=this.titles.length?e+1:this.titles[e]},i.rate=function(e){!i.readonly&&0<=e&&e<=i.range.length&&(a.$setViewValue(a.$viewValue===e?0:e),a.$render())},i.enter=function(e){i.readonly||(i.value=e),i.onHover({value:e})},i.reset=function(){i.value=a.$viewValue,i.onLeave()},i.onKeydown=function(e){/(37|38|39|40)/.test(e.which)&&(e.preventDefault(),e.stopPropagation(),i.rate(i.value+(38===e.which||39===e.which?1:-1)))},this.render=function(){i.value=a.$viewValue}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(e,t,n,i){var r=i[0],o=i[1];r.init(o)}}}),angular.module("ui.bootstrap.rating").value("$ratingSuppressWarning",!1).controller("RatingController",["$scope","$attrs","$controller","$log","$ratingSuppressWarning",function(e,t,n,i,r){r||i.warn("RatingController is now deprecated. Use UibRatingController instead."),angular.extend(this,n("UibRatingController",{$scope:e,$attrs:t}))}]).directive("rating",["$log","$ratingSuppressWarning",function(a,s){return{require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(e,t,n,i){s||a.warn("rating is now deprecated. Use uib-rating instead.");var r=i[0],o=i[1];r.init(o)}}}]),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(e){var i,r=this,o=r.tabs=e.tabs=[];r.select=function(t){angular.forEach(o,function(e){e.active&&e!==t&&(e.active=!1,e.onDeselect(),t.selectCalled=!1)}),t.active=!0,t.selectCalled||(t.onSelect(),t.selectCalled=!0)},r.addTab=function(e){o.push(e),1===o.length&&!1!==e.active?e.active=!0:e.active?r.select(e):e.active=!1},r.removeTab=function(e){var t=o.indexOf(e);if(e.active&&1<o.length&&!i){var n=t==o.length-1?t-1:t+1;r.select(o[n])}o.splice(t,1)},e.$on("$destroy",function(){i=!0})}]).directive("uibTabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"UibTabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,t,n){e.vertical=!!angular.isDefined(n.vertical)&&e.$parent.$eval(n.vertical),e.justified=!!angular.isDefined(n.justified)&&e.$parent.$eval(n.justified)}}}).directive("uibTab",["$parse",function(o){return{require:"^uibTabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},link:function(t,e,n,i,r){t.$watch("active",function(e){e&&i.select(t)}),t.disabled=!1,n.disable&&t.$parent.$watch(o(n.disable),function(e){t.disabled=!!e}),t.select=function(){t.disabled||(t.active=!0)},i.addTab(t),t.$on("$destroy",function(){i.removeTab(t)}),t.$transcludeFn=r}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:["?^uibTab","?^tab"],link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}).directive("uibTabContentTransclude",function(){return{restrict:"A",require:["?^uibTabset","?^tabset"],link:function(e,t,n){var i=e.$eval(n.uibTabContentTransclude);i.$transcludeFn(i.$parent,function(e){angular.forEach(e,function(e){!function(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||e.hasAttribute("x-tab-heading")||e.hasAttribute("uib-tab-heading")||e.hasAttribute("data-uib-tab-heading")||e.hasAttribute("x-uib-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase()||"x-tab-heading"===e.tagName.toLowerCase()||"uib-tab-heading"===e.tagName.toLowerCase()||"data-uib-tab-heading"===e.tagName.toLowerCase()||"x-uib-tab-heading"===e.tagName.toLowerCase())}(e)?t.append(e):i.headingElement=e})})}}}),angular.module("ui.bootstrap.tabs").value("$tabsSuppressWarning",!1).controller("TabsetController",["$scope","$controller","$log","$tabsSuppressWarning",function(e,t,n,i){i||n.warn("TabsetController is now deprecated. Use UibTabsetController instead."),angular.extend(this,t("UibTabsetController",{$scope:e}))}]).directive("tabset",["$log","$tabsSuppressWarning",function(i,r){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,t,n){r||i.warn("tabset is now deprecated. Use uib-tabset instead."),e.vertical=!!angular.isDefined(n.vertical)&&e.$parent.$eval(n.vertical),e.justified=!!angular.isDefined(n.justified)&&e.$parent.$eval(n.justified)}}}]).directive("tab",["$parse","$log","$tabsSuppressWarning",function(o,a,s){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},link:function(t,e,n,i,r){s||a.warn("tab is now deprecated. Use uib-tab instead."),t.$watch("active",function(e){e&&i.select(t)}),t.disabled=!1,n.disable&&t.$parent.$watch(o(n.disable),function(e){t.disabled=!!e}),t.select=function(){t.disabled||(t.active=!0)},i.addTab(t),t.$on("$destroy",function(){i.removeTab(t)}),t.$transcludeFn=r}}}]).directive("tabHeadingTransclude",["$log","$tabsSuppressWarning",function(n,i){return{restrict:"A",require:"^tab",link:function(e,t){i||n.warn("tab-heading-transclude is now deprecated. Use uib-tab-heading-transclude instead."),e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}]).directive("tabContentTransclude",["$log","$tabsSuppressWarning",function(r,o){return{restrict:"A",require:"^tabset",link:function(e,t,n){o||r.warn("tab-content-transclude is now deprecated. Use uib-tab-content-transclude instead.");var i=e.$eval(n.tabContentTransclude);i.$transcludeFn(i.$parent,function(e){angular.forEach(e,function(e){!function(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||e.hasAttribute("x-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase()||"x-tab-heading"===e.tagName.toLowerCase())}(e)?t.append(e):i.headingElement=e})})}}}]),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(r,e,o,t,n,i,a){function s(){var e=parseInt(r.hours,10);return(r.showMeridian?0<e&&e<13:0<=e&&e<24)?(r.showMeridian&&(12===e&&(e=0),r.meridian===v[1]&&(e+=12)),e):void 0}function l(){var e=parseInt(r.minutes,10);return 0<=e&&e<60?e:void 0}function c(e){return angular.isDefined(e)&&e.toString().length<2?"0"+e:e.toString()}function u(e){d(),m.$setViewValue(new Date(g)),h(e)}function d(){m.$setValidity("time",!0),r.invalidHours=!1,r.invalidMinutes=!1}function h(e){var t=g.getHours(),n=g.getMinutes();r.showMeridian&&(t=0===t||12===t?12:t%12),r.hours="h"===e?t:c(t),"m"!==e&&(r.minutes=c(n)),r.meridian=g.getHours()<12?v[0]:v[1]}function p(e,t){var n=new Date(e.getTime()+6e4*t),i=new Date(e);return i.setHours(n.getHours(),n.getMinutes()),i}function f(e){g=p(g,e),u()}var g=new Date,m={$setViewValue:angular.noop},v=angular.isDefined(o.meridians)?r.$parent.$eval(o.meridians):a.meridians||i.DATETIME_FORMATS.AMPMS;r.tabindex=angular.isDefined(o.tabindex)?o.tabindex:0,e.removeAttr("tabindex"),this.init=function(e,t){(m=e).$render=this.render,m.$formatters.unshift(function(e){return e?new Date(e):null});var n=t.eq(0),i=t.eq(1);(angular.isDefined(o.mousewheel)?r.$parent.$eval(o.mousewheel):a.mousewheel)&&this.setupMousewheelEvents(n,i),(angular.isDefined(o.arrowkeys)?r.$parent.$eval(o.arrowkeys):a.arrowkeys)&&this.setupArrowkeyEvents(n,i),r.readonlyInput=angular.isDefined(o.readonlyInput)?r.$parent.$eval(o.readonlyInput):a.readonlyInput,this.setupInputEvents(n,i)};var y=a.hourStep;o.hourStep&&r.$parent.$watch(t(o.hourStep),function(e){y=parseInt(e,10)});var b,w,x=a.minuteStep;o.minuteStep&&r.$parent.$watch(t(o.minuteStep),function(e){x=parseInt(e,10)}),r.$parent.$watch(t(o.min),function(e){var t=new Date(e);b=isNaN(t)?void 0:t}),r.$parent.$watch(t(o.max),function(e){var t=new Date(e);w=isNaN(t)?void 0:t}),r.noIncrementHours=function(){var e=p(g,60*y);return w<e||e<g&&e<b},r.noDecrementHours=function(){var e=p(g,60*-y);return e<b||g<e&&w<e},r.noIncrementMinutes=function(){var e=p(g,x);return w<e||e<g&&e<b},r.noDecrementMinutes=function(){var e=p(g,-x);return e<b||g<e&&w<e},r.noToggleMeridian=function(){return g.getHours()<13?p(g,720)>w:p(g,-720)<b},r.showMeridian=a.showMeridian,o.showMeridian&&r.$parent.$watch(t(o.showMeridian),function(e){if(r.showMeridian=!!e,m.$error.time){var t=s(),n=l();angular.isDefined(t)&&angular.isDefined(n)&&(g.setHours(t),u())}else h()}),this.setupMousewheelEvents=function(e,t){function n(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||0<t}e.bind("mousewheel wheel",function(e){r.$apply(n(e)?r.incrementHours():r.decrementHours()),e.preventDefault()}),t.bind("mousewheel wheel",function(e){r.$apply(n(e)?r.incrementMinutes():r.decrementMinutes()),e.preventDefault()})},this.setupArrowkeyEvents=function(e,t){e.bind("keydown",function(e){38===e.which?(e.preventDefault(),r.incrementHours(),r.$apply()):40===e.which&&(e.preventDefault(),r.decrementHours(),r.$apply())}),t.bind("keydown",function(e){38===e.which?(e.preventDefault(),r.incrementMinutes(),r.$apply()):40===e.which&&(e.preventDefault(),r.decrementMinutes(),r.$apply())})},this.setupInputEvents=function(e,t){if(r.readonlyInput)return r.updateHours=angular.noop,void(r.updateMinutes=angular.noop);function n(e,t){m.$setViewValue(null),m.$setValidity("time",!1),angular.isDefined(e)&&(r.invalidHours=e),angular.isDefined(t)&&(r.invalidMinutes=t)}r.updateHours=function(){var e=s(),t=l();angular.isDefined(e)&&angular.isDefined(t)?(g.setHours(e),g<b||w<g?n(!0):u("h")):n(!0)},e.bind("blur",function(e){!r.invalidHours&&r.hours<10&&r.$apply(function(){r.hours=c(r.hours)})}),r.updateMinutes=function(){var e=l(),t=s();angular.isDefined(e)&&angular.isDefined(t)?(g.setMinutes(e),g<b||w<g?n(void 0,!0):u("m")):n(void 0,!0)},t.bind("blur",function(e){!r.invalidMinutes&&r.minutes<10&&r.$apply(function(){r.minutes=c(r.minutes)})})},this.render=function(){var e=m.$viewValue;isNaN(e)?(m.$setValidity("time",!1),n.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(e&&(g=e),g<b||w<g?(m.$setValidity("time",!1),r.invalidHours=!0,r.invalidMinutes=!0):d(),h())},r.showSpinners=angular.isDefined(o.showSpinners)?r.$parent.$eval(o.showSpinners):a.showSpinners,r.incrementHours=function(){r.noIncrementHours()||f(60*y)},r.decrementHours=function(){r.noDecrementHours()||f(60*-y)},r.incrementMinutes=function(){r.noIncrementMinutes()||f(x)},r.decrementMinutes=function(){r.noDecrementMinutes()||f(-x)},r.toggleMeridian=function(){r.noToggleMeridian()||f(720*(g.getHours()<12?1:-1))}}]).directive("uibTimepicker",function(){return{restrict:"EA",require:["uibTimepicker","?^ngModel"],controller:"UibTimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(e,t){return t.templateUrl||"template/timepicker/timepicker.html"},link:function(e,t,n,i){var r=i[0],o=i[1];o&&r.init(o,t.find("input"))}}}),angular.module("ui.bootstrap.timepicker").value("$timepickerSuppressWarning",!1).controller("TimepickerController",["$scope","$element","$attrs","$controller","$log","$timepickerSuppressWarning",function(e,t,n,i,r,o){o||r.warn("TimepickerController is now deprecated. Use UibTimepickerController instead."),angular.extend(this,i("UibTimepickerController",{$scope:e,$element:t,$attrs:n}))}]).directive("timepicker",["$log","$timepickerSuppressWarning",function(a,s){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(e,t){return t.templateUrl||"template/timepicker/timepicker.html"},link:function(e,t,n,i){s||a.warn("timepicker is now deprecated. Use uib-timepicker instead.");var r=i[0],o=i[1];o&&r.init(o,t.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(n){var i=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(e){var t=e.match(i);if(!t)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+e+'".');return{itemName:t[3],source:n(t[4]),viewMapper:n(t[2]||t[1]),modelMapper:n(t[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$uibPosition","uibTypeaheadParser",function(o,a,r,e,t,n,s,i,l,c,u,d){function h(){F.moveInProgress||(F.moveInProgress=!0,F.$digest()),z&&s.cancel(z),z=s(function(){F.matches.length&&p(),F.moveInProgress=!1},v)}function p(){F.position=T?u.offset(a):u.position(a),F.position.top+=a.prop("offsetHeight")}var f,g,m=[9,13,27,38,40],v=200,y=o.$eval(r.typeaheadMinLength);y||0===y||(y=1);var b,w,x=o.$eval(r.typeaheadWaitMs)||0,C=!1!==o.$eval(r.typeaheadEditable),S=t(r.typeaheadLoading).assign||angular.noop,$=t(r.typeaheadOnSelect),E=!!angular.isDefined(r.typeaheadSelectOnBlur)&&o.$eval(r.typeaheadSelectOnBlur),k=t(r.typeaheadNoResults).assign||angular.noop,A=r.typeaheadInputFormatter?t(r.typeaheadInputFormatter):void 0,T=!!r.typeaheadAppendToBody&&o.$eval(r.typeaheadAppendToBody),M=r.typeaheadAppendToElementId||!1,D=!1!==o.$eval(r.typeaheadFocusFirst),P=!!r.typeaheadSelectOnExact&&o.$eval(r.typeaheadSelectOnExact),_=t(r.ngModel),R=t(r.ngModel+"($$$p)"),I=d.parse(r.uibTypeahead),F=o.$new(),O=o.$on("$destroy",function(){F.$destroy()});F.$on("$destroy",O);var L="typeahead-"+F.$id+"-"+Math.floor(1e4*Math.random());a.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":L});var N=angular.element("<div uib-typeahead-popup></div>");N.attr({id:L,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(r.typeaheadTemplateUrl)&&N.attr("template-url",r.typeaheadTemplateUrl),angular.isDefined(r.typeaheadPopupTemplateUrl)&&N.attr("popup-template-url",r.typeaheadPopupTemplateUrl);function V(){F.matches=[],F.activeIdx=-1,a.attr("aria-expanded",!1)}function H(e){return L+"-option-"+e}F.$watch("activeIdx",function(e){e<0?a.removeAttr("aria-activedescendant"):a.attr("aria-activedescendant",H(e))});function B(i){var r={$viewValue:i};S(o,!0),k(o,!1),n.when(I.source(o,r)).then(function(e){var t=i===f.$viewValue;if(t&&b)if(e&&0<e.length){F.activeIdx=D?0:-1,k(o,!1);for(var n=F.matches.length=0;n<e.length;n++)r[I.itemName]=e[n],F.matches.push({id:H(n),label:I.viewMapper(F,r),model:e[n]});F.query=i,p(),a.attr("aria-expanded",!0),P&&1===F.matches.length&&function(e,t){return!!(F.matches.length>t&&e)&&e.toUpperCase()===F.matches[t].label.toUpperCase()}(i,0)&&F.select(0)}else V(),k(o,!0);t&&S(o,!1)},function(){V(),S(o,!1),k(o,!0)})}var z;T&&(angular.element(l).bind("resize",h),i.find("body").bind("scroll",h)),F.moveInProgress=!1,F.query=void 0;function j(){G&&s.cancel(G)}var G;V(),F.select=function(e){var t,n,i={};w=!0,i[I.itemName]=n=F.matches[e].model,t=I.modelMapper(o,i),function(e,t){angular.isFunction(_(o))&&g&&g.$options&&g.$options.getterSetter?R(e,{$$$p:t}):_.assign(e,t)}(o,t),f.$setValidity("editable",!0),f.$setValidity("parse",!0),$(o,{$item:n,$model:t,$label:I.viewMapper(o,i)}),V(),!1!==F.$eval(r.typeaheadFocusOnSelect)&&s(function(){a[0].focus()},0,!1)},a.bind("keydown",function(e){if(0!==F.matches.length&&-1!==m.indexOf(e.which)){if(-1===F.activeIdx&&(9===e.which||13===e.which))return V(),void F.$digest();e.preventDefault(),40===e.which?(F.activeIdx=(F.activeIdx+1)%F.matches.length,F.$digest()):38===e.which?(F.activeIdx=(0<F.activeIdx?F.activeIdx:F.matches.length)-1,F.$digest()):13===e.which||9===e.which?F.$apply(function(){F.select(F.activeIdx)}):27===e.which&&(e.stopPropagation(),V(),F.$digest())}}),a.bind("blur",function(){E&&F.matches.length&&-1!==F.activeIdx&&!w&&(w=!0,F.$apply(function(){F.select(F.activeIdx)})),w=b=!1});function U(e){a[0]!==e.target&&3!==e.which&&0!==F.matches.length&&(V(),c.$$phase||F.$digest())}i.bind("click",U),o.$on("$destroy",function(){i.unbind("click",U),(T||M)&&W.remove(),T&&(angular.element(l).unbind("resize",h),i.find("body").unbind("scroll",h)),N.remove()});var W=e(N)(F);T?i.find("body").append(W):!1!==M?angular.element(i[0].getElementById(M)).append(W):a.after(W),this.init=function(e,t){g=t,(f=e).$parsers.unshift(function(e){return b=!0,0===y||e&&e.length>=y?0<x?(j(),function(e){G=s(function(){B(e)},x)}(e)):B(e):(S(o,!1),j(),V()),C?e:e?void f.$setValidity("editable",!1):(f.$setValidity("editable",!0),null)}),f.$formatters.push(function(e){var t,n={};return C||f.$setValidity("editable",!0),A?(n.$model=e,A(o,n)):(n[I.itemName]=e,t=I.viewMapper(o,n),n[I.itemName]=void 0,t!==I.viewMapper(o,n)?t:e)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","^?ngModelOptions","uibTypeahead"],link:function(e,t,n,i){i[2].init(i[0],i[1])}}}).directive("uibTypeaheadPopup",function(){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"template/typeahead/typeahead-popup.html"},link:function(t,e,n){t.templateUrl=n.templateUrl,t.isOpen=function(){return 0<t.matches.length},t.isActive=function(e){return t.active==e},t.selectActive=function(e){t.active=e},t.selectMatch=function(e){t.select({activeIdx:e})}}}}).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(r,o,a){return{scope:{index:"=",match:"=",query:"="},link:function(t,n,e){var i=a(e.templateUrl)(t.$parent)||"template/typeahead/typeahead-match.html";r(i).then(function(e){o(e.trim())(t,function(e){n.replaceWith(e)})})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(n,e,i){var r;return r=e.has("$sanitize"),function(e,t){return!r&&function(e){return/<.*>/g.test(e)}(e)&&i.warn("Unsafe use of typeahead please use ngSanitize"),e=t?(""+e).replace(new RegExp(function(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}(t),"gi"),"<strong>$&</strong>"):e,r||(e=n.trustAsHtml(e)),e}}]),angular.module("ui.bootstrap.typeahead").value("$typeaheadSuppressWarning",!1).service("typeaheadParser",["$parse","uibTypeaheadParser","$log","$typeaheadSuppressWarning",function(e,t,n,i){return i||n.warn("typeaheadParser is now deprecated. Use uibTypeaheadParser instead."),t}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$window","$rootScope","$uibPosition","typeaheadParser","$log","$typeaheadSuppressWarning",function(L,N,V,H,B,z,j,G,U,W,q){var Y=[9,13,27,38,40];return{require:["ngModel","^?ngModelOptions"],link:function(o,a,r,e){function t(){E.moveInProgress||(E.moveInProgress=!0,E.$digest()),_&&H.cancel(_),_=H(function(){E.matches.length&&s(),E.moveInProgress=!1},200)}function s(){E.position=y?G.offset(a):G.position(a),E.position.top+=a.prop("offsetHeight")}q||W.warn("typeahead is now deprecated. Use uib-typeahead instead.");var l=e[0],c=e[1],n=o.$eval(r.typeaheadMinLength);n||0===n||(n=1);var u,d,i=o.$eval(r.typeaheadWaitMs)||0,h=!1!==o.$eval(r.typeaheadEditable),p=N(r.typeaheadLoading).assign||angular.noop,f=N(r.typeaheadOnSelect),g=!!angular.isDefined(r.typeaheadSelectOnBlur)&&o.$eval(r.typeaheadSelectOnBlur),m=N(r.typeaheadNoResults).assign||angular.noop,v=r.typeaheadInputFormatter?N(r.typeaheadInputFormatter):void 0,y=!!r.typeaheadAppendToBody&&o.$eval(r.typeaheadAppendToBody),b=r.typeaheadAppendToElementId||!1,w=!1!==o.$eval(r.typeaheadFocusFirst),x=!!r.typeaheadSelectOnExact&&o.$eval(r.typeaheadSelectOnExact),C=N(r.ngModel),S=N(r.ngModel+"($$$p)"),$=U.parse(r.typeahead),E=o.$new(),k=o.$on("$destroy",function(){E.$destroy()});E.$on("$destroy",k);var A="typeahead-"+E.$id+"-"+Math.floor(1e4*Math.random());a.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":A});var T=angular.element("<div typeahead-popup></div>");T.attr({id:A,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(r.typeaheadTemplateUrl)&&T.attr("template-url",r.typeaheadTemplateUrl),angular.isDefined(r.typeaheadPopupTemplateUrl)&&T.attr("popup-template-url",r.typeaheadPopupTemplateUrl);function M(){E.matches=[],E.activeIdx=-1,a.attr("aria-expanded",!1)}function D(e){return A+"-option-"+e}E.$watch("activeIdx",function(e){e<0?a.removeAttr("aria-activedescendant"):a.attr("aria-activedescendant",D(e))});function P(i){var r={$viewValue:i};p(o,!0),m(o,!1),V.when($.source(o,r)).then(function(e){var t=i===l.$viewValue;if(t&&u)if(e&&0<e.length){E.activeIdx=w?0:-1,m(o,!1);for(var n=E.matches.length=0;n<e.length;n++)r[$.itemName]=e[n],E.matches.push({id:D(n),label:$.viewMapper(E,r),model:e[n]});E.query=i,s(),a.attr("aria-expanded",!0),x&&1===E.matches.length&&function(e,t){return!!(E.matches.length>t&&e)&&e.toUpperCase()===E.matches[t].label.toUpperCase()}(i,0)&&E.select(0)}else M(),m(o,!0);t&&p(o,!1)},function(){M(),p(o,!1),m(o,!0)})}var _;y&&(angular.element(z).bind("resize",t),B.find("body").bind("scroll",t)),E.moveInProgress=!1,M(),E.query=void 0;function R(){I&&H.cancel(I)}var I;l.$parsers.unshift(function(e){return u=!0,0===n||e&&e.length>=n?0<i?(R(),function(e){I=H(function(){P(e)},i)}(e)):P(e):(p(o,!1),R(),M()),h?e:e?void l.$setValidity("editable",!1):(l.$setValidity("editable",!0),null)}),l.$formatters.push(function(e){var t,n={};return h||l.$setValidity("editable",!0),v?(n.$model=e,v(o,n)):(n[$.itemName]=e,t=$.viewMapper(o,n),n[$.itemName]=void 0,t!==$.viewMapper(o,n)?t:e)}),E.select=function(e){var t,n,i={};d=!0,i[$.itemName]=n=E.matches[e].model,t=$.modelMapper(o,i),function(e,t){angular.isFunction(C(o))&&c&&c.$options&&c.$options.getterSetter?S(e,{$$$p:t}):C.assign(e,t)}(o,t),l.$setValidity("editable",!0),l.$setValidity("parse",!0),f(o,{$item:n,$model:t,$label:$.viewMapper(o,i)}),M(),!1!==E.$eval(r.typeaheadFocusOnSelect)&&H(function(){a[0].focus()},0,!1)},a.bind("keydown",function(e){if(0!==E.matches.length&&-1!==Y.indexOf(e.which)){if(-1===E.activeIdx&&(9===e.which||13===e.which))return M(),void E.$digest();e.preventDefault(),40===e.which?(E.activeIdx=(E.activeIdx+1)%E.matches.length,E.$digest()):38===e.which?(E.activeIdx=(0<E.activeIdx?E.activeIdx:E.matches.length)-1,E.$digest()):13===e.which||9===e.which?E.$apply(function(){E.select(E.activeIdx)}):27===e.which&&(e.stopPropagation(),M(),E.$digest())}}),a.bind("blur",function(){g&&E.matches.length&&-1!==E.activeIdx&&!d&&(d=!0,E.$apply(function(){E.select(E.activeIdx)})),d=u=!1});function F(e){a[0]!==e.target&&3!==e.which&&0!==E.matches.length&&(M(),j.$$phase||E.$digest())}B.bind("click",F),o.$on("$destroy",function(){B.unbind("click",F),(y||b)&&O.remove(),y&&(angular.element(z).unbind("resize",t),B.find("body").unbind("scroll",t)),T.remove()});var O=L(T)(E);y?B.find("body").append(O):!1!==b?angular.element(B[0].getElementById(b)).append(O):a.after(O)}}}]).directive("typeaheadPopup",["$typeaheadSuppressWarning","$log",function(i,r){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"template/typeahead/typeahead-popup.html"},link:function(t,e,n){i||r.warn("typeahead-popup is now deprecated. Use uib-typeahead-popup instead."),t.templateUrl=n.templateUrl,t.isOpen=function(){return 0<t.matches.length},t.isActive=function(e){return t.active==e},t.selectActive=function(e){t.active=e},t.selectMatch=function(e){t.select({activeIdx:e})}}}}]).directive("typeaheadMatch",["$templateRequest","$compile","$parse","$typeaheadSuppressWarning","$log",function(r,o,a,s,l){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(t,n,e){s||l.warn("typeahead-match is now deprecated. Use uib-typeahead-match instead.");var i=a(e.templateUrl)(t.$parent)||"template/typeahead/typeahead-match.html";r(i).then(function(e){o(e.trim())(t,function(e){n.replaceWith(e)})})}}}]).filter("typeaheadHighlight",["$sce","$injector","$log","$typeaheadSuppressWarning",function(n,e,i,r){var o;return o=e.has("$sanitize"),function(e,t){return r||i.warn("typeaheadHighlight is now deprecated. Use uibTypeaheadHighlight instead."),!o&&function(e){return/<.*>/g.test(e)}(e)&&i.warn("Unsafe use of typeahead please use ngSanitize"),e=t?(""+e).replace(new RegExp(function(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}(t),"gi"),"<strong>$&</strong>"):e,o||(e=n.trustAsHtml(e)),e}}]),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion-group.html",'<div class="panel {{panelClass || \'panel-default\'}}">\n  <div class="panel-heading" ng-keypress="toggleOpen($event)">\n    <h4 class="panel-title">\n      <a href tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse collapse" uib-collapse="!isOpen">\n\t  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n  <div class="carousel-inner" ng-transclude></div>\n  <a role="button" href class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n    <span class="sr-only">previous</span>\n  </a>\n  <a role="button" href class="right carousel-control" ng-click="next()" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n    <span class="sr-only">next</span>\n  </a>\n  <ol class="carousel-indicators" ng-show="slides.length > 1">\n    <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n      <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n    </li>\n  </ol>\n</div>')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <uib-daypicker ng-switch-when="day" tabindex="0"></uib-daypicker>\n  <uib-monthpicker ng-switch-when="month" tabindex="0"></uib-monthpicker>\n  <uib-yearpicker ng-switch-when="year" tabindex="0"></uib-yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/popup.html",'<ul class="dropdown-menu" dropdown-nested ng-if="isOpen" style="display: block" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n\t<li ng-transclude></li>\n\t<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n\t\t<span class="btn-group pull-left">\n\t\t\t<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n\t\t\t<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n\t\t</span>\n\t\t<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n\t</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div uib-modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    uib-modal-animation-class="fade"\n    modal-in-class="in"\n    ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}">\n    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"><div class="modal-content" uib-modal-transclude></div></div>\n</div>\n')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>\n')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n')}]),angular.module("template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-popup.html",'<div\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-template-popup.html",'<div\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    uib-tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("template/popover/popover-html.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-html.html",'<div tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind-html="contentExp()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-template.html",'<div tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content"\n        uib-tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" style="min-width: 0;" ng-transclude></div>\n')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" style="min-width: 0;" ng-transclude></div>\n</div>\n')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}" aria-valuetext="{{r.title}}"></i>\n</span>\n')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("template/timepicker/timepicker.html",'<table>\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group" ng-class="{\'has-error\': invalidHours}">\n        <input style="width:50px;" type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}">\n      </td>\n      <td>:</td>\n      <td class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n        <input style="width:50px;" type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}">\n      </td>\n      <td ng-show="showMeridian"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-match.html",'<a href tabindex="-1" ng-bind-html="match.label | uibTypeaheadHighlight:query"></a>\n')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),angular.$$csp()||angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),function(){"use strict";angular.module("ui.grid.i18n",[]),angular.module("ui.grid",["ui.grid.i18n"])}(),function(){"use strict";angular.module("ui.grid").constant("uiGridConstants",{LOG_DEBUG_MESSAGES:!0,LOG_WARN_MESSAGES:!0,LOG_ERROR_MESSAGES:!0,CUSTOM_FILTERS:/CUSTOM_FILTERS/g,COL_FIELD:/COL_FIELD/g,MODEL_COL_FIELD:/MODEL_COL_FIELD/g,TOOLTIP:/title=\"TOOLTIP\"/g,DISPLAY_CELL_TEMPLATE:/DISPLAY_CELL_TEMPLATE/g,TEMPLATE_REGEXP:/<.+>/,FUNC_REGEXP:/(\([^)]*\))?$/,DOT_REGEXP:/\./g,APOS_REGEXP:/'/g,BRACKET_REGEXP:/^(.*)((?:\s*\[\s*\d+\s*\]\s*)|(?:\s*\[\s*"(?:[^"\\]|\\.)*"\s*\]\s*)|(?:\s*\[\s*'(?:[^'\\]|\\.)*'\s*\]\s*))(.*)$/,COL_CLASS_PREFIX:"ui-grid-col",ENTITY_BINDING:"$$this",events:{GRID_SCROLL:"uiGridScroll",COLUMN_MENU_SHOWN:"uiGridColMenuShown",ITEM_DRAGGING:"uiGridItemDragStart",COLUMN_HEADER_CLICK:"uiGridColumnHeaderClick"},keymap:{TAB:9,STRG:17,CAPSLOCK:20,CTRL:17,CTRLRIGHT:18,CTRLR:18,SHIFT:16,RETURN:13,ENTER:13,BACKSPACE:8,BCKSP:8,ALT:18,ALTR:17,ALTRIGHT:17,SPACE:32,WIN:91,MAC:91,FN:null,PG_UP:33,PG_DOWN:34,UP:38,DOWN:40,LEFT:37,RIGHT:39,ESC:27,DEL:46,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123},ASC:"asc",DESC:"desc",filter:{STARTS_WITH:2,ENDS_WITH:4,EXACT:8,CONTAINS:16,GREATER_THAN:32,GREATER_THAN_OR_EQUAL:64,LESS_THAN:128,LESS_THAN_OR_EQUAL:256,NOT_EQUAL:512,SELECT:"select",INPUT:"input"},aggregationTypes:{sum:2,count:4,avg:8,min:16,max:32},CURRENCY_SYMBOLS:["","","Ar","","","B/.","Br","Bs.","Bs.F.","GH","","c","Ch.","","C$","D","","","..",".","JD",".",".","",".","..",".","Db","$","","Esc","","","Ft","FBu","FCFA","CFA","Fr","FRw","G","gr","","h","","","K","kr","kn","MK","ZK","Kz","K","L","Le","","E","lp","M","KM","MT","","Nfk","","Nu.","UM","T$","MOP$","","Pt.","","..","LL","LS","P","Q","q","R","R$","..",".",".","","RM","p","Rf.","","","SRe","Rp","","Ksh","Sh.So.","USh","S/","SDR","","\t","WS$","","VT","","","z"],scrollDirection:{UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",NONE:"none"},dataChange:{ALL:"all",EDIT:"edit",ROW:"row",COLUMN:"column",OPTIONS:"options"},scrollbars:{NEVER:0,ALWAYS:1,WHEN_NEEDED:2}})}(),angular.module("ui.grid").directive("uiGridCell",["$compile","$parse","gridUtil","uiGridConstants",function(a,e,s,l){return{priority:0,scope:!1,require:"?^uiGrid",compile:function(){return{pre:function(t,n,e,i){if(i&&t.col.compiledElementFn)(0,t.col.compiledElementFn)(t,function(e,t){n.append(e)});else if(i&&!t.col.compiledElementFn)t.col.getCompiledElementFn().then(function(e){e(t,function(e,t){n.append(e)})}).catch(angular.noop);else{var r=t.col.cellTemplate.replace(l.MODEL_COL_FIELD,"row.entity."+s.preEval(t.col.field)).replace(l.COL_FIELD,"grid.getCellValue(row, col)"),o=a(r)(t);n.append(o)}},post:function(i,r){var o,a=i.col.getColClass(!1);function s(e){var t=r;o&&(t.removeClass(o),o=null),o=angular.isFunction(i.col.cellClass)?i.col.cellClass(i.grid,i.row,i.col,i.rowRenderIndex,i.colRenderIndex):i.col.cellClass,t.addClass(o)}r.addClass(a),i.col.cellClass&&s();var e=i.grid.registerDataChangeCallback(s,[l.dataChange.COLUMN,l.dataChange.EDIT]);var t=i.$watch("row",function(e,t){if(e!==t){(o||i.col.cellClass)&&s();var n=i.col.getColClass(!1);n!==a&&(r.removeClass(a),r.addClass(n),a=n)}});function n(){e(),t()}i.$on("$destroy",n),r.on("$destroy",n)}}}}}]),angular.module("ui.grid").service("uiGridColumnMenuService",["i18nService","uiGridConstants","gridUtil",function(e,n,h){var i={initialize:function(e,t){e.grid=t.grid,(t.columnMenuScope=e).menuShown=!1},setColMenuItemWatch:function(t){var e=t.$watch("col.menuItems",function(e){void 0!==e&&e&&angular.isArray(e)?(e.forEach(function(e){void 0!==e.context&&e.context||(e.context={}),e.context.col=t.col}),t.menuItems=t.defaultMenuItems.concat(e)):t.menuItems=t.defaultMenuItems});t.$on("$destroy",e)},sortable:function(e){return Boolean(e.grid.options.enableSorting&&void 0!==e.col&&e.col&&e.col.enableSorting)},isActiveSort:function(e,t){return Boolean(void 0!==e.col&&void 0!==e.col.sort&&void 0!==e.col.sort.direction&&e.col.sort.direction===t)},suppressRemoveSort:function(e){return Boolean(e.col&&e.col.suppressRemoveSort)},hideable:function(e){return!(void 0!==e.col&&e.col&&e.col.colDef&&!1===e.col.colDef.enableHiding)},getDefaultMenuItems:function(t){return[{title:function(){return e.getSafeText("sort.ascending")},icon:"ui-grid-icon-sort-alt-up",action:function(e){e.stopPropagation(),t.sortColumn(e,n.ASC)},shown:function(){return i.sortable(t)},active:function(){return i.isActiveSort(t,n.ASC)}},{title:function(){return e.getSafeText("sort.descending")},icon:"ui-grid-icon-sort-alt-down",action:function(e){e.stopPropagation(),t.sortColumn(e,n.DESC)},shown:function(){return i.sortable(t)},active:function(){return i.isActiveSort(t,n.DESC)}},{title:function(){return e.getSafeText("sort.remove")},icon:"ui-grid-icon-cancel",action:function(e){e.stopPropagation(),t.unsortColumn()},shown:function(){return i.sortable(t)&&void 0!==t.col&&void 0!==t.col.sort&&void 0!==t.col.sort.direction&&null!==t.col.sort.direction&&!i.suppressRemoveSort(t)}},{title:function(){return e.getSafeText("column.hide")},icon:"ui-grid-icon-cancel",shown:function(){return i.hideable(t)},action:function(e){e.stopPropagation(),t.hideColumn()}}]},getColumnElementPosition:function(e,t,n){var i={};return i.left=n[0].offsetLeft,i.top=n[0].offsetTop,i.parentLeft=n[0].offsetParent.offsetLeft,i.offset=0,t.grid.options.offsetLeft&&(i.offset=t.grid.options.offsetLeft),i.height=h.elementHeight(n,!0),i.width=h.elementWidth(n,!0),i},repositionMenu:function(e,t,n,i,r){var o=i[0].querySelectorAll(".ui-grid-menu"),a=h.closestElm(r,".ui-grid-render-container"),s=a.getBoundingClientRect().left-e.grid.element[0].getBoundingClientRect().left,l=a.querySelectorAll(".ui-grid-viewport")[0].scrollLeft,c=h.elementWidth(o,!0),u=t.lastMenuPaddingRight?t.lastMenuPaddingRight:e.lastMenuPaddingRight?e.lastMenuPaddingRight:10;0!==o.length&&0!==o[0].querySelectorAll(".ui-grid-menu-mid").length&&(u=parseInt(h.getStyles(angular.element(o)[0]).paddingRight,10),e.lastMenuPaddingRight=u,t.lastMenuPaddingRight=u);var d=n.left+s-l+n.parentLeft+n.width+u;d<n.offset+c&&(d=Math.max(n.left-l+n.parentLeft-u+c,n.offset+c)),i.css("left",d+"px"),i.css("top",n.top+n.height+"px")}};return i}]).directive("uiGridColumnMenu",["$timeout","gridUtil","uiGridConstants","uiGridColumnMenuService","$document",function(n,r,a,s,l){return{priority:0,scope:!0,require:"^uiGrid",templateUrl:"ui-grid/uiGridColumnMenu",replace:!0,link:function(o,i,e,t){s.initialize(o,t),o.defaultMenuItems=s.getDefaultMenuItems(o),o.menuItems=o.defaultMenuItems,s.setColMenuItemWatch(o),o.showMenu=function(e,t,n){o.col=e;var i=s.getColumnElementPosition(o,e,t);o.menuShown?(o.colElement=t,o.colElementPosition=i,o.hideThenShow=!0,o.$broadcast("hide-menu",{originalEvent:n})):(o.menuShown=!0,o.colElement=t,o.colElementPosition=i,o.$broadcast("show-menu",{originalEvent:n}))},o.hideMenu=function(e){o.menuShown=!1,e||o.$broadcast("hide-menu")},o.$on("menu-hidden",function(){var e=angular.element(i[0].querySelector(".ui-grid-menu-items"))[0];i[0].removeAttribute("style"),o.hideThenShow?(delete o.hideThenShow,o.$broadcast("show-menu"),o.menuShown=!0):(o.hideMenu(!0),o.col&&r.focus.bySelector(l,".ui-grid-header-cell."+o.col.getColClass()+" .ui-grid-column-menu-button",o.col.grid,!1)),e&&(e.onkeydown=null,angular.forEach(e.children,function(e){e.onkeydown=null}))}),o.$on("menu-shown",function(){n(function(){s.repositionMenu(o,o.col,o.colElementPosition,i,o.colElement),r.focus.bySelector(l,".ui-grid-menu-items .ui-grid-menu-item:not(.ng-hide)",!0),delete o.colElementPosition,delete o.columnElement,function(){var e,t=angular.element(i[0].querySelector(".ui-grid-menu-items"))[0],r=[];function n(e,t,n,i){e.keyCode===a.keymap.TAB&&(t?e.preventDefault():n&&(e.preventDefault(),r[i].focus()))}t&&(t.onkeydown=function(e){e.keyCode===a.keymap.ESC&&(e.preventDefault(),o.hideMenu())},e=t.querySelectorAll(".ui-grid-menu-item:not(.ng-hide)"),angular.forEach(e,function(e){null!==e.offsetParent&&this.push(e)},r),r.length&&(1===r.length?r[0].onkeydown=function(e){n(e,!0)}:(r[0].onkeydown=function(e){n(e,!1,e.shiftKey,r.length-1)},r[r.length-1].onkeydown=function(e){n(e,!1,!e.shiftKey,0)})))}()})}),o.sortColumn=function(e,t){e.stopPropagation(),o.grid.sortColumn(o.col,t,!0).then(function(){o.grid.refresh(),o.hideMenu()}).catch(angular.noop)},o.unsortColumn=function(){o.col.unsort(),o.grid.refresh(),o.hideMenu()},o.hideColumn=function(){o.col.colDef.visible=!1,o.col.visible=!1,o.grid.queueGridRefresh(),o.hideMenu(),o.grid.api.core.notifyDataChange(a.dataChange.COLUMN),o.grid.api.core.raise.columnVisibilityChanged(o.col),n(function(){function t(){return r.focus.byId("grid-menu",o.grid)}var n,i;if(o.grid.columns.some(function(e,t){if(angular.equals(e,o.col))return n=t,!0}),o.grid.columns.some(function(e,t){if(!e.visible)return!1;if(t<n)i=e;else{if(n<t&&!i)return i=e,!0;if(n<t&&i)return!0}}),i){var e=i.getColClass();r.focus.bySelector(l,".ui-grid-header-cell."+e+" .ui-grid-header-cell-primary-focus",!0).then(angular.noop,function(e){if("canceled"!==e)return t()}).catch(angular.noop)}else t()})}},controller:["$scope",function(e){var t=this;e.$watch("menuItems",function(e){t.menuItems=e})}]}}]),function(){"use strict";angular.module("ui.grid").directive("uiGridFilter",["$compile","$templateCache","i18nService","gridUtil",function(r,e,t,i){return{compile:function(){return{pre:function(n,i){n.col.updateFilters=function(e){if(i.children().remove(),e){var t=n.col.filterHeaderTemplate;void 0===t&&""!==n.col.providedFilterHeaderTemplate?n.col.filterHeaderTemplatePromise&&n.col.filterHeaderTemplatePromise.then(function(){t=n.col.filterHeaderTemplate,i.append(r(t)(n))}):i.append(r(t)(n))}},n.$on("$destroy",function(){delete n.col.updateFilters})},post:function(e,n){e.aria=t.getSafeText("headerCell.aria"),e.removeFilter=function(e,t){e.term=null,i.focus.bySelector(n,".ui-grid-filter-input-"+t)}}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFooterCell",["$timeout","gridUtil","uiGridConstants","$compile",function(e,t,l,i){return{priority:0,scope:{col:"=",row:"=",renderIndex:"="},replace:!0,require:"^uiGrid",compile:function(){return{pre:function(e,t){var n=e.col.footerCellTemplate;void 0===n&&""!==e.col.providedFooterCellTemplate?e.col.footerCellTemplatePromise&&e.col.footerCellTemplatePromise.then(function(){n=e.col.footerCellTemplate,t.append(i(n)(e))}):t.append(i(n)(e))},post:function(t,n,e,i){t.grid=i.grid;var r,o=t.col.getColClass(!1);n.addClass(o);function a(){var e=n;r&&(e.removeClass(r),r=null),r=angular.isFunction(t.col.footerCellClass)?t.col.footerCellClass(t.grid,t.row,t.col,t.rowRenderIndex,t.colRenderIndex):t.col.footerCellClass,e.addClass(r)}t.col.footerCellClass&&a(),t.col.updateAggregationValue();var s=t.grid.registerDataChangeCallback(a,[l.dataChange.COLUMN]);t.grid.api.core.on.rowsRendered(t,t.col.updateAggregationValue),t.grid.api.core.on.rowsRendered(t,a),t.$on("$destroy",s)}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFooter",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(e,s,t,l,n){return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function(e,t){return{pre:function(r,o,e,t){var n=t[0],a=t[1];r.grid=n.grid,r.colContainer=a.colContainer,a.footer=o;var i=r.grid.options.footerTemplate;l.getTemplate(i).then(function(e){var t=angular.element(e),n=s(t)(r);if(o.append(n),a){var i=o[0].getElementsByClassName("ui-grid-footer-viewport")[0];i&&(a.footerViewport=i)}}).catch(angular.noop)},post:function(e,t,n,i){var r=i[0],o=i[1];r.grid;l.disableAnimations(t);var a=(o.footer=t)[0].getElementsByClassName("ui-grid-footer-viewport")[0];a&&(o.footerViewport=a)}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridGridFooter",["$templateCache","$compile","uiGridConstants","gridUtil",function(e,o,t,a){return{restrict:"EA",replace:!0,require:"^uiGrid",scope:!0,compile:function(){return{pre:function(i,r,e,t){i.grid=t.grid;var n=i.grid.options.gridFooterTemplate;a.getTemplate(n).then(function(e){var t=angular.element(e),n=o(t)(i);r.append(n)}).catch(angular.noop)}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridHeaderCell",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants","ScrollEvent","i18nService",function(i,p,e,f,t,g,n,m){return{priority:0,scope:{col:"=",row:"=",renderIndex:"="},require:["^uiGrid","^uiGridRenderContainer"],replace:!0,compile:function(){return{pre:function(e,t){var n=e.col.headerCellTemplate;void 0===n&&""!==e.col.providedHeaderCellTemplate?e.col.headerCellTemplatePromise&&e.col.headerCellTemplatePromise.then(function(){n=e.col.headerCellTemplate,t.append(i(n)(e))}):t.append(i(n)(e))},post:function(n,i,e,t){var r=t[0],o=t[1];n.i18n={headerCell:m.getSafeText("headerCell"),sort:m.getSafeText("sort")},n.isSortPriorityVisible=function(){return angular.isNumber(n.col.sort.priority)&&n.grid.columns.some(function(e,t){return angular.isNumber(e.sort.priority)&&e!==n.col})},n.getSortDirectionAriaLabel=function(){var e=n.col,t=e.sort.direction===g.ASC?n.i18n.sort.ascending:e.sort.direction===g.DESC?n.i18n.sort.descending:n.i18n.sort.none;return n.isSortPriorityVisible()&&(t=t+". "+n.i18n.headerCell.priority+" "+(e.sort.priority+1)),t},n.grid=r.grid,n.renderContainer=r.grid.renderContainers[o.containerId];var a=n.col.getColClass(!1);i.addClass(a),n.menuShown=!1,n.asc=g.ASC,n.desc=g.DESC;var s,l,c=angular.element(i[0].querySelectorAll(".ui-grid-cell-contents")),u=[];n.downFn=function(e){e.stopPropagation(),void 0!==e.originalEvent&&void 0!==e.originalEvent&&(e=e.originalEvent),e.button&&0!==e.button||(l=e.pageX,n.mousedownStartTime=(new Date).getTime(),n.mousedownTimeout=p(function(){},500),n.mousedownTimeout.then(function(){n.colMenu&&r.columnMenuScope.showMenu(n.col,i,e)}).catch(angular.noop),r.fireEvent(g.events.COLUMN_HEADER_CLICK,{event:e,columnName:n.col.colDef.name}),n.offAllEvents(),"touchstart"===e.type?(f.on("touchend",n.upFn),f.on("touchmove",n.moveFn)):"mousedown"===e.type&&(f.on("mouseup",n.upFn),f.on("mousemove",n.moveFn)))},n.upFn=function(e){e.stopPropagation(),p.cancel(n.mousedownTimeout),n.offAllEvents(),n.onDownEvents(e.type),500<(new Date).getTime()-n.mousedownStartTime||n.sortable&&n.handleClick(e)},n.handleKeyDown=function(e){32===e.keyCode&&e.preventDefault()},n.moveFn=function(e){0!=e.pageX-l&&(p.cancel(n.mousedownTimeout),n.offAllEvents(),n.onDownEvents(e.type))},n.clickFn=function(e){e.stopPropagation(),c.off("click",n.clickFn)},n.offAllEvents=function(){c.off("touchstart",n.downFn),c.off("mousedown",n.downFn),f.off("touchend",n.upFn),f.off("mouseup",n.upFn),f.off("touchmove",n.moveFn),f.off("mousemove",n.moveFn),c.off("click",n.clickFn)},n.onDownEvents=function(e){switch(e){case"touchmove":case"touchend":c.on("click",n.clickFn),c.on("touchstart",n.downFn),p(function(){c.on("mousedown",n.downFn)},500);break;case"mousemove":case"mouseup":c.on("click",n.clickFn),c.on("mousedown",n.downFn),p(function(){c.on("touchstart",n.downFn)},500);break;default:c.on("click",n.clickFn),c.on("touchstart",n.downFn),c.on("mousedown",n.downFn)}};function d(){var e=i;s&&(e.removeClass(s),s=null),s=angular.isFunction(n.col.headerCellClass)?n.col.headerCellClass(n.grid,n.row,n.col,n.rowRenderIndex,n.colRenderIndex):n.col.headerCellClass,e.addClass(s),n.$applyAsync(function(){var e=n.grid.renderContainers.right&&n.grid.renderContainers.right.visibleColumnCache.length?n.grid.renderContainers.right:n.grid.renderContainers.body;n.isLastCol=r.grid.options&&r.grid.options.enableGridMenu&&n.col===e.visibleColumnCache[e.visibleColumnCache.length-1]}),n.sortable=Boolean(n.col.enableSorting);var t=n.filterable;n.filterable=Boolean(r.grid.options.enableFiltering&&n.col.enableFiltering),t!==n.filterable&&(void 0!==n.col.updateFilters&&n.col.updateFilters(n.filterable),n.filterable?(n.col.filters.forEach(function(e,t){u.push(n.$watch("col.filters["+t+"].term",function(e,t){e!==t&&(r.grid.api.core.raise.filterChanged(),r.grid.api.core.notifyDataChange(g.dataChange.COLUMN),r.grid.queueGridRefresh())}))}),n.$on("$destroy",function(){u.forEach(function(e){e()})})):u.forEach(function(e){e()})),n.colMenu=n.col.grid.options&&!1!==n.col.grid.options.enableColumnMenus&&n.col.colDef&&!1!==n.col.colDef.enableColumnMenu,n.offAllEvents(),(n.sortable||n.colMenu)&&(n.onDownEvents(),n.$on("$destroy",function(){n.offAllEvents()}))}d();var h=n.grid.registerDataChangeCallback(d,[g.dataChange.COLUMN]);n.$on("$destroy",h),n.handleClick=function(e){var t=!1;e.shiftKey&&(t=!0),r.grid.sortColumn(n.col,t).then(function(){r.columnMenuScope&&r.columnMenuScope.hideMenu(),r.grid.refresh()}).catch(angular.noop)},n.headerCellArrowKeyDown=function(e){32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),n.toggleMenu(e))},n.toggleMenu=function(e){e.stopPropagation(),r.columnMenuScope.menuShown&&r.columnMenuScope.col===n.col?r.columnMenuScope.hideMenu():r.columnMenuScope.showMenu(n.col,i)}}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridHeader",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout","ScrollEvent",function(e,c,t,u,n,d){return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function(){return{pre:function(r,o,e,t){var n,i=t[0],a=t[1];function s(){a.header=a.colContainer.header=o;var e=o[0].getElementsByClassName("ui-grid-header-canvas");0<e.length?a.headerCanvas=a.colContainer.headerCanvas=e[0]:a.headerCanvas=null}function l(){if(!i.grid.isScrollingHorizontally){var e=u.normalizeScrollLeft(a.headerViewport,i.grid),t=a.colContainer.scrollHorizontal(e),n=new d(i.grid,null,a.colContainer,d.Sources.ViewPortScroll);n.newScrollLeft=e,-1<t&&(n.x={percentage:t}),i.grid.scrollContainers(null,n)}}r.grid=i.grid,r.colContainer=a.colContainer,s(),n=r.grid.options.showHeader?r.grid.options.headerTemplate?r.grid.options.headerTemplate:"ui-grid/ui-grid-header":"ui-grid/ui-grid-no-header",u.getTemplate(n).then(function(e){var t=angular.element(e),n=c(t)(r);if(o.replaceWith(n),o=n,s(),a){var i=o[0].getElementsByClassName("ui-grid-header-viewport")[0];i&&(a.headerViewport=i,angular.element(i).on("scroll",l),r.$on("$destroy",function(){angular.element(i).off("scroll",l)}))}r.grid.queueRefresh()}).catch(angular.noop)},post:function(e,t,n,i){var r=i[0],o=i[1];r.grid;u.disableAnimations(t);var a=(o.header=t)[0].getElementsByClassName("ui-grid-header-viewport")[0];a&&(o.headerViewport=a),r&&r.grid.registerStyleComputation({priority:15,func:function(){var e=o.colContainer.visibleColumnCache,t="",n=0;return e.forEach(function(e){t+=e.getColClassDefinition(),n+=e.drawnWidth}),o.colContainer.canvasWidth=n,t}})}}}}}])}(),angular.module("ui.grid").service("uiGridGridMenuService",["gridUtil","i18nService","uiGridConstants",function(r,a,t){var s={initialize:function(e,t){(t.gridMenuScope=e).grid=t,e.registeredMenuItems=[],e.$on("$destroy",function(){e.grid&&e.grid.gridMenuScope&&(e.grid.gridMenuScope=null),e.grid&&(e.grid=null),e.registeredMenuItems&&(e.registeredMenuItems=null)}),e.registeredMenuItems=[],t.api.registerMethod("core","addToGridMenu",s.addToGridMenu),t.api.registerMethod("core","removeFromGridMenu",s.removeFromGridMenu)},addToGridMenu:function(e,t){angular.isArray(t)?e.gridMenuScope?(e.gridMenuScope.registeredMenuItems=e.gridMenuScope.registeredMenuItems?e.gridMenuScope.registeredMenuItems:[],e.gridMenuScope.registeredMenuItems=e.gridMenuScope.registeredMenuItems.concat(t)):r.logError("Asked to addToGridMenu, but gridMenuScope not present.  Timing issue?  Please log issue with ui-grid"):r.logError("addToGridMenu: menuItems must be an array, and is not, not adding any items")},removeFromGridMenu:function(e,n){var i=-1;e&&e.gridMenuScope&&e.gridMenuScope.registeredMenuItems.forEach(function(e,t){e.id===n&&(-1<i?r.logError("removeFromGridMenu: found multiple items with the same id, removing only the last"):i=t)}),-1<i&&e.gridMenuScope.registeredMenuItems.splice(i,1)},getMenuItems:function(t){var e=[];t.grid.options.gridMenuCustomItems&&(angular.isArray(t.grid.options.gridMenuCustomItems)?e=e.concat(t.grid.options.gridMenuCustomItems):r.logError("gridOptions.gridMenuCustomItems must be an array, and is not"));var n=[{title:a.getSafeText("gridMenu.clearAllFilters"),action:function(e){t.grid.clearAllFilters()},shown:function(){return t.grid.options.enableFiltering},order:100}];return e=(e=e.concat(n)).concat(t.registeredMenuItems),!1!==t.grid.options.gridMenuShowHideColumns&&(e=e.concat(s.showHideColumns(t))),e.sort(function(e,t){return e.order-t.order}),e},showHideColumns:function(i){var r=[];if(!i.grid.options.columnDefs||0===i.grid.options.columnDefs.length||0===i.grid.columns.length)return r;function o(e){return function(e){return!0===e.visible||void 0===e.visible}(e)?"ui-grid-icon-ok":"ui-grid-icon-cancel"}return r.push({title:a.getSafeText("gridMenu.columns"),order:300,templateUrl:"ui-grid/ui-grid-menu-header-item"}),i.grid.options.gridMenuTitleFilter=i.grid.options.gridMenuTitleFilter?i.grid.options.gridMenuTitleFilter:function(e){return e},i.grid.options.columnDefs.forEach(function(e,t){if(!1!==e.enableHiding){var n={icon:o(e),action:function(e){e.stopPropagation(),s.toggleColumnVisibility(this.context.gridCol),e.target&&e.target.firstChild&&("I"===angular.element(e.target)[0].nodeName?e.target.className=o(this.context.gridCol.colDef):e.target.firstChild.className=o(this.context.gridCol.colDef))},shown:function(){return!1!==this.context.gridCol.colDef.enableHiding},context:{gridCol:i.grid.getColumn(e.name||e.field)},leaveOpen:!0,order:301+t};s.setMenuItemTitle(n,e,i.grid),r.push(n)}}),r},setMenuItemTitle:function(t,e,n){var i=n.options.gridMenuTitleFilter(e.displayName||r.readableColumnName(e.name)||e.field);"string"==typeof i?t.title=i:i.then?(t.title="",i.then(function(e){t.title=e},function(e){t.title=e}).catch(angular.noop)):(r.logError("Expected gridMenuTitleFilter to return a string or a promise, it has returned neither, bad config"),t.title="badconfig")},toggleColumnVisibility:function(e){e.colDef.visible=!(!0===e.colDef.visible||void 0===e.colDef.visible),e.grid.refresh(),e.grid.api.core.notifyDataChange(t.dataChange.COLUMN),e.grid.api.core.raise.columnVisibilityChanged(e)}};return s}]).directive("uiGridMenuButton",["gridUtil","uiGridConstants","uiGridGridMenuService","i18nService",function(o,e,a,s){return{priority:0,scope:!0,require:["^uiGrid"],templateUrl:"ui-grid/ui-grid-menu-button",replace:!0,link:function(e,t,n,i){var r=i[0];e.i18n={aria:s.getSafeText("gridMenu.aria")},a.initialize(e,r.grid),e.shown=!1,e.toggleMenu=function(){e.shown?(e.$broadcast("hide-menu"),e.shown=!1):(e.menuItems=a.getMenuItems(e),e.$broadcast("show-menu"),e.shown=!0)},e.$on("menu-hidden",function(){e.shown=!1,o.focus.bySelector(t,".ui-grid-icon-container")})}}}]),angular.module("ui.grid").directive("uiGridMenu",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants","i18nService",function(c,u,d,e,h,p,f){return{priority:0,scope:{menuItems:"=",autoHide:"=?"},require:"?^uiGrid",templateUrl:"ui-grid/uiGridMenu",replace:!1,link:function(i,o,e,n){if(i.dynamicStyles="",n&&n.grid&&n.grid.options&&n.grid.options.gridMenuTemplate){var t=n.grid.options.gridMenuTemplate;h.getTemplate(t).then(function(e){var t=angular.element(e),n=c(t)(i);o.replaceWith(n)}).catch(angular.noop)}function r(e){var t=e-n.grid.headerHeight-20;i.dynamicStyles=[".grid"+n.grid.id+" .ui-grid-menu-mid {","max-height: "+t+"px;","}"].join(" ")}n&&(r(n.grid.gridHeight),n.grid.api.core.on.gridDimensionChanged(i,function(e,t,n,i){r(n)})),i.i18n={close:f.getSafeText("columnMenu.close")},i.showMenu=function(e,t){i.shown?i.shownMid||(i.shownMid=!0,i.$emit("menu-shown")):(i.shown=!0,u(function(){i.shownMid=!0,i.$emit("menu-shown")}));var n="click";t&&t.originalEvent&&t.originalEvent.type&&"touchstart"===t.originalEvent.type&&(n=t.originalEvent.type),angular.element(document).off("click touchstart",a),o.off("keyup",s),o.off("keydown",l),u(function(){angular.element(document).on(n,a),o.on("keyup",s),o.on("keydown",l)})},i.hideMenu=function(e){i.shown&&(i.shownMid=!1,u(function(){i.shownMid||(i.shown=!1,i.$emit("menu-hidden"))},40)),angular.element(document).off("click touchstart",a),o.off("keyup",s),o.off("keydown",l)},i.$on("hide-menu",function(e,t){i.hideMenu(e,t)}),i.$on("show-menu",function(e,t){i.showMenu(e,t)});var a=function(){i.shown&&i.$apply(function(){i.hideMenu()})},s=function(e){27===e.keyCode&&i.hideMenu()},l=function(t){function e(e){return e.focus(),t.preventDefault(),!1}if(9===t.keyCode){var n,i,r=o[0].querySelectorAll("button:not(.ng-hide)");0<r.length&&(n=r[0],i=r[r.length-1],t.target!==i||t.shiftKey?t.target===n&&t.shiftKey&&e(i):e(n))}};void 0!==i.autoHide&&void 0!==i.autoHide||(i.autoHide=!0),i.autoHide&&angular.element(d).on("resize",a),i.$on("$destroy",function(){angular.element(d).off("resize",a),angular.element(document).off("click touchstart",a),o.off("keyup",s),o.off("keydown",l)}),n&&i.$on("$destroy",n.grid.api.core.on.scrollBegin(i,a)),i.$on("$destroy",i.$on(p.events.ITEM_DRAGGING,a))}}}]).directive("uiGridMenuItem",["gridUtil","$compile","i18nService",function(a,o,i){return{priority:0,scope:{name:"=",active:"=",action:"=",icon:"=",shown:"=",context:"=",templateUrl:"=",leaveOpen:"=",screenReaderOnly:"="},require:["?^uiGrid"],templateUrl:"ui-grid/uiGridMenuItem",replace:!1,compile:function(){return{pre:function(i,r){i.templateUrl&&a.getTemplate(i.templateUrl).then(function(e){var t=angular.element(e),n=o(t)(i);r.replaceWith(n)}).catch(angular.noop)},post:function(r,e,t,n){var o=n[0];void 0!==r.shown&&null!==r.shown||(r.shown=function(){return!0}),r.itemShown=function(){var e={};return r.context&&(e.context=r.context),void 0!==o&&o&&(e.grid=o.grid),r.shown.call(e)},r.itemAction=function(e,t){if(e.stopPropagation(),"function"==typeof r.action){var n={};if(r.context&&(n.context=r.context),void 0!==o&&o&&(n.grid=o.grid),r.action.call(n,e,t),r.leaveOpen){var i=e.target.parentElement;"I"===angular.element(e.target)[0].nodeName&&(i=i.parentElement),a.focus.bySelector(i,"button[type=button]",!0)}else r.$emit("hide-menu")}},r.label=function(){var e=r.name;return"function"==typeof r.name&&(e=r.name.call()),e},r.i18n=i.get()}}}}}]),function(){"use strict";var t=angular.module("ui.grid");angular.forEach([{tag:"Src",method:"attr"},{tag:"Text",method:"text"},{tag:"Href",method:"attr"},{tag:"Class",method:"addClass"},{tag:"Html",method:"html"},{tag:"Alt",method:"attr"},{tag:"Style",method:"css"},{tag:"Value",method:"attr"},{tag:"Id",method:"attr"},{tag:"Id",directiveName:"IdGrid",method:"attr",appendGridId:!0},{tag:"Title",method:"attr"},{tag:"Label",method:"attr",aria:!0},{tag:"Labelledby",method:"attr",aria:!0},{tag:"Labelledby",directiveName:"LabelledbyGrid",appendGridId:!0,method:"attr",aria:!0},{tag:"Describedby",method:"attr",aria:!0},{tag:"Describedby",directiveName:"DescribedbyGrid",appendGridId:!0,method:"attr",aria:!0}],function(c){var e="uiGridOneBind",u=(c.aria?e+"Aria":e)+(c.directiveName?c.directiveName:c.tag);t.directive(u,["gridUtil",function(l){return{restrict:"A",require:["?uiGrid","?^uiGrid"],link:function(r,o,e,a){var s=r.$watch(e[u],function(e){if(e){if(c.appendGridId){var t=null;angular.forEach(e.split(" "),function(e){t=(t?t+" ":"")+function(e){var t;if(r.grid)t=r.grid;else if(r.col&&r.col.grid)t=r.col.grid;else if(!a.some(function(e){if(e&&e.grid)return t=e.grid,!0}))throw l.logError("["+u+"] A valid grid could not be found to bind id. Are you using this directive within the correct scope? Trying to generate id: [gridID]-"+e),new Error("No valid grid could be found");t&&(new RegExp(t.id.toString()).test(e)||(e=t.id.toString()+"-"+e));return e}(e)}),e=t}switch(c.method){case"attr":c.aria?o[c.method]("aria-"+c.tag.toLowerCase(),e):o[c.method](c.tag.toLowerCase(),e);break;case"addClass":if(angular.isObject(e)&&!angular.isArray(e)){var n=[],i=!1;if(angular.forEach(e,function(e,t){null!=e&&(i=!0,e&&n.push(t))}),!i)return;e=n}if(!e)return;o.addClass(angular.isArray(e)?e.join(" "):e);break;default:o[c.method](e)}s()}},!0)}}}])})}(),function(){"use strict";var e=angular.module("ui.grid");e.directive("uiGridRenderContainer",["$timeout","$document","uiGridConstants","gridUtil","ScrollEvent",function(e,t,n,g,m){return{replace:!0,transclude:!0,templateUrl:"ui-grid/uiGridRenderContainer",require:["^uiGrid","uiGridRenderContainer"],scope:{containerId:"=",rowContainerName:"=",colContainerName:"=",bindScrollHorizontal:"=",bindScrollVertical:"=",enableVerticalScrollbar:"=",enableHorizontalScrollbar:"="},controller:"uiGridRenderContainer as RenderContainer",compile:function(){return{pre:function(e,t,n,i){var r,o,a=i[0],s=i[1],l=e.grid=a.grid;if(!e.rowContainerName)throw new Error("No row render container name specified");if(!e.colContainerName)throw new Error("No column render container name specified");if(!l.renderContainers[e.rowContainerName])throw new Error('Row render container "'+e.rowContainerName+'" is not registered.');if(!l.renderContainers[e.colContainerName])throw new Error('Column render container "'+e.colContainerName+'" is not registered.');r=e.rowContainer=l.renderContainers[e.rowContainerName],o=e.colContainer=l.renderContainers[e.colContainerName],s.containerId=e.containerId,s.rowContainer=r,s.colContainer=o},post:function(l,t,e,n){var c=n[0],a=n[1],u=c.grid,d=a.rowContainer,h=a.colContainer,s=null,p=null,f=u.renderContainers[l.containerId];t.addClass("ui-grid-render-container-"+l.containerId),g.on.mousewheel(t,function(e){var t=new m(u,d,h,m.Sources.RenderContainerMouseWheel);if(0!==e.deltaY){var n=-1*e.deltaY*e.deltaFactor;s=a.viewport[0].scrollTop,t.verticalScrollLength=d.getVerticalScrollLength();var i=(s+n)/t.verticalScrollLength;1<=i&&s<t.verticalScrollLength&&(a.viewport[0].scrollTop=t.verticalScrollLength),i<0?i=0:1<i&&(i=1),t.y={percentage:i,pixels:n}}if(0!==e.deltaX){var r=e.deltaX*e.deltaFactor;p=g.normalizeScrollLeft(a.viewport,u),t.horizontalScrollLength=h.getCanvasWidth()-h.getViewportWidth();var o=(p+r)/t.horizontalScrollLength;o<0?o=0:1<o&&(o=1),t.x={percentage:o,pixels:r}}0!==e.deltaY&&(t.atTop(s)||t.atBottom(s))||0!==e.deltaX&&(t.atLeft(p)||t.atRight(p))||(e.preventDefault(),e.stopPropagation(),t.fireThrottledScrollingEvent("",t))}),t.bind("$destroy",function(){t.unbind("keydown"),["touchstart","touchmove","touchend","keydown","wheel","mousewheel","DomMouseScroll","MozMousePixelScroll"].forEach(function(e){t.unbind(e)})}),c.grid.registerStyleComputation({priority:6,func:function(){var e,t,n="",i=h.canvasWidth,r=h.getViewportWidth(),o=d.getCanvasHeight(),a=d.getViewportHeight();if(h.needsHScrollbarPlaceholder()&&(a-=u.scrollbarHeight),e=t=h.getHeaderViewportWidth(),n+="\n .grid"+c.grid.id+" .ui-grid-render-container-"+l.containerId+" .ui-grid-canvas { width: "+i+"px; height: "+o+"px; }",n+="\n .grid"+c.grid.id+" .ui-grid-render-container-"+l.containerId+" .ui-grid-header-canvas { width: "+(i+u.scrollbarWidth)+"px; }",f.explicitHeaderCanvasHeight){var s=document.querySelector(".grid"+c.grid.id+" .ui-grid-render-container-body .ui-grid-header-canvas");s&&(f.explicitHeaderCanvasHeight=s.offsetHeight),n+="\n .grid"+c.grid.id+" .ui-grid-render-container-"+l.containerId+" .ui-grid-header-canvas { height: "+f.explicitHeaderCanvasHeight+"px; }"}else n+="\n .grid"+c.grid.id+" .ui-grid-render-container-"+l.containerId+" .ui-grid-header-canvas { height: inherit; }";return n+="\n .grid"+c.grid.id+" .ui-grid-render-container-"+l.containerId+" .ui-grid-viewport { width: "+r+"px; height: "+a+"px; }",n+="\n .grid"+c.grid.id+" .ui-grid-render-container-"+l.containerId+" .ui-grid-header-viewport { width: "+e+"px; }",n+="\n .grid"+c.grid.id+" .ui-grid-render-container-"+l.containerId+" .ui-grid-footer-canvas { width: "+(i+u.scrollbarWidth)+"px; }",n+="\n .grid"+c.grid.id+" .ui-grid-render-container-"+l.containerId+" .ui-grid-footer-viewport { width: "+t+"px; }"}})}}}}}]),e.controller("uiGridRenderContainer",["$scope","gridUtil",function(e,t){}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridRow",function(){return{replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:{row:"=uiGridRow",rowRenderIndex:"="},compile:function(){return{pre:function(t,i,e,n){var r,o,a=n[0],s=n[1];function l(){t.row.getRowTemplateFn.then(function(e){var n=t.$new();e(n,function(e,t){r&&(r.remove(),o.$destroy()),i.empty().append(e),r=e,o=n})}).catch(angular.noop)}t.grid=a.grid,t.colContainer=s.colContainer,l(),t.$watch("row.getRowTemplateFn",function(e,t){e!==t&&l()})},post:function(e,t){e.row.element=t}}}}})}(),angular.module("ui.grid").directive("uiGridStyle",["gridUtil","$interpolate",function(e,i){return{link:function(e,t){var n=i(t.text(),!0);n&&e.$watch(n,function(e){t.text(e)})}}}]),function(){"use strict";angular.module("ui.grid").directive("uiGridViewport",["gridUtil","ScrollEvent",function(u,d){return{replace:!0,scope:{},controllerAs:"Viewport",templateUrl:"ui-grid/uiGridViewport",require:["^uiGrid","^uiGridRenderContainer"],link:function(o,a,e,t){var n=t[0],i=t[1],s=(o.containerCtrl=i).rowContainer,l=i.colContainer,c=n.grid;o.grid=n.grid,o.rowContainer=i.rowContainer,o.colContainer=i.colContainer,i.viewport=a,c&&c.options&&c.options.customScroller?c.options.customScroller(a,r):a.on("scroll",r);function r(){var e=a[0].scrollTop,t=u.normalizeScrollLeft(a,c),n=s.scrollVertical(e),i=l.scrollHorizontal(t),r=new d(c,s,l,d.Sources.ViewPortScroll);r.newScrollLeft=t,r.newScrollTop=e,-1<i&&(r.x={percentage:i}),-1<n&&(r.y={percentage:n}),c.scrollContainers(o.$parent.containerId,r)}o.$parent.bindScrollVertical&&c.addVerticalScrollSync(o.$parent.containerId,function(e){i.prevScrollArgs=e,a[0].scrollTop=e.getNewScrollTop(s,i.viewport)}),o.$parent.bindScrollHorizontal&&(c.addHorizontalScrollSync(o.$parent.containerId,function(e){var t=(i.prevScrollArgs=e).getNewScrollLeft(l,i.viewport);a[0].scrollLeft=u.denormalizeScrollLeft(i.viewport,t,c)}),c.addHorizontalScrollSync(o.$parent.containerId+"header",function(e){var t=e.getNewScrollLeft(l,i.viewport);i.headerViewport&&(i.headerViewport.scrollLeft=u.denormalizeScrollLeft(i.viewport,t,c))}),c.addHorizontalScrollSync(o.$parent.containerId+"footer",function(e){var t=e.getNewScrollLeft(l,i.viewport);i.footerViewport&&(i.footerViewport.scrollLeft=u.denormalizeScrollLeft(i.viewport,t,c))})),o.$on("$destroy",function(){a.off()})},controller:["$scope",function(r){this.rowStyle=function(){var e=r.rowContainer,t=r.colContainer,n={};if(0!==e.currentTopRow){var i="translateY("+e.currentTopRow*e.grid.options.rowHeight+"px)";n.transform=i,n["-webkit-transform"]=i,n["-ms-transform"]=i}return 0!==t.currentFirstColumn&&(t.grid.isRTL()?n["margin-right"]=t.columnOffset+"px":n["margin-left"]=t.columnOffset+"px"),n}}]}}])}(),angular.module("ui.grid").directive("uiGridVisible",function(){return function(e,t,n){e.$watch(n.uiGridVisible,function(e){t[e?"removeClass":"addClass"]("ui-grid-invisible")})}}),function(){"use strict";function e(h,p,f){return{templateUrl:"ui-grid/ui-grid",scope:{uiGrid:"="},replace:!0,transclude:!0,controller:"uiGridController",compile:function(){return{post:function(a,s,e,t){var l=t.grid;t.scrollbars=[],l.element=s;var n,i,r=100,o=20,c=0;function u(){l.gridWidth=a.gridWidth=p.elementWidth(s),l.canvasWidth=t.grid.gridWidth,l.gridHeight=a.gridHeight=p.elementHeight(s),l.gridHeight-l.scrollbarHeight<=l.options.rowHeight&&l.options.enableMinHeightCheck&&function(){var e=l.options.minRowsToShow*l.options.rowHeight,t=l.options.showHeader?l.options.headerRowHeight:0,n=l.calcFooterHeight(),i=0;l.options.enableHorizontalScrollbar===f.scrollbars.ALWAYS&&(i=p.getScrollbarWidth());var r=0;if(angular.forEach(l.options.columnDefs,function(e){e.hasOwnProperty("filter")?r<1&&(r=1):e.hasOwnProperty("filters")&&r<e.filters.length&&(r=e.filters.length)}),l.options.enableFiltering&&!r){l.options.columnDefs.length&&l.options.columnDefs.every(function(e){return!1===e.enableFiltering})||(r=1)}var o=t+e+n+i+r*t;s.css("height",o+"px"),l.gridHeight=a.gridHeight=p.elementHeight(s)}(),l.refreshCanvas(!0)}function d(){l.gridWidth=a.gridWidth=p.elementWidth(s),l.gridHeight=a.gridHeight=p.elementHeight(s),l.refreshCanvas(!0)}angular.element(h).on("resize",d),s.on("$destroy",function(){angular.element(h).off("resize",d),n(),i()}),n=a.$watch(function(){return l.hasLeftContainer()},function(e,t){e!==t&&l.refreshCanvas(!0)}),i=a.$watch(function(){return l.hasRightContainer()},function(e,t){e!==t&&l.refreshCanvas(!0)}),u(),l.renderingComplete(),function e(){s[0].offsetWidth<=0&&c<o?(setTimeout(e,r),c++):a.$applyAsync(u)}()}}}}}angular.module("ui.grid").controller("uiGridController",["$scope","$element","$attrs","gridUtil","$q","uiGridConstants","gridClassFactory","$parse","$compile",function(i,e,r,t,o,a,n,s,l){var c,u=this,d=[];function h(e){return e?e.length:0}function p(e,t){e&&e!==t&&(u.grid.options.columnDefs=i.uiGrid.columnDefs,u.grid.callDataChangeCallbacks(a.dataChange.COLUMN,{orderByColumnDefs:!0,preCompileCellTemplates:!0}))}function f(e){var t=[];if(u.grid.options.fastWatch&&(e=angular.isString(i.uiGrid.data)?u.grid.appScope.$eval(i.uiGrid.data):i.uiGrid.data),c=e){var n=u.grid.columns.length>(u.grid.rowHeaderColumns?u.grid.rowHeaderColumns.length:0);!n&&!r.uiGridColumns&&0===u.grid.options.columnDefs.length&&0<e.length&&u.grid.buildColumnDefsFromData(e),!n&&(0<u.grid.options.columnDefs.length||0<e.length)&&t.push(u.grid.buildColumns().then(function(){u.grid.preCompileCellTemplates()}).catch(angular.noop)),o.all(t).then(function(){u.grid.modifyRows(c).then(function(){u.grid.redrawInPlace(!0),i.$evalAsync(function(){u.grid.refreshCanvas(!0),u.grid.callDataChangeCallbacks(a.dataChange.ROW)})}).catch(angular.noop)}).catch(angular.noop)}}u.grid=n.createGrid(i.uiGrid),u.grid.appScope=u.grid.appScope||i.$parent,e.addClass("grid"+u.grid.id),u.grid.rtl="rtl"===t.getStyles(e[0]).direction,i.grid=u.grid,r.uiGridColumns&&d.push(r.$observe("uiGridColumns",function(e){u.grid.options.columnDefs=angular.isString(e)?angular.fromJson(e):e,u.grid.buildColumns().then(function(){u.grid.preCompileCellTemplates(),u.grid.refreshCanvas(!0)}).catch(angular.noop)})),u.grid.options.fastWatch?(u.uiGrid=i.uiGrid,angular.isString(i.uiGrid.data)?(d.push(i.$parent.$watch(i.uiGrid.data,f)),d.push(i.$parent.$watch(function(){return u.grid.appScope[i.uiGrid.data]?u.grid.appScope[i.uiGrid.data].length:void 0},f))):(d.push(i.$parent.$watch(function(){return i.uiGrid.data},f)),d.push(i.$parent.$watch(function(){return h(i.uiGrid.data)},function(){f(i.uiGrid.data)}))),d.push(i.$parent.$watch(function(){return i.uiGrid.columnDefs},p)),d.push(i.$parent.$watch(function(){return h(i.uiGrid.columnDefs)},function(){p(i.uiGrid.columnDefs)}))):(angular.isString(i.uiGrid.data)?d.push(i.$parent.$watchCollection(i.uiGrid.data,f)):d.push(i.$parent.$watchCollection(function(){return i.uiGrid.data},f)),d.push(i.$parent.$watchCollection(function(){return i.uiGrid.columnDefs},p)));var g=i.$watch(function(){return u.grid.styleComputations},function(){u.grid.refreshCanvas(!0)});i.$on("$destroy",function(){d.forEach(function(e){e()}),g()}),u.fireEvent=function(e,t){t=t||{},angular.isUndefined(t.grid)&&(t.grid=u.grid),i.$broadcast(e,t)},u.innerCompile=function(e){l(e)(i)}}]),angular.module("ui.grid").directive("uiGrid",e),e.$inject=["$window","gridUtil","uiGridConstants"]}(),function(){"use strict";angular.module("ui.grid").directive("uiGridPinnedContainer",["gridUtil",function(e){return{restrict:"EA",replace:!0,template:'<div class="ui-grid-pinned-container"><div ui-grid-render-container container-id="side" row-container-name="\'body\'" col-container-name="side" bind-scroll-vertical="true" class="{{ side }} ui-grid-render-container-{{ side }}"></div></div>',scope:{side:"=uiGridPinnedContainer"},require:"^uiGrid",compile:function(){return{post:function(r,t,e,n){var o=n.grid,i=0;function a(){if("left"===r.side||"right"===r.side){for(var e=o.renderContainers[r.side].visibleColumnCache,t=0,n=0;n<e.length;n++){var i=e[n];t+=i.drawnWidth||i.width||0}return t}}t.addClass("ui-grid-pinned-container-"+r.side),"left"!==r.side&&"right"!==r.side||(o.renderContainers[r.side].getViewportWidth=function(){var t=0;this.visibleColumnCache.forEach(function(e){t+=e.drawnWidth});var e=this.getViewportAdjustment();return t+=e.width}),o.renderContainers.body.registerViewportAdjuster(function(e){return i=a(),e.width-=i,e.side=r.side,e}),o.registerStyleComputation({priority:15,func:function(){var e="";return"left"!==r.side&&"right"!==r.side||(i=a(),t.attr("style",null),e+=".grid"+o.id+" .ui-grid-pinned-container-"+r.side+", .grid"+o.id+" .ui-grid-pinned-container-"+r.side+" .ui-grid-render-container-"+r.side+" .ui-grid-viewport { width: "+i+"px; } "),e}})}}}}}])}(),angular.module("ui.grid").factory("Grid",["$q","$compile","$parse","gridUtil","uiGridConstants","GridOptions","GridColumn","GridRow","GridApi","rowSorter","rowSearcher","GridRenderContainer","$timeout","ScrollEvent",function(C,n,o,g,l,c,u,d,h,p,t,f,i,S){function e(e){var n=this;if(void 0===e||void 0===e.id||!e.id)throw new Error("No ID provided. An ID must be given when creating a grid.");if(!/^[_a-zA-Z0-9-]+$/.test(e.id))throw new Error("Grid id '"+e.id+'" is invalid. It must follow CSS selector syntax rules.');function t(e){n.isScrollingVertically=!1,n.api.core.raise.scrollEnd(e),n.scrollDirection=l.scrollDirection.NONE}n.id=e.id,delete e.id,n.options=c.initialize(e),n.appScope=n.options.appScopeProvider,n.headerHeight=n.options.headerRowHeight,n.footerHeight=n.calcFooterHeight(),n.columnFooterHeight=n.calcColumnFooterHeight(),n.rtl=!1,n.gridHeight=0,n.gridWidth=0,n.columnBuilders=[],n.rowBuilders=[],n.rowsProcessors=[],n.columnsProcessors=[],n.styleComputations=[],n.viewportAdjusters=[],n.rowHeaderColumns=[],n.dataChangeCallbacks={},n.verticalScrollSyncCallBackFns={},n.horizontalScrollSyncCallBackFns={},n.renderContainers={},n.renderContainers.body=new f("body",n),n.cellValueGetterCache={},n.getRowTemplateFn=null,n.rows=[],n.columns=[],n.isScrollingVertically=!1,n.isScrollingHorizontally=!1,n.scrollDirection=l.scrollDirection.NONE,n.disableScrolling=!1;var i=g.debounce(t,n.options.scrollDebounce),r=g.debounce(t,0);function o(e){n.isScrollingHorizontally=!1,n.api.core.raise.scrollEnd(e),n.scrollDirection=l.scrollDirection.NONE}var a=g.debounce(o,n.options.scrollDebounce),s=g.debounce(o,0);n.flagScrollingVertically=function(e){n.isScrollingVertically||n.isScrollingHorizontally||n.api.core.raise.scrollBegin(e),n.isScrollingVertically=!0,0!==n.options.scrollDebounce&&e.withDelay?i(e):r(e)},n.flagScrollingHorizontally=function(e){n.isScrollingVertically||n.isScrollingHorizontally||n.api.core.raise.scrollBegin(e),n.isScrollingHorizontally=!0,0!==n.options.scrollDebounce&&e.withDelay?a(e):s(e)},n.scrollbarHeight=0,n.scrollbarWidth=0,n.options.enableHorizontalScrollbar!==l.scrollbars.NEVER&&(n.scrollbarHeight=g.getScrollbarWidth()),n.options.enableVerticalScrollbar!==l.scrollbars.NEVER&&(n.scrollbarWidth=g.getScrollbarWidth()),n.api=new h(n),n.api.registerMethod("core","refresh",this.refresh),n.api.registerMethod("core","queueGridRefresh",this.queueGridRefresh),n.api.registerMethod("core","refreshRows",this.refreshRows),n.api.registerMethod("core","queueRefresh",this.queueRefresh),n.api.registerMethod("core","handleWindowResize",this.handleWindowResize),n.api.registerMethod("core","addRowHeaderColumn",this.addRowHeaderColumn),n.api.registerMethod("core","scrollToIfNecessary",function(e,t){return n.scrollToIfNecessary(e,t)}),n.api.registerMethod("core","scrollTo",function(e,t){return n.scrollTo(e,t)}),n.api.registerMethod("core","registerRowsProcessor",this.registerRowsProcessor),n.api.registerMethod("core","registerColumnsProcessor",this.registerColumnsProcessor),n.api.registerMethod("core","sortHandleNulls",p.handleNulls),n.api.registerEvent("core","sortChanged"),n.api.registerEvent("core","columnVisibilityChanged"),n.api.registerMethod("core","notifyDataChange",this.notifyDataChange),n.api.registerMethod("core","clearAllFilters",this.clearAllFilters),n.registerDataChangeCallback(n.columnRefreshCallback,[l.dataChange.COLUMN]),n.registerDataChangeCallback(n.processRowsCallback,[l.dataChange.EDIT]),n.registerDataChangeCallback(n.updateFooterHeightCallback,[l.dataChange.OPTIONS]),n.registerStyleComputation({priority:10,func:n.getFooterStyles})}e.prototype.calcFooterHeight=function(){if(!this.hasFooter())return 0;var e=0;return this.options.showGridFooter&&(e+=this.options.gridFooterHeight),e+=this.calcColumnFooterHeight()},e.prototype.calcColumnFooterHeight=function(){var e=0;return this.options.showColumnFooter&&(e+=this.options.columnFooterHeight),e},e.prototype.getFooterStyles=function(){var e=".grid"+this.id+" .ui-grid-footer-aggregates-row { height: "+this.options.columnFooterHeight+"px; }";return e+=" .grid"+this.id+" .ui-grid-footer-info { height: "+this.options.gridFooterHeight+"px; }"},e.prototype.hasFooter=function(){return this.options.showGridFooter||this.options.showColumnFooter},e.prototype.isRTL=function(){return this.rtl},e.prototype.registerColumnBuilder=function(e){this.columnBuilders.push(e)},e.prototype.buildColumnDefsFromData=function(e){this.options.columnDefs=g.getColumnsFromData(e,this.options.excludeProperties)},e.prototype.registerRowBuilder=function(e){this.rowBuilders.push(e)},e.prototype.registerDataChangeCallback=function(e,t,n){var i=this,r=g.nextUid();return t=t||[l.dataChange.ALL],Array.isArray(t)||g.logError("Expected types to be an array or null in registerDataChangeCallback, value passed was: "+t),this.dataChangeCallbacks[r]={callback:e,types:t,_this:n},function(){delete i.dataChangeCallbacks[r]}},e.prototype.callDataChangeCallbacks=function(n,i){angular.forEach(this.dataChangeCallbacks,function(e,t){-1===e.types.indexOf(l.dataChange.ALL)&&-1===e.types.indexOf(n)&&n!==l.dataChange.ALL||(e._this?e.callback.apply(e._this,this,i):e.callback(this,i))},this)},e.prototype.notifyDataChange=function(e){var t=l.dataChange;e===t.ALL||e===t.COLUMN||e===t.EDIT||e===t.ROW||e===t.OPTIONS?this.callDataChangeCallbacks(e):g.logError("Notified of a data change, but the type was not recognised, so no action taken, type was: "+e)},e.prototype.columnRefreshCallback=function(e,t){e.buildColumns(t),e.queueGridRefresh()},e.prototype.processRowsCallback=function(e){e.queueGridRefresh()},e.prototype.updateFooterHeightCallback=function(e){e.footerHeight=e.calcFooterHeight(),e.columnFooterHeight=e.calcColumnFooterHeight()},e.prototype.getColumn=function(t){var e=this.columns.filter(function(e){return e.colDef.name===t});return 0<e.length?e[0]:null},e.prototype.getColDef=function(t){var e=this.options.columnDefs.filter(function(e){return e.name===t});return 0<e.length?e[0]:null},e.prototype.assignTypes=function(){var r=this;r.options.columnDefs.forEach(function(e,t){if(!e.type){var n=new u(e,t,r),i=0<r.rows.length?r.rows[0]:null;e.type=i?g.guessType(r.getCellValue(i,n)):"string"}})},e.prototype.isRowHeaderColumn=function(e){return-1!==this.rowHeaderColumns.indexOf(e)},e.prototype.addRowHeaderColumn=function(e,t,n){var i=this;void 0===t&&(t=0);var r=new u(e,g.nextUid(),i);r.isRowHeader=!0,i.isRTL()?(i.createRightContainer(),r.renderContainer="right"):(i.createLeftContainer(),r.renderContainer="left"),i.columnBuilders[0](e,r,i.options).then(function(){r.enableFiltering=!1,r.enableSorting=!1,r.enableHiding=!1,r.headerPriority=t,i.rowHeaderColumns.push(r),i.rowHeaderColumns=i.rowHeaderColumns.sort(function(e,t){return e.headerPriority-t.headerPriority}),n||i.buildColumns().then(function(){i.preCompileCellTemplates(),i.queueGridRefresh()}).catch(angular.noop)}).catch(angular.noop)},e.prototype.getOnlyDataColumns=function(){var t=this,n=[];return t.columns.forEach(function(e){-1===t.rowHeaderColumns.indexOf(e)&&n.push(e)}),n},e.prototype.buildColumns=function(e){var t={orderByColumnDefs:!1};angular.extend(t,e);var n,i=this,r=[],o=i.rowHeaderColumns.length;for(n=0;n<i.columns.length;n++)i.getColDef(i.columns[n].name)||(i.columns.splice(n,1),n--);for(var a=i.rowHeaderColumns.length-1;0<=a;a--)i.columns.unshift(i.rowHeaderColumns[a]);if(i.options.columnDefs.forEach(function(t,e){i.preprocessColDef(t);var n=i.getColumn(t.name);n?n.updateColumnDef(t,!1):(n=new u(t,g.nextUid(),i),i.columns.splice(e+o,0,n)),i.columnBuilders.forEach(function(e){r.push(e.call(i,t,n,i.options))})}),t.orderByColumnDefs){var s=i.columns.slice(0),l=Math.min(i.options.columnDefs.length,i.columns.length);for(n=0;n<l;n++)i.columns[n+o].name!==i.options.columnDefs[n].name?s[n+o]=i.getColumn(i.options.columnDefs[n].name):s[n+o]=i.columns[n+o];i.columns.length=0,Array.prototype.splice.apply(i.columns,[0,0].concat(s))}return C.all(r).then(function(){0<i.rows.length&&i.assignTypes(),t.preCompileCellTemplates&&i.preCompileCellTemplates()}).catch(angular.noop)},e.prototype.preCompileCellTemplate=function(e){var t=e.cellTemplate.replace(l.MODEL_COL_FIELD,this.getQualifiedColField(e));t=t.replace(l.COL_FIELD,"grid.getCellValue(row, col)"),e.compiledElementFn=n(t),e.compiledElementFnDefer&&e.compiledElementFnDefer.resolve(e.compiledElementFn)},e.prototype.preCompileCellTemplates=function(){var t=this;t.columns.forEach(function(e){e.cellTemplate?t.preCompileCellTemplate(e):e.cellTemplatePromise&&e.cellTemplatePromise.then(function(){t.preCompileCellTemplate(e)}).catch(angular.noop)})},e.prototype.getQualifiedColField=function(e){var t="row.entity";return e.field===l.ENTITY_BINDING?t:g.preEval(t+"."+e.field)},e.prototype.createLeftContainer=function(){this.hasLeftContainer()||(this.renderContainers.left=new f("left",this,{disableColumnOffset:!0}))},e.prototype.createRightContainer=function(){this.hasRightContainer()||(this.renderContainers.right=new f("right",this,{disableColumnOffset:!0}))},e.prototype.hasLeftContainer=function(){return void 0!==this.renderContainers.left},e.prototype.hasRightContainer=function(){return void 0!==this.renderContainers.right},e.prototype.preprocessColDef=function(e){if(!e.field&&!e.name)throw new Error("colDef.name or colDef.field property is required");if(void 0===e.name&&void 0!==e.field){for(var t=e.field,n=2;this.getColumn(t);)t=e.field+n.toString(),n++;e.name=t}},e.prototype.newInN=function(e,t,n,i){for(var r=[],o=0;o<t.length;o++){for(var a=i?t[o][i]:t[o],s=!1,l=0;l<e.length;l++){var c=n?e[l][n]:e[l];if(this.options.rowEquality(a,c)){s=!0;break}}s||r.push(a)}return r},e.prototype.getRow=function(t,e){var n=this,i=(e=void 0===e?n.rows:e).filter(function(e){return n.options.rowEquality(e.entity,t)});return 0<i.length?i[0]:null},e.prototype.modifyRows=function(e){var r=this,o=r.rows.slice(0),a=r.rowHashMap||r.createRowHashMap(),s=!0;r.rowHashMap=r.createRowHashMap(),r.rows.length=0,e.forEach(function(e,t){var n,i;(i=r.options.enableRowHashing?a.get(e):r.getRow(e,o))&&((n=i).entity=e),n=n||r.processRowBuilders(new d(e,t,r)),r.rows.push(n),r.rowHashMap.put(e,n),n.isSelected||(s=!1)}),r.selection&&r.rows.length&&(r.selection.selectAll=s),r.assignTypes();var t=C.when(r.processRowsProcessors(r.rows)).then(function(e){return r.setVisibleRows(e)}).catch(angular.noop),n=C.when(r.processColumnsProcessors(r.columns)).then(function(e){return r.setVisibleColumns(e)}).catch(angular.noop);return C.all([t,n])},e.prototype.addRows=function(e){for(var t=this.rows.length,n=0;n<e.length;n++){var i=this.processRowBuilders(new d(e[n],n+t,this));if(this.options.enableRowHashing){var r=this.rowHashMap.get(i.entity);r&&(r.row=i)}this.rows.push(i)}},e.prototype.processRowBuilders=function(t){var n=this;return n.rowBuilders.forEach(function(e){e.call(n,t,n.options)}),t},e.prototype.registerStyleComputation=function(e){this.styleComputations.push(e)},e.prototype.registerRowsProcessor=function(e,t){if(!angular.isFunction(e))throw"Attempt to register non-function rows processor: "+e;this.rowsProcessors.push({processor:e,priority:t}),this.rowsProcessors.sort(function(e,t){return e.priority-t.priority})},e.prototype.removeRowsProcessor=function(n){var i=-1;this.rowsProcessors.forEach(function(e,t){e.processor===n&&(i=t)}),-1!==i&&this.rowsProcessors.splice(i,1)},e.prototype.processRowsProcessors=function(e){var r=this,t=e.slice(0);if(0===r.rowsProcessors.length)return C.when(t);var o=C.defer();return function t(n,e){var i=r.rowsProcessors[n].processor;return C.when(i.call(r,e,r.columns)).then(function(e){if(!e)throw"Processor at index "+n+" did not return a set of renderable rows";if(!angular.isArray(e))throw"Processor at index "+n+" did not return an array";if(++n<=r.rowsProcessors.length-1)return t(n,e);o.resolve(e)}).catch(function(e){throw e})}(0,t),o.promise},e.prototype.setVisibleRows=function(e){for(var t in this.renderContainers){var n=this.renderContainers[t];n.canvasHeightShouldUpdate=!0,void 0===n.visibleRowCache?n.visibleRowCache=[]:n.visibleRowCache.length=0}for(var i=0;i<e.length;i++){var r=e[i],o=void 0!==r.renderContainer&&r.renderContainer?r.renderContainer:"body";r.visible&&this.renderContainers[o].visibleRowCache.push(r)}this.api.core.raise.rowsVisibleChanged(this.api),this.api.core.raise.rowsRendered(this.api)},e.prototype.registerColumnsProcessor=function(e,t){if(!angular.isFunction(e))throw"Attempt to register non-function rows processor: "+e;this.columnsProcessors.push({processor:e,priority:t}),this.columnsProcessors.sort(function(e,t){return e.priority-t.priority})},e.prototype.removeColumnsProcessor=function(e){var t=this.columnsProcessors.indexOf(e);void 0!==t&&void 0!==t&&this.columnsProcessors.splice(t,1)},e.prototype.processColumnsProcessors=function(e){var r=this,o=e.slice(0);if(0===r.columnsProcessors.length)return C.when(o);var a=C.defer();return function t(n,e){var i=r.columnsProcessors[n].processor;return C.when(i.call(r,e,r.rows)).then(function(e){if(!e)throw"Processor at index "+n+" did not return a set of renderable rows";if(!angular.isArray(e))throw"Processor at index "+n+" did not return an array";if(++n<=r.columnsProcessors.length-1)return t(n,o);a.resolve(o)}).catch(angular.noop)}(0,o),a.promise},e.prototype.setVisibleColumns=function(e){for(var t in this.renderContainers)this.renderContainers[t].visibleColumnCache.length=0;for(var n=0;n<e.length;n++){var i=e[n];i.visible&&(void 0!==i.renderContainer&&i.renderContainer?this.renderContainers[i.renderContainer].visibleColumnCache.push(i):this.renderContainers.body.visibleColumnCache.push(i))}},e.prototype.handleWindowResize=function(e){return this.gridWidth=g.elementWidth(this.element),this.gridHeight=g.elementHeight(this.element),this.queueRefresh()},e.prototype.queueRefresh=function(){var e=this;return e.refreshCanceller&&i.cancel(e.refreshCanceller),e.refreshCanceller=i(function(){e.refreshCanvas(!0)}),e.refreshCanceller.then(function(){e.refreshCanceller=null}).catch(angular.noop),e.refreshCanceller},e.prototype.queueGridRefresh=function(){var e=this;return e.gridRefreshCanceller&&i.cancel(e.gridRefreshCanceller),e.gridRefreshCanceller=i(function(){e.refresh(!0)}),e.gridRefreshCanceller.then(function(){e.gridRefreshCanceller=null}).catch(angular.noop),e.gridRefreshCanceller},e.prototype.updateCanvasHeight=function(){for(var e in this.renderContainers)this.renderContainers.hasOwnProperty(e)&&(this.renderContainers[e].canvasHeightShouldUpdate=!0)},e.prototype.buildStyles=function(){var n=this;n.customStyles="",n.styleComputations.sort(function(e,t){return null===e.priority?1:null===t.priority?-1:null===e.priority&&null===t.priority?0:e.priority-t.priority}).forEach(function(e){var t=e.func.call(n);angular.isString(t)&&(n.customStyles+="\n"+t)})},e.prototype.minColumnsToRender=function(){var r=this,o=this.getViewportWidth(),a=0,s=0;return r.columns.forEach(function(e,t){if(s<o)s+=e.drawnWidth,a++;else{for(var n=0,i=t;t-a<=i;i--)n+=r.columns[i].drawnWidth;n<o&&a++}}),a},e.prototype.getBodyHeight=function(){return this.getViewportHeight()},e.prototype.getViewportHeight=function(){var e=this.gridHeight-this.headerHeight-this.footerHeight;return e+=this.getViewportAdjustment().height},e.prototype.getViewportWidth=function(){var e=this.gridWidth;return e+=this.getViewportAdjustment().width},e.prototype.getHeaderViewportWidth=function(){return this.getViewportWidth()},e.prototype.addVerticalScrollSync=function(e,t){this.verticalScrollSyncCallBackFns[e]=t},e.prototype.addHorizontalScrollSync=function(e,t){this.horizontalScrollSyncCallBackFns[e]=t},e.prototype.scrollContainers=function(e,t){if(t.y){var n=["body","left","right"];this.flagScrollingVertically(t),"body"===e?n=["left","right"]:"left"===e?n=["body","right"]:"right"===e&&(n=["body","left"]);for(var i=0;i<n.length;i++){var r=n[i];this.verticalScrollSyncCallBackFns[r]&&this.verticalScrollSyncCallBackFns[r](t)}}if(t.x){var o=["body","bodyheader","bodyfooter"];this.flagScrollingHorizontally(t),"body"===e&&(o=["bodyheader","bodyfooter"]);for(var a=0;a<o.length;a++){var s=o[a];this.horizontalScrollSyncCallBackFns[s]&&this.horizontalScrollSyncCallBackFns[s](t)}}},e.prototype.registerViewportAdjuster=function(e){this.viewportAdjusters.push(e)},e.prototype.removeViewportAdjuster=function(e){var t=this.viewportAdjusters.indexOf(e);void 0!==t&&void 0!==t&&this.viewportAdjusters.splice(t,1)},e.prototype.getViewportAdjustment=function(){var t={height:0,width:0};return this.viewportAdjusters.forEach(function(e){t=e.call(this,t)}),t},e.prototype.getVisibleRowCount=function(){return this.renderContainers.body.visibleRowCache.length},e.prototype.getVisibleRows=function(){return this.renderContainers.body.visibleRowCache},e.prototype.getVisibleColumnCount=function(){return this.renderContainers.body.visibleColumnCache.length},e.prototype.searchRows=function(e){return t.search(this,e,this.columns)},e.prototype.sortByColumn=function(e){return p.sort(this,e,this.columns)},e.prototype.getCellValue=function(e,t){return void 0!==e.entity["$$"+t.uid]?e.entity["$$"+t.uid].rendered:this.options.flatEntityAccess&&void 0!==t.field?e.entity[t.field]:(t.cellValueGetterCache||(t.cellValueGetterCache=o(e.getEntityQualifiedColField(t))),t.cellValueGetterCache(e))},e.prototype.getCellDisplayValue=function(e,t){if(!t.cellDisplayGetterCache){var n=t.cellFilter?" | "+t.cellFilter:"";if(void 0!==e.entity["$$"+t.uid])t.cellDisplayGetterCache=o(e.entity["$$"+t.uid].rendered+n);else if(this.options.flatEntityAccess&&void 0!==t.field){var i=t.field.replace(/(')|(\\)/g,"\\$&");t.cellDisplayGetterCache=o("entity['"+i+"']"+n)}else t.cellDisplayGetterCache=o(e.getEntityQualifiedColField(t)+n)}var r=angular.extend({},e,{col:t});return t.cellDisplayGetterCache(r)},e.prototype.getNextColumnSortPriority=function(){var t=0;return this.columns.forEach(function(e){e.sort&&void 0!==e.sort.priority&&e.sort.priority>=t&&(t=e.sort.priority+1)}),t},e.prototype.resetColumnSorting=function(t){this.columns.forEach(function(e){e===t||e.suppressRemoveSort||(e.sort={})})},e.prototype.getColumnSorting=function(){var t=[];return this.columns.slice(0).sort(p.prioritySort).forEach(function(e){e.sort&&void 0!==e.sort.direction&&e.sort.direction&&(e.sort.direction===l.ASC||e.sort.direction===l.DESC)&&t.push(e)}),t},e.prototype.sortColumn=function(e,t,n){var i=null;if(void 0===e||!e)throw new Error("No column parameter provided");if("boolean"==typeof t?n=t:i=t,n?void 0===e.sort.priority&&(e.sort.priority=this.getNextColumnSortPriority()):(this.resetColumnSorting(e),e.sort.priority=void 0,e.sort.priority=this.getNextColumnSortPriority()),i)e.sort.direction=i;else{var r=e.sortDirectionCycle.indexOf(e.sort.direction?e.sort.direction:null);r=(r+1)%e.sortDirectionCycle.length,e.colDef&&e.suppressRemoveSort&&!e.sortDirectionCycle[r]&&(r=(r+1)%e.sortDirectionCycle.length),e.sortDirectionCycle[r]?e.sort.direction=e.sortDirectionCycle[r]:a(e,this)}return this.api.core.raise.sortChanged(this,this.getColumnSorting()),C.when(e)};var a=function(t,e){e.columns.forEach(function(e){e.sort&&void 0!==e.sort.priority&&e.sort.priority>t.sort.priority&&(e.sort.priority-=1)}),t.sort={}};function s(e,t){return e||0<t?t:null}function r(e,t){var n=e/t;return n<=1?n:1}function $(e,t,n){if(r(e,t)!==n)return{percentage:r(e,t)}}function E(e,t,n){var i=e/t;if((i=1<i?1:i)!==n)return{percentage:i}}function m(){}return e.prototype.renderingComplete=function(){angular.isFunction(this.options.onRegisterApi)&&this.options.onRegisterApi(this.api),this.api.core.raise.renderingComplete(this.api)},e.prototype.createRowHashMap=function(){var e=new m;return e.grid=this,e},e.prototype.refresh=function(e){var t=this,n=t.processRowsProcessors(t.rows).then(function(e){t.setVisibleRows(e)}).catch(angular.noop),i=t.processColumnsProcessors(t.columns).then(function(e){t.setVisibleColumns(e)}).catch(angular.noop);return C.all([n,i]).then(function(){t.refreshCanvas(!0),t.redrawInPlace(e)}).catch(angular.noop)},e.prototype.refreshRows=function(){var t=this;return t.processRowsProcessors(t.rows).then(function(e){t.setVisibleRows(e),t.redrawInPlace(),t.refreshCanvas(!0)}).catch(angular.noop)},e.prototype.refreshCanvas=function(d){var h=this,p=C.defer(),f=[];for(var e in h.renderContainers)if(h.renderContainers.hasOwnProperty(e)){var t=h.renderContainers[e];if(null===t.canvasWidth||isNaN(t.canvasWidth))continue;(t.header||t.headerCanvas)&&(t.explicitHeaderHeight=t.explicitHeaderHeight||null,t.explicitHeaderCanvasHeight=t.explicitHeaderCanvasHeight||null,f.push(t))}return d&&h.buildStyles(),0<f.length?i(function(){function e(e,t){return e!==t&&(i=!0),t}var t,n,i=!1,r=0,o=0;for(t=0;t<f.length;t++)if(null!==(n=f[t]).canvasWidth&&!isNaN(n.canvasWidth)){if(n.header){var a=n.headerHeight=e(n.headerHeight,g.outerElementHeight(n.header)),s=g.getBorderSize(n.header,"top"),l=g.getBorderSize(n.header,"bottom"),c=parseInt(a-s-l,10);c=c<0?0:c,n.innerHeaderHeight=c,!n.explicitHeaderHeight&&r<c&&(r=c)}if(n.headerCanvas){var u=n.headerCanvasHeight=e(n.headerCanvasHeight,parseInt(g.outerElementHeight(n.headerCanvas),10));!n.explicitHeaderCanvasHeight&&o<u&&(o=u)}}for(t=0;t<f.length;t++)n=f[t],0<r&&void 0!==n.headerHeight&&null!==n.headerHeight&&(n.explicitHeaderHeight||n.headerHeight<r)&&(n.explicitHeaderHeight=e(n.explicitHeaderHeight,r)),0<o&&void 0!==n.headerCanvasHeight&&null!==n.headerCanvasHeight&&(n.explicitHeaderCanvasHeight||n.headerCanvasHeight<o)&&(n.explicitHeaderCanvasHeight=e(n.explicitHeaderCanvasHeight,o));d&&i&&h.buildStyles(),p.resolve()}):i(function(){p.resolve()}),p.promise},e.prototype.redrawInPlace=function(e){for(var t in this.renderContainers){var n=this.renderContainers[t],i=s(e,n.prevScrollTop),r=s(e,n.prevScrollLeft),o=e||0<i?null:n.prevScrolltopPercentage,a=e||0<r?null:n.prevScrollleftPercentage;n.adjustRows(i,o),n.adjustColumns(r,a)}},e.prototype.hasLeftContainerColumns=function(){return this.hasLeftContainer()&&0<this.renderContainers.left.renderedColumns.length},e.prototype.hasRightContainerColumns=function(){return this.hasRightContainer()&&0<this.renderContainers.right.renderedColumns.length},e.prototype.scrollToIfNecessary=function(e,t){var n=this,i=new S(n,"uiGrid.scrollToIfNecessary"),r=n.renderContainers.body.visibleRowCache,o=n.renderContainers.body.visibleColumnCache,a=n.renderContainers.body.prevScrollTop+n.headerHeight;a=a<0?0:a;var s=n.renderContainers.body.prevScrollLeft,l=n.renderContainers.body.prevScrollTop+n.gridHeight-n.renderContainers.body.headerHeight-n.footerHeight-n.scrollbarHeight,c=n.renderContainers.body.prevScrollLeft+Math.ceil(n.renderContainers.body.getViewportWidth());if(null!==e){var u,d=r.indexOf(e),h=n.renderContainers.body.getCanvasHeight()-n.renderContainers.body.getViewportHeight(),p=d*n.options.rowHeight+n.headerHeight;(p=p<0?0:p)<Math.floor(a)?(u=n.renderContainers.body.prevScrollTop-(a-p),t&&t.colDef&&t.colDef.enableCellEditOnFocus&&(u=u-n.footerHeight-n.scrollbarHeight),i.y=$(u,h,n.renderContainers.body.prevScrolltopPercentage)):p>Math.ceil(l)&&(u=p-l+n.renderContainers.body.prevScrollTop,i.y=$(u,h,n.renderContainers.body.prevScrolltopPercentage))}if(null!==t){for(var f=o.indexOf(t),g=n.renderContainers.body.getCanvasWidth()-n.renderContainers.body.getViewportWidth(),m=0,v=0;v<f;v++)m+=o[v].drawnWidth;var y,b=(m=m<0?0:m)+t.drawnWidth;b=b<0?0:b,m<s?(y=n.renderContainers.body.prevScrollLeft-(s-m),i.x=E(y,g,n.renderContainers.body.prevScrollleftPercentage)):c<b&&(y=b-c+n.renderContainers.body.prevScrollLeft,i.x=E(y,g,n.renderContainers.body.prevScrollleftPercentage))}var w=C.defer();if(i.y||i.x){i.withDelay=!1,n.scrollContainers("",i);var x=n.api.core.on.scrollEnd(null,function(){w.resolve(i),x()})}else w.resolve();return w.promise},e.prototype.scrollTo=function(e,t){var n=null,i=null;return null!=e&&(n=this.getRow(e)),null!=t&&(i=this.getColumn(t.name?t.name:t.field)),this.scrollToIfNecessary(n,i)},e.prototype.clearAllFilters=function(e,t,n){if(void 0===e&&(e=!0),void 0===t&&(t=!1),void 0===n&&(n=!1),this.columns.forEach(function(e){e.filters.forEach(function(e){e.term=void 0,t&&(e.condition=void 0),n&&(e.flags=void 0)})}),e)return this.refreshRows()},m.prototype={put:function(e,t){this[this.grid.options.rowIdentity(e)]=t},get:function(e){return this[this.grid.options.rowIdentity(e)]},remove:function(e){var t=this[e=this.grid.options.rowIdentity(e)];return delete this[e],t}},e}]),angular.module("ui.grid").factory("GridApi",["$q","$rootScope","gridUtil","uiGridConstants","GridRow",function(e,t,c,n,i){function r(e){this.grid=e,this.listeners=[],this.registerEvent("core","renderingComplete"),this.registerEvent("core","filterChanged"),this.registerMethod("core","setRowInvisible",i.prototype.setRowInvisible),this.registerMethod("core","clearRowInvisible",i.prototype.clearRowInvisible),this.registerMethod("core","getVisibleRows",this.grid.getVisibleRows),this.registerEvent("core","rowsVisibleChanged"),this.registerEvent("core","rowsRendered"),this.registerEvent("core","scrollBegin"),this.registerEvent("core","scrollEnd"),this.registerEvent("core","canvasHeightChanged"),this.registerEvent("core","gridDimensionChanged")}function u(e,n,i,r){return t.$on(e,function(e){var t=Array.prototype.slice.call(arguments);t.splice(0,1),n.apply(r||i.api,t)})}return r.prototype.suppressEvents=function(e,t){var n=this,i=angular.isArray(e)?e:[e],r=n.listeners.filter(function(t){return i.some(function(e){return t.handler===e})});r.forEach(function(e){e.dereg()}),t(),r.forEach(function(e){e.dereg=u(e.eventId,e.handler,n.grid,e._this)})},r.prototype.registerEvent=function(o,a){var s=this;s[o]||(s[o]={});var e=s[o];e.on||(e.on={},e.raise={});var l=s.grid.id+o+a;e.raise[a]=function(){t.$emit.apply(t,[l].concat(Array.prototype.slice.call(arguments)))},e.on[a]=function(e,t,n){if(null===e||void 0!==e.$on){var i={handler:t,dereg:u(l,t,s.grid,n),eventId:l,scope:e,_this:n};function r(){i.dereg();var e=s.listeners.indexOf(i);s.listeners.splice(e,1)}return s.listeners.push(i),e&&e.$on("$destroy",function(){r()}),r}c.logError("asked to listen on "+o+".on."+a+" but scope wasn't passed in the input parameters.  It is legitimate to pass null, but you've passed something else, so you probably forgot to provide scope rather than did it deliberately, not registering")}},r.prototype.registerEventsFromObject=function(e){var n=this,i=[];angular.forEach(e,function(e,t){var n={name:t,events:[]};angular.forEach(e,function(e,t){n.events.push(t)}),i.push(n)}),i.forEach(function(t){t.events.forEach(function(e){n.registerEvent(t.name,e)})})},r.prototype.registerMethod=function(e,t,n,i){this[e]||(this[e]={}),this[e][t]=c.createBoundedWrapper(i||this.grid,n)},r.prototype.registerMethodsFromObject=function(e,n){var i=this,r=[];angular.forEach(e,function(e,t){var n={name:t,methods:[]};angular.forEach(e,function(e,t){n.methods.push({name:t,fn:e})}),r.push(n)}),r.forEach(function(t){t.methods.forEach(function(e){i.registerMethod(t.name,e.name,e.fn,n)})})},r}]),angular.module("ui.grid").factory("GridColumn",["gridUtil","uiGridConstants","i18nService",function(c,u,e){function t(e,t,n){var r=this;r.grid=n,r.uid=t,r.updateColumnDef(e,!0),r.aggregationValue=void 0,r.updateAggregationValue=function(){if(r.aggregationType){function e(){var i=[];return n.forEach(function(e){var t=r.grid.getCellValue(e,r),n=Number(t);isNaN(n)||i.push(n)}),i}var t=0,n=r.grid.getVisibleRows();angular.isFunction(r.aggregationType)?r.aggregationValue=r.aggregationType(n,r):r.aggregationType===u.aggregationTypes.count?r.aggregationValue=r.grid.getVisibleRowCount():r.aggregationType===u.aggregationTypes.sum?(e().forEach(function(e){t+=e}),r.aggregationValue=t):r.aggregationType===u.aggregationTypes.avg?(e().forEach(function(e){t+=e}),t/=e().length,r.aggregationValue=t):r.aggregationType===u.aggregationTypes.min?r.aggregationValue=Math.min.apply(null,e()):r.aggregationType===u.aggregationTypes.max?r.aggregationValue=Math.max.apply(null,e()):r.aggregationValue=""}else r.aggregationValue=void 0},this.getAggregationValue=function(){return r.aggregationValue}}function d(e){return void 0===e.displayName?c.readableColumnName(e.name):e.displayName}return t.prototype.hideColumn=function(){this.colDef.visible=!1},t.prototype.setPropertyOrDefault=function(e,t,n){void 0!==e[t]&&e[t]?this[t]=e[t]:void 0!==this[t]?this[t]=this[t]:this[t]=n||{}},t.prototype.updateColumnDef=function(i,e){var r=this;if(void 0===(r.colDef=i).name)throw new Error("colDef.name is required for column at index "+r.grid.options.columnDefs.indexOf(i));if(r.displayName=d(i),!angular.isNumber(r.width)||!r.hasCustomWidth||i.allowCustomWidthOverride){var t=i.width,n="Cannot parse column width '"+t+"' for column named '"+i.name+"'";if(r.hasCustomWidth=!1,angular.isString(t)||angular.isNumber(t))if(angular.isString(t))if(c.endsWith(t,"%")){var o=t.replace(/%/g,""),a=parseInt(o,10);if(isNaN(a))throw new Error(n);r.width=t}else if(t.match(/^(\d+)$/))r.width=parseInt(t.match(/^(\d+)$/)[1],10);else{if(!t.match(/^\*+$/))throw new Error(n);r.width=t}else r.width=t;else r.width="*"}function s(e){return angular.isString(e)||angular.isNumber(e)}["minWidth","maxWidth"].forEach(function(e){var t=i[e],n="Cannot parse column "+e+" '"+t+"' for column named '"+i.name+"'";if("minWidth"===e&&!s(t)&&angular.isDefined(r.grid.options.minimumColumnSize)&&(t=r.grid.options.minimumColumnSize),s(t))if(angular.isString(t)){if(!t.match(/^(\d+)$/))throw new Error(n);r[e]=parseInt(t.match(/^(\d+)$/)[1],10)}else r[e]=t;else r[e]="minWidth"===e?30:9e3}),r.field=void 0===i.field?i.name:i.field,"string"!=typeof r.field&&c.logError("Field is not a string, this is likely to break the code, Field is: "+r.field),r.name=i.name,r.displayName=d(i),r.aggregationType=angular.isDefined(i.aggregationType)?i.aggregationType:null,r.footerCellTemplate=angular.isDefined(i.footerCellTemplate)?i.footerCellTemplate:null,void 0===i.cellTooltip||!1===i.cellTooltip?r.cellTooltip=!1:!0===i.cellTooltip?r.cellTooltip=function(e,t){return r.grid.getCellValue(e,t)}:"function"==typeof i.cellTooltip?r.cellTooltip=i.cellTooltip:r.cellTooltip=function(e,t){return t.colDef.cellTooltip},void 0===i.headerTooltip||!1===i.headerTooltip?r.headerTooltip=!1:!0===i.headerTooltip?r.headerTooltip=function(e){return e.displayName}:"function"==typeof i.headerTooltip?r.headerTooltip=i.headerTooltip:r.headerTooltip=function(e){return e.colDef.headerTooltip},r.footerCellClass=i.footerCellClass,r.cellClass=i.cellClass,r.headerCellClass=i.headerCellClass,r.cellFilter=i.cellFilter?i.cellFilter:"",r.sortCellFiltered=!!i.sortCellFiltered,r.filterCellFiltered=!!i.filterCellFiltered,r.headerCellFilter=i.headerCellFilter?i.headerCellFilter:"",r.footerCellFilter=i.footerCellFilter?i.footerCellFilter:"",r.visible=c.isNullOrUndefined(i.visible)||i.visible,r.headerClass=i.headerClass,r.enableSorting=void 0!==i.enableSorting?i.enableSorting:r.grid.options.enableSorting,r.sortingAlgorithm=i.sortingAlgorithm,r.sortDirectionCycle=void 0!==i.sortDirectionCycle?i.sortDirectionCycle:[null,u.ASC,u.DESC],void 0===r.suppressRemoveSort&&(r.suppressRemoveSort=void 0!==i.suppressRemoveSort&&i.suppressRemoveSort),r.enableFiltering=void 0===i.enableFiltering||i.enableFiltering,r.setPropertyOrDefault(i,"menuItems",[]),e&&r.setPropertyOrDefault(i,"sort"),r.setPropertyOrDefault(i,"defaultSort");var l=[];i.filter?l.push(i.filter):i.filters?l=i.filters:l.push({}),e?(r.setPropertyOrDefault(i,"filter"),r.setPropertyOrDefault(i,"extraStyle"),r.setPropertyOrDefault(i,"filters",l)):r.filters.length===l.length&&r.filters.forEach(function(e,t){void 0!==l[t].placeholder&&(e.placeholder=l[t].placeholder),void 0!==l[t].ariaLabel&&(e.ariaLabel=l[t].ariaLabel),void 0!==l[t].flags&&(e.flags=l[t].flags),void 0!==l[t].type&&(e.type=l[t].type),void 0!==l[t].selectOptions&&(e.selectOptions=l[t].selectOptions)})},t.prototype.unsort=function(){var t=this.sort.priority;this.grid.columns.forEach(function(e){e.sort&&void 0!==e.sort.priority&&e.sort.priority>t&&(e.sort.priority-=1)}),this.sort={},this.grid.api.core.raise.sortChanged(this.grid,this.grid.getColumnSorting())},t.prototype.getColClass=function(e){var t=u.COL_CLASS_PREFIX+this.uid;return e?"."+t:t},t.prototype.isPinnedLeft=function(){return"left"===this.renderContainer},t.prototype.isPinnedRight=function(){return"right"===this.renderContainer},t.prototype.getColClassDefinition=function(){return" .grid"+this.grid.id+" "+this.getColClass(!0)+" { min-width: "+this.drawnWidth+"px; max-width: "+this.drawnWidth+"px; }"},t.prototype.getRenderContainer=function(){var e=this.renderContainer;return null!==e&&""!==e&&void 0!==e||(e="body"),this.grid.renderContainers[e]},t.prototype.showColumn=function(){this.colDef.visible=!0},t.prototype.getAggregationText=function(){if(this.colDef.aggregationHideLabel)return"";if(this.colDef.aggregationLabel)return this.colDef.aggregationLabel;switch(this.colDef.aggregationType){case u.aggregationTypes.count:return e.getSafeText("aggregation.count");case u.aggregationTypes.sum:return e.getSafeText("aggregation.sum");case u.aggregationTypes.avg:return e.getSafeText("aggregation.avg");case u.aggregationTypes.min:return e.getSafeText("aggregation.min");case u.aggregationTypes.max:return e.getSafeText("aggregation.max");default:return""}},t.prototype.getCellTemplate=function(){return this.cellTemplatePromise},t.prototype.getCompiledElementFn=function(){return this.compiledElementFnDefer.promise},t}]),angular.module("ui.grid").factory("GridOptions",["gridUtil","uiGridConstants",function(t,n){return{initialize:function(e){return e.onRegisterApi=e.onRegisterApi||angular.noop(),e.data=e.data||[],e.columnDefs=e.columnDefs||[],e.excludeProperties=e.excludeProperties||["$$hashKey"],e.enableRowHashing=!1!==e.enableRowHashing,e.rowIdentity=e.rowIdentity||function(e){return t.hashKey(e)},e.getRowIdentity=e.getRowIdentity||function(e){return e.$$hashKey},e.flatEntityAccess=!0===e.flatEntityAccess,e.showHeader=void 0===e.showHeader||e.showHeader,e.showHeader?e.headerRowHeight=void 0!==e.headerRowHeight?e.headerRowHeight:30:e.headerRowHeight=0,"string"==typeof e.rowHeight?e.rowHeight=parseInt(e.rowHeight)||30:e.rowHeight=e.rowHeight||30,e.minRowsToShow=void 0!==e.minRowsToShow?e.minRowsToShow:10,e.showGridFooter=!0===e.showGridFooter,e.showColumnFooter=!0===e.showColumnFooter,e.columnFooterHeight=void 0!==e.columnFooterHeight?e.columnFooterHeight:30,e.gridFooterHeight=void 0!==e.gridFooterHeight?e.gridFooterHeight:30,e.columnWidth=void 0!==e.columnWidth?e.columnWidth:50,e.maxVisibleColumnCount=void 0!==e.maxVisibleColumnCount?e.maxVisibleColumnCount:200,e.virtualizationThreshold=void 0!==e.virtualizationThreshold?e.virtualizationThreshold:20,e.columnVirtualizationThreshold=void 0!==e.columnVirtualizationThreshold?e.columnVirtualizationThreshold:10,e.excessRows=void 0!==e.excessRows?e.excessRows:4,e.scrollThreshold=void 0!==e.scrollThreshold?e.scrollThreshold:4,e.excessColumns=void 0!==e.excessColumns?e.excessColumns:4,e.aggregationCalcThrottle=void 0!==e.aggregationCalcThrottle?e.aggregationCalcThrottle:500,e.wheelScrollThrottle=void 0!==e.wheelScrollThrottle?e.wheelScrollThrottle:70,e.scrollDebounce=void 0!==e.scrollDebounce?e.scrollDebounce:300,e.enableSorting=!1!==e.enableSorting,e.enableFiltering=!0===e.enableFiltering,e.enableColumnMenus=!1!==e.enableColumnMenus,e.enableVerticalScrollbar=void 0!==e.enableVerticalScrollbar?e.enableVerticalScrollbar:n.scrollbars.ALWAYS,e.enableHorizontalScrollbar=void 0!==e.enableHorizontalScrollbar?e.enableHorizontalScrollbar:n.scrollbars.ALWAYS,e.enableMinHeightCheck=!1!==e.enableMinHeightCheck,e.minimumColumnSize=void 0!==e.minimumColumnSize?e.minimumColumnSize:30,e.rowEquality=e.rowEquality||function(e,t){return e===t},e.headerTemplate=e.headerTemplate||null,e.footerTemplate=e.footerTemplate||"ui-grid/ui-grid-footer",e.gridFooterTemplate=e.gridFooterTemplate||"ui-grid/ui-grid-grid-footer",e.rowTemplate=e.rowTemplate||"ui-grid/ui-grid-row",e.gridMenuTemplate=e.gridMenuTemplate||"ui-grid/uiGridMenu",e.appScopeProvider=e.appScopeProvider||null,e}}}]),angular.module("ui.grid").factory("GridRenderContainer",["gridUtil","uiGridConstants",function(w,r){function e(e,t,n){var i=this;i.name=e,i.grid=t,i.visibleRowCache=[],i.visibleColumnCache=[],i.renderedRows=[],i.renderedColumns=[],i.prevScrollTop=0,i.prevScrolltopPercentage=0,i.prevRowScrollIndex=0,i.prevScrollLeft=0,i.prevScrollleftPercentage=0,i.prevColumnScrollIndex=0,i.columnStyles="",i.viewportAdjusters=[],i.hasHScrollbar=!1,i.hasVScrollbar=!1,i.canvasHeightShouldUpdate=!0,i.$$canvasHeight=0,n&&angular.isObject(n)&&angular.extend(i,n),t.registerStyleComputation({priority:5,func:function(){return i.updateColumnWidths(),i.columnStyles}})}return e.prototype.reset=function(){this.visibleColumnCache.length=0,this.visibleRowCache.length=0,this.renderedRows.length=0,this.renderedColumns.length=0},e.prototype.containsColumn=function(e){return-1!==this.visibleColumnCache.indexOf(e)},e.prototype.minRowsToRender=function(){for(var e=0,t=0,n=this.getViewportHeight(),i=this.visibleRowCache.length-1;t<n&&0<=i;i--)t+=this.visibleRowCache[i].height,e++;return e},e.prototype.minColumnsToRender=function(){for(var e=this.getViewportWidth(),t=0,n=0,i=0;i<this.visibleColumnCache.length;i++){var r=this.visibleColumnCache[i];if(n<e)n+=r.drawnWidth?r.drawnWidth:0,t++;else{for(var o=0,a=i;i-t<=a;a--)o+=this.visibleColumnCache[a].drawnWidth?this.visibleColumnCache[a].drawnWidth:0;o<e&&t++}}return t},e.prototype.getVisibleRowCount=function(){return this.visibleRowCache.length},e.prototype.registerViewportAdjuster=function(e){this.viewportAdjusters.push(e)},e.prototype.removeViewportAdjuster=function(e){var t=this.viewportAdjusters.indexOf(e);-1<t&&this.viewportAdjusters.splice(t,1)},e.prototype.getViewportAdjustment=function(){var t={height:0,width:0};return this.viewportAdjusters.forEach(function(e){t=e.call(this,t)}),t},e.prototype.getMargin=function(n){var i=0;return this.viewportAdjusters.forEach(function(e){var t=e.call(this,{height:0,width:0});t.side&&t.side===n&&(i+=-1*t.width)}),i},e.prototype.getViewportHeight=function(){var e=this.headerHeight?this.headerHeight:this.grid.headerHeight,t=this.grid.gridHeight-e-this.grid.footerHeight;return t+=this.getViewportAdjustment().height},e.prototype.getViewportWidth=function(){var e=this.grid.gridWidth;return e+=this.getViewportAdjustment().width},e.prototype.getHeaderViewportWidth=function(){return this.getViewportWidth()},e.prototype.getCanvasHeight=function(){var t=this;if(!t.canvasHeightShouldUpdate)return t.$$canvasHeight;var e=t.$$canvasHeight;return t.$$canvasHeight=0,t.visibleRowCache.forEach(function(e){t.$$canvasHeight+=e.height}),t.canvasHeightShouldUpdate=!1,t.grid.api.core.raise.canvasHeightChanged(e,t.$$canvasHeight),t.$$canvasHeight},e.prototype.getVerticalScrollLength=function(){return this.getCanvasHeight()-this.getViewportHeight()+this.grid.scrollbarHeight!==0?this.getCanvasHeight()-this.getViewportHeight()+this.grid.scrollbarHeight:-1},e.prototype.getHorizontalScrollLength=function(){return this.getCanvasWidth()-this.getViewportWidth()+this.grid.scrollbarWidth!==0?this.getCanvasWidth()-this.getViewportWidth()+this.grid.scrollbarWidth:-1},e.prototype.getCanvasWidth=function(){return this.canvasWidth},e.prototype.setRenderedRows=function(e){this.renderedRows.length=e.length;for(var t=0;t<e.length;t++)this.renderedRows[t]=e[t]},e.prototype.setRenderedColumns=function(e){this.renderedColumns.length=e.length;for(var t=0;t<e.length;t++)this.renderedColumns[t]=e[t];this.updateColumnOffset()},e.prototype.updateColumnOffset=function(){for(var e=0,t=0;t<this.currentFirstColumn;t++)e+=this.visibleColumnCache[t].drawnWidth;this.columnOffset=e},e.prototype.scrollVertical=function(e){var t=-1;if(e!==this.prevScrollTop){var n=e-this.prevScrollTop;return 0<n&&(this.grid.scrollDirection=r.scrollDirection.DOWN),n<0&&(this.grid.scrollDirection=r.scrollDirection.UP),1<(t=e/this.getVerticalScrollLength())&&(t=1),t<0&&(t=0),this.adjustScrollVertical(e,t),t}},e.prototype.scrollHorizontal=function(e){var t=-1;if(e!==this.prevScrollLeft){var n=e-this.prevScrollLeft;0<n&&(this.grid.scrollDirection=r.scrollDirection.RIGHT),n<0&&(this.grid.scrollDirection=r.scrollDirection.LEFT);var i=this.getHorizontalScrollLength();return t=0!==i?e/i:0,this.adjustScrollHorizontal(e,t),t}},e.prototype.adjustScrollVertical=function(e,t,n){this.prevScrollTop===e&&!n||(void 0!==e&&null!=e||(e=(this.getCanvasHeight()-this.getViewportHeight())*t),this.adjustRows(e,t,!1),this.prevScrollTop=e,this.prevScrolltopPercentage=t,this.grid.queueRefresh())},e.prototype.adjustScrollHorizontal=function(e,t,n){this.prevScrollLeft===e&&!n||(void 0!==e&&null!=e||(e=(this.getCanvasWidth()-this.getViewportWidth())*t),this.adjustColumns(e,t),this.prevScrollLeft=e,this.prevScrollleftPercentage=t,this.grid.queueRefresh())},e.prototype.adjustRows=function(e,t,n){var i=this,r=i.minRowsToRender(),o=i.visibleRowCache,a=o.length-r;null==t&&e&&(t=e/i.getVerticalScrollLength());var s=Math.ceil(Math.min(a,a*t));a<s&&(s=a);var l=[];if(o.length>i.grid.options.virtualizationThreshold){if(null!=e){if(!i.grid.suppressParentScrollDown&&i.prevScrollTop<e&&s<i.prevRowScrollIndex+i.grid.options.scrollThreshold&&s<a)return;if(!i.grid.suppressParentScrollUp&&i.prevScrollTop>e&&s>i.prevRowScrollIndex-i.grid.options.scrollThreshold&&s<a)return}l=[Math.max(0,s-i.grid.options.excessRows),Math.min(o.length,s+r+i.grid.options.excessRows)]}else{var c=i.visibleRowCache.length;l=[0,Math.max(c,r+i.grid.options.excessRows)]}i.updateViewableRowRange(l),i.prevRowScrollIndex=s},e.prototype.adjustColumns=function(e,t){var n=this,i=n.minColumnsToRender(),r=n.visibleColumnCache,o=r.length-i;null==t&&e&&(t=e/n.getHorizontalScrollLength());var a=Math.ceil(Math.min(o,o*t));o<a&&(a=o);var s=[];if(r.length>n.grid.options.columnVirtualizationThreshold&&n.getCanvasWidth()>n.getViewportWidth())s=[Math.max(0,a-n.grid.options.excessColumns),Math.min(r.length,a+i+n.grid.options.excessColumns)];else{var l=n.visibleColumnCache.length;s=[0,Math.max(l,i+n.grid.options.excessColumns)]}n.updateViewableColumnRange(s),n.prevColumnScrollIndex=a},e.prototype.updateViewableRowRange=function(e){var t=this.visibleRowCache.slice(e[0],e[1]);this.currentTopRow=e[0],this.setRenderedRows(t)},e.prototype.updateViewableColumnRange=function(e){var t=this.visibleColumnCache.slice(e[0],e[1]);this.currentFirstColumn=e[0],this.setRenderedColumns(t)},e.prototype.headerCellWrapperStyle=function(){if(0===this.currentFirstColumn)return null;var e=this.columnOffset;return this.grid.isRTL()?{"margin-right":e+"px"}:{"margin-left":e+"px"}},e.prototype.updateColumnWidths=function(){var i=this,r=[],o=0,a=0,t="",s=!1,l=[],c=[],u=0,d=i.grid.getViewportWidth()-i.grid.scrollbarWidth,n=[];angular.forEach(i.grid.renderContainers,function(e){n=n.concat(e.visibleColumnCache)}),n.forEach(function(e){var t=0;if(e.visible)if(s&&(d+=i.grid.scrollbarWidth),!s&&e.colDef.pinnedRight&&(s=!0),angular.isNumber(e.width))t=parseInt(e.width,10),a+=t,e.drawnWidth=t,l.push(e);else if(w.endsWith(e.width,"%")){var n=parseInt(e.width.replace(/%/g,""),10);(t=parseInt(n/100*d))>e.maxWidth&&(t=e.maxWidth),t<e.minWidth&&(t=e.minWidth),a+=t,e.drawnWidth=t,u+=n,c.push(e)}else angular.isString(e.width)&&-1!==e.width.indexOf("*")&&(o+=e.width.length,r.push(e))});var e,h=d-a;if(0<r.length){var p=h/o;r.forEach(function(e){var t=parseInt(e.width.length*p,10);t>e.maxWidth&&(t=e.maxWidth),t<e.minWidth&&(t=e.minWidth),a+=t,e.drawnWidth=t})}if(0<r.length?e=r:0<c.length&&0===l.length&&100===u&&(e=c),!angular.isUndefined(e)){function f(e){e.drawnWidth<e.maxWidth&&0<g&&(e.drawnWidth++,a++,g--,m=!0)}for(var g=d-a,m=!0;0<g&&m;)m=!1,e.forEach(f);function v(e){e.drawnWidth>e.minWidth&&0<y&&(e.drawnWidth--,a--,y--,m=!0)}var y=a-d;for(m=!0;0<y&&m;)m=!1,e.forEach(v)}var b=0;i.visibleColumnCache.forEach(function(e){e.visible&&(b+=e.drawnWidth)}),n.forEach(function(e){t+=e.getColClassDefinition()}),i.canvasWidth=b,this.columnStyles=t},e.prototype.needsHScrollbarPlaceholder=function(){var e;return("left"===this.name||"right"===this.name&&!this.hasHScrollbar&&!this.grid.disableScrolling)&&(this.grid.options.enableHorizontalScrollbar===r.scrollbars.ALWAYS||(e=this.grid.element[0].querySelector(".ui-grid-render-container-body .ui-grid-viewport")).scrollWidth>e.offsetWidth)},e.prototype.getViewportStyle=function(){var e=this,t={},n={};return n[r.scrollbars.ALWAYS]="scroll",n[r.scrollbars.WHEN_NEEDED]="auto",e.hasHScrollbar=!1,e.hasVScrollbar=!1,e.grid.disableScrolling?(t["overflow-x"]="hidden",t["overflow-y"]="hidden"):("body"===e.name?(e.hasHScrollbar=e.grid.options.enableHorizontalScrollbar!==r.scrollbars.NEVER,e.grid.isRTL()?e.grid.hasLeftContainerColumns()||(e.hasVScrollbar=e.grid.options.enableVerticalScrollbar!==r.scrollbars.NEVER):e.grid.hasRightContainerColumns()||(e.hasVScrollbar=e.grid.options.enableVerticalScrollbar!==r.scrollbars.NEVER)):"left"===e.name?e.hasVScrollbar=!!e.grid.isRTL()&&e.grid.options.enableVerticalScrollbar!==r.scrollbars.NEVER:e.hasVScrollbar=!e.grid.isRTL()&&e.grid.options.enableVerticalScrollbar!==r.scrollbars.NEVER,t["overflow-x"]=e.hasHScrollbar?n[e.grid.options.enableHorizontalScrollbar]:"hidden",t["overflow-y"]=e.hasVScrollbar?n[e.grid.options.enableVerticalScrollbar]:"hidden"),t},e}]),angular.module("ui.grid").factory("GridRow",["gridUtil","uiGridConstants",function(i,t){function e(e,t,n){this.grid=n,this.entity=e,this.uid=i.nextUid(),this.visible=!0,this.isSelected=!1,this.$$height=n.options.rowHeight}return Object.defineProperty(e.prototype,"height",{get:function(){return this.$$height},set:function(e){e!==this.$$height&&(this.grid.updateCanvasHeight(),this.$$height=e)}}),e.prototype.getQualifiedColField=function(e){return"row."+this.getEntityQualifiedColField(e)},e.prototype.getEntityQualifiedColField=function(e){return e.field===t.ENTITY_BINDING?"entity":i.preEval("entity."+e.field)},e.prototype.setRowInvisible=function(e){e&&e.setThisRowInvisible&&e.setThisRowInvisible("user")},e.prototype.clearRowInvisible=function(e){e&&e.clearThisRowInvisible&&e.clearThisRowInvisible("user")},e.prototype.setThisRowInvisible=function(e,t){this.invisibleReason||(this.invisibleReason={}),this.invisibleReason[e]=!0,this.evaluateRowVisibility(t)},e.prototype.clearThisRowInvisible=function(e,t){void 0!==this.invisibleReason&&delete this.invisibleReason[e],this.evaluateRowVisibility(t)},e.prototype.evaluateRowVisibility=function(e){var n=!0;void 0!==this.invisibleReason&&angular.forEach(this.invisibleReason,function(e,t){e&&(n=!1)}),void 0!==this.visible&&this.visible===n||(this.visible=n,e||(this.grid.queueGridRefresh(),this.grid.api.core.raise.rowsVisibleChanged(this)))},e}]),function(){"use strict";angular.module("ui.grid").factory("GridRowColumn",["$parse","$filter",function(e,t){function n(e,t){if(!(this instanceof n))throw"Using GridRowColumn as a function insead of as a constructor. Must be called with `new` keyword";this.row=e,this.col=t}return n.prototype.getIntersectionValueRaw=function(){return e(this.row.getEntityQualifiedColField(this.col))(this.row)},n}])}(),angular.module("ui.grid").factory("ScrollEvent",["gridUtil",function(a){function e(e,t,n,i){var r=this;if(!e)throw new Error("grid argument is required");r.grid=e,r.source=i,r.withDelay=!0,r.sourceRowContainer=t,r.sourceColContainer=n,r.newScrollLeft=null,r.newScrollTop=null,r.x=null,r.y=null,r.verticalScrollLength=-9999999,r.horizontalScrollLength=-999999,r.fireThrottledScrollingEvent=a.throttle(function(e){r.grid.scrollContainers(e,r)},r.grid.options.wheelScrollThrottle,{trailing:!0})}return e.prototype.getNewScrollLeft=function(e,t){var n=this;if(n.newScrollLeft)return n.newScrollLeft;var i,r=e.getCanvasWidth()-e.getViewportWidth(),o=a.normalizeScrollLeft(t,n.grid);if(void 0!==n.x.percentage&&void 0!==n.x.percentage)i=n.x.percentage;else{if(void 0===n.x.pixels||void 0===n.x.pixels)throw new Error("No percentage or pixel value provided for scroll event X axis");i=n.x.percentage=(o+n.x.pixels)/r}return Math.max(0,i*r)},e.prototype.getNewScrollTop=function(e,t){if(this.newScrollTop)return this.newScrollTop;var n,i=e.getVerticalScrollLength(),r=t[0].scrollTop;if(void 0!==this.y.percentage&&void 0!==this.y.percentage)n=this.y.percentage;else{if(void 0===this.y.pixels||void 0===this.y.pixels)throw new Error("No percentage or pixel value provided for scroll event Y axis");n=this.y.percentage=(r+this.y.pixels)/i}return Math.max(0,n*i)},e.prototype.atTop=function(e){return this.y&&(0===this.y.percentage||this.verticalScrollLength<0)&&0===e},e.prototype.atBottom=function(e){return this.y&&(1===this.y.percentage||0===this.verticalScrollLength)&&0<e},e.prototype.atLeft=function(e){return this.x&&(0===this.x.percentage||this.horizontalScrollLength<0)&&0===e},e.prototype.atRight=function(e){return this.x&&(1===this.x.percentage||0===this.horizontalScrollLength)&&0<e},e.Sources={ViewPortScroll:"ViewPortScroll",RenderContainerMouseWheel:"RenderContainerMouseWheel",RenderContainerTouchMove:"RenderContainerTouchMove",Other:99},e}]),function(){"use strict";angular.module("ui.grid").service("gridClassFactory",["gridUtil","$q","$compile","$templateCache","uiGridConstants","Grid","GridColumn","GridRow",function(c,i,r,e,u,o,t,n){var a={createGrid:function(e){(e=void 0!==e?e:{}).id=c.newId();var t=new o(e);if(t.options.rowTemplate){var n=i.defer();t.getRowTemplateFn=n.promise,c.getTemplate(t.options.rowTemplate).then(function(e){var t=r(e);n.resolve(t)},function(){throw new Error("Couldn't fetch/use row template '"+t.options.rowTemplate+"'")}).catch(angular.noop)}return t.registerColumnBuilder(a.defaultColumnBuilder),t.registerRowBuilder(a.rowTemplateAssigner),t.registerRowsProcessor(function(e){return e.forEach(function(e){e.evaluateRowVisibility(!0)}),e},50),t.registerColumnsProcessor(function(e){return e.forEach(function(e){e.visible=!angular.isDefined(e.colDef.visible)||e.colDef.visible}),e},50),t.registerRowsProcessor(t.searchRows,100),t.options.externalSort&&angular.isFunction(t.options.externalSort)?t.registerRowsProcessor(t.options.externalSort,200):t.registerRowsProcessor(t.sortByColumn,200),t},defaultColumnBuilder:function(a,s,e){function t(n,e,t,i,r){a[n]?s[e]=a[n]:s[e]=t;var o=c.getTemplate(s[e]).then(function(e){angular.isFunction(e)&&(e=e());var t="cellTooltip"===r?"col.cellTooltip(row,col)":"col.headerTooltip(col)";r&&!1===s[r]?e=e.replace(u.TOOLTIP,""):r&&s[r]&&(e=e.replace(u.TOOLTIP,'title="{{'+t+' CUSTOM_FILTERS }}"')),s[n]=i?e.replace(u.CUSTOM_FILTERS,function(){return s[i]?"|"+s[i]:""}):e},function(){throw new Error("Couldn't fetch/use colDef."+n+" '"+a[n]+"'")}).catch(angular.noop);return l.push(o),o}var l=[];return s.cellTemplatePromise=t("cellTemplate","providedCellTemplate","ui-grid/uiGridCell","cellFilter","cellTooltip"),s.headerCellTemplatePromise=t("headerCellTemplate","providedHeaderCellTemplate","ui-grid/uiGridHeaderCell","headerCellFilter","headerTooltip"),s.footerCellTemplatePromise=t("footerCellTemplate","providedFooterCellTemplate","ui-grid/uiGridFooterCell","footerCellFilter"),s.filterHeaderTemplatePromise=t("filterHeaderTemplate","providedFilterHeaderTemplate","ui-grid/ui-grid-filter"),s.compiledElementFnDefer=i.defer(),i.all(l)},rowTemplateAssigner:function(e){if(e.rowTemplate){var n=i.defer();e.getRowTemplateFn=n.promise,c.getTemplate(e.rowTemplate).then(function(e){var t=r(e);n.resolve(t)},function(){throw new Error("Couldn't fetch/use row template '"+e.rowTemplate+"'")})}else e.rowTemplate=this.options.rowTemplate,e.getRowTemplateFn=this.getRowTemplateFn;return e.getRowTemplateFn}};return a}])}(),angular.module("ui.grid").service("rowSearcher",["gridUtil","uiGridConstants",function(d,l){var r=l.filter.CONTAINS,h={getTerm:function(e){if(void 0===e.term)return e.term;var t=e.term;return"string"==typeof t&&(t=t.trim()),t},stripTerm:function(e){var t=h.getTerm(e);return"string"==typeof t?function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}(t.replace(/(^\*|\*$)/g,"")):t},guessCondition:function(e){if(void 0===e.term||!e.term)return r;var t=h.getTerm(e);if(/\*/.test(t)){var n="";e.flags&&e.flags.caseSensitive||(n+="i");var i=t.replace(/(\\)?\*/g,function(e,t){return t?e:"[\\s\\S]*?"});return new RegExp("^"+i+"$",n)}return r},setupFilters:function(e){for(var t=[],n=e.length,i=0;i<n;i++){var r=e[i];if(r.noTerm||!d.isNullOrUndefined(r.term)){var o={},a="";r.flags&&r.flags.caseSensitive||(a+="i"),d.isNullOrUndefined(r.term)||(r.rawTerm?o.term=r.term:o.term=h.stripTerm(r)),o.noTerm=r.noTerm,r.condition?o.condition=r.condition:o.condition=h.guessCondition(r),o.flags=angular.extend({caseSensitive:!1,date:!1},r.flags),o.condition===l.filter.STARTS_WITH&&(o.startswithRE=new RegExp("^"+o.term,a)),o.condition===l.filter.ENDS_WITH&&(o.endswithRE=new RegExp(o.term+"$",a)),o.condition===l.filter.CONTAINS&&(o.containsRE=new RegExp(o.term,a)),o.condition===l.filter.EXACT&&(o.exactRE=new RegExp("^"+o.term+"$",a)),t.push(o)}}return t},runColumnFilter:function(e,t,n,i){var r,o=typeof i.condition,a=i.term;if(r=n.filterCellFiltered?e.getCellDisplayValue(t,n):e.getCellValue(t,n),i.condition instanceof RegExp)return i.condition.test(r);if("function"==o)return i.condition(a,r,t,n);if(i.startswithRE)return i.startswithRE.test(r);if(i.endswithRE)return i.endswithRE.test(r);if(i.containsRE)return i.containsRE.test(r);if(i.exactRE)return i.exactRE.test(r);if(i.condition===l.filter.NOT_EQUAL)return!new RegExp("^"+a+"$").exec(r);if("number"==typeof r&&"string"==typeof a){var s=parseFloat(a.replace(/\\\./,".").replace(/\\\-/,"-"));isNaN(s)||(a=s)}return!0===i.flags.date&&(r=new Date(r),a=new Date(a.replace(/\\/g,""))),i.condition===l.filter.GREATER_THAN?a<r:i.condition===l.filter.GREATER_THAN_OR_EQUAL?a<=r:i.condition===l.filter.LESS_THAN?r<a:i.condition!==l.filter.LESS_THAN_OR_EQUAL||r<=a},searchColumn:function(e,t,n,i){if(e.options.useExternalFiltering)return!0;for(var r=i.length,o=0;o<r;o++){var a=i[o];if((!d.isNullOrUndefined(a.term)&&""!==a.term||a.noTerm)&&!h.runColumnFilter(e,t,n,a))return!1}return!0},search:function(e,l,t){if(l){if(!e.options.enableFiltering)return l;function n(e){var t=!1;return e.forEach(function(e){(!d.isNullOrUndefined(e.term)&&""!==e.term||e.noTerm)&&(t=!0)}),t}for(var i=[],r=t.length,o=0;o<r;o++){var a=t[o];void 0!==a.filters&&n(a.filters)&&i.push({col:a,filters:h.setupFilters(a.filters)})}if(0<i.length){function s(e,t){for(var n,i,r,o,a=l.length,s=0;s<a;s++)n=e,i=l[s],r=t.col,o=t.filters,i.visible&&!h.searchColumn(n,i,r,o)&&(i.visible=!1)}for(var c=i.length,u=0;u<c;u++)s(e,i[u]);e.api.core.raise.rowsVisibleChanged&&e.api.core.raise.rowsVisibleChanged()}return l}}};return h}]),angular.module("ui.grid").service("rowSorter",["$parse","uiGridConstants",function(e,h){var t="("+h.CURRENCY_SYMBOLS.map(function(e){return"\\"+e}).join("|")+")?",p=(new RegExp("^[-+]?"+t+"[\\d,.]+"+t+"%?$"),{colSortFnCache:{},guessSortFn:function(e){switch(e){case"number":return p.sortNumber;case"numberStr":return p.sortNumberStr;case"boolean":return p.sortBool;case"string":return p.sortAlpha;case"date":return p.sortDate;case"object":return p.basicSort;default:throw new Error("No sorting function found for type: "+e)}},handleNulls:function(e,t){if(!e&&0!==e&&!1!==e||!t&&0!==t&&!1!==t){if(!e&&0!==e&&!1!==e&&!t&&0!==t&&!1!==t)return 0;if(!e&&0!==e&&!1!==e)return 1;if(!t&&0!==t&&!1!==t)return-1}return null},basicSort:function(e,t){var n=p.handleNulls(e,t);return null!==n?n:e===t?0:e<t?-1:1},sortNumber:function(e,t){var n=p.handleNulls(e,t);return null!==n?n:e-t},sortNumberStr:function(e,t){var n=p.handleNulls(e,t);if(null!==n)return n;var i,r,o=!1,a=!1;return i=parseFloat(e.replace(/[^0-9.-]/g,"")),isNaN(i)&&(o=!0),r=parseFloat(t.replace(/[^0-9.-]/g,"")),isNaN(r)&&(a=!0),o&&a?0:o?1:a?-1:i-r},sortAlpha:function(e,t){var n=p.handleNulls(e,t);if(null!==n)return n;var i=e.toString().toLowerCase(),r=t.toString().toLowerCase();return i===r?0:i.localeCompare(r)},sortDate:function(e,t){var n=p.handleNulls(e,t);if(null!==n)return n;e instanceof Date||(e=new Date(e)),t instanceof Date||(t=new Date(t));var i=e.getTime(),r=t.getTime();return i===r?0:i<r?-1:1},sortBool:function(e,t){var n=p.handleNulls(e,t);return null!==n?n:e&&t?0:e||t?e?1:-1:0},getSortFn:function(e,t,n){var i;return p.colSortFnCache[t.colDef.name]?i=p.colSortFnCache[t.colDef.name]:void 0!==t.sortingAlgorithm?(i=t.sortingAlgorithm,p.colSortFnCache[t.colDef.name]=t.sortingAlgorithm):t.sortCellFiltered&&t.cellFilter?(i=p.sortAlpha,p.colSortFnCache[t.colDef.name]=i):(i=p.guessSortFn(t.colDef.type))?p.colSortFnCache[t.colDef.name]=i:i=p.sortAlpha,i},prioritySort:function(e,t){return void 0!==e.sort.priority&&void 0!==t.sort.priority?e.sort.priority<t.sort.priority?-1:e.sort.priority===t.sort.priority?0:1:void 0!==e.sort.priority?-1:void 0!==t.sort.priority?1:0},sort:function(s,e,t){if(e){if(s.options.useExternalSorting)return e;var l,c,u=[],n=[];if(t.forEach(function(e){!e.sort||e.sort.ignoreSort||!e.sort.direction||e.sort.direction!==h.ASC&&e.sort.direction!==h.DESC?e.defaultSort&&e.defaultSort.direction&&(e.defaultSort.direction===h.ASC||e.defaultSort.direction===h.DESC)&&n.push({col:e,sort:e.defaultSort}):u.push({col:e,sort:e.sort})}),u=u.sort(p.prioritySort),n=n.sort(p.prioritySort),0===(u=u.concat(n)).length)return e;e.forEach(function(e,t){e.entity.$$uiGridIndex=t});var d=e.slice(0),i=e.sort(function(e,t){for(var n,i=0,r=0;0===i&&r<u.length;){var o,a;l=u[r].col,c=u[r].sort.direction,n=p.getSortFn(s,l,d),a=l.sortCellFiltered?(o=s.getCellDisplayValue(e,l),s.getCellDisplayValue(t,l)):(o=s.getCellValue(e,l),s.getCellValue(t,l)),i=n(o,a,e,t,c,l),r++}return 0===i?e.entity.$$uiGridIndex-t.entity.$$uiGridIndex:c===h.ASC?i:0-i});return e.forEach(function(e,t){delete e.entity.$$uiGridIndex}),i}}});return p}]),function(){var y,e=angular.module("ui.grid");function b(e){var t=e;return void 0!==t.length&&t.length&&(t=e[0]),t.ownerDocument.defaultView.getComputedStyle(t,null)}"function"!=typeof Function.prototype.bind&&(y=function(){var i=Array.prototype.slice;return function(e){var t=this,n=i.call(arguments,1);return n.length?function(){return arguments.length?t.apply(e,n.concat(i.call(arguments))):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}});var s=new RegExp("^("+/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source+")(?!px)[a-z%]+$","i"),w=/^(block|none|table(?!-c[ea]).+)/,x={position:"absolute",visibility:"hidden",display:"block"};function C(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,a=0,s=["Top","Right","Bottom","Left"];o<4;o+=2){var l=s[o];if("margin"===n){var c=parseFloat(r[n+l]);isNaN(c)||(a+=c)}if(i){if("content"===n){var u=parseFloat(r["padding"+l]);isNaN(u)||(a-=u)}if("margin"!==n){var d=parseFloat(r["border"+l+"Width"]);isNaN(d)||(a-=d)}}else{var h=parseFloat(r["padding"+l]);if(isNaN(h)||(a+=h),"padding"!==n){var p=parseFloat(r["border"+l+"Width"]);isNaN(p)||(a+=p)}}}return a}function S(e,t,n){var i,r=!0,o=b(e),a="border-box"===o.boxSizing;if(i<=0||null==i){if(((i=o[t])<0||null==i)&&(i=e.style[t]),s.test(i))return i;r=a&&!0,i=parseFloat(i)||0}return i+C(0,t,n||(a?"border":"content"),r,o)}var $=["0","0","0","0"],E="uiGrid-";e.service("gridUtil",["$log","$window","$document","$http","$templateCache","$timeout","$interval","$injector","$q","$interpolate","uiGridConstants",function(t,r,n,e,i,l,c,o,a,s,u){var d,h={augmentWidthOrHeight:C,getStyles:b,createBoundedWrapper:function(e,t){return function(){return t.apply(e,arguments)}},readableColumnName:function(e){return void 0===e||null==e?e:("string"!=typeof e&&(e=String(e)),e.replace(/_+/g," ").replace(/^[A-Z]+$/,function(e){return e.toLowerCase()}).replace(/([\w\u00C0-\u017F]+)/g,function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).replace(/(\w+?(?=[A-Z]))/g,"$1 "))},getColumnsFromData:function(e,n){var i=[];if(!e||void 0===e[0]||void 0===e[0])return[];angular.isUndefined(n)&&(n=[]);var t=e[0];return angular.forEach(t,function(e,t){-1===n.indexOf(t)&&i.push({name:t})}),i},newId:(d=(new Date).getTime(),function(){return d+=1}),getTemplate:function(n){if(i.get(n))return h.postProcessTemplate(i.get(n));if(angular.isFunction(n.then))return n.then(h.postProcessTemplate).catch(angular.noop);try{if(0<angular.element(n).length)return a.when(n).then(h.postProcessTemplate).catch(angular.noop)}catch(e){}return e({method:"GET",url:n}).then(function(e){var t=e.data.trim();return i.put(n,t),t},function(e){throw new Error("Could not get template "+n+": "+e)}).then(h.postProcessTemplate).catch(angular.noop)},postProcessTemplate:function(e){var t=s.startSymbol(),n=s.endSymbol();return"{{"===t&&"}}"===n||(e=(e=e.replace(/\{\{/g,t)).replace(/\}\}/g,n)),a.when(e)},guessType:function(e){var t=typeof e;switch(t){case"number":case"boolean":case"string":return t;default:return angular.isDate(e)?"date":"object"}},elementWidth:function(e){},elementHeight:function(e){},getScrollbarWidth:function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",e.appendChild(n);var i=n.offsetWidth;return e.parentNode.removeChild(e),t-i},swap:function(e,t,n,i){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in r=n.apply(e,i||[]),t)e.style[o]=a[o];return r},fakeElement:function(e,t,n,i){var r,o,a=angular.element(e).clone()[0];for(o in t)a.style[o]=t[o];return angular.element(document.body).append(a),r=n.call(a,a),angular.element(a).remove(),r},normalizeWheelEvent:function(e){var t,n,i,r,o,a=e||window.event,s=([].slice.call(arguments,1),0),l=0,c=0;return a.originalEvent&&(a=a.originalEvent),a.wheelDelta&&(s=a.wheelDelta),a.detail&&(s=-1*a.detail),c=s,void 0!==a.axis&&a.axis===a.HORIZONTAL_AXIS&&(c=0,l=-1*s),a.deltaY&&(s=c=-1*a.deltaY),a.deltaX&&(s=-1*(l=a.deltaX)),void 0!==a.wheelDeltaY&&(c=a.wheelDeltaY),void 0!==a.wheelDeltaX&&(l=a.wheelDeltaX),i=Math.abs(s),(!t||i<t)&&(t=i),r=Math.max(Math.abs(c),Math.abs(l)),(!n||r<n)&&(n=r),o=0<s?"floor":"ceil",{delta:s=Math[o](s/t),deltaX:l=Math[o](l/n),deltaY:c=Math[o](c/n)}},isTouchEnabled:function(){var e;return("ontouchstart"in r||r.DocumentTouch&&n instanceof DocumentTouch)&&(e=!0),e},isNullOrUndefined:function(e){return null==e},endsWith:function(e,t){return!(!e||!t||"string"!=typeof e)&&-1!==e.indexOf(t,e.length-t.length)},arrayContainsObjectWithProperty:function(e,t,n){var i=!1;return angular.forEach(e,function(e){e[t]===n&&(i=!0)}),i},numericAndNullSort:function(e,t){return null===e?1:null===t?-1:null===e&&null===t?0:e-t},disableAnimations:function(e){var t;try{t=o.get("$animate"),1<angular.version.major||1===angular.version.major&&4<=angular.version.minor?t.enabled(e,!1):t.enabled(!1,e)}catch(e){}},enableAnimations:function(e){var t;try{return t=o.get("$animate"),1<angular.version.major||1===angular.version.major&&4<=angular.version.minor?t.enabled(e,!0):t.enabled(!0,e),t}catch(e){}},nextUid:function(){for(var e,t=$.length;t;){if(57===(e=$[--t].charCodeAt(0)))return $[t]="A",E+$.join("");if(90!==e)return $[t]=String.fromCharCode(e+1),E+$.join("");$[t]="0"}return $.unshift("0"),E+$.join("")},hashKey:function(e){var t,n=typeof e;return"object"==n&&null!==e?"function"==typeof(t=e.$$hashKey)?t=e.$$hashKey():void 0!==e.$$hashKey&&e.$$hashKey?t=e.$$hashKey:void 0===t&&(t=e.$$hashKey=h.nextUid()):t=e,n+": "+t},resetUids:function(){$=["0","0","0"]},logError:function(e){u.LOG_ERROR_MESSAGES&&t.error(e)},logWarn:function(e){u.LOG_WARN_MESSAGES&&t.warn(e)},logDebug:function(){u.LOG_DEBUG_MESSAGES&&t.debug.apply(t,arguments)}};h.focus={queue:[],byId:function(n,i){this._purgeQueue();var e=l(function(){var e=(i&&i.id?i.id+"-":"")+n,t=r.document.getElementById(e);t?t.focus():h.logWarn("[focus.byId] Element id "+e+" was not found.")},0,!1);return this.queue.push(e),e},byElement:function(e){if(!angular.isElement(e))return h.logWarn("Trying to focus on an element that isn't an element."),a.reject("not-element");e=angular.element(e),this._purgeQueue();var t=l(function(){e&&e[0].focus()},0,!1);return this.queue.push(t),t},bySelector:function(t,n,e){var i=this;if(!angular.isElement(t))throw new Error("The parent element is not an element.");t=angular.element(t);function r(){var e=t[0].querySelector(n);return i.byElement(e)}if(this._purgeQueue(),e){var o=l(r,0,!1);return this.queue.push(o),o}return r()},_purgeQueue:function(){this.queue.forEach(function(e){l.cancel(e)}),this.queue=[]}},["width","height"].forEach(function(r){var n=r.charAt(0).toUpperCase()+r.substr(1);h["element"+n]=function(e,t){var n=e;if(n&&void 0!==n.length&&n.length&&(n=e[0]),n&&null!==n){var i=b(n);return 0===n.offsetWidth&&w.test(i.display)?h.swap(n,x,function(){return S(n,r,t)}):S(n,r,t)}return null},h["outerElement"+n]=function(e,t){return e?h["element"+n].call(this,e,t?"margin":"border"):null}}),h.closestElm=function(e,t){var n,i;for(void 0!==e.length&&e.length&&(e=e[0]),["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some(function(e){return"function"==typeof document.body[e]&&(n=e,!0)});null!==e;){if(null!==(i=e.parentElement)&&i[n](t))return i;e=i}return null},h.type=function(e){return Function.prototype.toString.call(e.constructor).match(/function (.*?)\(/)[1]},h.getBorderSize=function(e,t){void 0!==e.length&&e.length&&(e=e[0]);var n=b(e);t=t?"border"+t.charAt(0).toUpperCase()+t.slice(1):"border",t+="Width";var i=parseInt(n[t],10);return isNaN(i)?0:i},h.detectBrowser=function(){var e=r.navigator.userAgent,t={chrome:/chrome/i,safari:/safari/i,firefox:/firefox/i,ie:/internet explorer|trident\//i};for(var n in t)if(t[n].test(e))return n;return"unknown"},h.rtlScrollType=function e(){if(e.type)return e.type;var t=angular.element('<div dir="rtl" style="font-size: 14px; width: 1px; height: 1px; position: absolute; top: -1000px; overflow: scroll">A</div>')[0],n="reverse";return document.body.appendChild(t),0<t.scrollLeft?n="default":(t.scrollLeft=1,0===t.scrollLeft&&(n="negative")),angular.element(t).remove(),e.type=n},h.normalizeScrollLeft=function(e,t){void 0!==e.length&&e.length&&(e=e[0]);var n=e.scrollLeft;if(t.isRTL())switch(h.rtlScrollType()){case"default":return e.scrollWidth-n-e.clientWidth;case"negative":return Math.abs(n);case"reverse":return n}return n},h.denormalizeScrollLeft=function(e,t,n){if(void 0!==e.length&&e.length&&(e=e[0]),n.isRTL())switch(h.rtlScrollType()){case"default":return e.scrollWidth-e.clientWidth-t;case"negative":return-1*t;case"reverse":return t}return t},h.preEval=function(e){var t=u.BRACKET_REGEXP.exec(e);if(t)return(t[1]?h.preEval(t[1]):t[1])+t[2]+(t[3]?h.preEval(t[3]):t[3]);var n=(e=e.replace(u.APOS_REGEXP,"\\'")).split(u.DOT_REGEXP),i=[n.shift()];return angular.forEach(n,function(e){i.push(e.replace(u.FUNC_REGEXP,"']$1"))}),i.join("['")},h.debounce=function(t,n,i){var r,o,a,s;function e(){a=this,o=arguments;var e=i&&!r;return r&&l.cancel(r),r=l(function(){r=null,i||(s=t.apply(a,o))},n,!1),e&&(s=t.apply(a,o)),s}return e.cancel=function(){l.cancel(r),r=null},e},h.throttle=function(t,n,i){i=i||{};var r,o,a=0,s=null;function l(e){a=+new Date,t.apply(r,o),c(function(){s=null},0,1,!1)}return function(){if(r=this,o=arguments,null===s){var e=+new Date-a;n<e?l():i.trailing&&(s=c(l,n-e,1,!1))}}},h.on={},h.off={},h._events={},h.addOff=function(i){h.off[i]=function(e,t){var n=h._events[i].indexOf(t);0<n&&h._events[i].removeAt(n)}};var p,f,g="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];function m(e,t){var n,i=angular.element(this),r=0,o=0,a=0;if(t.originalEvent&&(t=t.originalEvent),"detail"in t&&(a=-1*t.detail),"wheelDelta"in t&&(a=t.wheelDelta),"wheelDeltaY"in t&&(a=t.wheelDeltaY),"wheelDeltaX"in t&&(o=-1*t.wheelDeltaX),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(o=-1*a,a=0),r=0===a?o:a,"deltaY"in t&&(r=a=-1*t.deltaY),"deltaX"in t&&(o=t.deltaX,0===a&&(r=-1*o)),0!==a||0!==o){if(1===t.deltaMode){var s=i.data("mousewheel-line-height");r*=s,a*=s,o*=s}else if(2===t.deltaMode){var l=i.data("mousewheel-page-height");r*=l,a*=l,o*=l}n=Math.max(Math.abs(a),Math.abs(o)),(!f||n<f)&&function(e,t){return"mousewheel"===e.type&&t%120==0}(t,f=n)&&(f/=40),r=Math[1<=r?"floor":"ceil"](r/f),o=Math[1<=o?"floor":"ceil"](o/f),a=Math[1<=a?"floor":"ceil"](a/f);var c={originalEvent:t,deltaX:o,deltaY:a,deltaFactor:f,preventDefault:function(){t.preventDefault()},stopPropagation:function(){t.stopPropagation()}};p&&clearTimeout(p),p=setTimeout(v,200),e.call(i[0],c)}}function v(){f=null}return h.on.mousewheel=function(e,t){if(e&&t){var n=angular.element(e);n.data("mousewheel-line-height",function(e){var t=(e=angular.element(e)[0]).parentElement;return t=t||document.getElementsByTagName("body")[0],parseInt(b(t).fontSize)||parseInt(b(e).fontSize)||16}(n)),n.data("mousewheel-page-height",h.elementHeight(n)),n.data("mousewheel-callbacks")||n.data("mousewheel-callbacks",{});var i=n.data("mousewheel-callbacks");i[t]=(Function.prototype.bind||y).call(m,n[0],t);for(var r=g.length;r;)n.on(g[--r],i[t]);n.on("$destroy",function(){for(var e=g.length;e;)n.off(g[--e],i[t])})}},h.off.mousewheel=function(e,t){var n=angular.element(e),i=n.data("mousewheel-callbacks"),r=i[t];if(r)for(var o=g.length;o;)n.off(g[--o],r);delete i[t],0===Object.keys(i).length&&(n.removeData("mousewheel-line-height"),n.removeData("mousewheel-page-height"),n.removeData("mousewheel-callbacks"))},h}]),e.filter("px",function(){return function(e){return e.match(/^[\d\.]+$/)?e+"px":e}})}(),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ar",{headerCell:{aria:{defaultFilterLabel:" ",removeFilter:" ",columnMenuButtonLabel:" "},priority:" : ",filterLabel:"  :"},aggregate:{label:""},groupPanel:{description:"      "},search:{placeholder:"  ...",showingItems:"  :",selectedItems:"  :",totalItems:"  :",size:"  :",first:" ",next:" ",previous:" ",last:" "},menu:{text:"  :"},sort:{ascending:" ",descending:" ",none:" ",remove:" "},column:{hide:" "},aggregation:{count:" : ",sum:": ",avg:" : ",min:": ",max:": "},pinning:{pinLeft:" ",pinRight:" ",unpin:" "},columnMenu:{close:""},gridMenu:{aria:{buttonLabel:" "},columns:":",importerTitle:" ",exporterAllAsCsv:"   (csv)",exporterVisibleAsCsv:"     (csv)",exporterSelectedAsCsv:"     (csv)",exporterAllAsPdf:"   (pdf)",exporterVisibleAsPdf:"     (pdf)",exporterSelectedAsPdf:"     (pdf)",clearAllFilters:"  "},importer:{noHeaders:"        ",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"        (CSV) ",invalidJson:"        (JSON) ",jsonNotArray:"Imported json file must contain an array, aborting."},pagination:{aria:{pageToFirst:" ",pageBack:" ",pageSelected:" ",pageForward:" ",pageToLast:" "},sizes:"   ",totalItems:"",through:"",of:""},grouping:{group:"",ungroup:" ",aggregate_count:" : ",aggregate_sum:" : ",aggregate_max:" : ",aggregate_min:" : ",aggregate_avg:" : ",aggregate_remove:" : "},validate:{error:" :",minLength:"      THRESHOLD .",maxLength:"      THRESHOLD .",required:" "}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("bg",{headerCell:{aria:{defaultFilterLabel:"  ",removeFilter:" ",columnMenuButtonLabel:"  "},priority:":",filterLabel:"  : "},aggregate:{label:""},search:{placeholder:"...",showingItems:" :",selectedItems:" :",totalItems:":",size:"  :",first:" ",next:" ",previous:" ",last:" "},menu:{text:" :"},sort:{ascending:"   ",descending:"   ",none:" ",remove:" "},column:{hide:" "},aggregation:{count:" : ",sum:": ",avg:": ",min:"-: ",max:"-: "},pinning:{pinLeft:" ",pinRight:" ",unpin:""},columnMenu:{close:""},gridMenu:{aria:{buttonLabel:"  "},columns:":",importerTitle:"  ",exporterAllAsCsv:"    csv",exporterVisibleAsCsv:"     csv",exporterSelectedAsCsv:"     csv",exporterAllAsPdf:"    pdf",exporterVisibleAsPdf:"     pdf",exporterSelectedAsPdf:"     pdf",clearAllFilters:"  "},importer:{noHeaders:"       ,    ?",noObjects:"     ,    ,   ?",invalidCsv:"     ,  ,    CSV ",invalidJson:"     ,  ,    JSON ",jsonNotArray:" JSON     , ."},pagination:{aria:{pageToFirst:"  ",pageBack:" ",pageSelected:" ",pageForward:" ",pageToLast:"  "},sizes:"  ",totalItems:"",through:"",of:""},grouping:{group:"",ungroup:"  ",aggregate_count:": ",aggregate_sum:": ",aggregate_max:": ",aggregate_min:": ",aggregate_avg:": ",aggregate_remove:": "},validate:{error:":",minLength:"     THRESHOLD .",maxLength:"       THRESHOLD .",required:"  ."}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){var t={aggregate:{label:"poloky"},groupPanel:{description:"Pesute zhlav zde pro vytvoen skupiny dle sloupce."},search:{placeholder:"Hledat...",showingItems:"Zobrazuji poloky:",selectedItems:"Vybran poloky:",totalItems:"Celkem poloek:",size:"Velikost strany:",first:"Prvn strana",next:"Dal strana",previous:"Pedchoz strana",last:"Posledn strana"},menu:{text:"Vyberte sloupec:"},sort:{ascending:"Seadit od A-Z",descending:"Seadit od Z-A",remove:"Odebrat seazen"},column:{hide:"Schovat sloupec"},aggregation:{count:"celkem dk: ",sum:"celkem: ",avg:"avg: ",min:"min.: ",max:"max.: "},pinning:{pinLeft:"Zamknout vlevo",pinRight:"Zamknout vpravo",unpin:"Odemknout"},gridMenu:{columns:"Sloupce:",importerTitle:"Importovat soubor",exporterAllAsCsv:"Exportovat vechna data do csv",exporterVisibleAsCsv:"Exportovat viditeln data do csv",exporterSelectedAsCsv:"Exportovat vybran data do csv",exporterAllAsPdf:"Exportovat vechna data do pdf",exporterVisibleAsPdf:"Exportovat viditeln data do pdf",exporterSelectedAsPdf:"Exportovat vybran data do pdf",exporterAllAsExcel:"Exportovat vechna data do excel",exporterVisibleAsExcel:"Exportovat viditeln data do excel",exporterSelectedAsExcel:"Exportovat vybran data do excel",clearAllFilters:"Odstranit vechny filtry"},importer:{noHeaders:"Nzvy sloupc se nepodailo zskat, obsahuje soubor zhlav?",noObjects:"Data se nepodailo zpracovat, obsahuje soubor dky mimo zhlav?",invalidCsv:"Soubor nelze zpracovat, jedn se o CSV?",invalidJson:"Soubor nelze zpracovat, je to JSON?",jsonNotArray:"Soubor mus obsahovat json. Ukonuji.."},pagination:{sizes:"poloek na strnku",totalItems:"poloek"},grouping:{group:"Seskupit",ungroup:"Odebrat seskupen",aggregate_count:"Agregace: Count",aggregate_sum:"Agregace: Sum",aggregate_max:"Agregace: Max",aggregate_min:"Agregace: Min",aggregate_avg:"Agregace: Avg",aggregate_remove:"Agregace: Odebrat"}};return e.add("cs",t),e.add("cz",t),e.add("cs-cz",t),e.add("cs-CZ",t),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("da",{aggregate:{label:"artikler"},groupPanel:{description:"Grupr rkker udfra en kolonne ved at trkke dens overskift hertil."},search:{placeholder:"Sg...",showingItems:"Viste rkker:",selectedItems:"Valgte rkker:",totalItems:"Rkker totalt:",size:"Side strrelse:",first:"Frste side",next:"Nste side",previous:"Forrige side",last:"Sidste side"},menu:{text:"Vlg kolonner:"},sort:{ascending:"Sorter stigende",descending:"Sorter faldende",none:"Sorter ingen",remove:"Fjern sortering"},column:{hide:"Skjul kolonne"},aggregation:{count:"antal rkker: ",sum:"sum: ",avg:"gns: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fastgr til venstre",pinRight:"Fastgr til hjre",unpin:"Frigr"},gridMenu:{columns:"Kolonner:",importerTitle:"Importer fil",exporterAllAsCsv:"Eksporter alle data som csv",exporterVisibleAsCsv:"Eksporter synlige data som csv",exporterSelectedAsCsv:"Eksporter markerede data som csv",exporterAllAsPdf:"Eksporter alle data som pdf",exporterVisibleAsPdf:"Eksporter synlige data som pdf",exporterSelectedAsPdf:"Eksporter markerede data som pdf",exporterAllAsExcel:"Eksporter alle data som excel",exporterVisibleAsExcel:"Eksporter synlige data som excel",exporterSelectedAsExcel:"Eksporter markerede data som excel",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."},pagination:{aria:{pageToFirst:"G til frste",pageBack:"G tilbage",pageSelected:"Valgte side",pageForward:"G frem",pageToLast:"G til sidste"},sizes:"genstande per side",totalItems:"genstande",through:"gennem",of:"af"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("de",{headerCell:{aria:{defaultFilterLabel:"Filter fr Spalte",removeFilter:"Filter lschen",columnMenuButtonLabel:"Spaltenmen",column:"Spalte"},priority:"Prioritt:",filterLabel:"Filter fr Spalte: "},aggregate:{label:"Eintrag"},groupPanel:{description:"Ziehen Sie eine Spaltenberschrift hierhin, um nach dieser Spalte zu gruppieren."},search:{aria:{selected:"Zeile markiert",notSelected:"Zeile nicht markiert"},placeholder:"Suche...",showingItems:"Zeige Eintrge:",selectedItems:"Ausgewhlte Eintrge:",totalItems:"Eintrge gesamt:",size:"Eintrge pro Seite:",first:"Erste Seite",next:"Nchste Seite",previous:"Vorherige Seite",last:"Letzte Seite"},menu:{text:"Spalten auswhlen:"},sort:{ascending:"aufsteigend sortieren",descending:"absteigend sortieren",none:"keine Sortierung",remove:"Sortierung zurcksetzen"},column:{hide:"Spalte ausblenden"},aggregation:{count:"Zeilen insgesamt: ",sum:"gesamt: ",avg:"Durchschnitt: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Links anheften",pinRight:"Rechts anheften",unpin:"Lsen"},columnMenu:{close:"Schlieen"},gridMenu:{aria:{buttonLabel:"Tabellenmen"},columns:"Spalten:",importerTitle:"Datei importieren",exporterAllAsCsv:"Alle Daten als CSV exportieren",exporterVisibleAsCsv:"Sichtbare Daten als CSV exportieren",exporterSelectedAsCsv:"Markierte Daten als CSV exportieren",exporterAllAsPdf:"Alle Daten als PDF exportieren",exporterVisibleAsPdf:"Sichtbare Daten als PDF exportieren",exporterSelectedAsPdf:"Markierte Daten als PDF exportieren",exporterAllAsExcel:"Alle Daten als Excel exportieren",exporterVisibleAsExcel:"Sichtbare Daten als Excel exportieren",exporterSelectedAsExcel:"Markierte Daten als Excel exportieren",clearAllFilters:"Alle Filter zurcksetzen"},importer:{noHeaders:"Es konnten keine Spaltennamen ermittelt werden. Sind in der Datei Spaltendefinitionen enthalten?",noObjects:"Es konnten keine Zeileninformationen gelesen werden, Sind in der Datei auer den Spaltendefinitionen auch Daten enthalten?",invalidCsv:"Die Datei konnte nicht eingelesen werden, ist es eine gltige CSV-Datei?",invalidJson:"Die Datei konnte nicht eingelesen werden. Enthlt sie gltiges JSON?",jsonNotArray:"Die importierte JSON-Datei mu ein Array enthalten. Breche Import ab."},pagination:{aria:{pageToFirst:"Zum Anfang",pageBack:"Seite zurck",pageSelected:"Ausgewhlte Seite",pageForward:"Seite vor",pageToLast:"Zum Ende"},sizes:"Eintrge pro Seite",totalItems:"Eintrgen",through:"bis",of:"von"},grouping:{group:"Gruppieren",ungroup:"Gruppierung aufheben",aggregate_count:"Agg: Anzahl",aggregate_sum:"Agg: Summe",aggregate_max:"Agg: Maximum",aggregate_min:"Agg: Minimum",aggregate_avg:"Agg: Mittelwert",aggregate_remove:"Aggregation entfernen"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("en",{headerCell:{aria:{defaultFilterLabel:"Filter for column",removeFilter:"Remove Filter",columnMenuButtonLabel:"Column Menu",column:"Column"},priority:"Priority:",filterLabel:"Filter for column: "},aggregate:{label:"items"},groupPanel:{description:"Drag a column header here and drop it to group by that column."},search:{aria:{selected:"Row selected",notSelected:"Row not selected"},placeholder:"Search...",showingItems:"Showing Items:",selectedItems:"Selected Items:",totalItems:"Total Items:",size:"Page Size:",first:"First Page",next:"Next Page",previous:"Previous Page",last:"Last Page"},menu:{text:"Choose Columns:"},sort:{ascending:"Sort Ascending",descending:"Sort Descending",none:"Sort None",remove:"Remove Sort"},column:{hide:"Hide Column"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Pin Left",pinRight:"Pin Right",unpin:"Unpin"},columnMenu:{close:"Close"},gridMenu:{aria:{buttonLabel:"Grid Menu"},columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf",exporterAllAsExcel:"Export all data as excel",exporterVisibleAsExcel:"Export visible data as excel",exporterSelectedAsExcel:"Export selected data as excel",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."},pagination:{aria:{pageToFirst:"Page to first",pageBack:"Page back",pageSelected:"Selected page",pageForward:"Page forward",pageToLast:"Page to last"},sizes:"items per page",totalItems:"items",through:"through",of:"of"},grouping:{group:"Group",ungroup:"Ungroup",aggregate_count:"Agg: Count",aggregate_sum:"Agg: Sum",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Avg",aggregate_remove:"Agg: Remove"},validate:{error:"Error:",minLength:"Value should be at least THRESHOLD characters long.",maxLength:"Value should be at most THRESHOLD characters long.",required:"A value is needed."}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("es-ct",{headerCell:{aria:{defaultFilterLabel:"Filtre per columna",removeFilter:"Elimina el filtre",columnMenuButtonLabel:"Men de Columna",column:"Columna"},priority:"Priority:",filterLabel:"Filtre per columna: "},aggregate:{label:"items"},groupPanel:{description:"Arrossegueu una capalera de columna aqu i deixeu-lo anar per agrupar per aquesta columna."},search:{aria:{selected:"Fila seleccionada",notSelected:"Fila no seleccionada"},placeholder:"Cerca...",showingItems:"tems Mostrats:",selectedItems:"tems Seleccionats:",totalItems:"tems Totals:",size:"Mida de la pgina:",first:"Primera Pgina",next:"Propera Pgina",previous:"Pgina Anterior",last:"ltima Pgina"},menu:{text:"Triar Columnes:"},sort:{ascending:"Ordena Ascendent",descending:"Ordena Descendent",none:"Sense Ordre",remove:"Eliminar Ordre"},column:{hide:"Amaga la Columna"},aggregation:{count:"Files Totals: ",sum:"total: ",avg:"mitj: ",min:"mn: ",max:"mx: "},pinning:{pinLeft:"Fixar a l'Esquerra",pinRight:"Fixar a la Dreta",unpin:"Treure Fixaci"},columnMenu:{close:"Tanca"},gridMenu:{aria:{buttonLabel:"Men de Quadrcula"},columns:"Columnes:",importerTitle:"Importa el fitxer",exporterAllAsCsv:"Exporta tot com CSV",exporterVisibleAsCsv:"Exporta les dades visibles com a CSV",exporterSelectedAsCsv:"Exporta les dades seleccionades com a CSV",exporterAllAsPdf:"Exporta tot com PDF",exporterVisibleAsPdf:"Exporta les dades visibles com a PDF",exporterSelectedAsPdf:"Exporta les dades seleccionades com a PDF",exporterAllAsExcel:"Exporta tot com Excel",exporterVisibleAsExcel:"Exporta les dades visibles com Excel",exporterSelectedAsExcel:"Exporta les dades seleccionades com Excel",clearAllFilters:"Netejar tots els filtres"},importer:{noHeaders:"No va ser possible derivar els noms de les columnes, t encapalats l'arxiu?",noObjects:"No va ser possible obtenir registres, cont dades l'arxiu, a part de les capaleres?",invalidCsv:"No va ser possible processar l'arxiu, s un CSV vlid?",invalidJson:"No va ser possible processar l'arxiu, s un JSON vlid?",jsonNotArray:"El fitxer json importat ha de contenir una matriu, avortant."},pagination:{aria:{pageToFirst:"Page to first",pageBack:"Page back",pageSelected:"Selected page",pageForward:"Page forward",pageToLast:"Page to last"},sizes:"tems per pgina",totalItems:"tems",through:"a",of:"de"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Compte",aggregate_sum:"Agr: Sum",aggregate_max:"Agr: Mx",aggregate_min:"Agr: Mn",aggregate_avg:"Agr: Mitj",aggregate_remove:"Agr: Treure"},validate:{error:"Error:",minLength:"El valor ha de tenir almenys carcters THRESHOLD.",maxLength:"El valor ha de tenir com a mxim carcters THRESHOLD.",required:"Un valor s necessari."}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("es",{aggregate:{label:"Artculos"},groupPanel:{description:"Arrastre un encabezado de columna aqu y sultelo para agrupar por esa columna."},search:{placeholder:"Buscar...",showingItems:"Artculos Mostrados:",selectedItems:"Artculos Seleccionados:",totalItems:"Artculos Totales:",size:"Tamao de Pgina:",first:"Primera Pgina",next:"Pgina Siguiente",previous:"Pgina Anterior",last:"ltima Pgina"},menu:{text:"Elegir columnas:"},sort:{ascending:"Orden Ascendente",descending:"Orden Descendente",remove:"Sin Ordenar"},column:{hide:"Ocultar la columna"},aggregation:{count:"filas totales: ",sum:"total: ",avg:"media: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fijar a la Izquierda",pinRight:"Fijar a la Derecha",unpin:"Quitar Fijacin"},gridMenu:{columns:"Columnas:",importerTitle:"Importar archivo",exporterAllAsCsv:"Exportar todo como csv",exporterVisibleAsCsv:"Exportar vista como csv",exporterSelectedAsCsv:"Exportar seleccin como csv",exporterAllAsPdf:"Exportar todo como pdf",exporterVisibleAsPdf:"Exportar vista como pdf",exporterSelectedAsPdf:"Exportar seleccin como pdf",exporterAllAsExcel:"Exportar todo como excel",exporterVisibleAsExcel:"Exportar vista como excel",exporterSelectedAsExcel:"Exportar seleccin como excel",clearAllFilters:"Limpiar todos los filtros"},importer:{noHeaders:"No fue posible derivar los nombres de las columnas, tiene encabezados el archivo?",noObjects:"No fue posible obtener registros, contiene datos el archivo, aparte de los encabezados?",invalidCsv:"No fue posible procesar el archivo, es un CSV vlido?",invalidJson:"No fue posible procesar el archivo, es un Json vlido?",jsonNotArray:"El archivo json importado debe contener un array, abortando."},pagination:{sizes:"registros por pgina",totalItems:"registros",of:"de"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Cont",aggregate_sum:"Agr: Sum",aggregate_max:"Agr: Mx",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Prom",aggregate_remove:"Agr: Quitar"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fa",{aggregate:{label:""},groupPanel:{description:"            ."},search:{placeholder:"...",showingItems:" :",selectedItems:"  :",totalItems:" :",size:" :",first:" ",next:"",previous:" ",last:" "},menu:{text:" :"},sort:{ascending:" ",descending:" ",remove:"  "},column:{hide:" "},aggregation:{count:": ",sum:": ",avg:": ",min:": ",max:": "},pinning:{pinLeft:"   ",pinRight:"   ",unpin:" "},gridMenu:{columns:":",importerTitle:"  ",exporterAllAsCsv:"     csv",exporterVisibleAsCsv:"      csv",exporterSelectedAsCsv:"     csv",exporterAllAsPdf:"     pdf",exporterVisibleAsPdf:"      pdf",exporterSelectedAsPdf:"     pdf",clearAllFilters:"   "},importer:{noHeaders:"    .    ",noObjects:"   .         ",invalidCsv:"   .    csv   ",invalidJson:"   .   json    ",jsonNotArray:" json      .   ."},pagination:{sizes:"   ",totalItems:"",of:""},grouping:{group:"",ungroup:" ",aggregate_count:"Agg: ",aggregate_sum:"Agg: ",aggregate_max:"Agg: ",aggregate_min:"Agg: ",aggregate_avg:"Agg: ",aggregate_remove:"Agg: "}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fi",{aggregate:{label:"rivit"},groupPanel:{description:"Raahaa ja pudota otsikko thn ryhmittksesi sarakkeen mukaan."},search:{placeholder:"Hae...",showingItems:"Nytetn rivej:",selectedItems:"Valitut rivit:",totalItems:"Rivej yht.:",size:"Nyt:",first:"Ensimminen sivu",next:"Seuraava sivu",previous:"Edellinen sivu",last:"Viimeinen sivu"},menu:{text:"Valitse sarakkeet:"},sort:{ascending:"Jrjest nouseva",descending:"Jrjest laskeva",remove:"Poista jrjestys"},column:{hide:"Piilota sarake"},aggregation:{count:"Rivej yht.: ",sum:"Summa: ",avg:"K.a.: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Lukitse vasemmalle",pinRight:"Lukitse oikealle",unpin:"Poista lukitus"},gridMenu:{columns:"Sarakkeet:",importerTitle:"Tuo tiedosto",exporterAllAsCsv:"Vie tiedot csv-muodossa",exporterVisibleAsCsv:"Vie nkyv tieto csv-muodossa",exporterSelectedAsCsv:"Vie valittu tieto csv-muodossa",exporterAllAsPdf:"Vie tiedot pdf-muodossa",exporterVisibleAsPdf:"Vie nkyv tieto pdf-muodossa",exporterSelectedAsPdf:"Vie valittu tieto pdf-muodossa",exporterAllAsExcel:"Vie tiedot excel-muodossa",exporterVisibleAsExcel:"Vie nkyv tieto excel-muodossa",exporterSelectedAsExcel:"Vie valittu tieto excel-muodossa",clearAllFilters:"Puhdista kaikki suodattimet"},importer:{noHeaders:"Sarakkeen nimi ei voitu ptell, onko tiedostossa otsikkorivi?",noObjects:"Tietoja ei voitu lukea, onko tiedostossa muuta kuin otsikkot?",invalidCsv:"Tiedostoa ei voitu ksitell, oliko se CSV-muodossa?",invalidJson:"Tiedostoa ei voitu ksitell, oliko se JSON-muodossa?",jsonNotArray:"Tiedosto ei sisltnyt taulukkoa, lopetetaan."}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fr",{headerCell:{aria:{defaultFilterLabel:"Filtre de la colonne",removeFilter:"Supprimer le filtre",columnMenuButtonLabel:"Menu de la colonne"},priority:"Priorit:",filterLabel:"Filtre de la colonne: "},aggregate:{label:"lments"},groupPanel:{description:"Faites glisser une en-tte de colonne ici pour crer un groupe de colonnes."},search:{placeholder:"Recherche...",showingItems:"Affichage des lments :",selectedItems:"lments slectionns :",totalItems:"Nombre total d'lments:",size:"Taille de page:",first:"Premire page",next:"Page Suivante",previous:"Page prcdente",last:"Dernire page"},menu:{text:"Choisir des colonnes :"},sort:{ascending:"Trier par ordre croissant",descending:"Trier par ordre dcroissant",none:"Aucun tri",remove:"Enlever le tri"},column:{hide:"Cacher la colonne"},aggregation:{count:"lignes totales: ",sum:"total: ",avg:"moy: ",min:"min: ",max:"max: "},pinning:{pinLeft:"pingler  gauche",pinRight:"pingler  droite",unpin:"Dtacher"},columnMenu:{close:"Fermer"},gridMenu:{aria:{buttonLabel:"Menu du tableau"},columns:"Colonnes:",importerTitle:"Importer un fichier",exporterAllAsCsv:"Exporter toutes les donnes en CSV",exporterVisibleAsCsv:"Exporter les donnes visibles en CSV",exporterSelectedAsCsv:"Exporter les donnes slectionnes en CSV",exporterAllAsPdf:"Exporter toutes les donnes en PDF",exporterVisibleAsPdf:"Exporter les donnes visibles en PDF",exporterSelectedAsPdf:"Exporter les donnes slectionnes en PDF",exporterAllAsExcel:"Exporter toutes les donnes en Excel",exporterVisibleAsExcel:"Exporter les donnes visibles en Excel",exporterSelectedAsExcel:"Exporter les donnes slectionnes en Excel",clearAllFilters:"Nettoyez tous les filtres"},importer:{noHeaders:"Impossible de dterminer le nom des colonnes, le fichier possde-t-il une en-tte ?",noObjects:"Aucun objet trouv, le fichier possde-t-il des donnes autres que l'en-tte ?",invalidCsv:"Le fichier n'a pas pu tre trait, le CSV est-il valide ?",invalidJson:"Le fichier n'a pas pu tre trait, le JSON est-il valide ?",jsonNotArray:"Le fichier JSON import doit contenir un tableau, abandon."},pagination:{aria:{pageToFirst:"Aller  la premire page",pageBack:"Page prcdente",pageSelected:"Page slectionne",pageForward:"Page suivante",pageToLast:"Aller  la dernire page"},sizes:"lments par page",totalItems:"lments",through:"",of:"sur"},grouping:{group:"Grouper",ungroup:"Dgrouper",aggregate_count:"Agg: Compter",aggregate_sum:"Agg: Somme",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Moy",aggregate_remove:"Agg: Retirer"},validate:{error:"Erreur:",minLength:"La valeur doit tre suprieure ou gale  THRESHOLD caractres.",maxLength:"La valeur doit tre infrieure ou gale  THRESHOLD caractres.",required:"Une valeur est ncssaire."}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("he",{aggregate:{label:"items"},groupPanel:{description:"       ."},search:{placeholder:"...",showingItems:":",selectedItems:'" :',totalItems:'" :',size:" :",first:" ",next:" ",previous:" ",last:" "},menu:{text:" :"},sort:{ascending:" ",descending:" ",remove:""},column:{hide:" "},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf",exporterAllAsExcel:"Export all data as excel",exporterVisibleAsExcel:"Export visible data as excel",exporterSelectedAsExcel:"Export selected data as excel",clearAllFilters:"Clean all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("hy",{aggregate:{label:""},groupPanel:{description:"        "},search:{placeholder:"...",showingItems:" ",selectedItems:":",totalItems:"",size:"  ",first:" ",next:" ",previous:" ",last:" "},menu:{text:" :"},sort:{ascending:" ",descending:" ",remove:" "},column:{hide:" "},aggregation:{count:"  ",sum:" ",avg:" ",min:" ",max:" "},pinning:{pinLeft:"  ",pinRight:"  ",unpin:""},gridMenu:{columns:":",importerTitle:" ",exporterAllAsCsv:"  CSV",exporterVisibleAsCsv:"   CSV",exporterSelectedAsCsv:"   CSV",exporterAllAsPdf:" PDF",exporterVisibleAsPdf:"   PDF",exporterSelectedAsPdf:"   PDF",exporterAllAsExcel:" excel",exporterVisibleAsExcel:"   excel",exporterSelectedAsExcel:"   excel",clearAllFilters:"  "},importer:{noHeaders:"        ",noObjects:"       ",invalidCsv:"       CSV ",invalidJson:"       Json ",jsonNotArray:" json     ,  "}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("is",{headerCell:{aria:{defaultFilterLabel:"Sa fyrir dlk",removeFilter:"Fjarlgja su",columnMenuButtonLabel:"Dlkavalmynd"},priority:"Forgangsrun:",filterLabel:"Sa fyrir dlka: "},aggregate:{label:"hlutir"},groupPanel:{description:"Dragu dlkhaus hinga til a flokka saman eftir eim dlki."},search:{placeholder:"Leita...",showingItems:"Sni hluti:",selectedItems:"Valdir hlutir:",totalItems:"Hlutir alls:",size:"Str su:",first:"Fyrsta sa",next:"Nsta sa",previous:"Fyrri sa",last:"Sasta sa"},menu:{text:"Veldu dlka:"},sort:{ascending:"Raa hkkandi",descending:"Raa lkkandi",none:"Engin run",remove:"Fjarlgja run"},column:{hide:"Fela dlk"},aggregation:{count:"fjldi raa: ",sum:"summa: ",avg:"mealtal: ",min:"lgmark: ",max:"hmark: "},pinning:{pinLeft:"Festa til vinstri",pinRight:"Festa til hgri",unpin:"Losa"},columnMenu:{close:"Loka"},gridMenu:{aria:{buttonLabel:"Tflu valmynd"},columns:"Dlkar:",importerTitle:"Flytja inn skjal",exporterAllAsCsv:"Flytja t ggn sem csv",exporterVisibleAsCsv:"Flytja t snileg ggn sem csv",exporterSelectedAsCsv:"Flytja t valin ggn sem csv",exporterAllAsPdf:"Flytja t ll ggn sem pdf",exporterVisibleAsPdf:"Flytja t snileg ggn sem pdf",exporterSelectedAsPdf:"Flytja t valin ggn sem pdf",clearAllFilters:"Hreinsa allar sur"},importer:{noHeaders:"Ekki hgt a vinna dlkanfn r skjalinu, er skjali rugglega me haus?",noObjects:"Ekki hgt a vinna hluti r skjalinu, voru rugglega ggn  skjalinu nnur en hausinn?",invalidCsv:"Tkst ekki a vinna skjal, er a rggulega gilt CSV?",invalidJson:"Tkst ekki a vinna skjal, er a rugglega gilt Json?",jsonNotArray:"Innflutt json skjal verur a innihalda fylki, htti vi."},pagination:{aria:{pageToFirst:"Fletta a fyrstu",pageBack:"Fletta til baka",pageSelected:"Valin sa",pageForward:"Fletta fram",pageToLast:"Fletta a sustu"},sizes:"hlutir  su",totalItems:"hlutir",through:"gegnum",of:"af"},grouping:{group:"Flokka",ungroup:"Sundurlia",aggregate_count:"Fjldi: ",aggregate_sum:"Summa: ",aggregate_max:"Hmark: ",aggregate_min:"Lgmark: ",aggregate_avg:"Mealtal: ",aggregate_remove:"Fjarlgja: "},validate:{error:"Villa:",minLength:"Gildi tti a vera a.m.k. THRESHOLD stafa langt.",maxLength:"Gildi tti a vera  mesta lagi THRESHOLD stafa langt.",required:"arf a hafa gildi."}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("it",{aggregate:{label:"elementi"},groupPanel:{description:"Trascina un'intestazione all'interno del gruppo della colonna."},search:{placeholder:"Ricerca...",showingItems:"Mostra:",selectedItems:"Selezionati:",totalItems:"Totali:",size:"Tot Pagine:",first:"Prima",next:"Prossima",previous:"Precedente",last:"Ultima"},menu:{text:"Scegli le colonne:"},sort:{ascending:"Asc.",descending:"Desc.",remove:"Annulla ordinamento"},column:{hide:"Nascondi"},aggregation:{count:"righe totali: ",sum:"tot: ",avg:"media: ",min:"minimo: ",max:"massimo: "},pinning:{pinLeft:"Blocca a sx",pinRight:"Blocca a dx",unpin:"Blocca in alto"},gridMenu:{columns:"Colonne:",importerTitle:"Importa",exporterAllAsCsv:"Esporta tutti i dati in CSV",exporterVisibleAsCsv:"Esporta i dati visibili in CSV",exporterSelectedAsCsv:"Esporta i dati selezionati in CSV",exporterAllAsPdf:"Esporta tutti i dati in PDF",exporterVisibleAsPdf:"Esporta i dati visibili in PDF",exporterSelectedAsPdf:"Esporta i dati selezionati in PDF",exporterAllAsExcel:"Esporta tutti i dati in excel",exporterVisibleAsExcel:"Esporta i dati visibili in excel",exporterSelectedAsExcel:"Esporta i dati selezionati in excel",clearAllFilters:"Pulire tutti i filtri"},importer:{noHeaders:"Impossibile reperire i nomi delle colonne, sicuro che siano indicati all'interno del file?",noObjects:"Impossibile reperire gli oggetti, sicuro che siano indicati all'interno del file?",invalidCsv:"Impossibile elaborare il file, sicuro che sia un CSV?",invalidJson:"Impossibile elaborare il file, sicuro che sia un JSON valido?",jsonNotArray:"Errore! Il file JSON da importare deve contenere un array."},pagination:{aria:{pageToFirst:"Prima",pageBack:"Indietro",pageSelected:"Pagina selezionata",pageForward:"Avanti",pageToLast:"Ultima"},sizes:"elementi per pagina",totalItems:"elementi",through:"a",of:"di"},grouping:{group:"Raggruppa",ungroup:"Separa",aggregate_count:"Agg: N. Elem.",aggregate_sum:"Agg: Somma",aggregate_max:"Agg: Massimo",aggregate_min:"Agg: Minimo",aggregate_avg:"Agg: Media",aggregate_remove:"Agg: Rimuovi"},validate:{error:"Errore:",minLength:"Lunghezza minima pari a THRESHOLD caratteri.",maxLength:"Lunghezza massima pari a THRESHOLD caratteri.",required:"Necessario inserire un valore."}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ja",{headerCell:{aria:{defaultFilterLabel:"",removeFilter:"",columnMenuButtonLabel:""},priority:":",filterLabel:": "},aggregate:{label:""},groupPanel:{description:""},search:{placeholder:"...",showingItems:":",selectedItems:":",totalItems:":",size:":",first:"",next:"",previous:"",last:""},menu:{text:":"},sort:{ascending:"",descending:"",none:"",remove:""},column:{hide:""},aggregation:{count:": ",sum:": ",avg:": ",min:": ",max:": "},pinning:{pinLeft:"",pinRight:"",unpin:""},columnMenu:{close:""},gridMenu:{aria:{buttonLabel:""},columns:"/:",importerTitle:"",exporterAllAsCsv:"CSV",exporterVisibleAsCsv:"CSV",exporterSelectedAsCsv:"CSV",exporterAllAsPdf:"PDF",exporterVisibleAsPdf:"PDF",exporterSelectedAsPdf:"PDF",clearAllFilters:""},importer:{noHeaders:"",noObjects:"",invalidCsv:"CSV",invalidJson:"JSON",jsonNotArray:"JSON"},pagination:{aria:{pageToFirst:"",pageBack:"",pageSelected:"",pageForward:"",pageToLast:""},sizes:"/",totalItems:"",through:"",of:"/"},grouping:{group:"",ungroup:"",aggregate_count:": ",aggregate_sum:": ",aggregate_max:": ",aggregate_min:": ",aggregate_avg:": ",aggregate_remove:": "},validate:{error:"Error:",minLength:"THRESHOLD ",maxLength:"THRESHOLD ",required:""}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ko",{aggregate:{label:""},groupPanel:{description:"       ."},search:{placeholder:"...",showingItems:" :",selectedItems:" :",totalItems:" :",size:" :",first:" ",next:" ",previous:" ",last:" "},menu:{text:" :"},sort:{ascending:" ",descending:" ",remove:" "},column:{hide:" "},aggregation:{count:" : ",sum:": ",avg:": ",min:": ",max:": "},pinning:{pinLeft:" ",pinRight:" ",unpin:" "},gridMenu:{columns:":",importerTitle:" ",exporterAllAsCsv:"csv   ",exporterVisibleAsCsv:"csv   ",exporterSelectedAsCsv:"csv   ",exporterAllAsPdf:"pdf   ",exporterVisibleAsPdf:"pdf   ",exporterSelectedAsPdf:"pdf   ",clearAllFilters:"  "},importer:{noHeaders:"   .      .",noObjects:"   .     .",invalidCsv:"   .  csv  .",invalidJson:"   .  json  .",jsonNotArray:"json    ."},pagination:{sizes:" ",totalItems:" "}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("nl",{aggregate:{label:"items"},groupPanel:{description:"Sleep hier een kolomnaam heen om op te groeperen."},search:{placeholder:"Zoeken...",showingItems:"Getoonde items:",selectedItems:"Geselecteerde items:",totalItems:"Totaal aantal items:",size:"Items per pagina:",first:"Eerste pagina",next:"Volgende pagina",previous:"Vorige pagina",last:"Laatste pagina"},menu:{text:"Kies kolommen:"},sort:{ascending:"Sorteer oplopend",descending:"Sorteer aflopend",remove:"Verwijder sortering"},column:{hide:"Verberg kolom"},aggregation:{count:"Aantal rijen: ",sum:"Som: ",avg:"Gemiddelde: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Zet links vast",pinRight:"Zet rechts vast",unpin:"Maak los"},gridMenu:{columns:"Kolommen:",importerTitle:"Importeer bestand",exporterAllAsCsv:"Exporteer alle data als csv",exporterVisibleAsCsv:"Exporteer zichtbare data als csv",exporterSelectedAsCsv:"Exporteer geselecteerde data als csv",exporterAllAsPdf:"Exporteer alle data als pdf",exporterVisibleAsPdf:"Exporteer zichtbare data als pdf",exporterSelectedAsPdf:"Exporteer geselecteerde data als pdf",exporterAllAsExcel:"Exporteer alle data als excel",exporterVisibleAsExcel:"Exporteer zichtbare data als excel",exporterSelectedAsExcel:"Exporteer alle data als excel",clearAllFilters:"Reinig alle filters"},importer:{noHeaders:"Kolomnamen kunnen niet worden afgeleid. Heeft het bestand een header?",noObjects:"Objecten kunnen niet worden afgeleid. Bevat het bestand data naast de headers?",invalidCsv:"Het bestand kan niet verwerkt worden. Is het een valide csv bestand?",invalidJson:"Het bestand kan niet verwerkt worden. Is het valide json?",jsonNotArray:"Het json bestand moet een array bevatten. De actie wordt geannuleerd."},pagination:{sizes:"items per pagina",totalItems:"items",of:"van de"},grouping:{group:"Groepeer",ungroup:"Groepering opheffen",aggregate_count:"Agg: Aantal",aggregate_sum:"Agg: Som",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Gem",aggregate_remove:"Agg: Verwijder"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("no",{headerCell:{aria:{defaultFilterLabel:"Filter for kolonne",removeFilter:"Fjern filter",columnMenuButtonLabel:"Kolonnemeny"},priority:"Prioritet:",filterLabel:"Filter for kolonne: "},aggregate:{label:"elementer"},groupPanel:{description:"Trekk en kolonneoverskrift hit og slipp den for  gruppere etter den kolonnen."},search:{placeholder:"Sk...",showingItems:"Viste elementer:",selectedItems:"Valgte elementer:",totalItems:"Antall elementer:",size:"Sidestrrelse:",first:"Frste side",next:"Neste side",previous:"Forrige side",last:"Siste side"},menu:{text:"Velg kolonner:"},sort:{ascending:"Sortere stigende",descending:"Sortere fallende",none:"Ingen sortering",remove:"Fjern sortering"},column:{hide:"Skjul kolonne"},aggregation:{count:"antall rader: ",sum:"total: ",avg:"gjennomsnitt: ",min:"minimum: ",max:"maksimum: "},pinning:{pinLeft:"Fest til venstre",pinRight:"Fest til hyre",unpin:"Lsne"},columnMenu:{close:"Lukk"},gridMenu:{aria:{buttonLabel:"Grid Menu"},columns:"Kolonner:",importerTitle:"Importer fil",exporterAllAsCsv:"Eksporter alle data som csv",exporterVisibleAsCsv:"Eksporter synlige data som csv",exporterSelectedAsCsv:"Eksporter utvalgte data som csv",exporterAllAsPdf:"Eksporter alle data som pdf",exporterVisibleAsPdf:"Eksporter synlige data som pdf",exporterSelectedAsPdf:"Eksporter utvalgte data som pdf",exporterAllAsExcel:"Eksporter alle data som excel",exporterVisibleAsExcel:"Eksporter synlige data som excel",exporterSelectedAsExcel:"Eksporter utvalgte data som excel",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Kolonnenavn kunne ikke avledes. Har filen en overskrift?",noObjects:"Objekter kunne ikke avledes. Er der andre data i filen enn overskriften?",invalidCsv:"Filen kunne ikke behandles. Er den gyldig CSV?",invalidJson:"Filen kunne ikke behandles. Er den gyldig JSON?",jsonNotArray:"Importert JSON-fil m inneholde en liste. Avbryter."},pagination:{aria:{pageToFirst:"G til frste side",pageBack:"G til forrige side",pageSelected:"Valgte side",pageForward:"G til neste side",pageToLast:"G til siste side"},sizes:"elementer per side",totalItems:"elementer",through:"til",of:"av"},grouping:{group:"Gruppere",ungroup:"Fjerne gruppering",aggregate_count:"Agr: Antall",aggregate_sum:"Agr: Sum",aggregate_max:"Agr: Maksimum",aggregate_min:"Agr: Minimum",aggregate_avg:"Agr: Gjennomsnitt",aggregate_remove:"Agr: Fjern"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("pl",{headerCell:{aria:{defaultFilterLabel:"Filtr dla kolumny",removeFilter:"Usu filtr",columnMenuButtonLabel:"Opcje kolumny",column:"Kolumna"},priority:"Priorytet:",filterLabel:"Filtr dla kolumny: "},aggregate:{label:"pozycji"},groupPanel:{description:"Przecignij nagwek kolumny tutaj, aby pogrupowa wedug niej."},search:{aria:{selected:"Wiersz zaznaczony",notSelected:"Wiersz niezaznaczony"},placeholder:"Szukaj...",showingItems:"Widoczne pozycje:",selectedItems:"Zaznaczone pozycje:",totalItems:"Wszystkich pozycji:",size:"Rozmiar strony:",first:"Pierwsza strona",next:"Nastpna strona",previous:"Poprzednia strona",last:"Ostatnia strona"},menu:{text:"Wybierz kolumny:"},sort:{ascending:"Sortuj rosnco",descending:"Sortuj malejco",none:"Brak sortowania",remove:"Wycz sortowanie"},column:{hide:"Ukryj kolumn"},aggregation:{count:"Razem pozycji: ",sum:"Razem: ",avg:"rednia: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Przypnij do lewej",pinRight:"Przypnij do prawej",unpin:"Odepnij"},columnMenu:{close:"Zamknij"},gridMenu:{aria:{buttonLabel:"Opcje tabeli"},columns:"Kolumny:",importerTitle:"Importuj plik",exporterAllAsCsv:"Eksportuj wszystkie dane do csv",exporterVisibleAsCsv:"Eksportuj widoczne dane do csv",exporterSelectedAsCsv:"Eksportuj zaznaczone dane do csv",exporterAllAsPdf:"Eksportuj wszystkie dane do pdf",exporterVisibleAsPdf:"Eksportuj widoczne dane do pdf",exporterSelectedAsPdf:"Eksportuj zaznaczone dane do pdf",exporterAllAsExcel:"Eksportuj wszystkie dane do excel",exporterVisibleAsExcel:"Eksportuj widoczne dane do excel",exporterSelectedAsExcel:"Eksportuj zaznaczone dane do excel",clearAllFilters:"Wyczy filtry"},importer:{noHeaders:"Nie udao si wczyta nazw kolumn. Czy plik posiada nagwek?",noObjects:"Nie udalo si wczyta pozycji. Czy plik zawiera dane?",invalidCsv:"Nie udao si przetworzy pliku. Czy to prawidowy plik CSV?",invalidJson:"Nie udao si przetworzy pliku. Czy to prawidowy plik JSON?",jsonNotArray:"Importowany plik JSON musi zawiera tablic. Importowanie przerwane."},pagination:{aria:{pageToFirst:"Pierwsza strona",pageBack:"Poprzednia strona",pageSelected:"Wybrana strona",pageForward:"Nastpna strona",pageToLast:"Ostatnia strona"},sizes:"pozycji na stron",totalItems:"pozycji",through:"do",of:"z"},grouping:{group:"Grupuj",ungroup:"Rozgrupuj",aggregate_count:"Zbiorczo: Razem",aggregate_sum:"Zbiorczo: Suma",aggregate_max:"Zbiorczo: Max",aggregate_min:"Zbiorczo: Min",aggregate_avg:"Zbiorczo: rednia",aggregate_remove:"Zbiorczo: Usu"},validate:{error:"Bd:",minLength:"Warto powinna skada si z co najmniej THRESHOLD znakw.",maxLength:"Warto powinna skada si z przynajmniej THRESHOLD znakw.",required:"Warto jest wymagana."}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("pt-br",{headerCell:{aria:{defaultFilterLabel:"Filtro por coluna",removeFilter:"Remover filtro",columnMenuButtonLabel:"Menu coluna",column:"Coluna"},priority:"Prioridade:",filterLabel:"Filtro por coluna: "},aggregate:{label:"itens"},groupPanel:{description:"Arraste e solte uma coluna aqui para agrupar por essa coluna"},search:{aria:{selected:"Linha selecionada",notSelected:"Linha no est selecionada"},placeholder:"Procurar...",showingItems:"Mostrando os Itens:",selectedItems:"Items Selecionados:",totalItems:"Total de Itens:",size:"Tamanho da Pgina:",first:"Primeira Pgina",next:"Prxima Pgina",previous:"Pgina Anterior",last:"ltima Pgina"},menu:{text:"Selecione as colunas:"},sort:{ascending:"Ordenar Ascendente",descending:"Ordenar Descendente",none:"Nenhuma Ordem",remove:"Remover Ordenao"},column:{hide:"Esconder coluna"},aggregation:{count:"total de linhas: ",sum:"total: ",avg:"med: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fixar Esquerda",pinRight:"Fixar Direita",unpin:"Desprender"},columnMenu:{close:"Fechar"},gridMenu:{aria:{buttonLabel:"Menu Grid"},columns:"Colunas:",importerTitle:"Importar arquivo",exporterAllAsCsv:"Exportar todos os dados como csv",exporterVisibleAsCsv:"Exportar dados visveis como csv",exporterSelectedAsCsv:"Exportar dados selecionados como csv",exporterAllAsPdf:"Exportar todos os dados como pdf",exporterVisibleAsPdf:"Exportar dados visveis como pdf",exporterSelectedAsPdf:"Exportar dados selecionados como pdf",exporterAllAsExcel:"Exportar todos os dados como excel",exporterVisibleAsExcel:"Exportar dados visveis como excel",exporterSelectedAsExcel:"Exportar dados selecionados como excel",clearAllFilters:"Limpar todos os filtros"},importer:{noHeaders:"Nomes de colunas no puderam ser derivados. O arquivo tem um cabealho?",noObjects:"Objetos no puderam ser derivados. Havia dados no arquivo, alm dos cabealhos?",invalidCsv:"Arquivo no pode ser processado.  um CSV vlido?",invalidJson:"Arquivo no pode ser processado.  um Json vlido?",jsonNotArray:"Arquivo json importado tem que conter um array. Abortando."},pagination:{aria:{pageToFirst:"Primeira pgina",pageBack:"Pgina anterior",pageSelected:"Pgina Selecionada",pageForward:"Proxima",pageToLast:"Anterior"},sizes:"itens por pgina",totalItems:"itens",through:"atravs dos",of:"de"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Contar",aggregate_sum:"Agr: Soma",aggregate_max:"Agr: Max",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Med",aggregate_remove:"Agr: Remover"},validate:{error:"Erro:",minLength:"O valor deve ter, no minimo, THRESHOLD caracteres.",maxLength:"O valor deve ter, no mximo, THRESHOLD caracteres.",required:"Um valor  necessrio."}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("pt",{headerCell:{aria:{defaultFilterLabel:"Filtro por coluna",removeFilter:"Remover filtro",columnMenuButtonLabel:"Menu coluna",column:"Coluna"},priority:"Prioridade:",filterLabel:"Filtro por coluna: "},aggregate:{label:"itens"},groupPanel:{description:"Arraste e solte uma coluna aqui para agrupar por essa coluna"},search:{aria:{selected:"Linha selecionada",notSelected:"Linha no est selecionada"},placeholder:"Procurar...",showingItems:"Mostrando os Itens:",selectedItems:"Itens Selecionados:",totalItems:"Total de Itens:",size:"Tamanho da Pgina:",first:"Primeira Pgina",next:"Prxima Pgina",previous:"Pgina Anterior",last:"ltima Pgina"},menu:{text:"Selecione as colunas:"},sort:{ascending:"Ordenar Ascendente",descending:"Ordenar Descendente",none:"Nenhuma Ordem",remove:"Remover Ordenao"},column:{hide:"Esconder coluna"},aggregation:{count:"total de linhas: ",sum:"total: ",avg:"med: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fixar Esquerda",pinRight:"Fixar Direita",unpin:"Desprender"},columnMenu:{close:"Fechar"},gridMenu:{aria:{buttonLabel:"Menu Grid"},columns:"Colunas:",importerTitle:"Importar ficheiro",exporterAllAsCsv:"Exportar todos os dados como csv",exporterVisibleAsCsv:"Exportar dados visveis como csv",exporterSelectedAsCsv:"Exportar dados selecionados como csv",exporterAllAsPdf:"Exportar todos os dados como pdf",exporterVisibleAsPdf:"Exportar dados visveis como pdf",exporterSelectedAsPdf:"Exportar dados selecionados como pdf",exporterAllAsExcel:"Exportar todos os dados como excel",exporterVisibleAsExcel:"Exportar dados visveis como excel",exporterSelectedAsExcel:"Exportar dados selecionados como excel",clearAllFilters:"Limpar todos os filtros"},importer:{noHeaders:"Nomes de colunas no puderam ser derivados. O ficheiro tem um cabealho?",noObjects:"Objetos no puderam ser derivados. Havia dados no ficheiro, alm dos cabealhos?",invalidCsv:"Ficheiro no pode ser processado.  um CSV vlido?",invalidJson:"Ficheiro no pode ser processado.  um Json vlido?",jsonNotArray:"Ficheiro json importado tem que conter um array. Interrompendo."},pagination:{aria:{pageToFirst:"Primeira pgina",pageBack:"Pgina anterior",pageSelected:"Pgina Selecionada",pageForward:"Prxima",pageToLast:"Anterior"},sizes:"itens por pgina",totalItems:"itens",through:"a",of:"de"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Contar",aggregate_sum:"Agr: Soma",aggregate_max:"Agr: Max",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Med",aggregate_remove:"Agr: Remover"},validate:{error:"Erro:",minLength:"O valor deve ter, no minimo, THRESHOLD caracteres.",maxLength:"O valor deve ter, no mximo, THRESHOLD caracteres.",required:"Um valor  necessrio."}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ro",{headerCell:{aria:{defaultFilterLabel:"Filtru pentru coloana",removeFilter:"Sterge filtru",columnMenuButtonLabel:"Column Menu"},priority:"Prioritate:",filterLabel:"Filtru pentru coloana:"},aggregate:{label:"Elemente"},groupPanel:{description:"Trage un cap de coloana aici pentru a grupa elementele dupa coloana respectiva"},search:{placeholder:"Cauta...",showingItems:"Arata elementele:",selectedItems:"Elementele selectate:",totalItems:"Total elemente:",size:"Marime pagina:",first:"Prima pagina",next:"Pagina urmatoare",previous:"Pagina anterioara",last:"Ultima pagina"},menu:{text:"Alege coloane:"},sort:{ascending:"Ordoneaza crescator",descending:"Ordoneaza descrescator",none:"Fara ordonare",remove:"Sterge ordonarea"},column:{hide:"Ascunde coloana"},aggregation:{count:"total linii: ",sum:"total: ",avg:"medie: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Pin la stanga",pinRight:"Pin la dreapta",unpin:"Sterge pinul"},columnMenu:{close:"Inchide"},gridMenu:{aria:{buttonLabel:"Grid Menu"},columns:"Coloane:",importerTitle:"Incarca fisier",exporterAllAsCsv:"Exporta toate datele ca csv",exporterVisibleAsCsv:"Exporta datele vizibile ca csv",exporterSelectedAsCsv:"Exporta datele selectate ca csv",exporterAllAsPdf:"Exporta toate datele ca pdf",exporterVisibleAsPdf:"Exporta datele vizibile ca pdf",exporterSelectedAsPdf:"Exporta datele selectate ca csv pdf",clearAllFilters:"Sterge toate filtrele"},importer:{noHeaders:"Numele coloanelor nu a putut fi incarcat, acest fisier are un header?",noObjects:"Datele nu au putut fi incarcate, exista date in fisier in afara numelor de coloane?",invalidCsv:"Fisierul nu a putut fi procesat, ati incarcat un CSV valid ?",invalidJson:"Fisierul nu a putut fi procesat, ati incarcat un Json valid?",jsonNotArray:"Json-ul incarcat trebuie sa contina un array, inchidere."},pagination:{aria:{pageToFirst:"Prima pagina",pageBack:"O pagina inapoi",pageSelected:"Pagina selectata",pageForward:"O pagina inainte",pageToLast:"Ultima pagina"},sizes:"Elemente per pagina",totalItems:"elemente",through:"prin",of:"of"},grouping:{group:"Grupeaza",ungroup:"Opreste gruparea",aggregate_count:"Agg: Count",aggregate_sum:"Agg: Sum",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Avg",aggregate_remove:"Agg: Remove"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("rs-lat",{headerCell:{aria:{defaultFilterLabel:"Filter za kolonu",removeFilter:"Ukloni Filter",columnMenuButtonLabel:"Meni Kolone",column:"Kolona"},priority:"Prioritet:",filterLabel:"Filter za kolonu: "},aggregate:{label:"stavke"},groupPanel:{description:"Ovde prevuci zaglavlje kolone i spusti do grupe pored te kolone."},search:{aria:{selected:"Red odabran",notSelected:"Red nije odabran"},placeholder:"Pretraga...",showingItems:"Prikazane Stavke:",selectedItems:"Odabrane Stavke:",totalItems:"Ukupno Stavki:",size:"Veliina Stranice:",first:"Prva Stranica",next:"Sledea Stranica",previous:"Prethodna Stranica",last:"Poslednja Stranica"},menu:{text:"Odaberite kolonu:"},sort:{ascending:"Sortiraj po rastuem redosledu",descending:"Sortiraj po opadajuem redosledu",none:"Bez Sortiranja",remove:"Ukloni Sortiranje"},column:{hide:"Sakrij Kolonu"},aggregation:{count:"ukupno redova: ",sum:"ukupno: ",avg:"prosecno: ",min:"minimum: ",max:"maksimum: "},pinning:{pinLeft:"Zakai Levo",pinRight:"Zakai Desno",unpin:"Otkai"},columnMenu:{close:"Zatvori"},gridMenu:{aria:{buttonLabel:"Reetkasti Meni"},columns:"Kolone:",importerTitle:"Importuj fajl",exporterAllAsCsv:"Eksportuj sve podatke kao csv",exporterVisibleAsCsv:"Eksportuj vidljive podatke kao csv",exporterSelectedAsCsv:"Eksportuj obeleene podatke kao csv",exporterAllAsPdf:"Eksportuj sve podatke kao pdf",exporterVisibleAsPdf:"Eksportuj vidljive podake kao pdf",exporterSelectedAsPdf:"Eksportuj odabrane podatke kao pdf",exporterAllAsExcel:"Eksportuj sve podatke kao excel",exporterVisibleAsExcel:"Eksportuj vidljive podatke kao excel",exporterSelectedAsExcel:"Eksportuj odabrane podatke kao excel",clearAllFilters:"Obrii sve filtere"},importer:{noHeaders:"Kolone se nisu mogle podeliti, da li fajl poseduje heder?",noObjects:"Objecti nisu mogli biti podeljeni, da li je bilo i drugih podataka sem hedera?",invalidCsv:"Fajl nije bilo mogue procesirati, da li je ispravni CSV?",invalidJson:"Fajl nije bilo mogue procesirati, da li je ispravni JSON",jsonNotArray:"Importovani json fajl mora da sadri niz, prekidam operaciju."},pagination:{aria:{pageToFirst:"Prva stranica",pageBack:"Stranica pre",pageSelected:"Odabrana stranica",pageForward:"Sledea stranica",pageToLast:"Poslednja stranica"},sizes:"stavki po stranici",totalItems:"stavke",through:"kroz",of:"od"},grouping:{group:"Grupii",ungroup:"Odrupii",aggregate_count:"Agg: Broj",aggregate_sum:"Agg: Suma",aggregate_max:"Agg: Maksimum",aggregate_min:"Agg: Minimum",aggregate_avg:"Agg: Prosena",aggregate_remove:"Agg: Ukloni"},validate:{error:"Greka:",minLength:"Vrednost bi trebala da bude duga bar THRESHOLD karaktera.",maxLength:"Vrednost bi trebalo da bude najvie duga THRESHOLD karaktera.",required:"Portreba je vrednost."}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ru",{headerCell:{aria:{defaultFilterLabel:" ",removeFilter:" ",columnMenuButtonLabel:" "},priority:":",filterLabel:" : "},aggregate:{label:""},groupPanel:{description:"       ."},search:{placeholder:"...",showingItems:" :",selectedItems:" :",totalItems:" :",size:" :",first:" ",next:" ",previous:" ",last:" "},menu:{text:" :"},sort:{ascending:" ",descending:" ",none:" ",remove:" "},column:{hide:" "},aggregation:{count:" : ",sum:": ",avg:": ",min:": ",max:": "},pinning:{pinLeft:" ",pinRight:" ",unpin:""},columnMenu:{close:""},gridMenu:{aria:{buttonLabel:""},columns:":",importerTitle:" ",exporterAllAsCsv:"   CSV",exporterVisibleAsCsv:"    CSV",exporterSelectedAsCsv:"    CSV",exporterAllAsPdf:"   PDF",exporterVisibleAsPdf:"    PDF",exporterSelectedAsPdf:"    PDF",clearAllFilters:"  "},importer:{noHeaders:"    ,     ?",noObjects:"   ,       ?",invalidCsv:"   ,   CSV-?",invalidJson:"   ,   JSON?",jsonNotArray:" JSON-   ,  ."},pagination:{aria:{pageToFirst:" ",pageBack:" ",pageSelected:" ",pageForward:" ",pageToLast:" "},sizes:"  ",totalItems:"",through:"",of:""},grouping:{group:"",ungroup:"",aggregate_count:": Count",aggregate_sum:" : ",aggregate_max:" : ",aggregate_min:" : ",aggregate_avg:" : ",aggregate_remove:" : "}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("sk",{headerCell:{aria:{defaultFilterLabel:"Filter pre stpec",removeFilter:"Odstrni filter",columnMenuButtonLabel:"Menu pre stpec",column:"Stpec"},priority:"Priorita:",filterLabel:"Filter pre stpec: "},aggregate:{label:"poloky"},groupPanel:{description:"Pretiahni sem nzov stpca pre zoskupenie poda toho stpca."},search:{aria:{selected:"Oznaen riadok",notSelected:"Neoznaen riadok"},placeholder:"Hadaj...",showingItems:"Zobrazujem poloky:",selectedItems:"Vybrat poloky:",totalItems:"Poet poloiek:",size:"Poet:",first:"Prv strana",next:"alia strana",previous:"Predchdzajca strana",last:"Posledn strana"},menu:{text:"Vyberte stpce:"},sort:{ascending:"Zotriedi vzostupne",descending:"Zotriedi zostupne",none:"Nezotriedi",remove:"Vymaza triedenie"},column:{hide:"Skry stpec"},aggregation:{count:"poet riadkov: ",sum:"spolu: ",avg:"avg: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Pripn vavo",pinRight:"Pripn vpravo",unpin:"Odopn"},columnMenu:{close:"Zavrie"},gridMenu:{aria:{buttonLabel:"Grid Menu"},columns:"Stpce:",importerTitle:"Importova sbor",exporterAllAsCsv:"Exportova vetky daje ako CSV",exporterVisibleAsCsv:"Exportov viditen daje ako CSV",exporterSelectedAsCsv:"Exportova oznaen daje ako CSV",exporterAllAsPdf:"Exportova vetky daje ako pdf",exporterVisibleAsPdf:"Exportova viditen daje ako pdf",exporterSelectedAsPdf:"Exportova oznaen daje ako pdf",exporterAllAsExcel:"Exportova vetky daje ako excel",exporterVisibleAsExcel:"Exportova viditen daje ako excel",exporterSelectedAsExcel:"Exportova oznaen daje ako excel",clearAllFilters:"Zrui vetky filtre"},importer:{noHeaders:"Nzvy stpcov sa nedali odvodi, m sbor hlaviku?",noObjects:"Objekty nebolo mon odvodi, existovali in daje v sbore ako hlaviky?",invalidCsv:"Sbor sa nepodarilo spracova, je to platn sbor CSV?",invalidJson:"Sbor nebolo mon spracova, je to platn sbor typu Json?",jsonNotArray:"Importovan sbor json mus obsahova pole, ukonujem."},pagination:{aria:{pageToFirst:"Strana na zaiatok",pageBack:"Strana dozadu",pageSelected:"Oznaen strana",pageForward:"Strana dopredu",pageToLast:"Strana na koniec"},sizes:"poloky na stranu",totalItems:"poloky spolu",through:"do konca",of:"z"},grouping:{group:"Zoskupi",ungroup:"Zrui zoskupenie",aggregate_count:"Agg: Poet",aggregate_sum:"Agg: Suma",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Avg",aggregate_remove:"Agg: Zrui"},validate:{error:"Chyba:",minLength:"Hodnota by mala ma aspo THRESHOLD znakov dlh.",maxLength:"Hodnota by mala by maximlne THRESHOLD znakov dlh.",required:"Vyaduje sa hodnota."}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("sv",{aggregate:{label:"Artiklar"},groupPanel:{description:"Dra en kolumnrubrik hit och slpp den fr att gruppera efter den kolumnen."},search:{placeholder:"Sk...",showingItems:"Visar artiklar:",selectedItems:"Valda artiklar:",totalItems:"Antal artiklar:",size:"Sidstorlek:",first:"Frsta sidan",next:"Nsta sida",previous:"Fregende sida",last:"Sista sidan"},menu:{text:"Vlj kolumner:"},sort:{ascending:"Sortera stigande",descending:"Sortera fallande",remove:"Inaktivera sortering"},column:{hide:"Gm kolumn"},aggregation:{count:"Antal rader: ",sum:"Summa: ",avg:"Genomsnitt: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Fst vnster",pinRight:"Fst hger",unpin:"Lsgr"},gridMenu:{columns:"Kolumner:",importerTitle:"Importera fil",exporterAllAsCsv:"Exportera all data som CSV",exporterVisibleAsCsv:"Exportera synlig data som CSV",exporterSelectedAsCsv:"Exportera markerad data som CSV",exporterAllAsPdf:"Exportera all data som PDF",exporterVisibleAsPdf:"Exportera synlig data som PDF",exporterSelectedAsPdf:"Exportera markerad data som PDF",clearAllFilters:"Rengr alla filter"},importer:{noHeaders:"Kolumnnamn kunde inte hrledas. Har filen ett sidhuvud?",noObjects:"Objekt kunde inte hrledas. Har filen data undantaget sidhuvud?",invalidCsv:"Filen kunde inte behandlas, r den en giltig CSV?",invalidJson:"Filen kunde inte behandlas, r den en giltig JSON?",jsonNotArray:"Importerad JSON-fil mste innehlla ett flt. Import avbruten."},pagination:{sizes:"Artiklar per sida",totalItems:"Artiklar"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ta",{aggregate:{label:""},groupPanel:{description:"          "},search:{placeholder:" ...",showingItems:" :",selectedItems:"  :",totalItems:" :",size:" : ",first:" ",next:" ",previous:"  ",last:" "},menu:{text:" :"},sort:{ascending:" ",descending:" ",remove:" "},column:{hide:"   "},aggregation:{count:" :",sum:": ",avg:": ",min:": ",max:": "},pinning:{pinLeft:"  ",pinRight:" ",unpin:""},gridMenu:{columns:":",importerTitle:" : ",exporterAllAsCsv:"  : csv",exporterVisibleAsCsv:"  : csv",exporterSelectedAsCsv:"  : csv",exporterAllAsPdf:"  : pdf",exporterVisibleAsPdf:"  : pdf",exporterSelectedAsPdf:"  : pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"   ,   ?",noObjects:"  ,      ? ",invalidCsv:"   ,  ? - csv",invalidJson:"   ,  ? - json",jsonNotArray:"   ,    : json"},pagination:{sizes:" / ",totalItems:" "},grouping:{group:"",ungroup:"",aggregate_count:" : ",aggregate_sum:" : ",aggregate_max:" : ",aggregate_min:" : ",aggregate_avg:" : ",aggregate_remove:" : "}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("tr",{headerCell:{aria:{defaultFilterLabel:"Stun iin filtre",removeFilter:"Filtreyi Kaldr",columnMenuButtonLabel:"Stun Mens"},priority:"ncelik:",filterLabel:"Stun iin filtre: "},aggregate:{label:"kaytlar"},groupPanel:{description:"Stuna gre gruplamak iin stun baln buraya srkleyin ve brakn."},search:{placeholder:"Arama...",showingItems:"Gsterilen Kayt:",selectedItems:"Seili Kayt:",totalItems:"Toplam Kayt:",size:"Sayfa Boyutu:",first:"lk Sayfa",next:"Sonraki Sayfa",previous:"nceki Sayfa",last:"Son Sayfa"},menu:{text:"Stunlar Se:"},sort:{ascending:"Artan Srada Srala",descending:"Azalan Srada Srala",none:"Sralama Yapma",remove:"Sralamay Kaldr"},column:{hide:"Stunu Gizle"},aggregation:{count:"toplam satr: ",sum:"toplam: ",avg:"ort: ",min:"min: ",max:"maks: "},pinning:{pinLeft:"Sola Sabitle",pinRight:"Saa Sabitle",unpin:"Sabitlemeyi Kaldr"},columnMenu:{close:"Kapat"},gridMenu:{aria:{buttonLabel:"Tablo Men"},columns:"Stunlar:",importerTitle:"Dosya ieri aktar",exporterAllAsCsv:"Btn veriyi CSV olarak dar aktar",exporterVisibleAsCsv:"Grnen veriyi CSV olarak dar aktar",exporterSelectedAsCsv:"Seili veriyi CSV olarak dar aktar",exporterAllAsPdf:"Btn veriyi PDF olarak dar aktar",exporterVisibleAsPdf:"Grnen veriyi PDF olarak dar aktar",exporterSelectedAsPdf:"Seili veriyi PDF olarak dar aktar",clearAllFilters:"Btn filtreleri kaldr"},importer:{noHeaders:"Stun isimleri retilemiyor, dosyann bir bal var m?",noObjects:"Nesneler retilemiyor, dosyada balktan baka bir veri var m?",invalidCsv:"Dosya ilenemedi, geerli bir CSV dosyas m?",invalidJson:"Dosya ilenemedi, geerli bir Json dosyas m?",jsonNotArray:"Alnan Json dosyasnda bir dizi bulunmaldr, ilem iptal ediliyor."},pagination:{aria:{pageToFirst:"lk sayfaya",pageBack:"Geri git",pageSelected:"Seili sayfa",pageForward:"leri git",pageToLast:"Sona git"},sizes:"Sayfadaki nesne says",totalItems:"kaytlar",through:"",of:""},grouping:{group:"Grupla",ungroup:"Gruplama",aggregate_count:"Yekun: Say",aggregate_sum:"Yekun: Toplam",aggregate_max:"Yekun: Maks",aggregate_min:"Yekun: Min",aggregate_avg:"Yekun: Ort",aggregate_remove:"Yekun: Sil"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ua",{headerCell:{aria:{defaultFilterLabel:" ",removeFilter:" ",columnMenuButtonLabel:" "},priority:":",filterLabel:" : "},aggregate:{label:""},groupPanel:{description:"       ."},search:{placeholder:"...",showingItems:" :",selectedItems:" :",totalItems:" :",size:" :",first:" ",next:" ",previous:" ",last:" "},menu:{text:" :"},sort:{ascending:" ",descending:" ",none:" ",remove:" "},column:{hide:" "},aggregation:{count:" : ",sum:": ",avg:": ",min:": ",max:": "},pinning:{pinLeft:" ",pinRight:" ",unpin:""},columnMenu:{close:""},gridMenu:{aria:{buttonLabel:""},columns:":",importerTitle:" ",exporterAllAsCsv:"   CSV",exporterVisibleAsCsv:"    CSV",exporterSelectedAsCsv:"    CSV",exporterAllAsPdf:"   PDF",exporterVisibleAsPdf:"    PDF",exporterSelectedAsPdf:"    PDF",clearAllFilters:"  "},importer:{noHeaders:"    ,     ?",noObjects:"   ,       ?",invalidCsv:"   ,    CSV-?",invalidJson:"   ,    JSON?",jsonNotArray:"JSON-     ,  ."},pagination:{aria:{pageToFirst:" ",pageBack:" ",pageSelected:" ",pageForward:" ",pageToLast:" "},sizes:"  ",totalItems:"",through:"",of:""},grouping:{group:"",ungroup:"",aggregate_count:": ",aggregate_sum:" : ",aggregate_max:" : ",aggregate_min:" : ",aggregate_avg:" : ",aggregate_remove:" : "}}),e}])}]),function(){var h=["uiT","uiTranslate"],t=angular.module("ui.grid.i18n");function n(u,d){return{restrict:"EA",compile:function(){return{pre:function(e,n,t){var i,r,o,a=h[0],s=h[1],l=t[a]||t[s]||n.html();function c(e){var t=u.getSafeText(e);n.html(t)}t.$$observers&&(o=t[a]?a:s,r=t.$observe(o,function(e){e&&c(e)})),i=e.$on(d.UPDATE_EVENT,function(){r?r(t[a]||t[s]):c(l)}),e.$on("$destroy",i),c(l)}}}}}function i(n){return function(e,t){return n.getSafeText(e,t)}}t.constant("i18nConstants",{MISSING:"[MISSING]",UPDATE_EVENT:"$uiI18n",LOCALE_DIRECTIVE_ALIAS:"uiI18n",DEFAULT_LANG:"en"}),t.service("i18nService",["$log","$parse","i18nConstants","$rootScope",function(e,a,s,t){var l={_langs:{},current:null,fallback:s.DEFAULT_LANG,get:function(e){var t=this.getFallbackLang();return e!==this.fallback?angular.extend({},this._langs[t],this._langs[e.toLowerCase()]):this._langs[e.toLowerCase()]},add:function(e,t){var n=e.toLowerCase();this._langs[n]||(this._langs[n]={}),angular.merge(this._langs[n],t)},getAllLangs:function(){var e=[];if(!this._langs)return e;for(var t in this._langs)e.push(t);return e},setCurrent:function(e){this.current=e.toLowerCase()},setFallback:function(e){this.fallback=e.toLowerCase()},getCurrentLang:function(){return this.current},getFallbackLang:function(){return this.fallback.toLowerCase()}},c={add:function(e,t){"object"==typeof e?angular.forEach(e,function(e){e&&l.add(e,t)}):l.add(e,t)},getAllLangs:function(){return l.getAllLangs()},get:function(e){var t=e||c.getCurrentLang();return l.get(t)},getSafeText:function(e,t){var n=t||c.getCurrentLang(),i=l.get(n),r=s.MISSING+e,o=a(e);return i&&o(i)||r},setCurrentLang:function(e){e&&(l.setCurrent(e),t.$broadcast(s.UPDATE_EVENT))},setFallbackLang:function(e){e&&l.setFallback(e)},getCurrentLang:function(){var e=l.getCurrentLang();return e||(e=s.DEFAULT_LANG,l.setCurrent(e)),e},getFallbackLang:function(){return l.getFallbackLang()}};return c}]),t.directive("uiI18n",["i18nService","i18nConstants",function(o,a){return{compile:function(){return{pre:function(e,t,n){var i=a.LOCALE_DIRECTIVE_ALIAS,r=e.$eval(n[i]);r?e.$watch(n[i],function(){o.setCurrentLang(r)}):n.$$observers&&n.$observe(i,function(){o.setCurrentLang(n[i]||a.DEFAULT_LANG)})}}}}}]),angular.forEach(h,function(e){t.directive(e,["i18nService","i18nConstants",n])}),angular.forEach(["t","uiTranslate"],function(e){t.filter(e,["i18nService",i])})}(),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("zh-cn",{headerCell:{aria:{defaultFilterLabel:"",removeFilter:"",columnMenuButtonLabel:""},priority:":",filterLabel:": "},aggregate:{label:""},groupPanel:{description:""},search:{placeholder:"",showingItems:"",selectedItems:"",totalItems:"",size:"",first:"",next:"",previous:"",last:""},menu:{text:""},sort:{ascending:"",descending:"",none:"",remove:""},column:{hide:""},aggregation:{count:"",sum:"",avg:"",min:"",max:""},pinning:{pinLeft:"",pinRight:"",unpin:""},columnMenu:{close:""},gridMenu:{aria:{buttonLabel:""},columns:"",importerTitle:"",exporterAllAsCsv:"CSV",exporterVisibleAsCsv:"CSV",exporterSelectedAsCsv:"CSV",exporterAllAsPdf:"PDF",exporterVisibleAsPdf:"PDF",exporterSelectedAsPdf:"PDF",clearAllFilters:""},importer:{noHeaders:"",noObjects:"",invalidCsv:"CSV",invalidJson:"JSON",jsonNotArray:"JSON"},pagination:{aria:{pageToFirst:"",pageBack:"",pageSelected:"",pageForward:"",pageToLast:""},sizes:"",totalItems:"",through:"",of:""},grouping:{group:"",ungroup:"",aggregate_count:": ",aggregate_sum:": ",aggregate_max:": ",aggregate_min:": ",aggregate_avg:": ",aggregate_remove:": "}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("zh-tw",{aggregate:{label:""},groupPanel:{description:""},search:{placeholder:"",showingItems:"",selectedItems:"",totalItems:"",size:"",first:"",next:"",previous:"",last:""},menu:{text:""},sort:{ascending:"",descending:"",remove:""},column:{hide:""},aggregation:{count:"",sum:"",avg:"",min:"",max:""},pinning:{pinLeft:"",pinRight:"",unpin:""},gridMenu:{columns:"",importerTitle:"",exporterAllAsCsv:"CSV",exporterVisibleAsCsv:"CSV",exporterSelectedAsCsv:"CSV",exporterAllAsPdf:"PDF",exporterVisibleAsPdf:"PDF",exporterSelectedAsPdf:"PDF",clearAllFilters:""},importer:{noHeaders:"",noObjects:"",invalidCsv:"CSV",invalidJson:"JSON",jsonNotArray:"JSON"},pagination:{sizes:"",totalItems:""}}),e}])}]),function(){"use strict";angular.module("ui.grid.autoResize",["ui.grid"]).directive("uiGridAutoResize",["gridUtil",function(i){return{require:"uiGrid",scope:!1,link:function(e,r,t,o){var n;n=i.debounce(function(e,t,n,i){null!==r[0].offsetParent&&(o.grid.gridWidth=n,o.grid.gridHeight=i,o.grid.queueGridRefresh().then(function(){o.grid.api.core.raise.gridDimensionChanged(t,e,i,n)}))},400),e.$watchCollection(function(){return{width:i.elementWidth(r),height:i.elementHeight(r)}},function(e,t){angular.equals(e,t)||n(t.width,t.height,e.width,e.height)})}}}])}(),function(){"use strict";var e=angular.module("ui.grid.cellNav",["ui.grid"]);e.constant("uiGridCellNavConstants",{FEATURE_NAME:"gridCellNav",CELL_NAV_EVENT:"cellNav",direction:{LEFT:0,RIGHT:1,UP:2,DOWN:3,PG_UP:4,PG_DOWN:5},EVENT_TYPE:{KEYDOWN:0,CLICK:1,CLEAR:2}}),e.factory("uiGridCellNavFactory",["gridUtil","uiGridConstants","uiGridCellNavConstants","GridRowColumn","$q",function(e,t,i,s,n){function r(e,t,n,i){this.rows=e.visibleRowCache,this.columns=t.visibleColumnCache,this.leftColumns=n?n.visibleColumnCache:[],this.rightColumns=i?i.visibleColumnCache:[],this.bodyContainer=e}return r.prototype.getFocusableCols=function(){return this.leftColumns.concat(this.columns,this.rightColumns).filter(function(e){return e.colDef.allowCellFocus})},r.prototype.getFocusableRows=function(){return this.rows.filter(function(e){return!1!==e.allowCellFocus})},r.prototype.getNextRowCol=function(e,t,n){switch(e){case i.direction.LEFT:return this.getRowColLeft(t,n);case i.direction.RIGHT:return this.getRowColRight(t,n);case i.direction.UP:return this.getRowColUp(t,n);case i.direction.DOWN:return this.getRowColDown(t,n);case i.direction.PG_UP:return this.getRowColPageUp(t,n);case i.direction.PG_DOWN:return this.getRowColPageDown(t,n)}},r.prototype.initializeSelection=function(){var e=this.getFocusableCols(),t=this.getFocusableRows();return 0===e.length||0===t.length?null:new s(t[0],e[0])},r.prototype.getRowColLeft=function(e,t){var n=this.getFocusableCols(),i=this.getFocusableRows(),r=n.indexOf(t),o=i.indexOf(e);-1===r&&(r=1);var a=0===r?n.length-1:r-1;return new s(r<=a?0===o?e:i[o-1]:e,n[a])},r.prototype.getRowColRight=function(e,t){var n=this.getFocusableCols(),i=this.getFocusableRows(),r=n.indexOf(t),o=i.indexOf(e);-1===r&&(r=0);var a=r===n.length-1?0:r+1;return a<=r?o===i.length-1?new s(e,n[a]):new s(i[o+1],n[a]):new s(e,n[a])},r.prototype.getRowColDown=function(e,t){var n=this.getFocusableCols(),i=this.getFocusableRows(),r=n.indexOf(t),o=i.indexOf(e);return-1===r&&(r=0),o===i.length-1?new s(e,n[r]):new s(i[o+1],n[r])},r.prototype.getRowColPageDown=function(e,t){var n=this.getFocusableCols(),i=this.getFocusableRows(),r=n.indexOf(t),o=i.indexOf(e);-1===r&&(r=0);var a=this.bodyContainer.minRowsToRender();return o>=i.length-a?new s(i[i.length-1],n[r]):new s(i[o+a],n[r])},r.prototype.getRowColUp=function(e,t){var n=this.getFocusableCols(),i=this.getFocusableRows(),r=n.indexOf(t),o=i.indexOf(e);return-1===r&&(r=0),new s(0===o?e:i[o-1],n[r])},r.prototype.getRowColPageUp=function(e,t){var n=this.getFocusableCols(),i=this.getFocusableRows(),r=n.indexOf(t),o=i.indexOf(e);-1===r&&(r=0);var a=this.bodyContainer.minRowsToRender();return new s(o-a<0?i[0]:i[o-a],n[r])},r}]),e.service("uiGridCellNavService",["gridUtil","uiGridConstants","uiGridCellNavConstants","$q","uiGridCellNavFactory","GridRowColumn","ScrollEvent",function(e,t,n,i,r,o,a){var s={initializeGrid:function(i){i.registerColumnBuilder(s.cellNavColumnBuilder),i.cellNav={},i.cellNav.lastRowCol=null,i.cellNav.focusedCells=[],s.defaultGridOptions(i.options);var e={events:{cellNav:{navigate:function(e,t){},viewPortKeyDown:function(e,t){},viewPortKeyPress:function(e,t){}}},methods:{cellNav:{scrollToFocus:function(e,t){return s.scrollToFocus(i,e,t)},getFocusedCell:function(){return i.cellNav.lastRowCol},getCurrentSelection:function(){return i.cellNav.focusedCells},rowColSelectIndex:function(e){for(var t=-1,n=0;n<i.cellNav.focusedCells.length;n++)if(i.cellNav.focusedCells[n].col.uid===e.col.uid&&i.cellNav.focusedCells[n].row.uid===e.row.uid){t=n;break}return t}}}};i.api.registerEventsFromObject(e.events),i.api.registerMethodsFromObject(e.methods)},defaultGridOptions:function(e){e.modifierKeysToMultiSelectCells=!0===e.modifierKeysToMultiSelectCells,e.keyDownOverrides=e.keyDownOverrides||[]},decorateRenderContainers:function(e){var t=e.hasRightContainer()?e.renderContainers.right:null,n=e.hasLeftContainer()?e.renderContainers.left:null;null!==n&&(e.renderContainers.left.cellNav=new r(e.renderContainers.body,n,t,e.renderContainers.body)),null!==t&&(e.renderContainers.right.cellNav=new r(e.renderContainers.body,t,e.renderContainers.body,n)),e.renderContainers.body.cellNav=new r(e.renderContainers.body,e.renderContainers.body,n,t)},getDirection:function(e){return e.keyCode===t.keymap.LEFT||e.keyCode===t.keymap.TAB&&e.shiftKey?n.direction.LEFT:e.keyCode===t.keymap.RIGHT||e.keyCode===t.keymap.TAB?n.direction.RIGHT:e.keyCode===t.keymap.UP||e.keyCode===t.keymap.ENTER&&e.shiftKey?n.direction.UP:e.keyCode===t.keymap.PG_UP?n.direction.PG_UP:e.keyCode===t.keymap.DOWN||e.keyCode===t.keymap.ENTER&&!e.ctrlKey&&!e.altKey?n.direction.DOWN:e.keyCode===t.keymap.PG_DOWN?n.direction.PG_DOWN:null},cellNavColumnBuilder:function(e,t,n){return e.allowCellFocus=void 0===e.allowCellFocus||e.allowCellFocus,i.all([])},scrollToFocus:function(t,e,n){var i=null,r=null;return null!=e&&(i=t.getRow(e)),null!=n&&(r=t.getColumn(n.name?n.name:n.field)),t.api.core.scrollToIfNecessary(i,r).then(function(){var e={row:i,col:r};null!==i&&null!==r&&t.cellNav.broadcastCellNav(e,null,null)})},getLeftWidth:function(e,t){var n=0;if(!t)return n;var i=e.renderContainers.body.visibleColumnCache.indexOf(t);e.renderContainers.body.visibleColumnCache.forEach(function(e,t){t<i&&(n+=e.drawnWidth)});var r=0===i?0:(i+1)/e.renderContainers.body.visibleColumnCache.length;return n+=t.drawnWidth*r}};return s}]),e.directive("uiGridCellnav",["gridUtil","uiGridCellNavService","uiGridCellNavConstants","uiGridConstants","GridRowColumn","$timeout","$compile","i18nService",function(e,c,u,d,h,t,a,f){return{replace:!0,priority:-150,require:"^uiGrid",scope:!1,controller:function(){},compile:function(){return{pre:function(e,t,n,s){var i=e,l=s.grid;c.initializeGrid(l),s.cellNav={},s.cellNav.makeRowCol=function(e){return e instanceof h||(e=new h(e.row,e.col)),e},s.cellNav.getActiveCell=function(){var e=t[0].getElementsByClassName("ui-grid-cell-focus");if(0<e.length)return e[0]},s.cellNav.broadcastCellNav=l.cellNav.broadcastCellNav=function(e,t,n){t=!(void 0===t||!t),e=s.cellNav.makeRowCol(e),s.cellNav.broadcastFocus(e,t,n),i.$broadcast(u.CELL_NAV_EVENT,e,t,n)},s.cellNav.clearFocus=l.cellNav.clearFocus=function(){l.cellNav.focusedCells=[],i.$broadcast(u.CELL_NAV_EVENT)},s.cellNav.broadcastFocus=function(e,t,n){t=!(void 0===t||!t);var i=(e=s.cellNav.makeRowCol(e)).row,r=e.col,o=s.grid.api.cellNav.rowColSelectIndex(e);if(null===l.cellNav.lastRowCol||-1===o||l.cellNav.lastRowCol.col===r&&l.cellNav.lastRowCol.row===i){var a=new h(i,r);null!==l.cellNav.lastRowCol&&l.cellNav.lastRowCol.row===a.row&&l.cellNav.lastRowCol.col===a.col&&!l.options.enableCellEditOnFocus||(l.api.cellNav.raise.navigate(a,l.cellNav.lastRowCol,n),l.cellNav.lastRowCol=a),s.grid.options.modifierKeysToMultiSelectCells&&t?l.cellNav.focusedCells.push(e):l.cellNav.focusedCells=[e]}else l.options.modifierKeysToMultiSelectCells&&t&&0<=o&&l.cellNav.focusedCells.splice(o,1)},s.cellNav.handleKeyDown=function(e){var t=c.getDirection(e);if(null===t)return null;var n="body";e.uiGridTargetRenderContainerId&&(n=e.uiGridTargetRenderContainerId);var i=s.grid.api.cellNav.getFocusedCell();if(i){var r=s.grid.renderContainers[n].cellNav.getNextRowCol(t,i.row,i.col),o=s.grid.renderContainers[n].cellNav.getFocusableCols(),a=s.grid.api.cellNav.rowColSelectIndex(r);return t===u.direction.LEFT&&r.col===o[o.length-1]&&r.row===i.row&&e.keyCode===d.keymap.TAB&&e.shiftKey?(l.cellNav.focusedCells.splice(a,1),s.cellNav.clearFocus(),!0):t!==u.direction.RIGHT||r.col!==o[0]||r.row!==i.row||e.keyCode!==d.keymap.TAB||e.shiftKey?(l.scrollToIfNecessary(r.row,r.col).then(function(){s.cellNav.broadcastCellNav(r,null,e)}),e.stopPropagation(),e.preventDefault(),!1):(l.cellNav.focusedCells.splice(a,1),s.cellNav.clearFocus(),!0)}}},post:function(e,t,n,i){var r,h,p=i.grid,o=!0;try{angular.module("ngAria")}catch(e){o=!1}o&&(r='<div id="'+p.id+'-aria-speakable" class="ui-grid-a11y-ariascreenreader-speakable ui-grid-offscreen" aria-live="assertive" role="alert" aria-atomic="true" aria-hidden="false" aria-relevant="additions" >&nbsp;</div>',h=a(r)(e),t.prepend(h),e.$on(u.CELL_NAV_EVENT,function(e,t,n,i){if(!i||"focus"!==i.type){for(var r,o,a=[],s=p.api.cellNav.getCurrentSelection(),l=0;l<s.length;l++){var c=("selectionRowHeaderCol"===(o=s[l]).col.field?o.row.isSelected?f.getSafeText("search.aria.selected"):f.getSafeText("search.aria.notSelected"):p.getCellDisplayValue(o.row,o.col))+(r=s[l].col,", "+f.getSafeText("headerCell.aria.column")+" "+r.displayName);a.push(c)}var u,d=a.toString();(u=d)!==h.text().trim()&&(h[0].style.clip="rect(0px,0px,0px,0px)",h[0].innerHTML="",h[0].style.visibility="hidden",h[0].style.visibility="visible",""!==u&&(h[0].style.clip="auto",h[0].appendChild(document.createTextNode(u+" ")),h[0].style.visibility="hidden",h[0].style.visibility="visible"))}}))}}}}}]),e.directive("uiGridRenderContainer",["$timeout","$document","gridUtil","uiGridConstants","uiGridCellNavService","$compile","uiGridCellNavConstants",function(d,e,h,t,p,f,g){return{replace:!0,priority:-99999,require:["^uiGrid","uiGridRenderContainer","?^uiGridCellnav"],scope:!1,compile:function(){return{post:function(e,t,n,i){var r=i[0],o=i[1],a=i[2];if(r.grid.api.cellNav){var s=o.containerId,l=r.grid;if(p.decorateRenderContainers(l),"body"===s){r.grid.options.modifierKeysToMultiSelectCells?t.attr("aria-multiselectable",!0):t.attr("aria-multiselectable",!1);var c=f('<div class="ui-grid-focuser" role="region" aria-live="assertive" aria-atomic="false" tabindex="0" aria-controls="'+l.id+"-aria-speakable "+l.id+'-grid-container" aria-owns="'+l.id+'-grid-container"></div>')(e);t.append(c),c.on("focus",function(e){e.uiGridTargetRenderContainerId=s;var t=r.grid.api.cellNav.getFocusedCell();null===t&&(t=r.grid.renderContainers[s].cellNav.getNextRowCol(g.direction.DOWN,null,null)).row&&t.col&&r.cellNav.broadcastCellNav(t)}),a.setAriaActivedescendant=function(e){t.attr("aria-activedescendant",e)},a.removeAriaActivedescendant=function(e){t.attr("aria-activedescendant")===e&&t.attr("aria-activedescendant","")},r.focus=function(){h.focus.byElement(c[0])};var u=null;c.on("keydown",function(n){n.uiGridTargetRenderContainerId=s;var e=r.grid.api.cellNav.getFocusedCell();null===(r.grid.options.keyDownOverrides.some(function(t){return Object.keys(t).every(function(e){return t[e]===n[e]})})?null:r.cellNav.handleKeyDown(n))&&(r.grid.api.cellNav.raise.viewPortKeyDown(n,e,r.cellNav.handleKeyDown),u=e)}),c.on("keypress",function(e){u&&(d(function(){r.grid.api.cellNav.raise.viewPortKeyPress(e,u)},4),u=null)}),e.$on("$destroy",function(){c.off()})}}}}}}}]),e.directive("uiGridViewport",function(){return{replace:!0,priority:-99999,require:["^uiGrid","^uiGridRenderContainer","?^uiGridCellnav"],scope:!1,compile:function(){return{pre:function(e,t,n,i){},post:function(e,t,n,i){var r=i[0],o=i[1];if(r.grid.api.cellNav&&"body"===o.containerId){var a=r.grid;a.api.core.on.scrollBegin(e,function(){var e=r.grid.api.cellNav.getFocusedCell();null!==e&&o.colContainer.containsColumn(e.col)&&r.cellNav.clearFocus()}),a.api.core.on.scrollEnd(e,function(e){var t=r.grid.api.cellNav.getFocusedCell();null!==t&&o.colContainer.containsColumn(t.col)&&r.cellNav.broadcastCellNav(t)}),a.api.cellNav.on.navigate(e,function(){r.focus()})}}}}}}),e.directive("uiGridCell",["$timeout","$document","uiGridCellNavService","gridUtil","uiGridCellNavConstants","uiGridConstants","GridRowColumn",function(e,t,n,i,d,h,p){return{priority:-150,restrict:"A",require:["^uiGrid","?^uiGridCellnav"],scope:!1,link:function(n,e,t,i){var r=i[0],o=i[1];if(r.grid.api.cellNav&&n.col.colDef.allowCellFocus){var a=r.grid;n.focused=!1,e.attr("tabindex",-1),e.find("div").on("click",function(e){r.cellNav.broadcastCellNav(new p(n.row,n.col),e.ctrlKey||e.metaKey,e),e.stopPropagation(),n.$apply()}),e.on("mousedown",l),r.grid.api.edit&&(r.grid.api.edit.on.beginCellEdit(n,function(){e.off("mousedown",l)}),r.grid.api.edit.on.afterCellEdit(n,function(){e.on("mousedown",l)}),r.grid.api.edit.on.cancelCellEdit(n,function(){e.on("mousedown",l)})),c(),e.on("focus",function(e){r.cellNav.broadcastCellNav(new p(n.row,n.col),!1,e),e.stopPropagation(),n.$apply()}),n.$on(d.CELL_NAV_EVENT,c);var s=r.grid.registerDataChangeCallback(function(e){u(),n.$applyAsync(c)},[h.dataChange.ROW]);n.$on("$destroy",function(){s(),e.find("div").off(),e.off()})}function l(e){e.preventDefault()}function c(){a.cellNav.focusedCells.some(function(e,t){return e.row===n.row&&e.col===n.col})?function(){if(!n.focused){e.find("div").addClass("ui-grid-cell-focus"),e.attr("aria-selected",!0),o.setAriaActivedescendant(e.attr("id")),n.focused=!0}}():u()}function u(){n.focused&&(e.find("div").removeClass("ui-grid-cell-focus"),e.attr("aria-selected",!1),o.removeAriaActivedescendant(e.attr("id")),n.focused=!1)}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.edit",["ui.grid"]);e.constant("uiGridEditConstants",{EDITABLE_CELL_TEMPLATE:/EDITABLE_CELL_TEMPLATE/g,EDITABLE_CELL_DIRECTIVE:/editable_cell_directive/g,events:{BEGIN_CELL_EDIT:"uiGridEventBeginCellEdit",END_CELL_EDIT:"uiGridEventEndCellEdit",CANCEL_CELL_EDIT:"uiGridEventCancelCellEdit"}}),e.service("uiGridEditService",["$q","uiGridConstants","gridUtil",function(r,t,o){var n={initializeGrid:function(e){n.defaultGridOptions(e.options),e.registerColumnBuilder(n.editColumnBuilder),e.edit={};e.api.registerEventsFromObject({edit:{afterCellEdit:function(e,t,n,i){},beginCellEdit:function(e,t,n){},cancelCellEdit:function(e,t){}}})},defaultGridOptions:function(e){e.cellEditableCondition=void 0===e.cellEditableCondition||e.cellEditableCondition,e.enableCellEditOnFocus=void 0!==e.enableCellEditOnFocus&&e.enableCellEditOnFocus},editColumnBuilder:function(t,n,e){var i=[];return t.enableCellEdit=void 0===t.enableCellEdit?void 0===e.enableCellEdit?"object"!==t.type:e.enableCellEdit:t.enableCellEdit,t.cellEditableCondition=void 0===t.cellEditableCondition?e.cellEditableCondition:t.cellEditableCondition,t.enableCellEdit&&(t.editableCellTemplate=t.editableCellTemplate||e.editableCellTemplate||"ui-grid/cellEditor",i.push(o.getTemplate(t.editableCellTemplate).then(function(e){n.editableCellTemplate=e},function(e){throw new Error("Couldn't fetch/use colDef.editableCellTemplate '"+t.editableCellTemplate+"'")}))),t.enableCellEditOnFocus=void 0===t.enableCellEditOnFocus?e.enableCellEditOnFocus:t.enableCellEditOnFocus,r.all(i)},isStartEditKey:function(e){return!(e.metaKey||e.keyCode===t.keymap.ESC||e.keyCode===t.keymap.SHIFT||e.keyCode===t.keymap.CTRL||e.keyCode===t.keymap.ALT||e.keyCode===t.keymap.WIN||e.keyCode===t.keymap.CAPSLOCK||e.keyCode===t.keymap.LEFT||e.keyCode===t.keymap.TAB&&e.shiftKey||e.keyCode===t.keymap.RIGHT||e.keyCode===t.keymap.TAB||e.keyCode===t.keymap.UP||e.keyCode===t.keymap.ENTER&&e.shiftKey||e.keyCode===t.keymap.DOWN||e.keyCode===t.keymap.ENTER)}};return n}]),e.directive("uiGridEdit",["gridUtil","uiGridEditService",function(e,r){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,t,n,i){r.initializeGrid(i.grid)},post:function(e,t,n,i){}}}}}]),e.directive("uiGridViewport",["uiGridEditConstants",function(o){return{replace:!0,priority:-99998,require:["^uiGrid","^uiGridRenderContainer"],scope:!1,compile:function(){return{post:function(e,t,n,i){var r=i[0];r.grid.api.edit&&r.grid.api.cellNav&&"body"===i[1].containerId&&(e.$on(o.events.CANCEL_CELL_EDIT,function(){r.focus()}),e.$on(o.events.END_CELL_EDIT,function(){r.focus()}))}}}}}]),e.directive("uiGridCell",["$compile","$injector","$timeout","uiGridConstants","uiGridEditConstants","gridUtil","$parse","uiGridEditService","$rootScope","$q",function(x,e,C,S,$,E,k,A,T,M){if(e.has("uiGridCellNavService"))e.get("uiGridCellNavService");return{priority:-100,restrict:"A",scope:!1,require:"?^uiGrid",link:function(u,d,e,i){var h,p,f,t,g,m=!1;if(u.col.colDef.enableCellEdit){var n=function(){},r=function(){},o=function(){u.col.colDef.enableCellEdit&&!1!==u.row.enableCellEdit?u.beginEditEventsWired||s():u.beginEditEventsWired&&v()};o();var a=u.$watch("row",function(e,t){e!==t&&o()});u.$on("$destroy",function(){a(),d.off()})}function s(){d.on("dblclick",b),d.on("touchstart",l),i&&i.grid.api.cellNav&&(r=i.grid.api.cellNav.on.viewPortKeyDown(u,function(e,t){null!==t&&(t.row!==u.row||t.col!==u.col||u.col.colDef.enableCellEditOnFocus||y(e))}),n=i.grid.api.cellNav.on.navigate(u,function(e,t,n){u.col.colDef.enableCellEditOnFocus&&(e.row!==u.row||e.col!==u.col||null!==n&&(!n||"click"!==n.type&&"keydown"!==n.type)||C(function(){b(n)}))})),u.beginEditEventsWired=!0}function l(e){void 0!==e.originalEvent&&void 0!==e.originalEvent&&(e=e.originalEvent),d.on("touchend",c),(t=C(function(){},500)).then(function(){setTimeout(b,0),d.off("touchend",c)})}function c(){C.cancel(t),d.off("touchend",c)}function v(){d.off("dblclick",b),d.off("keydown",y),d.off("touchstart",l),n(),r(),u.beginEditEventsWired=!1}function y(e){A.isStartEditKey(e)&&b(e)}function b(e){u.grid.api.core.scrollToIfNecessary(u.row,u.col).then(function(){!function(e){if(m)return;if(!function(e,t,n){return!t.isSaving&&(angular.isFunction(e.colDef.cellEditableCondition)?e.colDef.cellEditableCondition(u,n):e.colDef.cellEditableCondition)}(u.col,u.row,e))return;var t=u.row.getQualifiedColField(u.col);u.col.colDef.editModelField&&(t=E.preEval("row.entity."+u.col.colDef.editModelField));f=k(t),p=f(u),h=(h=(h=u.col.editableCellTemplate).replace(S.MODEL_COL_FIELD,t)).replace(S.COL_FIELD,"grid.getCellValue(row, col)");var n=u.col.colDef.editDropdownFilter?"|"+u.col.colDef.editDropdownFilter:"";h=h.replace(S.CUSTOM_FILTERS,n);var i="text";switch(u.col.colDef.type){case"boolean":i="checkbox";break;case"number":i="number";break;case"date":i="date"}h=h.replace("INPUT_TYPE",i);var r=u.col.colDef.editDropdownOptionsFunction;if(r)M.when(r(u.row.entity,u.col.colDef)).then(function(e){u.editDropdownOptionsArray=e});else{var o=u.col.colDef.editDropdownRowEntityOptionsArrayPath;u.editDropdownOptionsArray=o?function(e,t){var n=(t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split(".");for(;n.length;){var i=n.shift();if(!(i in e))return;e=e[i]}return e}(u.row.entity,o):u.col.colDef.editDropdownOptionsArray}u.editDropdownIdLabel=u.col.colDef.editDropdownIdLabel?u.col.colDef.editDropdownIdLabel:"id",u.editDropdownValueLabel=u.col.colDef.editDropdownValueLabel?u.col.colDef.editDropdownValueLabel:"value";function a(){m=!0,v();var e=angular.element(h);d.append(e),g=u.$new(),x(e)(g),angular.element(d.children()[0]).addClass("ui-grid-cell-contents-hidden")}T.$$phase?a():u.$apply(a);var s=u.col.grid.api.core.on.scrollBegin(u,function(){u.grid.disableScrolling||(w(),u.grid.api.edit.raise.afterCellEdit(u.row.entity,u.col.colDef,f(u),p),s(),l(),c())}),l=u.$on($.events.END_CELL_EDIT,function(){w(),u.grid.api.edit.raise.afterCellEdit(u.row.entity,u.col.colDef,f(u),p),l(),s(),c()}),c=u.$on($.events.CANCEL_CELL_EDIT,function(){!function(){if(u.grid.disableScrolling=!1,!m)return;f.assign(u,p),u.$apply(),u.grid.api.edit.raise.cancelCellEdit(u.row.entity,u.col.colDef),w()}(),c(),s(),l()});u.$broadcast($.events.BEGIN_CELL_EDIT,e),C(function(){u.grid.api.edit.raise.beginCellEdit(u.row.entity,u.col.colDef,e)})}(e)})}function w(){if(u.grid.disableScrolling=!1,m){i&&i.grid.api.cellNav&&i.focus();var e=angular.element(d.children()[0]);g.$destroy();for(var t=d.children(),n=1;n<t.length;n++)angular.element(t[n]).remove();e.removeClass("ui-grid-cell-contents-hidden"),m=!1,s(),u.grid.api.core.notifyDataChange(S.dataChange.EDIT)}}}}}]),e.directive("uiGridEditor",["gridUtil","uiGridConstants","uiGridEditConstants","$timeout","uiGridEditService",function(e,s,l,c,u){return{scope:!0,require:["?^uiGrid","?^uiGridRenderContainer","ngModel"],compile:function(){return{pre:function(e,t,n){},post:function(t,n,e,i){var r,o,a;i[0]&&(r=i[0]),i[1]&&(o=i[1]),i[2]&&(a=i[2]),t.$on(l.events.BEGIN_CELL_EDIT,function(){if(c(function(){if(n[0].focus(),!n[0].select||!t.col.colDef.enableCellEditOnFocus&&r&&r.grid.api.cellNav)try{n[0].setSelectionRange(n[0].value.length,n[0].value.length)}catch(e){}else n[0].select()}),r&&r.grid.api.cellNav)var i=r.grid.api.cellNav.on.viewPortKeyPress(t,function(e,t){if(u.isStartEditKey(e)){var n="number"==typeof e.which?e.which:e.keyCode;0<n&&(a.$setViewValue(String.fromCharCode(n),e),a.$render())}i()});n.on("mousedown",function(e){"checkbox"===n[0].type&&(n.off("blur",t.stopEdit),c(function(){n[0].focus(),n.on("blur",t.stopEdit)}))}),n.on("blur",t.stopEdit)}),t.deepEdit=!1,t.stopEdit=function(e){t.inputForm&&!t.inputForm.$valid?(e.stopPropagation(),t.$emit(l.events.CANCEL_CELL_EDIT)):t.$emit(l.events.END_CELL_EDIT),t.deepEdit=!1},n.on("click",function(e){"checkbox"!==n[0].type&&(t.deepEdit=!0,t.$applyAsync(function(){t.grid.disableScrolling=!0}))}),n.on("keydown",function(e){switch(e.keyCode){case s.keymap.ESC:e.stopPropagation(),t.$emit(l.events.CANCEL_CELL_EDIT)}if(!t.deepEdit||e.keyCode!==s.keymap.LEFT&&e.keyCode!==s.keymap.RIGHT&&e.keyCode!==s.keymap.UP&&e.keyCode!==s.keymap.DOWN)if(r&&r.grid.api.cellNav)e.uiGridTargetRenderContainerId=o.containerId,null!==r.cellNav.handleKeyDown(e)&&t.stopEdit(e);else switch(e.keyCode){case s.keymap.ENTER:case s.keymap.TAB:e.stopPropagation(),e.preventDefault(),t.stopEdit(e)}else e.stopPropagation();return!0}),t.$on("$destroy",function(){n.off()})}}}}}]),e.directive("uiGridEditor",["$filter",function(r){return{priority:-100,require:"?ngModel",link:function(e,t,n,i){2===angular.version.minor&&n.type&&"date"===n.type&&i&&(i.$formatters.push(function(e){return i.$setValidity(null,!e||!isNaN(e.getTime())),r("date")(e,"yyyy-MM-dd")}),i.$parsers.push(function(e){if(e&&0<e.length){var t=function(e){if(void 0===e||""===e)return null;var t=e.split("-");if(3!==t.length)return null;var n=parseInt(t[0],10),i=parseInt(t[1],10),r=parseInt(t[2],10);return i<1||n<1||r<1?null:new Date(n,i-1,r)}(e);return i.$setValidity(null,t&&!isNaN(t.getTime())),t}return i.$setValidity(null,!0),null}))}}}]),e.directive("uiGridEditDropdown",["uiGridConstants","uiGridEditConstants","$timeout",function(a,s,l){return{require:["?^uiGrid","?^uiGridRenderContainer"],scope:!0,compile:function(){return{pre:function(e,t,n){},post:function(t,e,n,i){var r=i[0],o=i[1];t.$on(s.events.BEGIN_CELL_EDIT,function(){l(function(){e[0].focus()}),e[0].style.width=e[0].parentElement.offsetWidth-1+"px",e.on("blur",function(e){t.stopEdit(e)})}),t.stopEdit=function(e){t.$emit(s.events.END_CELL_EDIT)},e.on("keydown",function(e){switch(e.keyCode){case a.keymap.ESC:e.stopPropagation(),t.$emit(s.events.CANCEL_CELL_EDIT)}if(r&&r.grid.api.cellNav)e.uiGridTargetRenderContainerId=o.containerId,null!==r.cellNav.handleKeyDown(e)&&t.stopEdit(e);else switch(e.keyCode){case a.keymap.ENTER:case a.keymap.TAB:e.stopPropagation(),e.preventDefault(),t.stopEdit(e)}return!0}),t.$on("$destroy",function(){e.off()})}}}}}]),e.directive("uiGridEditFileChooser",["gridUtil","uiGridConstants","uiGridEditConstants",function(o,e,a){return{scope:!0,require:["?^uiGrid","?^uiGridRenderContainer"],compile:function(){return{pre:function(e,t,n){},post:function(i,r){r[0].addEventListener("change",function e(t){var n=t.srcElement||t.target;n&&n.files&&0<n.files.length?("function"==typeof i.col.colDef.editFileChooserCallback?i.col.colDef.editFileChooserCallback(i.row,i.col,n.files):o.logError("You need to set colDef.editFileChooserCallback to use the file chooser"),n.form.reset(),i.$emit(a.events.END_CELL_EDIT)):i.$emit(a.events.CANCEL_CELL_EDIT),r[0].removeEventListener("change",e,!1)},!1),i.$on(a.events.BEGIN_CELL_EDIT,function(){r[0].focus(),r[0].select(),r.on("blur",function(){i.$emit(a.events.END_CELL_EDIT),r.off()})})}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.emptyBaseLayer",["ui.grid"]);e.service("uiGridBaseLayerService",["gridUtil","$compile",function(e,t){return{initializeGrid:function(e,t){!(e.baseLayer={emptyRows:[]})!==e.options.enableEmptyGridBaseLayer&&(e.options.enableEmptyGridBaseLayer=!t)},setNumberOfEmptyRows:function(e,t){var n=t.options.rowHeight,i=Math.ceil(e/n);if(0<i){t.baseLayer.emptyRows=[];for(var r=0;r<i;r++)t.baseLayer.emptyRows.push({})}}}}]),e.directive("uiGridEmptyBaseLayer",["gridUtil","uiGridBaseLayerService","$parse",function(e,a,o){return{require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,t,n,i){var r=!1===o(n.uiGridEmptyBaseLayer)(e);a.initializeGrid(i.grid,r)},post:function(e,t,n,i){if(i.grid.options.enableEmptyGridBaseLayer){var r=i.grid.renderContainers.body,o=r.getViewportHeight();i.grid.registerStyleComputation({func:function(){return function(){var e=r.getViewportHeight();return e!==o&&(o=e,!0)}()&&a.setNumberOfEmptyRows(o,i.grid),function(e){return".grid"+i.grid.id+" .ui-grid-render-container .ui-grid-empty-base-layer-container.ui-grid-canvas { height: "+e+"px; }"}(o)}})}}}}}}]),e.directive("uiGridViewport",["$compile","gridUtil","$templateCache",function(e,t,n){return{priority:-200,scope:!1,compile:function(e){var t=n.get("ui-grid/emptyBaseLayerContainer");return e.prepend(t),{pre:function(e,t,n,i){},post:function(e,t,n,i){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.expandable",["ui.grid"]);e.service("uiGridExpandableService",["gridUtil",function(t){var r={initializeGrid:function(i){i.expandable={},i.expandable.expandedAll=!1,i.options.enableOnDblClickExpand=!1!==i.options.enableOnDblClickExpand,i.options.enableExpandable=!1!==i.options.enableExpandable,i.options.showExpandAllButton=!1!==i.options.showExpandAllButton,i.options.expandableRowHeight=i.options.expandableRowHeight||150,i.options.expandableRowHeaderWidth=i.options.expandableRowHeaderWidth||40,i.options.enableExpandable&&!i.options.expandableRowTemplate&&(t.logError("You have not set the expandableRowTemplate, disabling expandable module"),i.options.enableExpandable=!1);var e={events:{expandable:{rowExpandedBeforeStateChanged:function(e,t,n){},rowExpandedStateChanged:function(e,t,n){},rowExpandedRendered:function(e,t,n){}}},methods:{expandable:{toggleRowExpansion:function(e,t){var n=i.getRow(e);null!==n&&r.toggleRowExpansion(i,n,t)},expandAllRows:function(){r.expandAllRows(i)},collapseAllRows:function(){r.collapseAllRows(i)},toggleAllRows:function(){r.toggleAllRows(i)},expandRow:function(e){var t=i.getRow(e);null===t||t.isExpanded||r.toggleRowExpansion(i,t)},collapseRow:function(e){var t=i.getRow(e);null!==t&&t.isExpanded&&r.toggleRowExpansion(i,t)},getExpandedRows:function(){return r.getExpandedRows(i).map(function(e){return e.entity})}}}};i.api.registerEventsFromObject(e.events),i.api.registerMethodsFromObject(e.methods)},toggleRowExpansion:function(t,n,i){t.api.expandable.raise.rowExpandedBeforeStateChanged(n),n.isExpanded=!n.isExpanded,angular.isUndefined(n.expandedRowHeight)&&(n.expandedRowHeight=t.options.expandableRowHeight),n.isExpanded?(n.height=n.grid.options.rowHeight+n.expandedRowHeight,t.expandable.expandedAll=r.getExpandedRows(t).length===t.rows.length):(n.height=n.grid.options.rowHeight,t.expandable.expandedAll=!1),t.api.expandable.raise.rowExpandedStateChanged(n,i),function e(){n.expandedRendered?t.api.expandable.raise.rowExpandedRendered(n,i):window.setTimeout(e,100)}()},expandAllRows:function(t){t.renderContainers.body.visibleRowCache.forEach(function(e){e.isExpanded||e.entity.subGridOptions&&e.entity.subGridOptions.disableRowExpandable||r.toggleRowExpansion(t,e)}),t.expandable.expandedAll=!0,t.queueGridRefresh()},collapseAllRows:function(t){t.renderContainers.body.visibleRowCache.forEach(function(e){e.isExpanded&&r.toggleRowExpansion(t,e)}),t.expandable.expandedAll=!1,t.queueGridRefresh()},toggleAllRows:function(e){e.expandable.expandedAll?r.collapseAllRows(e):r.expandAllRows(e)},getExpandedRows:function(e){return e.rows.filter(function(e){return e.isExpanded})}};return r}]),e.directive("uiGridExpandable",["uiGridExpandableService","$templateCache",function(o,a){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,t,n,i){if(o.initializeGrid(i.grid),i.grid.options.enableExpandable&&!1!==i.grid.options.enableExpandableRowHeader){var r={name:"expandableButtons",displayName:"",exporterSuppressExport:!0,enableColumnResizing:!1,enableColumnMenu:!1,width:i.grid.options.expandableRowHeaderWidth||30};r.cellTemplate=a.get("ui-grid/expandableRowHeader"),r.headerCellTemplate=a.get("ui-grid/expandableTopRowHeader"),i.grid.addRowHeaderColumn(r,-90)}},post:function(e,t,n,i){}}}}}]),e.directive("uiGrid",function(){return{replace:!0,priority:599,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,t,n,i){i.grid.api.core.on.renderingComplete(e,function(){e.row&&e.row.grid&&e.row.grid.options&&e.row.grid.options.enableExpandable&&(i.grid.parentRow=e.row)})},post:function(e,t,n,i){}}}}}),e.directive("uiGridExpandableRow",["uiGridExpandableService","$compile","uiGridConstants","gridUtil",function(e,a,t,n){return{replace:!1,priority:0,scope:!1,compile:function(){return{pre:function(r,o){n.getTemplate(r.grid.options.expandableRowTemplate).then(function(e){if(r.grid.options.expandableRowScope){var t=r.grid.options.expandableRowScope;for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n])}var i=angular.element(e);i=a(i)(r),o.append(i),r.row.element=o,r.row.expandedRendered=!0})},post:function(e,t){e.row.element=t,e.$on("$destroy",function(){e.row.expandedRendered=!1})}}}}}]),e.directive("uiGridRow",function(){return{priority:-200,scope:!1,compile:function(){return{pre:function(t,e){t.grid.options.enableExpandable&&(t.expandableRow={},t.expandableRow.shouldRenderExpand=function(){return"body"===t.colContainer.name&&!1!==t.grid.options.enableExpandable&&t.row.isExpanded&&(!t.grid.isScrollingVertically||t.row.expandedRendered)},t.expandableRow.shouldRenderFiller=function(){return t.row.isExpanded&&("body"!==t.colContainer.name||t.grid.isScrollingVertically&&!t.row.expandedRendered)},t.grid.options.enableOnDblClickExpand&&e.on("dblclick",function(e){t.grid.api.expandable.toggleRowExpansion(t.row.entity,e)}))},post:function(e,t,n,i){}}}}}),e.directive("uiGridViewport",["$compile","gridUtil","$templateCache",function(e,t,r){return{priority:-200,scope:!1,compile:function(e){var t=angular.element(e.children().children()[0]),n=r.get("ui-grid/expandableScrollFiller"),i=r.get("ui-grid/expandableRow");return t.append(i),t.append(n),{pre:function(e,t,n,i){},post:function(e,t,n,i){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.exporter",["ui.grid"]);e.constant("uiGridExporterConstants",{featureName:"exporter",rowHeaderColName:"treeBaseRowHeaderCol",selectionRowHeaderColName:"selectionRowHeaderCol",ALL:"all",VISIBLE:"visible",SELECTED:"selected",CSV_CONTENT:"CSV_CONTENT",BUTTON_LABEL:"BUTTON_LABEL",FILE_NAME:"FILE_NAME"}),e.service("uiGridExporterService",["$filter","$q","uiGridExporterConstants","gridUtil","$compile","$interval","i18nService",function(l,r,p,u,e,t,n){var i={delay:100,initializeGrid:function(n){n.exporter={},this.defaultGridOptions(n.options);var e={events:{exporter:{}},methods:{exporter:{csvExport:function(e,t){i.csvExport(n,e,t)},pdfExport:function(e,t){i.pdfExport(n,e,t)},excelExport:function(e,t){i.excelExport(n,e,t)}}}};n.api.registerEventsFromObject(e.events),n.api.registerMethodsFromObject(e.methods),n.api.core.addToGridMenu?i.addToMenu(n):t(function(){n.api.core.addToGridMenu&&i.addToMenu(n)},this.delay,1)},defaultGridOptions:function(e){e.exporterSuppressMenu=!0===e.exporterSuppressMenu,e.exporterMenuLabel=e.exporterMenuLabel?e.exporterMenuLabel:"Export",e.exporterSuppressColumns=e.exporterSuppressColumns?e.exporterSuppressColumns:[],e.exporterCsvColumnSeparator=e.exporterCsvColumnSeparator?e.exporterCsvColumnSeparator:",",e.exporterCsvFilename=e.exporterCsvFilename?e.exporterCsvFilename:"download.csv",e.exporterPdfFilename=e.exporterPdfFilename?e.exporterPdfFilename:"download.pdf",e.exporterExcelFilename=e.exporterExcelFilename?e.exporterExcelFilename:"download.xlsx",e.exporterExcelSheetName=e.exporterExcelSheetName?e.exporterExcelSheetName:"Sheet1",e.exporterOlderExcelCompatibility=!0===e.exporterOlderExcelCompatibility,e.exporterIsExcelCompatible=!0===e.exporterIsExcelCompatible,e.exporterMenuItemOrder=e.exporterMenuItemOrder?e.exporterMenuItemOrder:200,e.exporterPdfDefaultStyle=e.exporterPdfDefaultStyle?e.exporterPdfDefaultStyle:{fontSize:11},e.exporterPdfTableStyle=e.exporterPdfTableStyle?e.exporterPdfTableStyle:{margin:[0,5,0,15]},e.exporterPdfTableHeaderStyle=e.exporterPdfTableHeaderStyle?e.exporterPdfTableHeaderStyle:{bold:!0,fontSize:12,color:"black"},e.exporterPdfHeader=e.exporterPdfHeader?e.exporterPdfHeader:null,e.exporterPdfFooter=e.exporterPdfFooter?e.exporterPdfFooter:null,e.exporterPdfOrientation=e.exporterPdfOrientation?e.exporterPdfOrientation:"landscape",e.exporterPdfPageSize=e.exporterPdfPageSize?e.exporterPdfPageSize:"A4",e.exporterPdfMaxGridWidth=e.exporterPdfMaxGridWidth?e.exporterPdfMaxGridWidth:720,e.exporterMenuAllData=void 0===e.exporterMenuAllData||e.exporterMenuAllData,e.exporterMenuVisibleData=void 0===e.exporterMenuVisibleData||e.exporterMenuVisibleData,e.exporterMenuSelectedData=void 0===e.exporterMenuSelectedData||e.exporterMenuSelectedData,e.exporterMenuCsv=void 0===e.exporterMenuCsv||e.exporterMenuCsv,e.exporterMenuPdf=void 0===e.exporterMenuPdf||e.exporterMenuPdf,e.exporterMenuExcel=void 0===e.exporterMenuExcel||e.exporterMenuExcel,e.exporterPdfCustomFormatter=e.exporterPdfCustomFormatter&&"function"==typeof e.exporterPdfCustomFormatter?e.exporterPdfCustomFormatter:function(e){return e},e.exporterHeaderFilterUseName=!0===e.exporterHeaderFilterUseName,e.exporterFieldCallback=e.exporterFieldCallback?e.exporterFieldCallback:o,e.exporterFieldFormatCallback=e.exporterFieldFormatCallback?e.exporterFieldFormatCallback:function(e,t,n,i){return null},e.exporterExcelCustomFormatters=e.exporterExcelCustomFormatters?e.exporterExcelCustomFormatters:function(e,t,n){return n},e.exporterExcelHeader=e.exporterExcelHeader?e.exporterExcelHeader:function(e,t,n,i){return null},e.exporterColumnScaleFactor=e.exporterColumnScaleFactor?e.exporterColumnScaleFactor:3.5,e.exporterFieldApplyFilters=!0===e.exporterFieldApplyFilters,e.exporterAllDataFn=e.exporterAllDataFn?e.exporterAllDataFn:null,null===e.exporterAllDataFn&&e.exporterAllDataPromise&&(e.exporterAllDataFn=e.exporterAllDataPromise)},addToMenu:function(e){e.api.core.addToGridMenu(e,[{title:n.getSafeText("gridMenu.exporterAllAsCsv"),action:function(){e.api.exporter.csvExport(p.ALL,p.ALL)},shown:function(){return e.options.exporterMenuCsv&&e.options.exporterMenuAllData},order:e.options.exporterMenuItemOrder},{title:n.getSafeText("gridMenu.exporterVisibleAsCsv"),action:function(){e.api.exporter.csvExport(p.VISIBLE,p.VISIBLE)},shown:function(){return e.options.exporterMenuCsv&&e.options.exporterMenuVisibleData},order:e.options.exporterMenuItemOrder+1},{title:n.getSafeText("gridMenu.exporterSelectedAsCsv"),action:function(){e.api.exporter.csvExport(p.SELECTED,p.VISIBLE)},shown:function(){return e.options.exporterMenuCsv&&e.options.exporterMenuSelectedData&&e.api.selection&&0<e.api.selection.getSelectedRows().length},order:e.options.exporterMenuItemOrder+2},{title:n.getSafeText("gridMenu.exporterAllAsPdf"),action:function(){e.api.exporter.pdfExport(p.ALL,p.ALL)},shown:function(){return e.options.exporterMenuPdf&&e.options.exporterMenuAllData},order:e.options.exporterMenuItemOrder+3},{title:n.getSafeText("gridMenu.exporterVisibleAsPdf"),action:function(){e.api.exporter.pdfExport(p.VISIBLE,p.VISIBLE)},shown:function(){return e.options.exporterMenuPdf&&e.options.exporterMenuVisibleData},order:e.options.exporterMenuItemOrder+4},{title:n.getSafeText("gridMenu.exporterSelectedAsPdf"),action:function(){e.api.exporter.pdfExport(p.SELECTED,p.VISIBLE)},shown:function(){return e.options.exporterMenuPdf&&e.options.exporterMenuSelectedData&&e.api.selection&&0<e.api.selection.getSelectedRows().length},order:e.options.exporterMenuItemOrder+5},{title:n.getSafeText("gridMenu.exporterAllAsExcel"),action:function(){e.api.exporter.excelExport(p.ALL,p.ALL)},shown:function(){return e.options.exporterMenuExcel&&e.options.exporterMenuAllData},order:e.options.exporterMenuItemOrder+6},{title:n.getSafeText("gridMenu.exporterVisibleAsExcel"),action:function(){e.api.exporter.excelExport(p.VISIBLE,p.VISIBLE)},shown:function(){return e.options.exporterMenuExcel&&e.options.exporterMenuVisibleData},order:e.options.exporterMenuItemOrder+7},{title:n.getSafeText("gridMenu.exporterSelectedAsExcel"),action:function(){e.api.exporter.excelExport(p.SELECTED,p.VISIBLE)},shown:function(){return e.options.exporterMenuExcel&&e.options.exporterMenuSelectedData&&e.api.selection&&0<e.api.selection.getSelectedRows().length},order:e.options.exporterMenuItemOrder+8}])},csvExport:function(i,r,o){var a=this;this.loadAllDataIfNeeded(i,r,o).then(function(){var e=i.options.showHeader?a.getColumnHeaders(i,o):[],t=a.getData(i,r,o),n=a.formatAsCsv(e,t,i.options.exporterCsvColumnSeparator);a.downloadFile(i.options.exporterCsvFilename,n,i.options.exporterCsvColumnSeparator,i.options.exporterOlderExcelCompatibility,i.options.exporterIsExcelCompatible)})},loadAllDataIfNeeded:function(t,e,n){if(e===p.ALL&&t.rows.length!==t.options.totalItems&&t.options.exporterAllDataFn)return t.options.exporterAllDataFn().then(function(e){t.modifyRows(e)});var i=r.defer();return i.resolve(),i.promise},getColumnHeaders:function(n,e){var t,i=[];if(e===p.ALL)t=n.columns;else{var r=n.renderContainers.left?n.renderContainers.left.visibleColumnCache.filter(function(e){return e.visible}):[],o=n.renderContainers.body?n.renderContainers.body.visibleColumnCache.filter(function(e){return e.visible}):[],a=n.renderContainers.right?n.renderContainers.right.visibleColumnCache.filter(function(e){return e.visible}):[];t=r.concat(o,a)}return t.forEach(function(e){if(!0!==e.colDef.exporterSuppressExport&&"$$hashKey"!==e.field&&-1===n.options.exporterSuppressColumns.indexOf(e.name)){var t={name:e.field,displayName:function(e,t){if(e.options.exporterHeaderFilter)return e.options.exporterHeaderFilterUseName?e.options.exporterHeaderFilter(t.name):e.options.exporterHeaderFilter(t.displayName);return t.headerCellFilter?l(t.headerCellFilter)(t.displayName):t.displayName}(n,e),width:e.drawnWidth?e.drawnWidth:e.width,align:e.colDef.align?e.colDef.align:"number"===e.colDef.type?"right":"left"};i.push(t)}}),i},getRowsFromNode:function(e){for(var t=[],n=0;n<e.children.length;n++)if(e.children[n].children&&0===e.children[n].children.length)t.push(e.children[n]);else{var i=this.getRowsFromNode(e.children[n]);t=t.concat(i)}return t},getDataSorted:function(e){if(!e.treeBase||0===e.treeBase.numberLevels)return e.rows;for(var t=[],n=0;n<e.treeBase.tree.length;n++)for(var i=this.getRowsFromNode(e.treeBase.tree[n]),r=0;r<i.length;r++)t.push(i[r].row);return t},getData:function(a,e,s,l){var t,n,i=[];switch(e){case p.ALL:t=this.getDataSorted(a,e,s,l);break;case p.VISIBLE:t=a.getVisibleRows();break;case p.SELECTED:a.api.selection?t=a.api.selection.getSelectedGridRows():u.logError("selection feature must be enabled to allow selected rows to be exported")}if(s===p.ALL)n=a.columns;else{var r=a.renderContainers.left?a.renderContainers.left.visibleColumnCache.filter(function(e){return e.visible}):[],o=a.renderContainers.body?a.renderContainers.body.visibleColumnCache.filter(function(e){return e.visible}):[],c=a.renderContainers.right?a.renderContainers.right.visibleColumnCache.filter(function(e){return e.visible}):[];n=r.concat(o,c)}return t.forEach(function(r){if(!1!==r.exporterEnableExporting){var o=[];n.forEach(function(e){if((e.visible||s===p.ALL)&&!0!==e.colDef.exporterSuppressExport&&"$$hashKey"!==e.field&&-1===a.options.exporterSuppressColumns.indexOf(e.name)){var t=l?a.getCellDisplayValue(r,e):a.getCellValue(r,e),n={value:a.options.exporterFieldCallback(a,r,e,t)},i=a.options.exporterFieldFormatCallback(a,r,e,t);i&&Object.assign(n,i),e.colDef.exporterPdfAlign&&(n.alignment=e.colDef.exporterPdfAlign),o.push(n)}}),i.push(o)}}),i},formatAsCsv:function(e,t,n){var i=e.map(function(e){return{value:e.displayName}}),r=0<i.length?this.formatRowAsCsv(this,n)(i)+"\n":"";return r+=t.map(this.formatRowAsCsv(this,n)).join("\n")},formatRowAsCsv:function(t,n){return function(e){return e.map(t.formatFieldAsCsv).join(n)}},formatFieldAsCsv:function(e){return null==e.value?"":"number"==typeof e.value?e.value:"boolean"==typeof e.value?e.value?"TRUE":"FALSE":"string"==typeof e.value?'"'+e.value.replace(/"/g,'""')+'"':JSON.stringify(e.value)},isIE:function(){var e=!1;return-1!==navigator.userAgent.search(/(?:Edge|MSIE|Trident\/.*; rv:)/)&&(e=!0),e},downloadFile:function(e,t,n,i,r){var o,a=document,s=a.createElement("a"),l="application/octet-stream;charset=utf-8",c=this.isIE();if(r&&(t="sep="+n+"\r\n"+t),navigator.msSaveBlob)return navigator.msSaveOrOpenBlob(new Blob([i?"\ufeff":"",t],{type:l}),e);if(c){var u=a.createElement("iframe");return document.body.appendChild(u),u.contentWindow.document.open("text/html","replace"),u.contentWindow.document.write(t),u.contentWindow.document.close(),u.contentWindow.focus(),u.contentWindow.document.execCommand("SaveAs",!0,e),document.body.removeChild(u),!0}if("download"in s){var d=new Blob([i?"\ufeff":"",t],{type:l});o=URL.createObjectURL(d),s.setAttribute("download",e)}else o="data: "+l+","+encodeURIComponent(t),s.setAttribute("target","_blank");s.href=o,s.setAttribute("style","display:none;"),a.body.appendChild(s),setTimeout(function(){if(s.click)s.click();else if(document.createEvent){var e=document.createEvent("MouseEvents");e.initEvent("click",!0,!0),s.dispatchEvent(e)}a.body.removeChild(s)},this.delay)},pdfExport:function(i,r,o){var a=this;this.loadAllDataIfNeeded(i,r,o).then(function(){var e=a.getColumnHeaders(i,o),t=a.getData(i,r,o),n=a.prepareAsPdf(i,e,t);a.isIE()||-1!==navigator.appVersion.indexOf("Edge")?a.downloadPDF(i.options.exporterPdfFilename,n):pdfMake.createPdf(n).open()})},downloadPDF:function(n,e){var i,r,o=document;o.createElement("a");i=this.isIE(),pdfMake.createPdf(e).getBuffer(function(e){if(r=new Blob([e]),navigator.msSaveBlob)return navigator.msSaveBlob(r,n);if(i){var t=o.createElement("iframe");return document.body.appendChild(t),t.contentWindow.document.open("text/html","replace"),t.contentWindow.document.write(r),t.contentWindow.document.close(),t.contentWindow.focus(),t.contentWindow.document.execCommand("SaveAs",!0,n),document.body.removeChild(t),!0}})},prepareAsPdf:function(e,t,n){var i=this.calculatePdfHeaderWidths(e,t),r=t.map(function(e){return{text:e.displayName,style:"tableHeader"}}),o=n.map(this.formatRowAsPdf(this)),a=[r].concat(o),s={pageOrientation:e.options.exporterPdfOrientation,pageSize:e.options.exporterPdfPageSize,content:[{style:"tableStyle",table:{headerRows:1,widths:i,body:a}}],styles:{tableStyle:e.options.exporterPdfTableStyle,tableHeader:e.options.exporterPdfTableHeaderStyle},defaultStyle:e.options.exporterPdfDefaultStyle};return e.options.exporterPdfLayout&&(s.layout=e.options.exporterPdfLayout),e.options.exporterPdfHeader&&(s.header=e.options.exporterPdfHeader),e.options.exporterPdfFooter&&(s.footer=e.options.exporterPdfFooter),e.options.exporterPdfCustomFormatter&&(s=e.options.exporterPdfCustomFormatter(s)),s},calculatePdfHeaderWidths:function(t,e){var n=0;e.forEach(function(e){"number"==typeof e.width&&(n+=e.width)});var i=0;e.forEach(function(e){if("*"===e.width&&(i+=100),"string"==typeof e.width&&e.width.match(/(\d)*%/)){var t=parseInt(e.width.match(/(\d)*%/)[0]);e.width=n*t/100,i+=e.width}});var r=n+i;return e.map(function(e){return"*"===e.width?e.width:e.width*t.options.exporterPdfMaxGridWidth/r})},formatRowAsPdf:function(t){return function(e){return e.map(t.formatFieldAsPdfString)}},formatFieldAsPdfString:function(e){var t;return t=null==e.value?"":"number"==typeof e.value?e.value.toString():"boolean"==typeof e.value?e.value?"TRUE":"FALSE":"string"==typeof e.value?e.value.replace(/"/g,'""'):e.value instanceof Date?JSON.stringify(e.value).replace(/^"/,"").replace(/"$/,""):"object"==typeof e.value?e.value:JSON.stringify(e.value).replace(/^"/,"").replace(/"$/,""),e.alignment&&"string"==typeof e.alignment&&(t={text:t,alignment:e.alignment}),t},formatAsExcel:function(e,t,n,i,r){for(var o=e.map(function(e){return{value:e.displayName}}),a=[],s=[],l=0;l<o.length;l++){var c="header";switch(e[l].align){case"center":c="headerCenter";break;case"right":c="headerRight"}var u=r.styles&&r.styles[c]?{style:r.styles[c].id}:null;s.push({value:o[l].value,metadata:u})}a.push(s);for(var d=t.map(this.formatRowAsExcel(this,n,i)),h=0;h<d.length;h++)a.push(d[h]);return a},formatRowAsExcel:function(r,o,a){return function(e){for(var t=[],n=0;n<e.length;n++){var i=r.formatFieldAsExcel(e[n],o,a);t.push({value:i,metadata:e[n].metadata})}return t}},formatFieldAsExcel:function(e,t,n,i){return null==e.value?"":"number"==typeof e.value?e.value:"boolean"==typeof e.value?e.value?"TRUE":"FALSE":"string"==typeof e.value?e.value.replace(/"/g,'""'):JSON.stringify(e.value)},prepareAsExcel:function(e,t,n){var i={styles:{}};if(e.options.exporterExcelCustomFormatters&&(i=e.options.exporterExcelCustomFormatters(e,t,i)),e.options.exporterExcelHeader)if(angular.isFunction(e.options.exporterExcelHeader))e.options.exporterExcelHeader(e,t,n,i);else{var r=e.options.exporterExcelHeader.text,o=e.options.exporterExcelHeader.style;n.data.push([{value:r,metadata:{style:i.styles[o].id}}])}return i},excelExport:function(c,u,d){var h=this;this.loadAllDataIfNeeded(c,u,d).then(function(){var e=c.options.showHeader?h.getColumnHeaders(c,d):[],t=new ExcelBuilder.Workbook,n=c.options.exporterExcelSheetName?c.options.exporterExcelSheetName:"Sheet1",i=new ExcelBuilder.Worksheet({name:n});t.addWorksheet(i);for(var r=h.prepareAsExcel(c,t,i),o=[],a=c.treeBase?c.treeBase.numberLevels:c.enableRowSelection?1:0;a<c.columns.length;a++)c.columns[a].field!==p.rowHeaderColName&&c.columns[a].field!==p.selectionRowHeaderColName&&o.push({width:c.columns[a].drawnWidth/c.options.exporterColumnScaleFactor});i.setColumns(o);var s=h.getData(c,u,d,c.options.exporterFieldApplyFilters),l=h.formatAsExcel(e,s,t,i,r);i.setData(i.data.concat(l)),ExcelBuilder.Builder.createFile(t,{type:"blob"}).then(function(e){h.downloadFile(c.options.exporterExcelFilename,e,c.options.exporterCsvColumnSeparator,c.options.exporterOlderExcelCompatibility)})})}};function o(e,t,n,i){var r,o,a,s;return n.cellFilter?(o=(r=n.cellFilter.replace(/[\'\"\s]/g,"").split(":"))[0]?r[0]:null,a=r[1]?r[1]:null,s=r[2]?r[2]:null,l(o)(i,a,s)):i}return i}]),e.directive("uiGridExporter",["uiGridExporterConstants","uiGridExporterService","gridUtil","$compile",function(e,r,t,n){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(e,t,n,i){r.initializeGrid(i.grid),i.grid.exporter.$scope=e}}}])}(),function(){"use strict";var e=angular.module("ui.grid.grouping",["ui.grid","ui.grid.treeBase"]);e.constant("uiGridGroupingConstants",{featureName:"grouping",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}}),e.service("uiGridGroupingService",["$q","uiGridGroupingConstants","gridUtil","rowSorter","GridRow","gridClassFactory","i18nService","uiGridConstants","uiGridTreeBaseService",function(e,s,l,c,h,p,u,i,d){var f={initializeGrid:function(r,e){d.initializeGrid(r,e),r.grouping={},r.grouping.groupHeaderCache={},f.defaultGridOptions(r.options),r.registerRowsProcessor(f.groupRows,400),r.registerColumnBuilder(f.groupingColumnBuilder),r.registerColumnsProcessor(f.groupingColumnProcessor,400);var t={events:{grouping:{aggregationChanged:{},groupingChanged:{}}},methods:{grouping:{getGrouping:function(e){var t=f.getGrouping(r);return t.grouping.forEach(function(e){e.colName=e.col.name,delete e.col}),t.aggregations.forEach(function(e){e.colName=e.col.name,delete e.col}),t.aggregations=t.aggregations.filter(function(e){return!e.aggregation.source||"grouping"!==e.aggregation.source}),e&&(t.rowExpandedStates=f.getRowExpandedStates(r.grouping.groupingHeaderCache)),t},setGrouping:function(e){f.setGrouping(r,e)},groupColumn:function(e){var t=r.getColumn(e);f.groupColumn(r,t)},ungroupColumn:function(e){var t=r.getColumn(e);f.ungroupColumn(r,t)},clearGrouping:function(){f.clearGrouping(r)},aggregateColumn:function(e,t,n){var i=r.getColumn(e);f.aggregateColumn(r,i,t,n)}}}};r.api.registerEventsFromObject(t.events),r.api.registerMethodsFromObject(t.methods),r.api.core.on.sortChanged(e,f.tidyPriorities)},defaultGridOptions:function(e){e.enableGrouping=!1!==e.enableGrouping,e.groupingShowCounts=!1!==e.groupingShowCounts,e.groupingNullLabel=void 0===e.groupingNullLabel?"Null":e.groupingNullLabel,e.enableGroupHeaderSelection=!0===e.enableGroupHeaderSelection},groupingColumnBuilder:function(e,i,t){if(!1!==e.enableGrouping){void 0===i.grouping&&void 0!==e.grouping?(i.grouping=angular.copy(e.grouping),void 0!==i.grouping.groupPriority&&-1<i.grouping.groupPriority&&(i.treeAggregationFn=d.nativeAggregations()[s.aggregation.COUNT].aggregationFn,i.treeAggregationFinalizerFn=f.groupedFinalizerFn)):void 0===i.grouping&&(i.grouping={}),void 0!==i.grouping&&void 0!==i.grouping.groupPriority&&0<=i.grouping.groupPriority&&(i.suppressRemoveSort=!0);var n={name:"ui.grid.grouping.group",title:u.get().grouping.group,icon:"ui-grid-icon-indent-right",shown:function(){return void 0===this.context.col.grouping||void 0===this.context.col.grouping.groupPriority||this.context.col.grouping.groupPriority<0},action:function(){f.groupColumn(this.context.col.grid,this.context.col)}},r={name:"ui.grid.grouping.ungroup",title:u.get().grouping.ungroup,icon:"ui-grid-icon-indent-left",shown:function(){return void 0!==this.context.col.grouping&&void 0!==this.context.col.grouping.groupPriority&&0<=this.context.col.grouping.groupPriority},action:function(){f.ungroupColumn(this.context.col.grid,this.context.col)}},o={name:"ui.grid.grouping.aggregateRemove",title:u.get().grouping.aggregate_remove,shown:function(){return void 0!==this.context.col.treeAggregationFn},action:function(){f.aggregateColumn(this.context.col.grid,this.context.col,null)}},a=function(e,t){t=t||u.get().grouping["aggregate_"+e]||e;var n={name:"ui.grid.grouping.aggregate"+e,title:t,shown:function(){return void 0===this.context.col.treeAggregation||void 0===this.context.col.treeAggregation.type||this.context.col.treeAggregation.type!==e},action:function(){f.aggregateColumn(this.context.col.grid,this.context.col,e)}};l.arrayContainsObjectWithProperty(i.menuItems,"name","ui.grid.grouping.aggregate"+e)||i.menuItems.push(n)};!1!==i.colDef.groupingShowGroupingMenu&&(l.arrayContainsObjectWithProperty(i.menuItems,"name","ui.grid.grouping.group")||i.menuItems.push(n),l.arrayContainsObjectWithProperty(i.menuItems,"name","ui.grid.grouping.ungroup")||i.menuItems.push(r)),!1!==i.colDef.groupingShowAggregationMenu&&(angular.forEach(d.nativeAggregations(),function(e,t){a(t)}),angular.forEach(t.treeCustomAggregations,function(e,t){a(t,e.menuTitle)}),l.arrayContainsObjectWithProperty(i.menuItems,"name","ui.grid.grouping.aggregateRemove")||i.menuItems.push(o))}},groupingColumnProcessor:function(e,t){return e=f.moveGroupColumns(this,e,t)},groupedFinalizerFn:function(e){void 0!==e.groupVal?(e.rendered=e.groupVal,this.grid.options.groupingShowCounts&&"date"!==this.colDef.type&&"object"!==this.colDef.type&&(e.rendered+=" ("+e.value+")")):e.rendered=null},moveGroupColumns:function(e,t){return!1===e.options.moveGroupColumns||(t.forEach(function(e,t){e.groupingPosition=t}),t.sort(function(e,t){var n,i;return n=e.isRowHeader?e.headerPriority:void 0===e.grouping||void 0===e.grouping.groupPriority||e.grouping.groupPriority<0?null:e.grouping.groupPriority,i=t.isRowHeader?t.headerPriority:void 0===t.grouping||void 0===t.grouping.groupPriority||t.grouping.groupPriority<0?null:t.grouping.groupPriority,null!==n&&null===i?-1:null!==i&&null===n?1:null!==n&&null!==i?n-i:e.groupingPosition-t.groupingPosition}),t.forEach(function(e){delete e.groupingPosition})),t},groupColumn:function(e,t){void 0===t.grouping&&(t.grouping={});var n=f.getGrouping(e);t.grouping.groupPriority=n.grouping.length,t.previousSort=angular.copy(t.sort),t.sort?void 0!==t.sort.direction&&null!==t.sort.direction||(t.sort.direction=i.ASC):t.sort={direction:i.ASC},t.treeAggregation={type:s.aggregation.COUNT,source:"grouping"},t.treeAggregationFn=d.nativeAggregations()[s.aggregation.COUNT].aggregationFn,t.treeAggregationFinalizerFn=f.groupedFinalizerFn,e.api.grouping.raise.groupingChanged(t),e.api.core.raise.sortChanged(e,e.getColumnSorting()),e.queueGridRefresh()},ungroupColumn:function(e,t){void 0!==t.grouping&&(delete t.grouping.groupPriority,delete t.treeAggregation,delete t.customTreeAggregationFinalizer,t.previousSort&&(t.sort=t.previousSort,delete t.previousSort),f.tidyPriorities(e),e.api.grouping.raise.groupingChanged(t),e.api.core.raise.sortChanged(e,e.getColumnSorting()),e.queueGridRefresh())},aggregateColumn:function(e,t,n){void 0!==t.grouping&&void 0!==t.grouping.groupPriority&&0<=t.grouping.groupPriority&&f.ungroupColumn(e,t);var i={};void 0!==e.options.treeCustomAggregations[n]?i=e.options.treeCustomAggregations[n]:void 0!==d.nativeAggregations()[n]&&(i=d.nativeAggregations()[n]),t.treeAggregation={type:n,label:u.get().aggregation[i.label]||i.label},t.treeAggregationFn=i.aggregationFn,t.treeAggregationFinalizerFn=i.finalizerFn,e.api.grouping.raise.aggregationChanged(t),e.queueGridRefresh()},setGrouping:function(n,e){void 0!==e&&(f.clearGrouping(n),e.grouping&&e.grouping.length&&0<e.grouping.length&&e.grouping.forEach(function(e){var t=n.getColumn(e.colName);t&&f.groupColumn(n,t)}),e.aggregations&&e.aggregations.length&&e.aggregations.forEach(function(e){var t=n.getColumn(e.colName);t&&f.aggregateColumn(n,t,e.aggregation.type)}),e.rowExpandedStates&&f.applyRowExpandedStates(n.grouping.groupingHeaderCache,e.rowExpandedStates))},clearGrouping:function(t){var e=f.getGrouping(t);0<e.grouping.length&&e.grouping.forEach(function(e){e.col||(e.col=t.getColumn(e.colName)),f.ungroupColumn(t,e.col)}),0<e.aggregations.length&&e.aggregations.forEach(function(e){e.col||(e.col=t.getColumn(e.colName)),f.aggregateColumn(t,e.col,null)})},tidyPriorities:function(e){void 0!==e&&void 0===e.grid||void 0===this.grid||(e=this.grid);var n=[],i=[];e.columns.forEach(function(e,t){void 0!==e.grouping&&void 0!==e.grouping.groupPriority&&0<=e.grouping.groupPriority?n.push(e):void 0!==e.sort&&void 0!==e.sort.priority&&0<=e.sort.priority&&i.push(e)}),n.sort(function(e,t){return e.grouping.groupPriority-t.grouping.groupPriority}),n.forEach(function(e,t){e.grouping.groupPriority=t,e.suppressRemoveSort=!0,void 0===e.sort&&(e.sort={}),e.sort.priority=t});var t=n.length;i.sort(function(e,t){return e.sort.priority-t.sort.priority}),i.forEach(function(e){e.sort.priority=t,e.suppressRemoveSort=e.colDef.suppressRemoveSort,t++})},groupRows:function(i){if(0===i.length)return i;var r=this;r.grouping.oldGroupingHeaderCache=r.grouping.groupingHeaderCache||{},r.grouping.groupingHeaderCache={};for(var o=f.initialiseProcessingState(r),e=function(e,t){var n=r.getCellValue(s,e.col);e.initialised&&0===c.getSortFn(r,e.col,i)(n,e.currentValue)||(f.insertGroupHeader(r,i,a,o,t),a++)},a=0;a<i.length;a++){var s=i[a];s.visible&&o.forEach(e)}return delete r.grouping.oldGroupingHeaderCache,i},initialiseProcessingState:function(e){var n=[];return f.getGrouping(e).grouping.forEach(function(e,t){n.push({fieldName:e.field,col:e.col,initialised:!1,currentValue:null,currentRow:null})}),n},getGrouping:function(e){var t=[],n=[];return e.columns.forEach(function(e){e.grouping&&void 0!==e.grouping.groupPriority&&0<=e.grouping.groupPriority&&t.push({field:e.field,col:e,groupPriority:e.grouping.groupPriority,grouping:e.grouping}),e.treeAggregation&&e.treeAggregation.type&&n.push({field:e.field,col:e,aggregation:e.treeAggregation})}),t.sort(function(e,t){return e.groupPriority-t.groupPriority}),t.forEach(function(e,t){e.grouping.groupPriority=t,e.groupPriority=t,delete e.grouping}),{grouping:t,aggregations:n}},insertGroupHeader:function(e,t,n,i,r){var o=i[r].col,a=e.getCellValue(t[n],o),s=a;function l(e){return angular.isObject(e)?JSON.stringify(e):e}null==a&&(s=e.options.groupingNullLabel);for(var c,u=e.grouping.oldGroupingHeaderCache,d=0;d<r;d++)u&&u[l(i[d].currentValue)]&&(u=u[l(i[d].currentValue)].children);for(u&&u[l(a)]?(c=u[l(a)].row).entity={}:(c=new h({},null,e),p.rowTemplateAssigner.call(e,c)),c.entity["$$"+i[r].col.uid]={groupVal:s},c.treeLevel=r,c.groupHeader=!0,c.internalRow=!0,c.enableCellEdit=!1,c.enableSelection=e.options.enableGroupHeaderSelection,i[r].initialised=!0,i[r].currentValue=a,i[r].currentRow=c,f.finaliseProcessingState(i,r+1),t.splice(n,0,c),u=e.grouping.groupingHeaderCache,d=0;d<r;d++)u=u[l(i[d].currentValue)].children;u[l(a)]={row:c,children:{}}},finaliseProcessingState:function(e,t){for(var n=t;n<e.length;n++)e[n].initialised=!1,e[n].currentRow=null,e[n].currentValue=null},getRowExpandedStates:function(e){if(void 0===e)return{};var n={};return angular.forEach(e,function(e,t){n[t]={state:e.row.treeNode.state},e.children?n[t].children=f.getRowExpandedStates(e.children):n[t].children={}}),n},applyRowExpandedStates:function(n,e){void 0!==e&&angular.forEach(e,function(e,t){n[t]&&(n[t].row.treeNode.state=e.state,e.children&&n[t].children&&f.applyRowExpandedStates(n[t].children,e.children))})}};return f}]),e.directive("uiGridGrouping",["uiGridGroupingConstants","uiGridGroupingService",function(e,r){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,t,n,i){!1!==i.grid.options.enableGrouping&&r.initializeGrid(i.grid,e)},post:function(e,t,n,i){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.importer",["ui.grid"]);e.constant("uiGridImporterConstants",{featureName:"importer"}),e.service("uiGridImporterService",["$q","uiGridConstants","uiGridImporterConstants","gridUtil","$compile","$interval","i18nService","$window",function(e,i,t,r,n,o,a,s){var l={initializeGrid:function(e,t){t.importer={$scope:e},this.defaultGridOptions(t.options);var n={events:{importer:{}},methods:{importer:{importFile:function(e){l.importThisFile(t,e)}}}};t.api.registerEventsFromObject(n.events),t.api.registerMethodsFromObject(n.methods),t.options.enableImporter&&t.options.importerShowMenu&&(t.api.core.addToGridMenu?l.addToMenu(t):o(function(){t.api.core.addToGridMenu&&l.addToMenu(t)},100,1))},defaultGridOptions:function(e){e.enableImporter||void 0===e.enableImporter?s.hasOwnProperty("File")&&s.hasOwnProperty("FileReader")&&s.hasOwnProperty("FileList")&&s.hasOwnProperty("Blob")?e.enableImporter=!0:(r.logError("The File APIs are not fully supported in this browser, grid importer cannot be used."),e.enableImporter=!1):e.enableImporter=!1,e.importerProcessHeaders=e.importerProcessHeaders||l.processHeaders,e.importerHeaderFilter=e.importerHeaderFilter||function(e){return e},e.importerErrorCallback&&"function"==typeof e.importerErrorCallback||delete e.importerErrorCallback,!0!==e.enableImporter||e.importerDataAddCallback||(r.logError("You have not set an importerDataAddCallback, importer is disabled"),e.enableImporter=!1),e.importerShowMenu=!1!==e.importerShowMenu,e.importerObjectCallback=e.importerObjectCallback||function(e,t){return t}},addToMenu:function(e){e.api.core.addToGridMenu(e,[{title:a.getSafeText("gridMenu.importerTitle"),order:150},{templateUrl:"ui-grid/importerMenuItemContainer",action:function(){this.grid.api.importer.importAFile(e)},order:151}])},importThisFile:function(e,t){if(t){var n=new FileReader;switch(t.type){case"application/json":n.onload=l.importJsonClosure(e);break;default:n.onload=l.importCsvClosure(e)}n.readAsText(t)}else r.logError("No file object provided to importThisFile, should be impossible, aborting")},importJsonClosure:function(r){return function(e){var t,n=[],i=l.parseJson(r,e);null!==i&&(i.forEach(function(e){t=l.newObject(r),angular.extend(t,e),t=r.options.importerObjectCallback(r,t),n.push(t)}),l.addObjects(r,n))}},parseJson:function(t,n){var e;try{e=JSON.parse(n.target.result)}catch(e){return void l.alertError(t,"importer.invalidJson","File could not be processed, is it valid json? Content was: ",n.target.result)}return Array.isArray(e)?e:(l.alertError(t,"importer.jsonNotarray","Import failed, file is not an array, file was: ",n.target.result),[])},importCsvClosure:function(i){return function(e){var t=l.parseCsv(e);if(!t||t.length<1)l.alertError(i,"importer.invalidCsv","File could not be processed, is it valid csv? Content was: ",e.target.result);else{var n=l.createCsvObjects(i,t);n&&0!==n.length?l.addObjects(i,n):l.alertError(i,"importer.noObjects","Objects were not able to be derived, content was: ",e.target.result)}}},parseCsv:function(e){var t=e.target.result;return CSV.parse(t)},createCsvObjects:function(t,e){var n=t.options.importerProcessHeaders(t,e.shift());if(!n||0===n.length)return l.alertError(t,"importer.noHeaders","Column names could not be derived, content was: ",e),[];var i,r=[];return e.forEach(function(e){i=l.newObject(t),null!==e&&e.forEach(function(e,t){null!==n[t]&&(i[n[t]]=e)}),i=t.options.importerObjectCallback(t,i),r.push(i)}),r},processHeaders:function(e,t){var n=[];if(e.options.columnDefs&&0!==e.options.columnDefs.length){var i=l.flattenColumnDefs(e,e.options.columnDefs);return t.forEach(function(e){i[e]?n.push(i[e]):i[e.toLowerCase()]?n.push(i[e.toLowerCase()]):n.push(null)}),n}return t.forEach(function(e){n.push(e.replace(/[^0-9a-zA-Z\-_]/g,"_"))}),n},flattenColumnDefs:function(t,e){var n={};return e.forEach(function(e){e.name&&(n[e.name]=e.field||e.name,n[e.name.toLowerCase()]=e.field||e.name),e.field&&(n[e.field]=e.field||e.name,n[e.field.toLowerCase()]=e.field||e.name),e.displayName&&(n[e.displayName]=e.field||e.name,n[e.displayName.toLowerCase()]=e.field||e.name),e.displayName&&t.options.importerHeaderFilter&&(n[t.options.importerHeaderFilter(e.displayName)]=e.field||e.name,n[t.options.importerHeaderFilter(e.displayName).toLowerCase()]=e.field||e.name)}),n},addObjects:function(e,t){if(e.api.rowEdit){var n=e.registerDataChangeCallback(function(){e.api.rowEdit.setRowsDirty(t),n()},[i.dataChange.ROW]);e.importer.$scope.$on("$destroy",n)}e.importer.$scope.$apply(e.options.importerDataAddCallback(e,t))},newObject:function(e){return void 0!==e.options&&void 0!==e.options.importerNewObject?new e.options.importerNewObject:{}},alertError:function(e,t,n,i){e.options.importerErrorCallback?e.options.importerErrorCallback(e,t,n,i):(s.alert(a.getSafeText(t)),r.logError(n+i))}};return l}]),e.directive("uiGridImporter",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(e,r,t,n){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(e,t,n,i){r.initializeGrid(e,i.grid)}}}]),e.directive("uiGridImporterMenuItem",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(e,a,s,t){return{replace:!0,priority:0,require:"?^uiGrid",scope:!1,templateUrl:"ui-grid/importerMenuItem",link:function(e,t,n,i){var r;var o=t[0].querySelectorAll(".ui-grid-importer-file-chooser");1!==o.length?s.logError("Found > 1 or < 1 file choosers within the menu item, error, cannot continue"):o[0].addEventListener("change",function(e){var t=e.srcElement||e.target;if(t&&t.files&&1===t.files.length){var n=t.files[0];void 0!==i&&i?(r=i.grid,a.importThisFile(r,n),t.form.reset()):s.logError("Could not import file because UI Grid was not found.")}},!1)}}}])}(),function(){"use strict";var e=angular.module("ui.grid.infiniteScroll",["ui.grid"]);e.service("uiGridInfiniteScrollService",["gridUtil","$compile","$rootScope","uiGridConstants","ScrollEvent","$q",function(e,t,s,l,a,n){var c={initializeGrid:function(n,e){if(c.defaultGridOptions(n.options),n.options.enableInfiniteScroll){n.infiniteScroll={dataLoading:!1},c.setScrollDirections(n,n.options.infiniteScrollUp,n.options.infiniteScrollDown),n.api.core.on.scrollEnd(e,c.handleScroll);var t={events:{infiniteScroll:{needLoadMoreData:function(e,t){},needLoadMoreDataTop:function(e,t){}}},methods:{infiniteScroll:{dataLoaded:function(e,t){return c.setScrollDirections(n,e,t),c.adjustScroll(n).then(function(){n.infiniteScroll.dataLoading=!1})},resetScroll:function(e,t){c.setScrollDirections(n,e,t),c.adjustInfiniteScrollPosition(n,0)},saveScrollPercentage:function(){n.infiniteScroll.prevScrollTop=n.renderContainers.body.prevScrollTop,n.infiniteScroll.previousVisibleRows=n.getVisibleRowCount()},dataRemovedTop:function(e,t){c.dataRemovedTop(n,e,t)},dataRemovedBottom:function(e,t){c.dataRemovedBottom(n,e,t)},setScrollDirections:function(e,t){c.setScrollDirections(n,e,t)}}}};n.api.registerEventsFromObject(t.events),n.api.registerMethodsFromObject(t.methods)}},defaultGridOptions:function(e){e.enableInfiniteScroll=!1!==e.enableInfiniteScroll,e.infiniteScrollRowsFromEnd=e.infiniteScrollRowsFromEnd||20,e.infiniteScrollUp=!0===e.infiniteScrollUp,e.infiniteScrollDown=!1!==e.infiniteScrollDown},setScrollDirections:function(e,t,n){e.infiniteScroll.scrollUp=!0===t,e.suppressParentScrollUp=!0===t,e.infiniteScroll.scrollDown=!1!==n,e.suppressParentScrollDown=!1!==n},handleScroll:function(e){if(!(e.grid.infiniteScroll&&e.grid.infiniteScroll.dataLoading||"ui.grid.adjustInfiniteScrollPosition"===e.source)&&e.y)if(0===e.y.percentage)e.grid.scrollDirection=l.scrollDirection.UP,c.loadData(e.grid);else if(1===e.y.percentage)e.grid.scrollDirection=l.scrollDirection.DOWN,c.loadData(e.grid);else{var t=e.grid.options.infiniteScrollRowsFromEnd/e.grid.renderContainers.body.visibleRowCache.length;e.grid.scrollDirection===l.scrollDirection.UP?e.y.percentage<=t&&c.loadData(e.grid):e.grid.scrollDirection===l.scrollDirection.DOWN&&1-e.y.percentage<=t&&c.loadData(e.grid)}},loadData:function(e){e.infiniteScroll.previousVisibleRows=e.renderContainers.body.visibleRowCache.length,e.infiniteScroll.direction=e.scrollDirection,delete e.infiniteScroll.prevScrollTop,e.scrollDirection===l.scrollDirection.UP&&e.infiniteScroll.scrollUp?(e.infiniteScroll.dataLoading=!0,e.api.infiniteScroll.raise.needLoadMoreDataTop()):e.scrollDirection===l.scrollDirection.DOWN&&e.infiniteScroll.scrollDown&&(e.infiniteScroll.dataLoading=!0,e.api.infiniteScroll.raise.needLoadMoreData())},adjustScroll:function(o){var a=n.defer();return s.$applyAsync(function(){var e,t,n,i;e=o.getViewportHeight()+o.headerHeight-o.renderContainers.body.headerHeight-o.scrollbarHeight,t=o.options.rowHeight,void 0===o.infiniteScroll.direction&&c.adjustInfiniteScrollPosition(o,0);var r=t*(n=o.getVisibleRowCount());o.infiniteScroll.scrollDown&&r<e&&o.api.infiniteScroll.raise.needLoadMoreData(),o.infiniteScroll.direction===l.scrollDirection.UP&&(i=(o.infiniteScroll.prevScrollTop||0)+(n-o.infiniteScroll.previousVisibleRows)*t,c.adjustInfiniteScrollPosition(o,i),s.$applyAsync(function(){a.resolve()})),o.infiniteScroll.direction===l.scrollDirection.DOWN&&(i=o.infiniteScroll.prevScrollTop||o.infiniteScroll.previousVisibleRows*t-e,c.adjustInfiniteScrollPosition(o,i),s.$applyAsync(function(){a.resolve()}))},0),a.promise},adjustInfiniteScrollPosition:function(e,t){var n=new a(e,null,null,"ui.grid.adjustInfiniteScrollPosition"),i=e.getVisibleRowCount(),r=e.getViewportHeight()+e.headerHeight-e.renderContainers.body.headerHeight-e.scrollbarHeight,o=i*e.options.rowHeight-r;0===t&&e.infiniteScroll.scrollUp?n.y={percentage:1/o}:n.y={percentage:t/o},e.scrollContainers("",n)},dataRemovedTop:function(e,t,n){var i,r,o,a;c.setScrollDirections(e,t,n),i=e.renderContainers.body.visibleRowCache.length,r=e.infiniteScroll.prevScrollTop,a=e.options.rowHeight,o=r-(e.infiniteScroll.previousVisibleRows-i)*a,c.adjustInfiniteScrollPosition(e,o)},dataRemovedBottom:function(e,t,n){var i;c.setScrollDirections(e,t,n),i=e.infiniteScroll.prevScrollTop,c.adjustInfiniteScrollPosition(e,i)}};return c}]),e.directive("uiGridInfiniteScroll",["uiGridInfiniteScrollService",function(r){return{priority:-200,scope:!1,require:"^uiGrid",compile:function(){return{pre:function(e,t,n,i){r.initializeGrid(i.grid,e)},post:function(e,t,n){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.moveColumns",["ui.grid"]);e.service("uiGridMoveColumnService",["$q","$rootScope","$log","ScrollEvent","uiGridConstants","gridUtil",function(i,c,e,t,u,l){var d={initializeGrid:function(e){this.registerPublicApi(e),this.defaultGridOptions(e.options),e.moveColumns={orderCache:[]},e.registerColumnBuilder(this.movableColumnBuilder),e.registerDataChangeCallback(this.verifyColumnOrder,[u.dataChange.COLUMN])},registerPublicApi:function(a){var s=this,e={events:{colMovable:{columnPositionChanged:function(e,t,n){}}},methods:{colMovable:{moveColumn:function(e,t){var i=a.columns;if(angular.isNumber(e)&&angular.isNumber(t)){for(var n=0,r=0;r<i.length;r++)(angular.isDefined(i[r].colDef.visible)&&!1===i[r].colDef.visible||!0===i[r].isRowHeader)&&n++;if(e>=i.length-n||t>=i.length-n)l.logError("MoveColumn: Invalid values for originalPosition, finalPosition");else{var o=function(e){for(var t=e,n=0;n<=t;n++)angular.isDefined(i[n])&&(angular.isDefined(i[n].colDef.visible)&&!1===i[n].colDef.visible||!0===i[n].isRowHeader)&&t++;return t};s.redrawColumnAtPosition(a,o(e),o(t))}}else l.logError("MoveColumn: Please provide valid values for originalPosition and finalPosition")}}}};a.api.registerEventsFromObject(e.events),a.api.registerMethodsFromObject(e.methods)},defaultGridOptions:function(e){e.enableColumnMoving=!1!==e.enableColumnMoving},movableColumnBuilder:function(e,t,n){return e.enableColumnMoving=void 0===e.enableColumnMoving?n.enableColumnMoving:e.enableColumnMoving,i.all([])},updateColumnCache:function(e){e.moveColumns.orderCache=e.getOnlyDataColumns()},verifyColumnOrder:function(i){var r,o=i.rowHeaderColumns.length;angular.forEach(i.moveColumns.orderCache,function(e,t){if(-1!==(r=i.columns.indexOf(e))&&r-o!==t){var n=i.columns.splice(r,1)[0];i.columns.splice(t+o,0,n)}})},redrawColumnAtPosition:function(e,t,n){var i=e.columns;if(t!==n){for(var r=t<n?t+1:t-1,o=Math.min(r,n);o<=Math.max(r,n)&&!i[o].visible;o++);if(!(o>Math.max(r,n))){var a=i[t];if(a.colDef.enableColumnMoving){if(n<t)for(var s=t;n<s;s--)i[s]=i[s-1];else if(t<n)for(var l=t;l<n;l++)i[l]=i[l+1];i[n]=a,d.updateColumnCache(e),e.queueGridRefresh(),c.$applyAsync(function(){e.api.core.notifyDataChange(u.dataChange.COLUMN),e.api.colMovable.raise.columnPositionChanged(a.colDef,t,n)})}}}}};return d}]),e.directive("uiGridMoveColumns",["uiGridMoveColumnService",function(r){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,t,n,i){r.initializeGrid(i.grid)},post:function(e,t,n,i){}}}}}]),e.directive("uiGridHeaderCell",["$q","gridUtil","uiGridMoveColumnService","$document","$log","uiGridConstants","ScrollEvent",function(e,t,w,x,n,i,C){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(u,i,e,d){if(u.col.colDef.enableColumnMoving){var h,r,p,f,g,m,t=angular.element(i[0].querySelectorAll(".ui-grid-cell-contents")),c=!1,v=!1,n=function(e){h=u.grid.element[0].getBoundingClientRect().left,u.grid.hasLeftContainer()&&(h+=u.grid.renderContainers.left.header[0].getBoundingClientRect().width),r=e.pageX||(e.originalEvent?e.originalEvent.pageX:0),p=0,f=h+u.grid.getViewportWidth(),"mousedown"===e.type?(x.on("mousemove",o),x.on("mouseup",a)):"touchstart"===e.type&&(x.on("touchmove",o),x.on("touchend",a))},o=function(e){var t=e.pageX||(e.originalEvent?e.originalEvent.pageX:0),n=t-r;0!=n&&(document.onselectstart=function(){return!1},v=!0,c?c&&(l(n),r=t):s())},a=function(e){if(document.onselectstart=null,g&&(g.remove(),c=!1),b(),y(),v){for(var t,n=u.grid.columns,i=0,r=0;r<n.length&&n[r].colDef.name!==u.col.colDef.name;r++)i++;if(p<0){var o,a=0;if(u.grid.isRTL()){for(o=i+1;o<n.length;o++)if((angular.isUndefined(n[o].colDef.visible)||!0===n[o].colDef.visible)&&(a+=n[o].drawnWidth||n[o].width||n[o].colDef.width)>Math.abs(p)){w.redrawColumnAtPosition(u.grid,i,o-1);break}}else for(o=i-1;0<=o;o--)if((angular.isUndefined(n[o].colDef.visible)||!0===n[o].colDef.visible)&&(a+=n[o].drawnWidth||n[o].width||n[o].colDef.width)>Math.abs(p)){w.redrawColumnAtPosition(u.grid,i,o+1);break}a<Math.abs(p)&&(t=0,u.grid.isRTL()&&(t=n.length-1),w.redrawColumnAtPosition(u.grid,i,t))}else if(0<p){var s,l=0;if(u.grid.isRTL()){for(s=i-1;0<s;s--)if((angular.isUndefined(n[s].colDef.visible)||!0===n[s].colDef.visible)&&(l+=n[s].drawnWidth||n[s].width||n[s].colDef.width,p<l)){w.redrawColumnAtPosition(u.grid,i,s);break}}else for(s=i+1;s<n.length;s++)if((angular.isUndefined(n[s].colDef.visible)||!0===n[s].colDef.visible)&&(l+=n[s].drawnWidth||n[s].width||n[s].colDef.width,p<l)){w.redrawColumnAtPosition(u.grid,i,s-1);break}l<p&&(t=n.length-1,u.grid.isRTL()&&(t=0),w.redrawColumnAtPosition(u.grid,i,t))}}},y=function(){t.on("touchstart",n),t.on("mousedown",n)},b=function(){t.off("touchstart",n),t.off("mousedown",n),x.off("mousemove",o),x.off("touchmove",o),x.off("mouseup",a),x.off("touchend",a)};y();var s=function(){c=!0,g=i.clone(),i.parent().append(g),g.addClass("movingColumn");var e={};e.left=i[0].offsetLeft+"px";var t=u.grid.element[0].getBoundingClientRect().right,n=i[0].getBoundingClientRect().right;t<n&&(m=u.col.drawnWidth+(t-n),e.width=m+"px"),g.css(e)},l=function(e){for(var t=u.grid.columns,n=0,i=0;i<t.length;i++)!angular.isUndefined(t[i].colDef.visible)&&!0!==t[i].colDef.visible||(n+=t[i].drawnWidth||t[i].width||t[i].colDef.width);var r,o=g[0].getBoundingClientRect().left-1,a=g[0].getBoundingClientRect().right;if(r=(r=o-h+e)<f?r:f,(h<=o||0<e)&&(a<=f||e<0))g.css({visibility:"visible",left:g[0].offsetLeft+(r<f?e:f-o)+"px"});else if(n>Math.ceil(d.grid.gridWidth)){e*=8;var s=new C(u.col.grid,null,null,"uiGridHeaderCell.moveElement");s.x={pixels:e},s.grid.scrollContainers("",s)}for(var l=0,c=0;c<t.length;c++)if(angular.isUndefined(t[c].colDef.visible)||!0===t[c].colDef.visible){if(t[c].colDef.name===u.col.colDef.name)break;l+=t[c].drawnWidth||t[c].width||t[c].colDef.width}void 0===u.newScrollLeft?p+=e:p=u.newScrollLeft+r-l,m<u.col.drawnWidth&&(m+=Math.abs(e),g.css({width:m+"px"}))};u.$on("$destroy",b)}}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.pagination",["ng","ui.grid"]);e.service("uiGridPaginationService",["gridUtil",function(t){var e={initializeGrid:function(o){e.defaultGridOptions(o.options);var a={events:{pagination:{paginationChanged:function(e,t){}}},methods:{pagination:{getPage:function(){return o.options.enablePagination?o.options.paginationCurrentPage:null},getFirstRowIndex:function(){return o.options.useCustomPagination?o.options.paginationPageSizes.reduce(function(e,t,n){return n<o.options.paginationCurrentPage-1?e+t:e},0):(o.options.paginationCurrentPage-1)*o.options.paginationPageSize},getLastRowIndex:function(){return o.options.useCustomPagination?a.methods.pagination.getFirstRowIndex()+o.options.paginationPageSizes[o.options.paginationCurrentPage-1]-1:Math.min(o.options.paginationCurrentPage*o.options.paginationPageSize,o.options.totalItems)-1},getTotalPages:function(){return o.options.enablePagination?o.options.useCustomPagination?o.options.paginationPageSizes.length:0===o.options.totalItems?1:Math.ceil(o.options.totalItems/o.options.paginationPageSize):null},nextPage:function(){o.options.enablePagination&&(0<o.options.totalItems?o.options.paginationCurrentPage=Math.min(o.options.paginationCurrentPage+1,a.methods.pagination.getTotalPages()):o.options.paginationCurrentPage++)},previousPage:function(){o.options.enablePagination&&(o.options.paginationCurrentPage=Math.max(o.options.paginationCurrentPage-1,1))},seek:function(e){if(o.options.enablePagination){if(!angular.isNumber(e)||e<1)throw"Invalid page number: "+e;o.options.paginationCurrentPage=Math.min(e,a.methods.pagination.getTotalPages())}}}}};o.api.registerEventsFromObject(a.events),o.api.registerMethodsFromObject(a.methods);o.registerRowsProcessor(function(e){if(o.options.useExternalPagination||!o.options.enablePagination)return e;var t=parseInt(o.options.paginationPageSize,10),n=(parseInt(o.options.paginationCurrentPage,10),e.filter(function(e){return e.visible}));o.options.totalItems=n.length;var i=a.methods.pagination.getFirstRowIndex(),r=a.methods.pagination.getLastRowIndex();return i>n.length&&(i=((o.options.paginationCurrentPage=1)-1)*t),n.slice(i,r+1)},900)},defaultGridOptions:function(e){e.enablePagination=!1!==e.enablePagination,e.enablePaginationControls=!1!==e.enablePaginationControls,e.useExternalPagination=!0===e.useExternalPagination,e.useCustomPagination=!0===e.useCustomPagination,t.isNullOrUndefined(e.totalItems)&&(e.totalItems=0),t.isNullOrUndefined(e.paginationPageSizes)&&(e.paginationPageSizes=[250,500,1e3]),t.isNullOrUndefined(e.paginationPageSize)&&(0<e.paginationPageSizes.length?e.paginationPageSize=e.paginationPageSizes[0]:e.paginationPageSize=0),t.isNullOrUndefined(e.paginationCurrentPage)&&(e.paginationCurrentPage=1),t.isNullOrUndefined(e.paginationTemplate)&&(e.paginationTemplate="ui-grid/pagination")},onPaginationChanged:function(e,t,n){e.api.pagination.raise.paginationChanged(t,n),e.options.useExternalPagination||e.queueGridRefresh()}};return e}]),e.directive("uiGridPagination",["gridUtil","uiGridPaginationService",function(r,o){return{priority:-200,scope:!1,require:"uiGrid",link:{pre:function(e,n,t,i){o.initializeGrid(i.grid),r.getTemplate(i.grid.options.paginationTemplate).then(function(e){var t=angular.element(e);n.append(t),i.innerCompile(t)})}}}}]),e.directive("uiGridPager",["uiGridPaginationService","uiGridConstants","gridUtil","i18nService","i18nConstants",function(c,u,d,h,p){return{priority:-200,scope:!0,require:"^uiGrid",link:function(n,t,e,i){n.aria=h.getSafeText("pagination.aria");function r(){n.paginationApi=i.grid.api.pagination,n.sizesLabel=h.getSafeText("pagination.sizes"),n.totalItemsLabel=h.getSafeText("pagination.totalItems"),n.paginationOf=h.getSafeText("pagination.of"),n.paginationThrough=h.getSafeText("pagination.through")}r(),n.$on(p.UPDATE_EVENT,r);var o=i.grid.options;i.grid.renderContainers.body.registerViewportAdjuster(function(e){return o.enablePaginationControls&&(e.height=e.height-d.elementHeight(t,"padding")),e});var a=i.grid.registerDataChangeCallback(function(e){e.options.useExternalPagination||(e.options.totalItems=e.rows.length)},[u.dataChange.ROW]);n.$on("$destroy",a);var s=n.$watch("grid.options.paginationCurrentPage + grid.options.paginationPageSize",function(e,t){e!==t&&void 0!==t&&(!angular.isNumber(o.paginationCurrentPage)||o.paginationCurrentPage<1?o.paginationCurrentPage=1:0<o.totalItems&&o.paginationCurrentPage>n.paginationApi.getTotalPages()?o.paginationCurrentPage=n.paginationApi.getTotalPages():c.onPaginationChanged(n.grid,o.paginationCurrentPage,o.paginationPageSize))});n.$on("$destroy",function(){s()}),n.cantPageForward=function(){return n.paginationApi.getTotalPages()?n.cantPageToLast():o.data.length<1},n.cantPageToLast=function(){var e=n.paginationApi.getTotalPages();return!e||o.paginationCurrentPage>=e},n.cantPageBackward=function(){return o.paginationCurrentPage<=1};function l(e){e&&d.focus.bySelector(t,".ui-grid-pager-control-input")}n.pageFirstPageClick=function(){n.paginationApi.seek(1),l(n.cantPageBackward())},n.pagePreviousPageClick=function(){n.paginationApi.previousPage(),l(n.cantPageBackward())},n.pageNextPageClick=function(){n.paginationApi.nextPage(),l(n.cantPageForward())},n.pageLastPageClick=function(){n.paginationApi.seek(n.paginationApi.getTotalPages()),l(n.cantPageToLast())}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.pinning",["ui.grid"]);e.constant("uiGridPinningConstants",{container:{LEFT:"left",RIGHT:"right",NONE:""}}),e.service("uiGridPinningService",["gridUtil","GridRenderContainer","i18nService","uiGridPinningConstants",function(a,e,s,l){var c={initializeGrid:function(n){c.defaultGridOptions(n.options),n.registerColumnBuilder(c.pinningColumnBuilder);var e={events:{pinning:{columnPinned:function(e,t){}}},methods:{pinning:{pinColumn:function(e,t){c.pinColumn(n,e,t)}}}};n.api.registerEventsFromObject(e.events),n.api.registerMethodsFromObject(e.methods)},defaultGridOptions:function(e){e.enablePinning=!1!==e.enablePinning,e.hidePinLeft=e.enablePinning&&e.hidePinLeft,e.hidePinRight=e.enablePinning&&e.hidePinRight},pinningColumnBuilder:function(e,t,n){if(e.enablePinning=void 0===e.enablePinning?n.enablePinning:e.enablePinning,e.hidePinLeft=void 0===e.hidePinLeft?n.hidePinLeft:e.hidePinLeft,e.hidePinRight=void 0===e.hidePinRight?n.hidePinRight:e.hidePinRight,e.pinnedLeft?(t.renderContainer="left",t.grid.createLeftContainer()):e.pinnedRight&&(t.renderContainer="right",t.grid.createRightContainer()),e.enablePinning){var i={name:"ui.grid.pinning.pinLeft",title:s.get().pinning.pinLeft,icon:"ui-grid-icon-left-open",shown:function(){return void 0===this.context.col.renderContainer||!this.context.col.renderContainer||"left"!==this.context.col.renderContainer},action:function(){c.pinColumn(this.context.col.grid,this.context.col,l.container.LEFT)}},r={name:"ui.grid.pinning.pinRight",title:s.get().pinning.pinRight,icon:"ui-grid-icon-right-open",shown:function(){return void 0===this.context.col.renderContainer||!this.context.col.renderContainer||"right"!==this.context.col.renderContainer},action:function(){c.pinColumn(this.context.col.grid,this.context.col,l.container.RIGHT)}},o={name:"ui.grid.pinning.unpin",title:s.get().pinning.unpin,icon:"ui-grid-icon-cancel",shown:function(){return void 0!==this.context.col.renderContainer&&null!==this.context.col.renderContainer&&"body"!==this.context.col.renderContainer},action:function(){c.pinColumn(this.context.col.grid,this.context.col,l.container.NONE)}};e.hidePinLeft||a.arrayContainsObjectWithProperty(t.menuItems,"name","ui.grid.pinning.pinLeft")||t.menuItems.push(i),e.hidePinRight||a.arrayContainsObjectWithProperty(t.menuItems,"name","ui.grid.pinning.pinRight")||t.menuItems.push(r),a.arrayContainsObjectWithProperty(t.menuItems,"name","ui.grid.pinning.unpin")||t.menuItems.push(o)}},pinColumn:function(e,t,n){n===l.container.NONE?(t.renderContainer=null,t.colDef.pinnedLeft=t.colDef.pinnedRight=!1):(t.renderContainer=n)===l.container.LEFT?e.createLeftContainer():n===l.container.RIGHT&&e.createRightContainer(),e.refresh().then(function(){e.api.pinning.raise.columnPinned(t.colDef,n)})}};return c}]),e.directive("uiGridPinning",["gridUtil","uiGridPinningService",function(e,r){return{require:"uiGrid",scope:!1,compile:function(){return{pre:function(e,t,n,i){r.initializeGrid(i.grid)},post:function(e,t,n,i){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.resizeColumns",["ui.grid"]);e.service("uiGridResizeColumnsService",["gridUtil","$q","$rootScope",function(i,r,o){return{defaultGridOptions:function(e){e.enableColumnResizing=!1!==e.enableColumnResizing,!1===e.enableColumnResize&&(e.enableColumnResizing=!1)},colResizerColumnBuilder:function(e,t,n){return e.enableColumnResizing=void 0===e.enableColumnResizing?n.enableColumnResizing:e.enableColumnResizing,!1===e.enableColumnResize&&(e.enableColumnResizing=!1),r.all([])},registerPublicApi:function(e){e.api.registerEventsFromObject({colResizable:{columnSizeChanged:function(e,t){}}})},fireColumnSizeChanged:function(e,t,n){o.$applyAsync(function(){e.api.colResizable?e.api.colResizable.raise.columnSizeChanged(t,n):i.logError("The resizeable api is not registered, this may indicate that you've included the module but not added the 'ui-grid-resize-columns' directive to your grid definition.  Cannot raise any events.")})},findTargetCol:function(e,t,n){var i=e.getRenderContainer();if("left"!==t)return e;var r=i.visibleColumnCache.indexOf(e);return i.visibleColumnCache[r-1*n]}}}]),e.directive("uiGridResizeColumns",["gridUtil","uiGridResizeColumnsService",function(e,r){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,t,n,i){r.defaultGridOptions(i.grid.options),i.grid.registerColumnBuilder(r.colResizerColumnBuilder),r.registerPublicApi(i.grid)},post:function(e,t,n,i){}}}}}]),e.directive("uiGridHeaderCell",["gridUtil","$templateCache","$compile","$q","uiGridResizeColumnsService","uiGridConstants",function(e,o,u,t,d,h){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(a,s,e,t){var n=t.grid;if(n.options.enableColumnResizing){var l=o.get("ui-grid/columnResizer"),c=1;n.isRTL()&&(a.position="left",c=-1);var i=function(){for(var e=s[0].getElementsByClassName("ui-grid-column-resizer"),t=0;t<e.length;t++)angular.element(e[t]).remove();var n=d.findTargetCol(a.col,"left",c),i=a.col.getRenderContainer();if(n&&0!==i.visibleColumnCache.indexOf(a.col)&&!1!==n.colDef.enableColumnResizing){var r=angular.element(l).clone();r.attr("position","left"),s.prepend(r),u(r)(a)}if(!1!==a.col.colDef.enableColumnResizing){var o=angular.element(l).clone();o.attr("position","right"),s.append(o),u(o)(a)}};i();var r=n.registerDataChangeCallback(function(){a.$applyAsync(i)},[h.dataChange.COLUMN]);a.$on("$destroy",r)}}}}}}]),e.directive("uiGridColumnResizer",["$document","gridUtil","uiGridConstants","uiGridResizeColumnsService",function(m,v,y,b){var w=angular.element('<div class="ui-grid-resize-overlay"></div>');return{priority:0,scope:{col:"=",position:"@",renderIndex:"="},require:"?^uiGrid",link:function(s,l,e,c){var o=0,a=0,u=0,d=1;function h(){c.grid.refreshCanvas(!0).then(function(){c.grid.queueGridRefresh()})}function p(e,t){var n=t;return e.minWidth&&n<e.minWidth?n=e.minWidth:e.maxWidth&&n>e.maxWidth&&(n=e.maxWidth),n}function n(e,t){e.originalEvent&&(e=e.originalEvent),e.preventDefault(),(a=(e.targetTouches?e.targetTouches[0]:e).clientX-u)<0?a=0:a>c.grid.gridWidth&&(a=c.grid.gridWidth);var n=b.findTargetCol(s.col,s.position,d);if(!1!==n.colDef.enableColumnResizing){c.grid.element.hasClass("column-resizing")||c.grid.element.addClass("column-resizing");var i=a-o,r=parseInt(n.drawnWidth+i*d,10);a+=(p(n,r)-r)*d,w.css({left:a+"px"}),c.fireEvent(y.events.ITEM_DRAGGING)}}function i(e){e.originalEvent&&(e=e.originalEvent),e.preventDefault(),c.grid.element.removeClass("column-resizing"),w.remove();var t=(a=(e.changedTouches?e.changedTouches[0]:e).clientX-u)-o;if(0==t)return g(),void f();var n=b.findTargetCol(s.col,s.position,d);if(!1!==n.colDef.enableColumnResizing){var i=parseInt(n.drawnWidth+t*d,10);n.width=p(n,i),n.hasCustomWidth=!0,h(),b.fireColumnSizeChanged(c.grid,n.colDef,t),g(),f()}}c.grid.isRTL()&&(s.position="left",d=-1),"left"===s.position?l.addClass("left"):"right"===s.position&&l.addClass("right");var r=function(e,t){e.originalEvent&&(e=e.originalEvent),e.stopPropagation(),u=c.grid.element[0].getBoundingClientRect().left,o=(e.targetTouches?e.targetTouches[0]:e).clientX-u,c.grid.element.append(w),w.css({left:o}),"touchstart"===e.type?(m.on("touchend",i),m.on("touchmove",n),l.off("mousedown",r)):(m.on("mouseup",i),m.on("mousemove",n),l.off("touchstart",r))},f=function(){l.on("mousedown",r),l.on("touchstart",r)},g=function(){m.off("mouseup",i),m.off("touchend",i),m.off("mousemove",n),m.off("touchmove",n),l.off("mousedown",r),l.off("touchstart",r)};f();function t(e,t){e.stopPropagation();var n=b.findTargetCol(s.col,s.position,d);if(!1!==n.colDef.enableColumnResizing){var r=0,i=v.closestElm(l,".ui-grid-render-container").querySelectorAll("."+y.COL_CLASS_PREFIX+n.uid+" .ui-grid-cell-contents");Array.prototype.forEach.call(i,function(e){var i;angular.element(e).parent().hasClass("ui-grid-header-cell")&&(i=angular.element(e).parent()[0].querySelectorAll(".ui-grid-column-menu-button")),v.fakeElement(e,{},function(e){var t=angular.element(e);t.attr("style","float: left");var n=v.elementWidth(t);i&&(n+=v.elementWidth(i));r<n&&(r=n)})});var o=p(n,r),a=o-n.drawnWidth;n.width=o,n.hasCustomWidth=!0,h(),b.fireColumnSizeChanged(c.grid,n.colDef,a)}}l.on("dblclick",t),l.on("$destroy",function(){l.off("dblclick",t),g()})}}}])}(),function(){"use strict";var e=angular.module("ui.grid.rowEdit",["ui.grid","ui.grid.edit","ui.grid.cellNav"]);e.constant("uiGridRowEditConstants",{}),e.service("uiGridRowEditService",["$interval","$q","uiGridConstants","uiGridRowEditConstants","gridUtil",function(i,e,t,n,a){var s={initializeGrid:function(t,n){n.rowEdit={};var e={events:{rowEdit:{saveRow:function(e){}}},methods:{rowEdit:{setSavePromise:function(e,t){s.setSavePromise(n,e,t)},getDirtyRows:function(){return n.rowEdit.dirtyRows?n.rowEdit.dirtyRows:[]},getErrorRows:function(){return n.rowEdit.errorRows?n.rowEdit.errorRows:[]},flushDirtyRows:function(){return s.flushDirtyRows(n)},setRowsDirty:function(e){s.setRowsDirty(n,e)},setRowsClean:function(e){s.setRowsClean(n,e)}}}};n.api.registerEventsFromObject(e.events),n.api.registerMethodsFromObject(e.methods),n.api.core.on.renderingComplete(t,function(e){n.api.edit.on.afterCellEdit(t,s.endEditCell),n.api.edit.on.beginCellEdit(t,s.beginEditCell),n.api.edit.on.cancelCellEdit(t,s.cancelEditCell),n.api.cellNav&&n.api.cellNav.on.navigate(t,s.navigate)})},defaultGridOptions:function(e){},saveRow:function(t,n){var i=this;return function(){if(n.isSaving=!0,n.rowEditSavePromise)return n.rowEditSavePromise;var e=t.api.rowEdit.raise.saveRow(n.entity);return n.rowEditSavePromise?n.rowEditSavePromise.then(i.processSuccessPromise(t,n),i.processErrorPromise(t,n)):a.logError("A promise was not returned when saveRow event was raised, either nobody is listening to event, or event handler did not return a promise"),e}},setSavePromise:function(e,t,n){e.getRow(t).rowEditSavePromise=n},processSuccessPromise:function(e,t){var n=this;return function(){delete t.isSaving,delete t.isDirty,delete t.isError,delete t.rowEditSaveTimer,delete t.rowEditSavePromise,n.removeRow(e.rowEdit.errorRows,t),n.removeRow(e.rowEdit.dirtyRows,t)}},processErrorPromise:function(e,t){return function(){delete t.isSaving,delete t.rowEditSaveTimer,delete t.rowEditSavePromise,t.isError=!0,e.rowEdit.errorRows||(e.rowEdit.errorRows=[]),s.isRowPresent(e.rowEdit.errorRows,t)||e.rowEdit.errorRows.push(t)}},removeRow:function(n,i){null!=n&&n.forEach(function(e,t){e.uid===i.uid&&n.splice(t,1)})},isRowPresent:function(e,n){var i=!1;return e.forEach(function(e,t){e.uid===n.uid&&(i=!0)}),i},flushDirtyRows:function(t){var n=[];return t.api.rowEdit.getDirtyRows().forEach(function(e){s.cancelTimer(t,e),s.saveRow(t,e)(),n.push(e.rowEditSavePromise)}),e.all(n)},endEditCell:function(e,t,n,i){var r=this.grid,o=r.getRow(e);o?n===i&&!o.isDirty||(r.rowEdit.dirtyRows||(r.rowEdit.dirtyRows=[]),o.isDirty||(o.isDirty=!0,r.rowEdit.dirtyRows.push(o)),delete o.isError,s.considerSetTimer(r,o)):a.logError("Unable to find rowEntity in grid data, dirty flag cannot be set")},beginEditCell:function(e,t){var n=this.grid,i=n.getRow(e);i?s.cancelTimer(n,i):a.logError("Unable to find rowEntity in grid data, timer cannot be cancelled")},cancelEditCell:function(e,t){var n=this.grid,i=n.getRow(e);i?s.considerSetTimer(n,i):a.logError("Unable to find rowEntity in grid data, timer cannot be set")},navigate:function(e,t){var n=this.grid;e.row.rowEditSaveTimer&&s.cancelTimer(n,e.row),t&&t.row&&t.row!==e.row&&s.considerSetTimer(n,t.row)},considerSetTimer:function(e,t){if(s.cancelTimer(e,t),t.isDirty&&!t.isSaving&&-1!==e.options.rowEditWaitInterval){var n=e.options.rowEditWaitInterval?e.options.rowEditWaitInterval:2e3;t.rowEditSaveTimer=i(s.saveRow(e,t),n,1)}},cancelTimer:function(e,t){t.rowEditSaveTimer&&!t.isSaving&&(i.cancel(t.rowEditSaveTimer),delete t.rowEditSaveTimer)},setRowsDirty:function(n,e){var i;e.forEach(function(e,t){(i=n.getRow(e))?(n.rowEdit.dirtyRows||(n.rowEdit.dirtyRows=[]),i.isDirty||(i.isDirty=!0,n.rowEdit.dirtyRows.push(i)),delete i.isError,s.considerSetTimer(n,i)):a.logError("requested row not found in rowEdit.setRowsDirty, row was: "+e)})},setRowsClean:function(n,e){var i;e.forEach(function(e,t){(i=n.getRow(e))?(delete i.isDirty,s.removeRow(n.rowEdit.dirtyRows,i),s.cancelTimer(n,i),delete i.isError,s.removeRow(n.rowEdit.errorRows,i)):a.logError("requested row not found in rowEdit.setRowsClean, row was: "+e)})}};return s}]),e.directive("uiGridRowEdit",["gridUtil","uiGridRowEditService","uiGridEditConstants",function(e,r,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,t,n,i){r.initializeGrid(e,i.grid)},post:function(e,t,n,i){}}}}}]),e.directive("uiGridViewport",["$compile","uiGridConstants","gridUtil","$parse",function(e,t,n,i){return{priority:-200,scope:!1,compile:function(e,t){var n=angular.element(e.children().children()[0]),i=n.attr("ng-class"),r="";return r=i?i.slice(0,-1)+", 'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}":"{'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}",n.attr("ng-class",r),{pre:function(e,t,n,i){},post:function(e,t,n,i){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.saveState",["ui.grid","ui.grid.selection","ui.grid.cellNav","ui.grid.grouping","ui.grid.pinning","ui.grid.treeView"]);e.constant("uiGridSaveStateConstants",{featureName:"saveState"}),e.service("uiGridSaveStateService",function(){var s={initializeGrid:function(n){n.saveState={},this.defaultGridOptions(n.options);var e={events:{saveState:{}},methods:{saveState:{save:function(){return s.save(n)},restore:function(e,t){return s.restore(n,e,t)}}}};n.api.registerEventsFromObject(e.events),n.api.registerMethodsFromObject(e.methods)},defaultGridOptions:function(e){e.saveWidths=!1!==e.saveWidths,e.saveOrder=!1!==e.saveOrder,e.saveScroll=!0===e.saveScroll,e.saveFocus=!0!==e.saveScroll&&!1!==e.saveFocus,e.saveVisible=!1!==e.saveVisible,e.saveSort=!1!==e.saveSort,e.saveFilter=!1!==e.saveFilter,e.saveSelection=!1!==e.saveSelection,e.saveGrouping=!1!==e.saveGrouping,e.saveGroupingExpandedStates=!0===e.saveGroupingExpandedStates,e.savePinning=!1!==e.savePinning,e.saveTreeView=!1!==e.saveTreeView},save:function(e){var t={};return t.columns=s.saveColumns(e),t.scrollFocus=s.saveScrollFocus(e),t.selection=s.saveSelection(e),t.grouping=s.saveGrouping(e),t.treeView=s.saveTreeView(e),t.pagination=s.savePagination(e),t},restore:function(e,t,n){return n.columns&&s.restoreColumns(e,n.columns),n.scrollFocus&&s.restoreScrollFocus(e,t,n.scrollFocus),n.selection&&s.restoreSelection(e,n.selection),n.grouping&&s.restoreGrouping(e,n.grouping),n.treeView&&s.restoreTreeView(e,n.treeView),n.pagination&&s.restorePagination(e,n.pagination),e.refresh()},saveColumns:function(n){var i=[];return n.getOnlyDataColumns().forEach(function(e){var t={};t.name=e.name,n.options.saveVisible&&(t.visible=e.visible),n.options.saveWidths&&(t.width=e.width),n.options.saveSort&&(t.sort=angular.copy(e.sort)),n.options.saveFilter&&(t.filters=[],e.filters.forEach(function(e){var n={};angular.forEach(e,function(e,t){"condition"!==t&&"$$hashKey"!==t&&"placeholder"!==t&&(n[t]=e)}),t.filters.push(n)})),n.api.pinning&&n.options.savePinning&&(t.pinned=e.renderContainer?e.renderContainer:""),i.push(t)}),i},saveScrollFocus:function(e){if(!e.api.cellNav)return{};var t={};if(e.options.saveFocus){t.focus=!0;var n=e.api.cellNav.getFocusedCell();null!==n&&(null!==n.col&&(t.colName=n.col.colDef.name),null!==n.row&&(t.rowVal=s.getRowVal(e,n.row)))}return(e.options.saveScroll||e.options.saveFocus&&!t.colName&&!t.rowVal)&&(t.focus=!1,e.renderContainers.body.prevRowScrollIndex&&(t.rowVal=s.getRowVal(e,e.renderContainers.body.visibleRowCache[e.renderContainers.body.prevRowScrollIndex])),e.renderContainers.body.prevColScrollIndex&&(t.colName=e.renderContainers.body.visibleColumnCache[e.renderContainers.body.prevColScrollIndex].name)),t},saveSelection:function(t){return t.api.selection&&t.options.saveSelection?t.api.selection.getSelectedGridRows().map(function(e){return s.getRowVal(t,e)}):[]},saveGrouping:function(e){return e.api.grouping&&e.options.saveGrouping?e.api.grouping.getGrouping(e.options.saveGroupingExpandedStates):{}},savePagination:function(e){return e.api.pagination&&e.options.paginationPageSize?{paginationCurrentPage:e.options.paginationCurrentPage,paginationPageSize:e.options.paginationPageSize}:{}},saveTreeView:function(e){return e.api.treeView&&e.options.saveTreeView?e.api.treeView.getTreeView():{}},getRowVal:function(e,t){if(!t)return null;var n={};return e.options.saveRowIdentity?(n.identity=!0,n.row=e.options.saveRowIdentity(t.entity)):(n.identity=!1,n.row=e.renderContainers.body.visibleRowCache.indexOf(t)),n},restoreColumns:function(o,e){var a=!1;e.forEach(function(e,t){var n=o.getColumn(e.name);if(n&&!o.isRowHeaderColumn(n)){!o.options.saveVisible||n.visible===e.visible&&n.colDef.visible===e.visible||(n.visible=e.visible,n.colDef.visible=e.visible,o.api.core.raise.columnVisibilityChanged(n)),o.options.saveWidths&&n.width!==e.width&&(n.width=e.width,n.hasCustomWidth=!0),!o.options.saveSort||angular.equals(n.sort,e.sort)||void 0===n.sort&&angular.isEmpty(e.sort)||(n.sort=angular.copy(e.sort),a=!0),o.options.saveFilter&&!angular.equals(n.filters,e.filters)&&(e.filters.forEach(function(e,t){angular.extend(n.filters[t],e),void 0!==e.term&&null!==e.term||delete n.filters[t].term}),o.api.core.raise.filterChanged()),o.api.pinning&&o.options.savePinning&&n.renderContainer!==e.pinned&&o.api.pinning.pinColumn(n,e.pinned);var i=o.getOnlyDataColumns().indexOf(n);if(-1!==i&&o.options.saveOrder&&i!==t){var r=o.columns.splice(i+o.rowHeaderColumns.length,1)[0];o.columns.splice(t+o.rowHeaderColumns.length,0,r)}}}),a&&o.api.core.raise.sortChanged(o,o.getColumnSorting())},restoreScrollFocus:function(e,t,n){if(e.api.cellNav){var i,r;if(n.colName){var o=e.options.columnDefs.filter(function(e){return e.name===n.colName});0<o.length&&(i=o[0])}n.rowVal&&n.rowVal.row&&(r=n.rowVal.identity?s.findRowByIdentity(e,n.rowVal):e.renderContainers.body.visibleRowCache[n.rowVal.row]);var a=r&&r.entity?r.entity:null;(i||a)&&(n.focus?e.api.cellNav.scrollToFocus(a,i):e.scrollTo(a,i))}},restoreSelection:function(n,e){n.api.selection&&(n.api.selection.clearSelectedRows(),e.forEach(function(e){if(e.identity){var t=s.findRowByIdentity(n,e);t&&n.api.selection.selectRow(t.entity)}else n.api.selection.selectRowByVisibleIndex(e.row)}))},restoreGrouping:function(e,t){e.api.grouping&&null!=t&&!angular.equals(t,{})&&e.api.grouping.setGrouping(t)},restoreTreeView:function(e,t){e.api.treeView&&null!=t&&!angular.equals(t,{})&&e.api.treeView.setTreeView(t)},restorePagination:function(e,t){e.api.pagination&&e.options.paginationPageSize&&(e.options.paginationCurrentPage=t.paginationCurrentPage,e.options.paginationPageSize=t.paginationPageSize)},findRowByIdentity:function(t,n){if(!t.options.saveRowIdentity)return null;var e=t.rows.filter(function(e){return t.options.saveRowIdentity(e.entity)===n.row});return 0<e.length?e[0]:null}};return s}),e.directive("uiGridSaveState",["uiGridSaveStateConstants","uiGridSaveStateService","gridUtil","$compile",function(e,r,t,n){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(e,t,n,i){r.initializeGrid(i.grid)}}}])}(),function(){"use strict";var e=angular.module("ui.grid.selection",["ui.grid"]);e.constant("uiGridSelectionConstants",{featureName:"selection",selectionRowHeaderColName:"selectionRowHeaderCol"}),angular.module("ui.grid").config(["$provide",function(e){e.decorator("GridRow",["$delegate",function(e){return e.prototype.setSelected=function(e){e!==this.isSelected&&(this.isSelected=e,this.grid.selection.selectedCount+=e?1:-1)},e.prototype.setFocused=function(e){e!==this.isFocused&&(this.grid.selection.focusedRow&&(this.grid.selection.focusedRow.isFocused=!1),this.grid.selection.focusedRow=e?this:null,this.isFocused=e)},e}])}]),e.service("uiGridSelectionService",function(){var u={initializeGrid:function(i){i.selection={lastSelectedRow:null,focusedRow:null,selectAll:!1},i.selection.selectedCount=0,u.defaultGridOptions(i.options);var e={events:{selection:{rowFocusChanged:function(e,t,n){},rowSelectionChanged:function(e,t,n){},rowSelectionChangedBatch:function(e,t,n){}}},methods:{selection:{toggleRowSelection:function(e,t){var n=i.getRow(e);null!==n&&u.toggleRowSelection(i,n,t,i.options.multiSelect,i.options.noUnselect)},selectRow:function(e,t){var n=i.getRow(e);null===n||n.isSelected||u.toggleRowSelection(i,n,t,i.options.multiSelect,i.options.noUnselect)},selectRowByVisibleIndex:function(e,t){var n=i.renderContainers.body.visibleRowCache[e];null==n||n.isSelected||u.toggleRowSelection(i,n,t,i.options.multiSelect,i.options.noUnselect)},unSelectRow:function(e,t){var n=i.getRow(e);null!==n&&n.isSelected&&u.toggleRowSelection(i,n,t,i.options.multiSelect,i.options.noUnselect)},unSelectRowByVisibleIndex:function(e,t){var n=i.renderContainers.body.visibleRowCache[e];null!=n&&n.isSelected&&u.toggleRowSelection(i,n,t,i.options.multiSelect,i.options.noUnselect)},selectAllRows:function(t){if(!1!==i.options.multiSelect){var n=[];i.rows.forEach(function(e){e.isSelected||!1===e.enableSelection||!1===i.options.isRowSelectable(e)||(e.setSelected(!0),u.decideRaiseSelectionEvent(i,e,n,t))}),i.selection.selectAll=!0,u.decideRaiseSelectionBatchEvent(i,n,t)}},selectAllVisibleRows:function(t){if(!1!==i.options.multiSelect){var n=[];i.rows.forEach(function(e){e.visible?e.isSelected||!1===e.enableSelection||!1===i.options.isRowSelectable(e)||(e.setSelected(!0),u.decideRaiseSelectionEvent(i,e,n,t)):e.isSelected&&(e.setSelected(!1),u.decideRaiseSelectionEvent(i,e,n,t))}),i.selection.selectAll=!0,u.decideRaiseSelectionBatchEvent(i,n,t)}},clearSelectedRows:function(e){u.clearSelectedRows(i,e)},getSelectedRows:function(){return u.getSelectedRows(i).map(function(e){return e.entity}).filter(function(e){return e.hasOwnProperty("$$hashKey")||!angular.isObject(e)})},getSelectedGridRows:function(){return u.getSelectedRows(i)},getSelectedCount:function(){return i.selection.selectedCount},setMultiSelect:function(e){i.options.multiSelect=e},setModifierKeysToMultiSelect:function(e){i.options.modifierKeysToMultiSelect=e},getSelectAllState:function(){return i.selection.selectAll}}}};i.api.registerEventsFromObject(e.events),i.api.registerMethodsFromObject(e.methods)},defaultGridOptions:function(e){e.enableRowSelection=!1!==e.enableRowSelection,e.multiSelect=!1!==e.multiSelect,e.noUnselect=!0===e.noUnselect,e.modifierKeysToMultiSelect=!0===e.modifierKeysToMultiSelect,e.enableRowHeaderSelection=!1!==e.enableRowHeaderSelection,void 0===e.enableFullRowSelection&&(e.enableFullRowSelection=!e.enableRowHeaderSelection),e.enableFocusRowOnRowHeaderClick=!1!==e.enableFocusRowOnRowHeaderClick||!e.enableRowHeaderSelection,e.enableSelectRowOnFocus=!1!==e.enableSelectRowOnFocus,e.enableSelectAll=!1!==e.enableSelectAll,e.enableSelectionBatchEvent=!1!==e.enableSelectionBatchEvent,e.selectionRowHeaderWidth=angular.isDefined(e.selectionRowHeaderWidth)?e.selectionRowHeaderWidth:30,e.enableFooterTotalSelected=!1!==e.enableFooterTotalSelected,e.isRowSelectable=angular.isDefined(e.isRowSelectable)?e.isRowSelectable:angular.noop},toggleRowSelection:function(e,t,n,i,r){if(!1!==t.enableSelection){var o,a=t.isSelected;i||(a?1<(o=u.getSelectedRows(e)).length&&(a=!1,u.clearSelectedRows(e,n)):u.clearSelectedRows(e,n)),a&&r||(t.setSelected(!a),!0===t.isSelected&&(e.selection.lastSelectedRow=t),o=u.getSelectedRows(e),e.selection.selectAll=e.rows.length===o.length,e.api.selection.raise.rowSelectionChanged(t,n))}},shiftSelect:function(e,t,n,i){if(i){var r=0<u.getSelectedRows(e).length?e.renderContainers.body.visibleRowCache.indexOf(e.selection.lastSelectedRow):0,o=e.renderContainers.body.visibleRowCache.indexOf(t);if(o<r){var a=r;r=o,o=a}for(var s=[],l=r;l<=o;l++){var c=e.renderContainers.body.visibleRowCache[l];c&&(c.isSelected||!1===c.enableSelection||(c.setSelected(!0),e.selection.lastSelectedRow=c,u.decideRaiseSelectionEvent(e,c,s,n)))}u.decideRaiseSelectionBatchEvent(e,s,n)}},getSelectedRows:function(e){return e.rows.filter(function(e){return e.isSelected})},clearSelectedRows:function(t,n){var i=[];u.getSelectedRows(t).forEach(function(e){e.isSelected&&(e.setSelected(!1),u.decideRaiseSelectionEvent(t,e,i,n))}),t.selection.selectAll=!1,t.selection.selectedCount=0,u.decideRaiseSelectionBatchEvent(t,i,n)},decideRaiseSelectionEvent:function(e,t,n,i){e.options.enableSelectionBatchEvent?n.push(t):e.api.selection.raise.rowSelectionChanged(t,i)},decideRaiseSelectionBatchEvent:function(e,t,n){0<t.length&&e.api.selection.raise.rowSelectionChangedBatch(t,n)}};return u}),e.directive("uiGridSelection",["uiGridSelectionConstants","uiGridSelectionService","uiGridConstants",function(c,u,d){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,t,n,i){if(u.initializeGrid(i.grid),i.grid.options.enableRowHeaderSelection){var r={name:c.selectionRowHeaderColName,displayName:"",width:i.grid.options.selectionRowHeaderWidth,minWidth:10,cellTemplate:"ui-grid/selectionRowHeader",headerCellTemplate:"ui-grid/selectionHeaderCell",enableColumnResizing:!1,enableColumnMenu:!1,exporterSuppressExport:!0,allowCellFocus:!0};i.grid.addRowHeaderColumn(r,0)}function o(e){return e.forEach(function(e){e.enableSelection=i.grid.options.isRowSelectable(e)}),e}function a(){i.grid.options.isRowSelectable!==angular.noop&&!0!==s&&(i.grid.registerRowsProcessor(o,500),s=!0)}var s=!1;a();var l=i.grid.registerDataChangeCallback(a,[d.dataChange.OPTIONS]);e.$on("$destroy",l)},post:function(e,t,n,i){}}}}}]),e.directive("uiGridSelectionRowHeaderButtons",["$templateCache","uiGridSelectionService","gridUtil",function(e,a,s){return{replace:!0,restrict:"E",template:e.get("ui-grid/selectionRowHeaderButtons"),scope:!0,require:"^uiGrid",link:function(e,t,n,i){var r=i.grid;function o(e,t){if(t.stopPropagation(),t.shiftKey)a.shiftSelect(r,e,t,r.options.multiSelect);else if(t.ctrlKey||t.metaKey)a.toggleRowSelection(r,e,t,r.options.multiSelect,r.options.noUnselect);else if(e.groupHeader){a.toggleRowSelection(r,e,t,r.options.multiSelect,r.options.noUnselect);for(var n=0;n<e.treeNode.children.length;n++)a.toggleRowSelection(r,e.treeNode.children[n].row,t,r.options.multiSelect,r.options.noUnselect)}else a.toggleRowSelection(r,e,t,r.options.multiSelect&&!r.options.modifierKeysToMultiSelect,r.options.noUnselect);r.options.enableFocusRowOnRowHeaderClick&&e.setFocused(!e.isFocused)&&r.api.selection.raise.rowFocusChanged(e,t)}e.selectButtonClick=o,e.selectButtonKeyDown=function(e,t){32===t.keyCode&&(t.preventDefault(),o(e,t))},"ie"===s.detectBrowser()&&t.on("mousedown",function(e){(e.ctrlKey||e.shiftKey)&&(e.target.onselectstart=function(){return!1},window.setTimeout(function(){e.target.onselectstart=null},0))}),e.$on("$destroy",function(){t.off()})}}}]),e.directive("uiGridSelectionSelectAllButtons",["$templateCache","uiGridSelectionService",function(e,i){return{replace:!0,restrict:"E",template:e.get("ui-grid/selectionSelectAllButtons"),scope:!1,link:function(t){var n=t.col.grid;t.headerButtonKeyDown=function(e){32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),t.headerButtonClick(e))},t.headerButtonClick=function(e){n.selection.selectAll?(i.clearSelectedRows(n,e),n.options.noUnselect&&n.api.selection.selectRowByVisibleIndex(0,e),n.selection.selectAll=!1):n.options.multiSelect&&(n.api.selection.selectAllVisibleRows(e),n.selection.selectAll=!0)}}}}]),e.directive("uiGridViewport",function(){return{priority:-200,scope:!1,compile:function(e){var t=angular.element(e[0].querySelector(".ui-grid-canvas:not(.ui-grid-empty-base-layer-container)").children[0]),n="'ui-grid-row-selected': row.isSelected, 'ui-grid-row-focused': row.isFocused}",i=t.attr("ng-class");return n=i?i.slice(0,-1)+","+n:"{"+n,t.attr("ng-class",n),{pre:function(e,t,n,i){},post:function(e,t,n,i){}}}}}),e.directive("uiGridCell",["uiGridConstants","uiGridSelectionService",function(u,d){return{priority:-200,restrict:"A",require:"?^uiGrid",scope:!1,link:function(n,t,e,i){var r=0;i.grid.api.cellNav&&i.grid.api.cellNav.on.viewPortKeyDown(n,function(e,t){null!==t&&t.row===n.row&&t.col===n.col&&e.keyCode===u.keymap.SPACE&&"selectionRowHeaderCol"===n.col.colDef.name&&(e.preventDefault(),d.toggleRowSelection(n.grid,n.row,e,n.grid.options.multiSelect&&!n.grid.options.modifierKeysToMultiSelect,n.grid.options.noUnselect),n.$apply())});function o(e){"ui-grid-icon-minus-squared"!==e.target.className&&"ui-grid-icon-plus-squared"!==e.target.className&&(t.off("touchend",s),e.shiftKey?d.shiftSelect(n.grid,n.row,e,n.grid.options.multiSelect):e.ctrlKey||e.metaKey?d.toggleRowSelection(n.grid,n.row,e,n.grid.options.multiSelect,n.grid.options.noUnselect):n.grid.options.enableSelectRowOnFocus&&d.toggleRowSelection(n.grid,n.row,e,n.grid.options.multiSelect&&!n.grid.options.modifierKeysToMultiSelect,n.grid.options.noUnselect),n.row.setFocused(!n.row.isFocused),n.grid.api.selection.raise.rowFocusChanged(n.row,e),n.$apply(),window.setTimeout(function(){t.on("touchend",s)},300))}function a(){r=(new Date).getTime(),t.off("click",o)}var s=function(e){(new Date).getTime()-r<300&&o(e),window.setTimeout(function(){t.on("click",o)},300)};function l(){n.grid.options.enableRowSelection&&n.grid.options.enableFullRowSelection&&"selectionRowHeaderCol"!==n.col.colDef.name&&(t.addClass("ui-grid-disable-selection"),t.on("touchstart",a),t.on("touchend",s),t.on("click",o),n.registered=!0)}l();var c=n.grid.registerDataChangeCallback(function(){n.grid.options.enableRowSelection&&n.grid.options.enableFullRowSelection&&!n.registered?l():n.grid.options.enableRowSelection&&n.grid.options.enableFullRowSelection||!n.registered||n.registered&&(t.removeClass("ui-grid-disable-selection"),t.off("touchstart",a),t.off("touchend",s),t.off("click",o),n.registered=!1)},[u.dataChange.OPTIONS]);t.on("$destroy",c)}}}]),e.directive("uiGridGridFooter",["$compile","gridUtil",function(o,n){return{restrict:"EA",replace:!0,priority:-1e3,require:"^uiGrid",scope:!0,compile:function(){return{pre:function(i,r,e,t){t.grid.options.showGridFooter&&n.getTemplate("ui-grid/gridFooterSelectedItems").then(function(e){var t=angular.element(e),n=o(t)(i);angular.element(r[0].getElementsByClassName("ui-grid-grid-footer")[0]).append(n)})},post:function(e,t,n,i){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.treeBase",["ui.grid"]);e.constant("uiGridTreeBaseConstants",{featureName:"treeBase",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}}),e.service("uiGridTreeBaseService",["$q","uiGridTreeBaseConstants","gridUtil","GridRow","gridClassFactory","i18nService","uiGridConstants","rowSorter",function(e,a,t,n,i,r,o,s){var l={initializeGrid:function(n){n.treeBase={},n.treeBase.numberLevels=0,n.treeBase.expandAll=!1,n.treeBase.tree=[],l.defaultGridOptions(n.options),n.registerRowsProcessor(l.treeRows,410),n.registerColumnBuilder(l.treeBaseColumnBuilder),l.createRowHeader(n);var e={events:{treeBase:{rowExpanded:{},rowCollapsed:{}}},methods:{treeBase:{expandAllRows:function(){l.expandAllRows(n)},collapseAllRows:function(){l.collapseAllRows(n)},toggleRowTreeState:function(e){l.toggleRowTreeState(n,e)},expandRow:function(e,t){l.expandRow(n,e,t)},expandRowChildren:function(e){l.expandRowChildren(n,e)},collapseRow:function(e){l.collapseRow(n,e)},collapseRowChildren:function(e){l.collapseRowChildren(n,e)},getTreeExpandedState:function(){return{expandedState:l.getTreeState(n)}},setTreeState:function(e){l.setTreeState(n,e)},getRowChildren:function(e){return e.treeNode.children.map(function(e){return e.row})}}}};n.api.registerEventsFromObject(e.events),n.api.registerMethodsFromObject(e.methods)},defaultGridOptions:function(e){e.treeRowHeaderBaseWidth=e.treeRowHeaderBaseWidth||30,e.treeIndent=null!=e.treeIndent?e.treeIndent:10,e.showTreeRowHeader=!1!==e.showTreeRowHeader,e.showTreeExpandNoChildren=!1!==e.showTreeExpandNoChildren,e.treeRowHeaderAlwaysVisible=!1!==e.treeRowHeaderAlwaysVisible,e.treeCustomAggregations=e.treeCustomAggregations||{},e.enableExpandAll=!1!==e.enableExpandAll},treeBaseColumnBuilder:function(e,t,n){void 0!==e.customTreeAggregationFn&&(t.treeAggregationFn=e.customTreeAggregationFn),void 0!==e.treeAggregationType&&(t.treeAggregation={type:e.treeAggregationType},void 0!==n.treeCustomAggregations[e.treeAggregationType]?(t.treeAggregationFn=n.treeCustomAggregations[e.treeAggregationType].aggregationFn,t.treeAggregationFinalizerFn=n.treeCustomAggregations[e.treeAggregationType].finalizerFn,t.treeAggregation.label=n.treeCustomAggregations[e.treeAggregationType].label):void 0!==l.nativeAggregations()[e.treeAggregationType]&&(t.treeAggregationFn=l.nativeAggregations()[e.treeAggregationType].aggregationFn,t.treeAggregation.label=l.nativeAggregations()[e.treeAggregationType].label)),void 0!==e.treeAggregationLabel&&(void 0===t.treeAggregation&&(t.treeAggregation={}),t.treeAggregation.label=e.treeAggregationLabel),t.treeAggregationUpdateEntity=!1!==e.treeAggregationUpdateEntity,void 0===t.customTreeAggregationFinalizerFn&&(t.customTreeAggregationFinalizerFn=e.customTreeAggregationFinalizerFn)},createRowHeader:function(e){var t={name:a.rowHeaderColName,displayName:"",width:e.options.treeRowHeaderBaseWidth,minWidth:10,cellTemplate:"ui-grid/treeBaseRowHeader",headerCellTemplate:"ui-grid/treeBaseHeaderCell",enableColumnResizing:!1,enableColumnMenu:!1,exporterSuppressExport:!0,allowCellFocus:!0};t.visible=e.options.treeRowHeaderAlwaysVisible,e.addRowHeaderColumn(t,-100)},expandAllRows:function(t){t.treeBase.tree.forEach(function(e){l.setAllNodes(t,e,a.EXPANDED)}),t.treeBase.expandAll=!0,t.queueGridRefresh()},collapseAllRows:function(t){t.treeBase.tree.forEach(function(e){l.setAllNodes(t,e,a.COLLAPSED)}),t.treeBase.expandAll=!1,t.queueGridRefresh()},setAllNodes:function(t,e,n){void 0!==e.state&&e.state!==n&&((e.state=n)===a.EXPANDED?t.api.treeBase.raise.rowExpanded(e.row):t.api.treeBase.raise.rowCollapsed(e.row)),e.children&&e.children.forEach(function(e){l.setAllNodes(t,e,n)})},toggleRowTreeState:function(e,t){void 0===t.treeLevel||null===t.treeLevel||t.treeLevel<0||(t.treeNode.state===a.EXPANDED?l.collapseRow(e,t):l.expandRow(e,t,!1),e.queueGridRefresh())},expandRow:function(e,t,n){if(n){for(var i=[];t&&void 0!==t.treeLevel&&null!==t.treeLevel&&0<=t.treeLevel&&t.treeNode.state!==a.EXPANDED;)i.push(t),t=t.treeNode.parentRow;if(0<i.length){for(t=i.pop();t;)t.treeNode.state=a.EXPANDED,e.api.treeBase.raise.rowExpanded(t),t=i.pop();e.treeBase.expandAll=l.allExpanded(e.treeBase.tree),e.queueGridRefresh()}}else{if(void 0===t.treeLevel||null===t.treeLevel||t.treeLevel<0)return;t.treeNode.state!==a.EXPANDED&&(t.treeNode.state=a.EXPANDED,e.api.treeBase.raise.rowExpanded(t),e.treeBase.expandAll=l.allExpanded(e.treeBase.tree),e.queueGridRefresh())}},expandRowChildren:function(e,t){void 0===t.treeLevel||null===t.treeLevel||t.treeLevel<0||(l.setAllNodes(e,t.treeNode,a.EXPANDED),e.treeBase.expandAll=l.allExpanded(e.treeBase.tree),e.queueGridRefresh())},collapseRow:function(e,t){void 0===t.treeLevel||null===t.treeLevel||t.treeLevel<0||t.treeNode.state!==a.COLLAPSED&&(t.treeNode.state=a.COLLAPSED,e.treeBase.expandAll=!1,e.api.treeBase.raise.rowCollapsed(t),e.queueGridRefresh())},collapseRowChildren:function(e,t){void 0===t.treeLevel||null===t.treeLevel||t.treeLevel<0||(l.setAllNodes(e,t.treeNode,a.COLLAPSED),e.treeBase.expandAll=!1,e.queueGridRefresh())},allExpanded:function(e){var t=!0;return e.forEach(function(e){l.allExpandedInternal(e)||(t=!1)}),t},allExpandedInternal:function(e){if(e.children&&0<e.children.length){if(e.state===a.COLLAPSED)return!1;var t=!0;return e.children.forEach(function(e){l.allExpandedInternal(e)||(t=!1)}),t}return!0},treeRows:function(e){return 0===e.length?(l.updateRowHeaderWidth(this),e):(this.treeBase.tree=l.createTree(this,e),l.updateRowHeaderWidth(this),l.sortTree(this),l.fixFilter(this),l.renderTree(this.treeBase.tree))},updateRowHeaderWidth:function(e){var t=e.getColumn(a.rowHeaderColName),n=e.options.treeRowHeaderBaseWidth+e.options.treeIndent*Math.max(e.treeBase.numberLevels-1,0);t&&n!==t.width&&(t.width=n,e.queueRefresh());var i=!0;!1===e.options.showTreeRowHeader&&(i=!1),!1===e.options.treeRowHeaderAlwaysVisible&&e.treeBase.numberLevels<=0&&(i=!1),t&&t.visible!==i&&(t.visible=i,t.colDef.visible=i,e.queueGridRefresh())},renderTree:function(e){var t=[];return e.forEach(function(e){e.row.visible&&t.push(e.row),e.state===a.EXPANDED&&e.children&&0<e.children.length&&(t=t.concat(l.renderTree(e.children)))}),t},createTree:function(n,e){var i=-1,r=[];n.treeBase.tree=[],n.treeBase.numberLevels=0;var o=l.getAggregations(n);for(e.forEach(function(e){if(void 0!==e.entity.$$treeLevel&&e.treeLevel!==e.entity.$$treeLevel&&(e.treeLevel=e.entity.$$treeLevel),e.treeLevel<=i){for(;e.treeLevel<=i;){var t=r.pop();l.finaliseAggregations(t),i--}0<r.length?l.setCurrentState(r):a.EXPANDED}(void 0===e.treeLevel||null===e.treeLevel||e.treeLevel<0)&&e.visible&&l.aggregate(n,e,r),l.addOrUseNode(n,e,r,o),void 0!==e.treeLevel&&null!==e.treeLevel&&0<=e.treeLevel&&(r.push(e),i++,l.setCurrentState(r)),n.treeBase.numberLevels<e.treeLevel+1&&(n.treeBase.numberLevels=e.treeLevel+1)});0<r.length;){var t=r.pop();l.finaliseAggregations(t)}return n.treeBase.tree},addOrUseNode:function(e,t,n,i){var r=[];i.forEach(function(e){r.push(l.buildAggregationObject(e.col))});var o={state:a.COLLAPSED,row:t,parentRow:null,aggregations:r,children:[]};t.treeNode&&(o.state=t.treeNode.state),0<n.length&&(o.parentRow=n[n.length-1]),t.treeNode=o,0===n.length?e.treeBase.tree.push(o):n[n.length-1].treeNode.children.push(o)},setCurrentState:function(e){var t=a.EXPANDED;return e.forEach(function(e){e.treeNode.state===a.COLLAPSED&&(t=a.COLLAPSED)}),t},sortTree:function(e){e.columns.forEach(function(e){e.sort&&e.sort.ignoreSort&&delete e.sort.ignoreSort}),e.treeBase.tree=l.sortInternal(e,e.treeBase.tree)},sortInternal:function(t,e){var n=e.map(function(e){return e.row}),i=(n=s.sort(t,n,t.columns)).map(function(e){return e.treeNode});return i.forEach(function(e){e.state===a.EXPANDED&&e.children&&0<e.children.length&&(e.children=l.sortInternal(t,e.children))}),i},fixFilter:function(e){var t;e.treeBase.tree.forEach(function(e){e.children&&0<e.children.length&&(t=e.row.visible,l.fixFilterInternal(e.children,t))})},fixFilterInternal:function(e,t){return e.forEach(function(e){e.row.visible&&!t&&(l.setParentsVisible(e),t=!0),e.children&&0<e.children.length&&l.fixFilterInternal(e.children,t&&e.row.visible)&&(t=!0)}),t},setParentsVisible:function(e){for(;e.parentRow;)e.parentRow.visible=!0,e=e.parentRow.treeNode},buildAggregationObject:function(e){var t={col:e};return e.treeAggregation&&e.treeAggregation.type&&(t.type=e.treeAggregation.type),e.treeAggregation&&e.treeAggregation.label&&(t.label=e.treeAggregation.label),t},getAggregations:function(t){var n=[];return t.columns.forEach(function(e){void 0!==e.treeAggregationFn&&(n.push(l.buildAggregationObject(e)),t.options.showColumnFooter&&void 0===e.colDef.aggregationType&&e.treeAggregation&&(e.treeFooterAggregation=l.buildAggregationObject(e),e.aggregationType=l.treeFooterAggregationType))}),n},aggregate:function(r,o,e){0===e.length&&o.treeNode&&o.treeNode.aggregations&&o.treeNode.aggregations.forEach(function(e){if(void 0!==e.col.treeFooterAggregation){var t=r.getCellValue(o,e.col),n=Number(t);e.col.treeAggregationFn?e.col.treeAggregationFn(e.col.treeFooterAggregation,t,n,o):e.col.treeFooterAggregation.value=void 0}}),e.forEach(function(e,i){e.treeNode.aggregations&&e.treeNode.aggregations.forEach(function(e){var t=r.getCellValue(o,e.col),n=Number(t);e.col.treeAggregationFn(e,t,n,o),0===i&&void 0!==e.col.treeFooterAggregation&&(e.col.treeAggregationFn?e.col.treeAggregationFn(e.col.treeFooterAggregation,t,n,o):e.col.treeFooterAggregation.value=void 0)})})},nativeAggregations:function(){return{count:{label:r.get().aggregation.count,menuTitle:r.get().grouping.aggregate_count,aggregationFn:function(e,t,n){void 0===e.value?e.value=1:e.value++}},sum:{label:r.get().aggregation.sum,menuTitle:r.get().grouping.aggregate_sum,aggregationFn:function(e,t,n){isNaN(n)||(void 0===e.value?e.value=n:e.value+=n)}},min:{label:r.get().aggregation.min,menuTitle:r.get().grouping.aggregate_min,aggregationFn:function(e,t,n){void 0===e.value?e.value=t:null!=t&&(t<e.value||null===e.value)&&(e.value=t)}},max:{label:r.get().aggregation.max,menuTitle:r.get().grouping.aggregate_max,aggregationFn:function(e,t,n){void 0===e.value?e.value=t:null!=t&&(t>e.value||null===e.value)&&(e.value=t)}},avg:{label:r.get().aggregation.avg,menuTitle:r.get().grouping.aggregate_avg,aggregationFn:function(e,t,n){void 0===e.count?e.count=1:e.count++,isNaN(n)||(void 0===e.value||void 0===e.sum?(e.value=n,e.sum=n):(e.sum+=n,e.value=e.sum/e.count))}}}},finaliseAggregation:function(e,t){t.col.treeAggregationUpdateEntity&&void 0!==e&&void 0!==e.entity["$$"+t.col.uid]&&angular.extend(t,e.entity["$$"+t.col.uid]),"function"==typeof t.col.treeAggregationFinalizerFn&&t.col.treeAggregationFinalizerFn(t),"function"==typeof t.col.customTreeAggregationFinalizerFn&&t.col.customTreeAggregationFinalizerFn(t),void 0===t.rendered&&(t.rendered=t.label?t.label+t.value:t.value)},finaliseAggregations:function(e){null!=e&&void 0!==e.treeNode.aggregations&&e.treeNode.aggregations.forEach(function(n){if(l.finaliseAggregation(e,n),n.col.treeAggregationUpdateEntity){var i={};angular.forEach(n,function(e,t){n.hasOwnProperty(t)&&"col"!==t&&(i[t]=e)}),e.entity["$$"+n.col.uid]=i}})},treeFooterAggregationType:function(e,t){return l.finaliseAggregation(void 0,t.treeFooterAggregation),void 0===t.treeFooterAggregation.value||null===t.treeFooterAggregation.rendered?"":t.treeFooterAggregation.rendered}};return l}]),e.directive("uiGridTreeBaseRowHeaderButtons",["$templateCache","uiGridTreeBaseService",function(e,o){return{replace:!0,restrict:"E",template:e.get("ui-grid/treeBaseRowHeaderButtons"),scope:!0,require:"^uiGrid",link:function(e,t,n,i){var r=i.grid;e.treeButtonClass=function(e){if(r.options.showTreeExpandNoChildren&&-1<e.treeLevel||e.treeNode.children&&0<e.treeNode.children.length){if("expanded"===e.treeNode.state)return"ui-grid-icon-minus-squared";if("collapsed"===e.treeNode.state)return"ui-grid-icon-plus-squared"}},e.treeButtonClick=function(e,t){t.stopPropagation(),o.toggleRowTreeState(r,e,t)}}}}]),e.directive("uiGridTreeBaseExpandAllButtons",["$templateCache","uiGridTreeBaseService",function(e,i){return{replace:!0,restrict:"E",template:e.get("ui-grid/treeBaseExpandAllButtons"),scope:!1,link:function(e){var n=e.col.grid;e.headerButtonClass=function(){return 0<n.treeBase.numberLevels&&n.treeBase.expandAll?"ui-grid-icon-minus-squared":0<n.treeBase.numberLevels&&!n.treeBase.expandAll?"ui-grid-icon-plus-squared":void 0},e.headerButtonClick=function(e,t){n.treeBase.expandAll?i.collapseAllRows(n,t):i.expandAllRows(n,t)}}}}]),e.directive("uiGridViewport",function(){return{priority:-200,scope:!1,compile:function(e){var t=angular.element(e.children().children()[0]),n=t.attr("ng-class"),i="";return i=n?n.slice(0,-1)+",'ui-grid-tree-header-row': row.treeLevel > -1}":"{'ui-grid-tree-header-row': row.treeLevel > -1}",t.attr("ng-class",i),{pre:function(e,t,n,i){},post:function(e,t,n,i){}}}}})}(),function(){"use strict";var e=angular.module("ui.grid.treeView",["ui.grid","ui.grid.treeBase"]);e.constant("uiGridTreeViewConstants",{featureName:"treeView",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}}),e.service("uiGridTreeViewService",["$q","uiGridTreeViewConstants","uiGridTreeBaseConstants","uiGridTreeBaseService","gridUtil","GridRow","gridClassFactory","i18nService","uiGridConstants",function(e,t,n,r,i,o,a,s,l){var c={initializeGrid:function(e,t){r.initializeGrid(e,t),e.treeView={},e.registerRowsProcessor(c.adjustSorting,60);var n={treeView:{}},i={treeView:{}};e.api.registerEventsFromObject(n),e.api.registerMethodsFromObject(i)},defaultGridOptions:function(e){e.enableTreeView=!1!==e.enableTreeView},adjustSorting:function(e){return this.columns.forEach(function(e){e.sort&&(e.sort.ignoreSort=!0)}),e}};return c}]),e.directive("uiGridTreeView",["uiGridTreeViewConstants","uiGridTreeViewService","$templateCache",function(e,r,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,t,n,i){!1!==i.grid.options.enableTreeView&&r.initializeGrid(i.grid,e)},post:function(e,t,n,i){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.validate",["ui.grid"]);e.service("uiGridValidateService",["$sce","$q","$http","i18nService","uiGridConstants",function(r,u,e,o,t){var d={validatorFactories:{},setExternalFactoryFunction:function(e){d.externalFactoryFunction=e},clearExternalFactory:function(){delete d.externalFactoryFunction},getValidatorFromExternalFactory:function(e,t){return d.externalFactoryFunction(e,t).validatorFactory(t)},getMessageFromExternalFactory:function(e,t){return d.externalFactoryFunction(e,t).messageFunction(t)},setValidator:function(e,t,n){d.validatorFactories[e]={validatorFactory:t,messageFunction:n}},getValidator:function(e,t){if(d.externalFactoryFunction){var n=d.getValidatorFromExternalFactory(e,t);if(n)return n}if(!d.validatorFactories[e])throw"Invalid validator name: "+e;return d.validatorFactories[e].validatorFactory(t)},getMessage:function(e,t){if(d.externalFactoryFunction){var n=d.getMessageFromExternalFactory(e,t);if(n)return n}return d.validatorFactories[e].messageFunction(t)},isInvalid:function(e,t){return e["$$invalid"+t.name]},setInvalid:function(e,t){e["$$invalid"+t.name]=!0},setValid:function(e,t){delete e["$$invalid"+t.name]},setError:function(e,t,n){e["$$errors"+t.name]||(e["$$errors"+t.name]={}),e["$$errors"+t.name][n]=!0},clearError:function(e,t,n){e["$$errors"+t.name]&&n in e["$$errors"+t.name]&&delete e["$$errors"+t.name][n]},getErrorMessages:function(e,t){var n=[];return e["$$errors"+t.name]&&0!==Object.keys(e["$$errors"+t.name]).length&&Object.keys(e["$$errors"+t.name]).sort().forEach(function(e){n.push(d.getMessage(e,t.validators[e]))}),n},getFormattedErrors:function(e,t){var n="",i=d.getErrorMessages(e,t);if(i.length)return i.forEach(function(e){n+=e+"<br/>"}),r.trustAsHtml("<p><b>"+o.getSafeText("validate.error")+"</b></p>"+n)},getTitleFormattedErrors:function(e,t){var n="",i=d.getErrorMessages(e,t);if(i.length)return i.forEach(function(e){n+=e+"\n"}),r.trustAsHtml(o.getSafeText("validate.error")+"\n"+n)},runValidators:function(e,t,r,o,a){if(r!==o){if(void 0===t.name||!t.name)throw new Error("colDef.name is required to perform validation");d.setValid(e,t);var n=function(t,n,i){return function(e){e||(d.setInvalid(t,n),d.setError(t,n,i),a&&a.api.validate.raise.validationFailed(t,n,r,o))}},i=[];for(var s in t.validators){d.clearError(e,t,s);var l=d.getValidator(s,t.validators[s]),c=u.when(l(o,r,e,t)).then(n(e,t,s));i.push(c)}return u.all(i)}},createDefaultValidators:function(){d.setValidator("minLength",function(n){return function(e,t){return null==t||""===t||t.length>=n}},function(e){return o.getSafeText("validate.minLength").replace("THRESHOLD",e)}),d.setValidator("maxLength",function(n){return function(e,t){return null==t||""===t||t.length<=n}},function(e){return o.getSafeText("validate.maxLength").replace("THRESHOLD",e)}),d.setValidator("required",function(n){return function(e,t){return!n||!(null==t||""===t)}},function(){return o.getSafeText("validate.required")})},initializeGrid:function(e,r){r.validate={isInvalid:d.isInvalid,getErrorMessages:d.getErrorMessages,getFormattedErrors:d.getFormattedErrors,getTitleFormattedErrors:d.getTitleFormattedErrors,runValidators:d.runValidators};var t={events:{validate:{validationFailed:function(e,t,n,i){}}},methods:{validate:{isInvalid:function(e,t){return r.validate.isInvalid(e,t)},getErrorMessages:function(e,t){return r.validate.getErrorMessages(e,t)},getFormattedErrors:function(e,t){return r.validate.getFormattedErrors(e,t)},getTitleFormattedErrors:function(e,t){return r.validate.getTitleFormattedErrors(e,t)}}}};r.api.registerEventsFromObject(t.events),r.api.registerMethodsFromObject(t.methods),r.edit&&r.api.edit.on.afterCellEdit(e,function(e,t,n,i){r.validate.runValidators(e,t,n,i,r)}),d.createDefaultValidators()}};return d}]),e.directive("uiGridValidate",["gridUtil","uiGridValidateService",function(e,r){return{priority:0,replace:!0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,t,n,i){r.initializeGrid(e,i.grid)},post:function(e,t,n,i){}}}}}])}(),angular.module("ui.grid").run(["$templateCache",function(e){"use strict";e.put("ui-grid/ui-grid-filter",'<div class="ui-grid-filter-container" ng-style="col.extraStyle" ng-repeat="colFilter in col.filters" ng-class="{\'ui-grid-filter-cancel-button-hidden\' : colFilter.disableCancelFilterButton === true }"><div ng-if="colFilter.type !== \'select\'"><input type="text" class="ui-grid-filter-input ui-grid-filter-input-{{$index}}" ng-model="colFilter.term" ng-attr-placeholder="{{colFilter.placeholder || \'\'}}" aria-label="{{colFilter.ariaLabel || aria.defaultFilterLabel}}"><div role="button" class="ui-grid-filter-button" ng-click="removeFilter(colFilter, $index)" ng-if="!colFilter.disableCancelFilterButton" ng-disabled="colFilter.term === undefined || colFilter.term === null || colFilter.term === \'\'" ng-show="colFilter.term !== undefined && colFilter.term !== null && colFilter.term !== \'\'"><i class="ui-grid-icon-cancel" ui-grid-one-bind-aria-label="aria.removeFilter">&nbsp;</i></div></div><div ng-if="colFilter.type === \'select\'"><select class="ui-grid-filter-select ui-grid-filter-input-{{$index}}" ng-model="colFilter.term" ng-show="colFilter.selectOptions.length > 0" ng-attr-placeholder="{{colFilter.placeholder || aria.defaultFilterLabel}}" aria-label="{{colFilter.ariaLabel || \'\'}}" ng-options="option.value as option.label for option in colFilter.selectOptions"><option value=""></option></select><div role="button" class="ui-grid-filter-button-select" ng-click="removeFilter(colFilter, $index)" ng-if="!colFilter.disableCancelFilterButton" ng-disabled="colFilter.term === undefined || colFilter.term === null || colFilter.term === \'\'" ng-show="colFilter.term !== undefined && colFilter.term != null"><i class="ui-grid-icon-cancel" ui-grid-one-bind-aria-label="aria.removeFilter">&nbsp;</i></div></div></div>'),e.put("ui-grid/ui-grid-footer",'<div class="ui-grid-footer-panel ui-grid-footer-aggregates-row">\x3c!-- tfooter --\x3e<div class="ui-grid-footer ui-grid-footer-viewport"><div class="ui-grid-footer-canvas"><div class="ui-grid-footer-cell-wrapper" ng-style="colContainer.headerCellWrapperStyle()"><div role="row" class="ui-grid-footer-cell-row"><div ui-grid-footer-cell role="gridcell" ng-repeat="col in colContainer.renderedColumns track by col.uid" col="col" render-index="$index" class="ui-grid-footer-cell ui-grid-clearfix"></div></div></div></div></div></div>'),e.put("ui-grid/ui-grid-grid-footer",'<div class="ui-grid-footer-info ui-grid-grid-footer"><span>{{\'search.totalItems\' | t}} {{grid.rows.length}}</span> <span ng-if="grid.renderContainers.body.visibleRowCache.length !== grid.rows.length" class="ngLabel">({{"search.showingItems" | t}} {{grid.renderContainers.body.visibleRowCache.length}})</span></div>'),e.put("ui-grid/ui-grid-header",'<div role="rowgroup" class="ui-grid-header">\x3c!-- theader --\x3e<div class="ui-grid-top-panel"><div class="ui-grid-header-viewport"><div class="ui-grid-header-canvas"><div class="ui-grid-header-cell-wrapper" ng-style="colContainer.headerCellWrapperStyle()"><div role="row" class="ui-grid-header-cell-row"><div class="ui-grid-header-cell ui-grid-clearfix" ng-repeat="col in colContainer.renderedColumns track by col.uid" ui-grid-header-cell col="col" render-index="$index"></div></div></div></div></div></div></div>'),e.put("ui-grid/ui-grid-menu-button",'<div class="ui-grid-menu-button"><div role="button" ui-grid-one-bind-id-grid="\'grid-menu\'" class="ui-grid-icon-container" ng-click="toggleMenu()" aria-haspopup="true"><i class="ui-grid-icon-menu" ui-grid-one-bind-aria-label="i18n.aria.buttonLabel">&nbsp;</i></div><div ui-grid-menu menu-items="menuItems"></div></div>'),e.put("ui-grid/ui-grid-menu-header-item",'<li role="menuitem"><div class="ui-grid-menu-item" role="heading" aria-level="2" ng-show="itemShown()"><i aria-hidden="true">&nbsp; </i><span ng-bind="label()"></span></div></li>'),e.put("ui-grid/ui-grid-no-header",'<div class="ui-grid-top-panel"></div>'),e.put("ui-grid/ui-grid-row","<div ng-repeat=\"(colRenderIndex, col) in colContainer.renderedColumns track by col.uid\" ui-grid-one-bind-id-grid=\"rowRenderIndex + '-' + col.uid + '-cell'\" class=\"ui-grid-cell\" ng-class=\"{ 'ui-grid-row-header-cell': col.isRowHeader }\" role=\"{{col.isRowHeader ? 'rowheader' : 'gridcell'}}\" ui-grid-cell></div>"),e.put("ui-grid/ui-grid",'<div ui-i18n="en" class="ui-grid">\x3c!-- TODO (c0bra): add "scoped" attr here, eventually? --\x3e<style ui-grid-style>.grid{{ grid.id }} {\n      /* Styles for the grid */\n    }\n\n    .grid{{ grid.id }} .ui-grid-row, .grid{{ grid.id }} .ui-grid-cell, .grid{{ grid.id }} .ui-grid-cell .ui-grid-vertical-bar {\n      height: {{ grid.options.rowHeight }}px;\n    }\n\n    .grid{{ grid.id }} .ui-grid-row:last-child .ui-grid-cell {\n      border-bottom-width: {{ (((grid.getVisibleRowCount() * grid.options.rowHeight) < grid.getViewportHeight()) && \'1\') || \'0\' }}px;\n    }\n\n    {{ grid.verticalScrollbarStyles }}\n    {{ grid.horizontalScrollbarStyles }}\n\n    /*\n    .ui-grid[dir=rtl] .ui-grid-viewport {\n      padding-left: {{ grid.verticalScrollbarWidth }}px;\n    }\n    */\n\n    {{ grid.customStyles }}</style><div class="ui-grid-contents-wrapper" role="grid"><div ui-grid-menu-button ng-if="grid.options.enableGridMenu"></div><div ng-if="grid.hasLeftContainer()" style="width: 0" ui-grid-pinned-container="\'left\'"></div><div ui-grid-render-container container-id="\'body\'" col-container-name="\'body\'" row-container-name="\'body\'" bind-scroll-horizontal="true" bind-scroll-vertical="true" enable-horizontal-scrollbar="grid.options.enableHorizontalScrollbar" enable-vertical-scrollbar="grid.options.enableVerticalScrollbar"></div><div ng-if="grid.hasRightContainer()" style="width: 0" ui-grid-pinned-container="\'right\'"></div><div ui-grid-grid-footer ng-if="grid.options.showGridFooter"></div><div ui-grid-column-menu ng-if="grid.options.enableColumnMenus"></div><div ng-transclude></div></div></div>'),e.put("ui-grid/uiGridCell",'<div class="ui-grid-cell-contents" title="TOOLTIP">{{COL_FIELD CUSTOM_FILTERS}}</div>'),e.put("ui-grid/uiGridColumnMenu",'<div class="ui-grid-column-menu"><div ui-grid-menu menu-items="menuItems">\x3c!-- <div class="ui-grid-column-menu">\n    <div class="inner" ng-show="menuShown">\n      <ul>\n        <div ng-show="grid.options.enableSorting">\n          <li ng-click="sortColumn($event, asc)" ng-class="{ \'selected\' : col.sort.direction == asc }"><i class="ui-grid-icon-sort-alt-up"></i> Sort Ascending</li>\n          <li ng-click="sortColumn($event, desc)" ng-class="{ \'selected\' : col.sort.direction == desc }"><i class="ui-grid-icon-sort-alt-down"></i> Sort Descending</li>\n          <li ng-show="col.sort.direction" ng-click="unsortColumn()"><i class="ui-grid-icon-cancel"></i> Remove Sort</li>\n        </div>\n      </ul>\n    </div>\n  </div> --\x3e</div></div>'),e.put("ui-grid/uiGridFooterCell",'<div class="ui-grid-cell-contents" col-index="renderIndex"><div>{{ col.getAggregationText() + ( col.getAggregationValue() CUSTOM_FILTERS ) }}</div></div>'),e.put("ui-grid/uiGridHeaderCell",'<div role="columnheader" ng-class="{ \'sortable\': sortable, \'ui-grid-header-cell-last-col\': isLastCol }" ui-grid-one-bind-aria-labelledby-grid="col.uid + \'-header-text \' + col.uid + \'-sortdir-text\'" aria-sort="{{col.sort.direction == asc ? \'ascending\' : ( col.sort.direction == desc ? \'descending\' : (!col.sort.direction ? \'none\' : \'other\'))}}"><div role="button" tabindex="0" ng-keydown="handleKeyDown($event)" class="ui-grid-cell-contents ui-grid-header-cell-primary-focus" col-index="renderIndex" title="TOOLTIP"><span class="ui-grid-header-cell-label" ui-grid-one-bind-id-grid="col.uid + \'-header-text\'">{{ col.displayName CUSTOM_FILTERS }}</span> <span ui-grid-one-bind-id-grid="col.uid + \'-sortdir-text\'" ui-grid-visible="col.sort.direction" aria-label="{{getSortDirectionAriaLabel()}}"><i ng-class="{ \'ui-grid-icon-up-dir\': col.sort.direction == asc, \'ui-grid-icon-down-dir\': col.sort.direction == desc, \'ui-grid-icon-blank\': !col.sort.direction }" title="{{isSortPriorityVisible() ? i18n.headerCell.priority + \' \' + ( col.sort.priority + 1 )  : null}}" aria-hidden="true"></i> <sub ui-grid-visible="isSortPriorityVisible()" class="ui-grid-sort-priority-number">{{col.sort.priority + 1}}</sub></span></div><div role="button" tabindex="0" ui-grid-one-bind-id-grid="col.uid + \'-menu-button\'" class="ui-grid-column-menu-button" ng-if="grid.options.enableColumnMenus && !col.isRowHeader  && col.colDef.enableColumnMenu !== false" ng-click="toggleMenu($event)" ng-keydown="headerCellArrowKeyDown($event)" ui-grid-one-bind-aria-label="i18n.headerCell.aria.columnMenuButtonLabel" aria-haspopup="true"><i class="ui-grid-icon-angle-down" aria-hidden="true">&nbsp;</i></div><div ui-grid-filter></div></div>'),e.put("ui-grid/uiGridMenu",'<div class="ui-grid-menu" ng-show="shown"><style ui-grid-style>{{dynamicStyles}}</style><div class="ui-grid-menu-mid" ng-show="shownMid"><div class="ui-grid-menu-inner" ng-if="shown"><ul role="menu" class="ui-grid-menu-items"><li ng-repeat="item in menuItems" role="menuitem" ui-grid-menu-item ui-grid-one-bind-id="\'menuitem-\'+$index" action="item.action" name="item.title" active="item.active" icon="item.icon" shown="item.shown" context="item.context" template-url="item.templateUrl" leave-open="item.leaveOpen" screen-reader-only="item.screenReaderOnly"></li></ul></div></div></div>'),e.put("ui-grid/uiGridMenuItem",'<button type="button" class="ui-grid-menu-item" ng-click="itemAction($event, title)" ng-show="itemShown()" ng-class="{ \'ui-grid-menu-item-active\': active(), \'ui-grid-sr-only\': (!focus && screenReaderOnly) }" aria-pressed="{{active()}}" tabindex="0" ng-focus="focus=true" ng-blur="focus=false"><i ng-class="icon" aria-hidden="true">&nbsp; </i>{{ label() }}</button>'),e.put("ui-grid/uiGridRenderContainer","<div role=\"presentation\" ui-grid-one-bind-id-grid=\"containerId + '-grid-container'\" class=\"ui-grid-render-container\" ng-style=\"{ 'margin-left': colContainer.getMargin('left') + 'px', 'margin-right': colContainer.getMargin('right') + 'px' }\">\x3c!-- All of these dom elements are replaced in place --\x3e<div ui-grid-header></div><div ui-grid-viewport></div><div ng-if=\"colContainer.needsHScrollbarPlaceholder()\" class=\"ui-grid-scrollbar-placeholder\" ng-style=\"{height: colContainer.grid.scrollbarHeight + 'px'}\"></div><ui-grid-footer ng-if=\"grid.options.showColumnFooter\"></ui-grid-footer></div>"),e.put("ui-grid/uiGridViewport",'<div role="rowgroup" class="ui-grid-viewport" ng-style="colContainer.getViewportStyle()">\x3c!-- tbody --\x3e<div class="ui-grid-canvas"><div ng-repeat="(rowRenderIndex, row) in rowContainer.renderedRows track by $index" class="ui-grid-row" ng-style="Viewport.rowStyle(rowRenderIndex)"><div role="row" ui-grid-row="row" row-render-index="rowRenderIndex"></div></div></div></div>'),e.put("ui-grid/cellEditor",'<div><form name="inputForm"><input type="INPUT_TYPE" ng-class="\'colt\' + col.uid" ui-grid-editor ng-model="MODEL_COL_FIELD"></form></div>'),e.put("ui-grid/dropdownEditor",'<div><form name="inputForm"><select ng-class="\'colt\' + col.uid" ui-grid-edit-dropdown ng-model="MODEL_COL_FIELD" ng-options="field[editDropdownIdLabel] as field[editDropdownValueLabel] CUSTOM_FILTERS for field in editDropdownOptionsArray"></select></form></div>'),e.put("ui-grid/fileChooserEditor",'<div><form name="inputForm"><input ng-class="\'colt\' + col.uid" ui-grid-edit-file-chooser type="file" id="files" name="files[]" ng-model="MODEL_COL_FIELD"></form></div>'),e.put("ui-grid/emptyBaseLayerContainer",'<div class="ui-grid-empty-base-layer-container ui-grid-canvas"><div class="ui-grid-row" ng-repeat="(rowRenderIndex, row) in grid.baseLayer.emptyRows track by $index" ng-style="Viewport.rowStyle(rowRenderIndex)"><div><div><div ng-repeat="(colRenderIndex, col) in colContainer.renderedColumns track by col.colDef.name" class="ui-grid-cell {{ col.getColClass(false) }}"></div></div></div></div></div>'),e.put("ui-grid/expandableRow",'<div ui-grid-expandable-row ng-if="expandableRow.shouldRenderExpand()" class="expandableRow" style="float:left; margin-top: 1px; margin-bottom: 1px" ng-style="{width: (grid.renderContainers.body.getCanvasWidth()) + \'px\', height: row.expandedRowHeight + \'px\'}"></div>'),e.put("ui-grid/expandableRowHeader",'<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><i class="clickable" ng-if="!(row.groupHeader==true || row.entity.subGridOptions.disableRowExpandable)" ng-class="{ \'ui-grid-icon-plus-squared\' : !row.isExpanded, \'ui-grid-icon-minus-squared\' : row.isExpanded }" ng-click="grid.api.expandable.toggleRowExpansion(row.entity, $event)"></i></div></div>'),e.put("ui-grid/expandableScrollFiller","<div ng-if=\"expandableRow.shouldRenderFiller()\" ng-class=\"{scrollFiller: true, scrollFillerClass:(colContainer.name === 'body')}\" ng-style=\"{ width: (grid.getViewportWidth()) + 'px', height: row.expandedRowHeight + 2 + 'px', 'margin-left': grid.options.rowHeader.rowHeaderWidth + 'px' }\">&nbsp;</div>"),e.put("ui-grid/expandableTopRowHeader",'<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><span class="ui-grid-cell-empty" ng-if="!grid.options.showExpandAllButton"></span> <button type="button" class="ui-grid-icon-button clickable" ng-if="grid.options.showExpandAllButton" ng-class="{ \'ui-grid-icon-plus-squared\' : !grid.expandable.expandedAll, \'ui-grid-icon-minus-squared\' : grid.expandable.expandedAll }" ng-click="grid.api.expandable.toggleAllRows()"></button></div></div>'),e.put("ui-grid/csvLink",'<span class="ui-grid-exporter-csv-link-span"><a href="data:text/csv;charset=UTF-8,CSV_CONTENT" download="FILE_NAME">LINK_LABEL</a></span>'),e.put("ui-grid/importerMenuItem",'<li class="ui-grid-menu-item"><form><input class="ui-grid-importer-file-chooser" type="file" id="files" name="files[]"></form></li>'),e.put("ui-grid/importerMenuItemContainer","<div ui-grid-importer-menu-item></div>"),e.put("ui-grid/pagination",'<div class="ui-grid-pager-panel" ui-grid-pager ng-show="grid.options.enablePaginationControls"><div role="navigation" class="ui-grid-pager-container"><div class="ui-grid-pager-control"><button type="button" class="ui-grid-pager-first" ui-grid-one-bind-title="aria.pageToFirst" ui-grid-one-bind-aria-label="aria.pageToFirst" ng-click="pageFirstPageClick()" ng-disabled="cantPageBackward()"><div ng-class="grid.isRTL() ? \'last-triangle\' : \'first-triangle\'"><div ng-class="grid.isRTL() ? \'last-bar-rtl\' : \'first-bar\'"></div></div></button> <button type="button" class="ui-grid-pager-previous" ui-grid-one-bind-title="aria.pageBack" ui-grid-one-bind-aria-label="aria.pageBack" ng-click="pagePreviousPageClick()" ng-disabled="cantPageBackward()"><div ng-class="grid.isRTL() ? \'last-triangle prev-triangle\' : \'first-triangle prev-triangle\'"></div></button> <input type="number" ui-grid-one-bind-title="aria.pageSelected" ui-grid-one-bind-aria-label="aria.pageSelected" class="ui-grid-pager-control-input" ng-model="grid.options.paginationCurrentPage" min="1" max="{{ paginationApi.getTotalPages() }}" step="1" required> <span class="ui-grid-pager-max-pages-number" ng-show="paginationApi.getTotalPages() > 0"><abbr ui-grid-one-bind-title="paginationOf">/ </abbr>{{ paginationApi.getTotalPages() }} </span><button type="button" class="ui-grid-pager-next" ui-grid-one-bind-title="aria.pageForward" ui-grid-one-bind-aria-label="aria.pageForward" ng-click="pageNextPageClick()" ng-disabled="cantPageForward()"><div ng-class="grid.isRTL() ? \'first-triangle next-triangle\' : \'last-triangle next-triangle\'"></div></button> <button type="button" class="ui-grid-pager-last" ui-grid-one-bind-title="aria.pageToLast" ui-grid-one-bind-aria-label="aria.pageToLast" ng-click="pageLastPageClick()" ng-disabled="cantPageToLast()"><div ng-class="grid.isRTL() ? \'first-triangle\' : \'last-triangle\'"><div ng-class="grid.isRTL() ? \'first-bar-rtl\' : \'last-bar\'"></div></div></button></div><div class="ui-grid-pager-row-count-picker" ng-if="grid.options.paginationPageSizes.length > 1 && !grid.options.useCustomPagination"><select ui-grid-one-bind-aria-labelledby-grid="\'items-per-page-label\'" ng-model="grid.options.paginationPageSize" ng-options="o as o for o in grid.options.paginationPageSizes"></select><span ui-grid-one-bind-id-grid="\'items-per-page-label\'" class="ui-grid-pager-row-count-label">&nbsp;{{sizesLabel}}</span></div><span ng-if="grid.options.paginationPageSizes.length <= 1" class="ui-grid-pager-row-count-label">{{grid.options.paginationPageSize}}&nbsp;{{sizesLabel}}</span></div><div class="ui-grid-pager-count-container"><div class="ui-grid-pager-count"><span ng-show="grid.options.totalItems > 0">{{ 1 + paginationApi.getFirstRowIndex() }} <abbr ui-grid-one-bind-title="paginationThrough">- </abbr>{{ 1 + paginationApi.getLastRowIndex() }} {{paginationOf}} {{grid.options.totalItems}} {{totalItemsLabel}}</span></div></div></div>'),e.put("ui-grid/columnResizer",'<div ui-grid-column-resizer ng-if="grid.options.enableColumnResizing" class="ui-grid-column-resizer" col="col" position="right" render-index="renderIndex" unselectable="on"></div>'),e.put("ui-grid/gridFooterSelectedItems",'<span ng-if="grid.selection.selectedCount !== 0 && grid.options.enableFooterTotalSelected">({{"search.selectedItems" | t}} {{grid.selection.selectedCount}})</span>'),e.put("ui-grid/selectionHeaderCell",'<div>\x3c!-- <div class="ui-grid-vertical-bar">&nbsp;</div> --\x3e<div class="ui-grid-cell-contents" col-index="renderIndex"><ui-grid-selection-select-all-buttons ng-if="grid.options.enableSelectAll" role="checkbox" ng-model="grid.selection.selectAll"></ui-grid-selection-select-all-buttons></div></div>'),e.put("ui-grid/selectionRowHeader",'<div class="ui-grid-cell-contents ui-grid-disable-selection clickable"><ui-grid-selection-row-header-buttons></ui-grid-selection-row-header-buttons></div>'),e.put("ui-grid/selectionRowHeaderButtons",'<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok clickable" ng-class="{\'ui-grid-row-selected\': row.isSelected}" ng-click="selectButtonClick(row, $event)" ng-keydown="selectButtonKeyDown(row, $event)" role="checkbox" ng-model="row.isSelected">&nbsp;</div>'),e.put("ui-grid/selectionSelectAllButtons",'<div role="button" class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ng-class="{\'ui-grid-all-selected\': grid.selection.selectAll}" ng-click="headerButtonClick($event)" ng-keydown="headerButtonKeyDown($event)"></div>'),e.put("ui-grid/treeBaseExpandAllButtons",'<div class="ui-grid-tree-base-row-header-buttons" ng-class="headerButtonClass()" ng-click="headerButtonClick($event)"></div>'),e.put("ui-grid/treeBaseHeaderCell",'<div><div class="ui-grid-cell-contents" col-index="renderIndex"><ui-grid-tree-base-expand-all-buttons ng-if="grid.options.enableExpandAll"></ui-grid-tree-base-expand-all-buttons></div></div>'),e.put("ui-grid/treeBaseRowHeader",'<div class="ui-grid-cell-contents"><ui-grid-tree-base-row-header-buttons></ui-grid-tree-base-row-header-buttons></div>'),e.put("ui-grid/treeBaseRowHeaderButtons",'<div class="ui-grid-tree-base-row-header-buttons" ng-class="{\'ui-grid-tree-base-header\': row.treeLevel > -1 }" ng-click="treeButtonClick(row, $event)"><i ng-class="treeButtonClass(row)" ng-style="{\'padding-left\': grid.options.treeIndent * row.treeLevel + \'px\'}"></i> &nbsp;</div>'),e.put("ui-grid/cellTitleValidator",'<div class="ui-grid-cell-contents" ng-class="{invalid:grid.validate.isInvalid(row.entity,col.colDef)}" title="{{grid.validate.getTitleFormattedErrors(row.entity,col.colDef)}}">{{COL_FIELD CUSTOM_FILTERS}}</div>'),e.put("ui-grid/cellTooltipValidator",'<div class="ui-grid-cell-contents" ng-class="{invalid:grid.validate.isInvalid(row.entity,col.colDef)}" tooltip-html-unsafe="{{grid.validate.getFormattedErrors(row.entity,col.colDef)}}" tooltip-enable="grid.validate.isInvalid(row.entity,col.colDef)" tooltip-append-to-body="true" tooltip-placement="top" title="TOOLTIP">{{COL_FIELD CUSTOM_FILTERS}}</div>')}]);var timerModule=angular.module("timer",[]).directive("timer",["$compile",function(s){return{restrict:"EA",replace:!1,scope:{interval:"=interval",startTimeAttr:"=startTime",endTimeAttr:"=endTime",countdownattr:"=countdown",finishCallback:"&finishCallback",autoStart:"&autoStart",maxTimeUnit:"="},controller:["$scope","$element","$attrs","$timeout",function(n,e,t,i){function r(){n.timeoutId&&clearTimeout(n.timeoutId)}function o(){void 0!==t.startTime&&(n.millis=new Date-new Date(n.startTimeAttr)),n.maxTimeUnit&&"day"!==n.maxTimeUnit?"second"===n.maxTimeUnit?(n.seconds=Math.floor(n.millis/1e3),n.minutes=0,n.hours=0,n.days=0,n.months=0,n.years=0):"minute"===n.maxTimeUnit?(n.seconds=Math.floor(n.millis/1e3%60),n.minutes=Math.floor(n.millis/6e4),n.hours=0,n.days=0,n.months=0,n.years=0):"hour"===n.maxTimeUnit?(n.seconds=Math.floor(n.millis/1e3%60),n.minutes=Math.floor(n.millis/6e4%60),n.hours=Math.floor(n.millis/36e5),n.days=0,n.months=0,n.years=0):"month"===n.maxTimeUnit?(n.seconds=Math.floor(n.millis/1e3%60),n.minutes=Math.floor(n.millis/6e4%60),n.hours=Math.floor(n.millis/36e5%24),n.days=Math.floor(n.millis/36e5/24%30),n.months=Math.floor(n.millis/36e5/24/30),n.years=0):"year"===n.maxTimeUnit&&(n.seconds=Math.floor(n.millis/1e3%60),n.minutes=Math.floor(n.millis/6e4%60),n.hours=Math.floor(n.millis/36e5%24),n.days=Math.floor(n.millis/36e5/24%30),n.months=Math.floor(n.millis/36e5/24/30%12),n.years=Math.floor(n.millis/36e5/24/365)):(n.seconds=Math.floor(n.millis/1e3%60),n.minutes=Math.floor(n.millis/6e4%60),n.hours=Math.floor(n.millis/36e5%24),n.days=Math.floor(n.millis/36e5/24),n.months=0,n.years=0),n.secondsS=1===n.seconds||0===n.seconds?"":"s",n.minutesS=1===n.minutes||0===n.minutes?"":"s",n.hoursS=1===n.hours||0===n.hours?"":"s",n.daysS=1===n.days||0===n.days?"":"s",n.monthsS=1===n.months||0===n.months?"":"s",n.yearsS=1===n.years||0===n.years?"":"s",n.sseconds=n.seconds<10?"0"+n.seconds:n.seconds,n.mminutes=n.minutes<10?"0"+n.minutes:n.minutes,n.hhours=n.hours<10?"0"+n.hours:n.hours,n.ddays=n.days<10?"0"+n.days:n.days,n.mmonths=n.months<10?"0"+n.months:n.months,n.yyears=n.years<10?"0"+n.years:n.years}"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),n.autoStart=t.autoStart||t.autostart,e.append(0===e.html().trim().length?s("<span>{{millis}}</span>")(n):s(e.contents())(n)),n.startTime=null,n.endTime=null,n.timeoutId=null,n.countdown=n.countdownattr&&0<=parseInt(n.countdownattr,10)?parseInt(n.countdownattr,10):void 0,n.isRunning=!1,n.$on("timer-start",function(){n.start()}),n.$on("timer-resume",function(){n.resume()}),n.$on("timer-stop",function(){n.stop()}),n.$on("timer-clear",function(){n.clear()}),n.$on("timer-set-countdown",function(e,t){n.countdown=t}),n.start=e[0].start=function(){n.startTime=n.startTimeAttr?new Date(n.startTimeAttr):new Date,n.endTime=n.endTimeAttr?new Date(n.endTimeAttr):null,n.countdown||(n.countdown=n.countdownattr&&0<parseInt(n.countdownattr,10)?parseInt(n.countdownattr,10):void 0),r(),a(),n.isRunning=!0},n.resume=e[0].resume=function(){r(),n.countdownattr&&(n.countdown+=1),n.startTime=new Date-(n.stoppedTime-n.startTime),a(),n.isRunning=!0},n.stop=n.pause=e[0].stop=e[0].pause=function(){var e=n.timeoutId;n.clear(),n.$emit("timer-stopped",{timeoutId:e,millis:n.millis,seconds:n.seconds,minutes:n.minutes,hours:n.hours,days:n.days})},n.clear=e[0].clear=function(){n.stoppedTime=new Date,r(),n.timeoutId=null,n.isRunning=!1},e.bind("$destroy",function(){r(),n.isRunning=!1}),n.countdownattr?(n.millis=1e3*n.countdownattr,n.addCDSeconds=e[0].addCDSeconds=function(e){n.countdown+=e,n.$digest(),n.isRunning||n.start()},n.$on("timer-add-cd-seconds",function(e,t){i(function(){n.addCDSeconds(t)})}),n.$on("timer-set-countdown-seconds",function(e,t){n.isRunning||n.clear(),n.countdown=t,n.millis=1e3*t,o()})):n.millis=0,o();var a=function(){n.millis=new Date-n.startTime;var e=n.millis%1e3;return n.endTimeAttr&&(n.millis=n.endTime-new Date,e=n.interval-n.millis%1e3),n.countdownattr&&(n.millis=1e3*n.countdown),n.millis<0?(n.stop(),n.millis=0,o(),void(n.finishCallback&&n.$eval(n.finishCallback))):(o(),n.timeoutId=setTimeout(function(){a(),n.$digest()},n.interval-e),n.$emit("timer-tick",{timeoutId:n.timeoutId,millis:n.millis}),void(0<n.countdown?n.countdown--:n.countdown<=0&&(n.stop(),n.finishCallback&&n.$eval(n.finishCallback))))};void 0!==n.autoStart&&!0!==n.autoStart||n.start()}]}}]);"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports=timerModule),function(){function t(e){this._value=e}function y(e,t,n,i){var r,o,a,s,l=e.toString().split("."),c=t-(i||0);return r=2===l.length?Math.min(Math.max(l[1].length,c),t):c,s=(n(e*(a=Math.pow(10,r)))/a).toFixed(r),t-r<i&&(o=new RegExp("\\.?0{1,"+(i-(t-r))+"}$"),s=s.replace(o,"")),s}function n(e,t,n){return 0===e._value&&null!==w.zeroFormat?w.zeroFormat:null===e._value&&null!==w.nullFormat?w.nullFormat:-1<t.indexOf("$")?function(e,t,n){var i,r,o=t.indexOf("$"),a=t.indexOf("("),s=t.indexOf("-"),l="";return t=-1<t.indexOf(" $")?(l=" ",t.replace(" $","")):-1<t.indexOf("$ ")?(l=" ",t.replace("$ ","")):t.replace("$",""),r=c(e._value,t,n),r=o<=1?-1<r.indexOf("(")||-1<r.indexOf("-")?(r=r.split(""),i=1,(o<a||o<s)&&(i=0),r.splice(i,0,b[w.currentLanguage].currency.symbol+l),r.join("")):b[w.currentLanguage].currency.symbol+l+r:-1<r.indexOf(")")?((r=r.split("")).splice(-1,0,l+b[w.currentLanguage].currency.symbol),r.join("")):r+l+b[w.currentLanguage].currency.symbol,r}(e,t,n):-1<t.indexOf("%")?function(e,t,n){var i,r="",o=100*e._value;return t=-1<t.indexOf(" %")?(r=" ",t.replace(" %","")):t.replace("%",""),i=-1<(i=c(o,t,n)).indexOf(")")?((i=i.split("")).splice(-1,0,r+"%"),i.join("")):i+r+"%",i}(e,t,n):-1<t.indexOf(":")?function(e){var t=Math.floor(e._value/60/60),n=Math.floor((e._value-60*t*60)/60),i=Math.round(e._value-60*t*60-60*n);return t+":"+(n<10?"0"+n:n)+":"+(i<10?"0"+i:i)}(e):-1<t.indexOf("b")||-1<t.indexOf("ib")?function(e,t,n){var i,r,o,a=-1<t.indexOf("ib")?d.iec:d.bytes,s=e._value,l="";for(t=-1<t.indexOf(" b")||-1<t.indexOf(" ib")?(l=" ",t.replace(" ib","").replace(" b","")):t.replace("ib","").replace("b",""),i=0;i<=a.length;i++)if(r=Math.pow(1024,i),o=Math.pow(1024,i+1),null===s||0===s||r<=s&&s<o){l+=a[i],0<r&&(s/=r);break}return c(s,t,n)+l}(e,t,n):-1<t.indexOf("o")?function(e,t,n){var i="";return t=-1<t.indexOf(" o")?(i=" ",t.replace(" o","")):t.replace("o",""),i+=b[w.currentLanguage].ordinal(e._value),c(e._value,t,n)+i}(e,t,n):c(e._value,t,n)}function c(e,t,n){var i,r,o,a,s=!1,l=!1,c=!1,u="",d=!1,h=!1,p=!1,f=!1,g=!1,m="",v=!1;return null===e&&(e=0),i=Math.abs(e),-1<t.indexOf("(")?(s=!0,t=t.slice(1,-1)):-1<t.indexOf("+")&&(l=!0,t=t.replace(/\+/g,"")),-1<t.indexOf("a")&&(d=0<=t.indexOf("aK"),h=0<=t.indexOf("aM"),p=0<=t.indexOf("aB"),f=0<=t.indexOf("aT"),g=d||h||p||f,-1<t.indexOf(" a")&&(u=" "),t=t.replace(new RegExp(u+"a[KMBT]?"),""),i>=Math.pow(10,12)&&!g||f?(u+=b[w.currentLanguage].abbreviations.trillion,e/=Math.pow(10,12)):i<Math.pow(10,12)&&i>=Math.pow(10,9)&&!g||p?(u+=b[w.currentLanguage].abbreviations.billion,e/=Math.pow(10,9)):i<Math.pow(10,9)&&i>=Math.pow(10,6)&&!g||h?(u+=b[w.currentLanguage].abbreviations.million,e/=Math.pow(10,6)):(i<Math.pow(10,6)&&i>=Math.pow(10,3)&&!g||d)&&(u+=b[w.currentLanguage].abbreviations.thousand,e/=Math.pow(10,3))),-1<t.indexOf("[.]")&&(c=!0,t=t.replace("[.]",".")),r=e.toString().split(".")[0],o=t.split(".")[1],a=t.indexOf(","),o?(r=(m=-1<o.indexOf("[")?y(e,(o=(o=o.replace("]","")).split("["))[0].length+o[1].length,n,o[1].length):y(e,o.length,n)).split(".")[0],m=-1<m.indexOf(".")?b[w.currentLanguage].delimiters.decimal+m.split(".")[1]:"",c&&0===Number(m.slice(1))&&(m="")):r=y(e,null,n),-1<r.indexOf("-")&&(r=r.slice(1),v=!0),-1<a&&(r=r.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+b[w.currentLanguage].delimiters.thousands)),0===t.indexOf(".")&&(r=""),(s&&v?"(":"")+(!s&&v?"-":"")+(!v&&l?"+":"")+r+m+(u||"")+(s&&v?")":"")}function i(e,t){var n,i,r,o,a,s,l=t,c=!1;if(-1<t.indexOf(":"))s=function(e){var t=e.split(":"),n=0;return 3===t.length?(n+=60*Number(t[0])*60,n+=60*Number(t[1]),n+=Number(t[2])):2===t.length&&(n+=60*Number(t[0]),n+=Number(t[1])),Number(n)}(t);else if(t===w.zeroFormat||t===w.nullFormat)s=0;else{for("."!==b[w.currentLanguage].delimiters.decimal&&(t=t.replace(/\./g,"").replace(b[w.currentLanguage].delimiters.decimal,".")),n=new RegExp("[^a-zA-Z]"+b[w.currentLanguage].abbreviations.thousand+"(?:\\)|(\\"+b[w.currentLanguage].currency.symbol+")?(?:\\))?)?$"),i=new RegExp("[^a-zA-Z]"+b[w.currentLanguage].abbreviations.million+"(?:\\)|(\\"+b[w.currentLanguage].currency.symbol+")?(?:\\))?)?$"),r=new RegExp("[^a-zA-Z]"+b[w.currentLanguage].abbreviations.billion+"(?:\\)|(\\"+b[w.currentLanguage].currency.symbol+")?(?:\\))?)?$"),o=new RegExp("[^a-zA-Z]"+b[w.currentLanguage].abbreviations.trillion+"(?:\\)|(\\"+b[w.currentLanguage].currency.symbol+")?(?:\\))?)?$"),a=1;a<=d.bytes.length&&!(c=(-1<t.indexOf(d.bytes[a])||-1<t.indexOf(d.iec[a]))&&Math.pow(1024,a));a++);s=c||1,s*=l.match(n)?Math.pow(10,3):1,s*=l.match(i)?Math.pow(10,6):1,s*=l.match(r)?Math.pow(10,9):1,s*=l.match(o)?Math.pow(10,12):1,s*=-1<t.indexOf("%")?.01:1,s*=(t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1,s*=Number(t.replace(/[^0-9\.]+/g,"")),s=c?Math.ceil(s):s}return e._value=s,e._value}function r(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)}function o(){return Array.prototype.slice.call(arguments).reduce(function(e,t){var n=r(e),i=r(t);return i<n?n:i},-1/0)}var u,b={},a={currentLanguage:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0"},w={currentLanguage:a.currentLanguage,zeroFormat:a.zeroFormat,nullFormat:a.nullFormat,defaultFormat:a.defaultFormat},d={bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],iec:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]};(u=function(e){return new t(e=u.isNumeral(e)?e.value():0===e||void 0===e?0:null===e?null:Number(e)?Number(e):u.fn.unformat(e))}).version="1.5.5",u.isNumeral=function(e){return e instanceof t},u.language=function(e,t){if(!e)return w.currentLanguage;if((e=e.toLowerCase())&&!t){if(!b[e])throw new Error("Unknown language : "+e);w.currentLanguage=e}return!t&&b[e]||function(e,t){b[e]=t}(e,t),u},u.reset=function(){for(var e in a)w[e]=a[e]},u.languageData=function(e){if(!e)return b[w.currentLanguage];if(!b[e])throw new Error("Unknown language : "+e);return b[e]},u.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1==~~(e%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th"},currency:{symbol:"$"}}),u.zeroFormat=function(e){w.zeroFormat="string"==typeof e?e:null},u.nullFormat=function(e){w.nullFormat="string"==typeof e?e:null},u.defaultFormat=function(e){w.defaultFormat="string"==typeof e?e:"0.0"},u.validate=function(e,t){var n,i,r,o,a,s,l,c;if("string"!=typeof e&&(e+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",e)),(e=e.trim()).match(/^\d+$/))return!0;if(""===e)return!1;try{l=u.languageData(t)}catch(e){l=u.languageData(u.language())}return r=l.currency.symbol,a=l.abbreviations,n=l.delimiters.decimal,i="."===l.delimiters.thousands?"\\.":l.delimiters.thousands,(null===(c=e.match(/^[^\d]+/))||(e=e.substr(1),c[0]===r))&&((null===(c=e.match(/[^\d]+$/))||(e=e.slice(0,-1),c[0]===a.thousand||c[0]===a.million||c[0]===a.billion||c[0]===a.trillion))&&(s=new RegExp(i+"{2}"),!e.match(/[^\d.,]/g)&&(!(2<(o=e.split(n)).length)&&(o.length<2?!!o[0].match(/^\d+.*\d$/)&&!o[0].match(s):1===o[0].length?!!o[0].match(/^\d+$/)&&!o[0].match(s)&&!!o[1].match(/^\d+$/):!!o[0].match(/^\d+.*\d$/)&&!o[0].match(s)&&!!o[1].match(/^\d+$/)))))},Array.prototype.reduce||(Array.prototype.reduce=function(e){"use strict";if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var t,n=Object(this),i=n.length>>>0,r=0;if(2===arguments.length)t=arguments[1];else{for(;r<i&&!(r in n);)r++;if(i<=r)throw new TypeError("Reduce of empty array with no initial value");t=n[r++]}for(;r<i;r++)r in n&&(t=e(t,n[r],r,n));return t}),u.fn=t.prototype={clone:function(){return u(this)},format:function(e,t){return n(this,e||w.defaultFormat,void 0!==t?t:Math.round)},unformat:function(e){return"[object Number]"===Object.prototype.toString.call(e)?e:i(this,e||w.defaultFormat)},value:function(){return this._value},valueOf:function(){return this._value},set:function(e){return this._value=Number(e),this},add:function(e){var r=o.call(null,this._value,e);return this._value=[this._value,e].reduce(function(e,t,n,i){return e+r*t},0)/r,this},subtract:function(e){var r=o.call(null,this._value,e);return this._value=[e].reduce(function(e,t,n,i){return e-r*t},this._value*r)/r,this},multiply:function(e){return this._value=[this._value,e].reduce(function(e,t,n,i){var r=o(e,t);return e*r*(t*r)/(r*r)},1),this},divide:function(e){return this._value=[this._value,e].reduce(function(e,t,n,i){var r=o(e,t);return e*r/(t*r)}),this},difference:function(e){return Math.abs(u(this._value).subtract(e).value())}},"undefined"!=typeof module&&module.exports&&(module.exports=u),"undefined"==typeof ender&&(this.numeral=u),"function"==typeof define&&define.amd&&define([],function(){return u})}.call(this),function(){var h={VERSION:"2.3.5",Result:{SUCCEEDED:1,NOTRANSITION:2,CANCELLED:3,PENDING:4},Error:{INVALID_TRANSITION:100,PENDING_TRANSITION:200,INVALID_CALLBACK:300},WILDCARD:"*",ASYNC:"async",create:function(e,t){function n(e){var t=e.from instanceof Array?e.from:e.from?[e.from]:[h.WILDCARD];l[e.name]=l[e.name]||{};for(var n=0;n<t.length;n++)c[t[n]]=c[t[n]]||[],c[t[n]].push(e.name),l[e.name][t[n]]=e.to||t[n]}var i="string"==typeof e.initial?{state:e.initial}:e.initial,r=e.terminal||e.final,o=t||e.target||{},a=e.events||[],s=e.callbacks||{},l={},c={};i&&(i.event=i.event||"startup",n({name:i.event,from:"none",to:i.state}));for(var u=0;u<a.length;u++)n(a[u]);for(var d in l)l.hasOwnProperty(d)&&(o[d]=h.buildEvent(d,l[d]));for(var d in s)s.hasOwnProperty(d)&&(o[d]=s[d]);return o.current="none",o.is=function(e){return e instanceof Array?0<=e.indexOf(this.current):this.current===e},o.can=function(e){return!this.transition&&(l[e].hasOwnProperty(this.current)||l[e].hasOwnProperty(h.WILDCARD))},o.cannot=function(e){return!this.can(e)},o.transitions=function(){return c[this.current]},o.isFinished=function(){return this.is(r)},o.error=e.error||function(e,t,n,i,r,o,a){throw a||o},i&&!i.defer&&o[i.event](),o},doCallback:function(t,e,n,i,r,o){if(e)try{return e.apply(t,[n,i,r].concat(o))}catch(e){return t.error(n,i,r,o,h.Error.INVALID_CALLBACK,"an exception occurred in a caller-provided callback function",e)}},beforeAnyEvent:function(e,t,n,i,r){return h.doCallback(e,e.onbeforeevent,t,n,i,r)},afterAnyEvent:function(e,t,n,i,r){return h.doCallback(e,e.onafterevent||e.onevent,t,n,i,r)},leaveAnyState:function(e,t,n,i,r){return h.doCallback(e,e.onleavestate,t,n,i,r)},enterAnyState:function(e,t,n,i,r){return h.doCallback(e,e.onenterstate||e.onstate,t,n,i,r)},changeState:function(e,t,n,i,r){return h.doCallback(e,e.onchangestate,t,n,i,r)},beforeThisEvent:function(e,t,n,i,r){return h.doCallback(e,e["onbefore"+t],t,n,i,r)},afterThisEvent:function(e,t,n,i,r){return h.doCallback(e,e["onafter"+t]||e["on"+t],t,n,i,r)},leaveThisState:function(e,t,n,i,r){return h.doCallback(e,e["onleave"+n],t,n,i,r)},enterThisState:function(e,t,n,i,r){return h.doCallback(e,e["onenter"+i]||e["on"+i],t,n,i,r)},beforeEvent:function(e,t,n,i,r){if(!1===h.beforeThisEvent(e,t,n,i,r)||!1===h.beforeAnyEvent(e,t,n,i,r))return!1},afterEvent:function(e,t,n,i,r){h.afterThisEvent(e,t,n,i,r),h.afterAnyEvent(e,t,n,i,r)},leaveState:function(e,t,n,i,r){var o=h.leaveThisState(e,t,n,i,r),a=h.leaveAnyState(e,t,n,i,r);return!1!==o&&!1!==a&&(h.ASYNC===o||h.ASYNC===a?h.ASYNC:void 0)},enterState:function(e,t,n,i,r){h.enterThisState(e,t,n,i,r),h.enterAnyState(e,t,n,i,r)},buildEvent:function(o,a){return function(){var e=this.current,t=a[e]||a[h.WILDCARD]||e,n=Array.prototype.slice.call(arguments);if(this.transition)return this.error(o,e,t,n,h.Error.PENDING_TRANSITION,"event "+o+" inappropriate because previous transition did not complete");if(this.cannot(o))return this.error(o,e,t,n,h.Error.INVALID_TRANSITION,"event "+o+" inappropriate in current state "+this.current);if(!1===h.beforeEvent(this,o,e,t,n))return h.Result.CANCELLED;if(e===t)return h.afterEvent(this,o,e,t,n),h.Result.NOTRANSITION;var i=this;this.transition=function(){return i.transition=null,i.current=t,h.enterState(i,o,e,t,n),h.changeState(i,o,e,t,n),h.afterEvent(i,o,e,t,n),h.Result.SUCCEEDED},this.transition.cancel=function(){i.transition=null,h.afterEvent(i,o,e,t,n)};var r=h.leaveState(this,o,e,t,n);return!1===r?(this.transition=null,h.Result.CANCELLED):h.ASYNC===r?h.Result.PENDING:this.transition?this.transition():void 0}}};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=h),exports.StateMachine=h):"function"==typeof define&&define.amd?define(function(e){return h}):"undefined"!=typeof window?window.StateMachine=h:"undefined"!=typeof self&&(self.StateMachine=h)}(),window.matchMedia||(window.matchMedia=function(){"use strict";var t=window.styleMedia||window.media;if(!t){var n,i=document.createElement("style"),e=document.getElementsByTagName("script")[0];i.type="text/css",i.id="matchmediajs-test",e.parentNode.insertBefore(i,e),n="getComputedStyle"in window&&window.getComputedStyle(i,null)||i.currentStyle,t={matchMedium:function(e){var t="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return i.styleSheet?i.styleSheet.cssText=t:i.textContent=t,"1px"===n.width}}}return function(e){return{matches:t.matchMedium(e||"all"),media:e||"all"}}}()),function(c,u,e){"use strict";function t(e){"object"==typeof module&&"object"==typeof module.exports?module.exports=e:"function"==typeof define&&define.amd&&define("picturefill",function(){return e}),"object"==typeof c&&(c.picturefill=e)}function r(e){for(var t,n,i,r,o,a=e||{},s=0,l=(t=a.elements||d.getAllElements()).length;s<l;s++)if(i=(n=t[s]).parentNode,o=r=void 0,"IMG"===n.nodeName.toUpperCase()&&(n[d.ns]||(n[d.ns]={}),a.reevaluate||!n[d.ns].evaluated)){if(i&&"PICTURE"===i.nodeName.toUpperCase()){if(d.removeVideoShim(i),!1===(r=d.getMatch(n,i)))continue}else r=void 0;(i&&"PICTURE"===i.nodeName.toUpperCase()||!d.sizesSupported&&n.srcset&&h.test(n.srcset))&&d.dodgeSrcset(n),r?(o=d.processSourceSet(r),d.applyBestCandidate(o,n)):(o=d.processSourceSet(n),void 0!==n.srcset&&!n[d.ns].srcset||d.applyBestCandidate(o,n)),n[d.ns].evaluated=!0}}if(c.HTMLPictureElement)t(function(){});else{u.createElement("picture");var i,n,d=c.picturefill||{},h=/\s+\+?\d+(e\d+)?w/;d.ns="picturefill",d.srcsetSupported="srcset"in e,d.sizesSupported="sizes"in e,d.curSrcSupported="currentSrc"in e,d.trim=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},d.makeUrl=(n=u.createElement("a"),function(e){return n.href=e,n.href}),d.restrictsMixedContent=function(){return"https:"===c.location.protocol},d.matchesMedia=function(e){return c.matchMedia&&c.matchMedia(e).matches},d.getDpr=function(){return c.devicePixelRatio||1},d.getWidthFromLength=function(e){var t;if(!e||-1<e.indexOf("%")!=0||!(0<parseFloat(e)||-1<e.indexOf("calc(")))return!1;e=e.replace("vw","%"),d.lengthEl||(d.lengthEl=u.createElement("div"),d.lengthEl.style.cssText="border:0;display:block;font-size:1em;left:0;margin:0;padding:0;position:absolute;visibility:hidden",d.lengthEl.className="helper-from-picturefill-js"),d.lengthEl.style.width="0px";try{d.lengthEl.style.width=e}catch(e){}return u.body.appendChild(d.lengthEl),(t=d.lengthEl.offsetWidth)<=0&&(t=!1),u.body.removeChild(d.lengthEl),t},d.detectTypeSupport=function(e,t){var n=new c.Image;return n.onerror=function(){d.types[e]=!1,r()},n.onload=function(){d.types[e]=1===n.width,r()},n.src=t,"pending"},d.types=d.types||{},d.initTypeDetects=function(){d.types["image/jpeg"]=!0,d.types["image/gif"]=!0,d.types["image/png"]=!0,d.types["image/svg+xml"]=u.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),d.types["image/webp"]=d.detectTypeSupport("image/webp","data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=")},d.verifyTypeSupport=function(e){var t=e.getAttribute("type");if(null===t||""===t)return!0;var n=d.types[t];return"string"==typeof n&&"pending"!==n?(d.types[t]=d.detectTypeSupport(t,n),"pending"):"function"==typeof n?(n(),"pending"):n},d.parseSize=function(e){var t=/(\([^)]+\))?\s*(.+)/g.exec(e);return{media:t&&t[1],length:t&&t[2]}},d.findWidthFromSourceSize=function(e){for(var t,n=d.trim(e).split(/\s*,\s*/),i=0,r=n.length;i<r;i++){var o=n[i],a=d.parseSize(o),s=a.length,l=a.media;if(s&&(!l||d.matchesMedia(l))&&(t=d.getWidthFromLength(s)))break}return t||Math.max(c.innerWidth||0,u.documentElement.clientWidth)},d.parseSrcset=function(e){for(var t=[];""!==e;){var n,i=(e=e.replace(/^\s+/g,"")).search(/\s/g),r=null;if(-1!==i){if(","!==(n=e.slice(0,i)).slice(-1)&&""!==n||(n=n.replace(/,+$/,""),r=""),e=e.slice(i+1),null===r){var o=e.indexOf(",");e=-1!==o?(r=e.slice(0,o),e.slice(o+1)):(r=e,"")}}else n=e,e="";(n||r)&&t.push({url:n,descriptor:r})}return t},d.parseDescriptor=function(e,t){var n,i=t||"100vw",r=e&&e.replace(/(^\s+|\s+$)/g,""),o=d.findWidthFromSourceSize(i);if(r)for(var a=r.split(" "),s=a.length-1;0<=s;s--){var l=a[s],c=l&&l.slice(l.length-1);if("h"!==c&&"w"!==c||d.sizesSupported){if("x"===c){var u=l&&parseFloat(l,10);n=u&&!isNaN(u)?u:1}}else n=parseFloat(parseInt(l,10)/o)}return n||1},d.getCandidatesFromSourceSet=function(e,t){for(var n=d.parseSrcset(e),i=[],r=0,o=n.length;r<o;r++){var a=n[r];i.push({url:a.url,resolution:d.parseDescriptor(a.descriptor,t)})}return i},d.dodgeSrcset=function(e){e.srcset&&(e[d.ns].srcset=e.srcset,e.srcset="",e.setAttribute("data-pfsrcset",e[d.ns].srcset))},d.processSourceSet=function(e){var t=e.getAttribute("srcset"),n=e.getAttribute("sizes"),i=[];return"IMG"===e.nodeName.toUpperCase()&&e[d.ns]&&e[d.ns].srcset&&(t=e[d.ns].srcset),t&&(i=d.getCandidatesFromSourceSet(t,n)),i},d.backfaceVisibilityFix=function(e){var t=e.style||{},n="webkitBackfaceVisibility"in t,i=t.zoom;n&&(t.zoom=".999",n=e.offsetWidth,t.zoom=i)},d.setIntrinsicSize=(i={},function(e,t){var n;e[d.ns]&&!c.pfStopIntrinsicSize&&(void 0===e[d.ns].dims&&(e[d.ns].dims=e.getAttribute("width")||e.getAttribute("height")),e[d.ns].dims||(t.url in i?o(e,i[t.url],t.resolution):((n=u.createElement("img")).onload=function(){if(i[t.url]=n.width,!i[t.url])try{u.body.appendChild(n),i[t.url]=n.width||n.offsetWidth,u.body.removeChild(n)}catch(e){}e.src===t.url&&o(e,i[t.url],t.resolution),e=null,n.onload=null,n=null},n.src=t.url)))}),d.applyBestCandidate=function(e,t){var n,i,r;e.sort(d.ascendingSort),r=e[(i=e.length)-1];for(var o=0;o<i;o++)if((n=e[o]).resolution>=d.getDpr()){r=n;break}r&&(r.url=d.makeUrl(r.url),t.src!==r.url&&(d.restrictsMixedContent()&&"http:"===r.url.substr(0,"http:".length).toLowerCase()?void 0!==window.console&&console.warn("Blocked mixed content image "+r.url):(t.src=r.url,d.curSrcSupported||(t.currentSrc=t.src),d.backfaceVisibilityFix(t))),d.setIntrinsicSize(t,r))},d.ascendingSort=function(e,t){return e.resolution-t.resolution},d.removeVideoShim=function(e){var t=e.getElementsByTagName("video");if(t.length){for(var n=t[0],i=n.getElementsByTagName("source");i.length;)e.insertBefore(i[0],n);n.parentNode.removeChild(n)}},d.getAllElements=function(){for(var e=[],t=u.getElementsByTagName("img"),n=0,i=t.length;n<i;n++){var r=t[n];("PICTURE"===r.parentNode.nodeName.toUpperCase()||null!==r.getAttribute("srcset")||r[d.ns]&&null!==r[d.ns].srcset)&&e.push(r)}return e},d.getMatch=function(e,t){for(var n,i=t.childNodes,r=0,o=i.length;r<o;r++){var a=i[r];if(1===a.nodeType){if(a===e)return n;if("SOURCE"===a.nodeName.toUpperCase()){null!==a.getAttribute("src")&&console.warn("The `src` attribute is invalid on `picture` `source` element; instead, use `srcset`.");var s=a.getAttribute("media");if(a.getAttribute("srcset")&&(!s||d.matchesMedia(s))){var l=d.verifyTypeSupport(a);if(!0===l){n=a;break}if("pending"===l)return!1}}}}return n},function(){function e(){clearTimeout(n),n=setTimeout(t,60)}function t(){r({reevaluate:!0})}d.initTypeDetects(),r();var n,i=setInterval(function(){return r(),/^loaded|^i|^c/.test(u.readyState)?void clearInterval(i):void 0},250);c.addEventListener?c.addEventListener("resize",e,!1):c.attachEvent&&c.attachEvent("onresize",e)}(),r._=d,t(r)}function o(e,t,n){t&&e.setAttribute("width",parseInt(t/n,10))}}(window,window.document,new window.Image),angular.module("ivpusic.cookie",["ipCookie"]),angular.module("ipCookie",["ng"]).factory("ipCookie",["$document",function(f){"use strict";function g(e){try{return decodeURIComponent(e)}catch(e){}}return i.remove=function(e,t){var n=void 0!==i(e);return n&&((t=t||{}).expires=-1,i(e,"",t)),n},i;function i(e,t,n){var i,r,o,a,s,l,c,u,d,h=(n=n||{}).decode||g,p=n.encode||encodeURIComponent;if(void 0!==t)return t="object"==typeof t?JSON.stringify(t):String(t),"number"==typeof n.expires&&(d=n.expires,n.expires=new Date,-1===d?n.expires=new Date("Thu, 01 Jan 1970 00:00:00 GMT"):void 0!==n.expirationUnit?"hours"===n.expirationUnit?n.expires.setHours(n.expires.getHours()+d):"minutes"===n.expirationUnit?n.expires.setMinutes(n.expires.getMinutes()+d):"seconds"===n.expirationUnit?n.expires.setSeconds(n.expires.getSeconds()+d):"milliseconds"===n.expirationUnit?n.expires.setMilliseconds(n.expires.getMilliseconds()+d):n.expires.setDate(n.expires.getDate()+d):n.expires.setDate(n.expires.getDate()+d)),f[0].cookie=[p(e),"=",p(t),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("");for(r=[],(u=f[0].cookie)&&(r=u.split("; ")),c=!(i={}),o=0;o<r.length;++o)if(r[o]){if(s=(a=r[o]).indexOf("="),l=a.substring(0,s),t=h(a.substring(s+1)),angular.isUndefined(t))continue;if(void 0===e||e===l){try{i[l]=JSON.parse(t)}catch(e){i[l]=t}if(e===l)return i[l];c=!0}}return c&&void 0===e?i:void 0}}]),function(r,d){"use strict";var h="function",p="undefined",f="object",e="model",t="name",n="type",i="vendor",o="version",a="architecture",s="console",l="mobile",c="tablet",u="smarttv",g="wearable",m={extend:function(e,t){for(var n in t)-1!=="browser cpu device engine os".indexOf(n)&&t[n].length%2==0&&(e[n]=t[n].concat(e[n]));return e},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.split(".")[0]:d}},v={rgx:function(){for(var e,t,n,i,r,o,a,s=0,l=arguments;s<l.length&&!o;){var c=l[s],u=l[s+1];if(typeof e==p)for(i in e={},u)u.hasOwnProperty(i)&&(typeof(r=u[i])==f?e[r[0]]=d:e[r]=d);for(t=n=0;t<c.length&&!o;)if(o=c[t++].exec(this.getUA()))for(i=0;i<u.length;i++)a=o[++n],typeof(r=u[i])==f&&0<r.length?2==r.length?typeof r[1]==h?e[r[0]]=r[1].call(this,a):e[r[0]]=r[1]:3==r.length?typeof r[1]!=h||r[1].exec&&r[1].test?e[r[0]]=a?a.replace(r[1],r[2]):d:e[r[0]]=a?r[1].call(this,a,r[2]):d:4==r.length&&(e[r[0]]=a?r[3].call(this,a.replace(r[1],r[2])):d):e[r]=a||d;s+=2}return e},str:function(e,t){for(var n in t)if(typeof t[n]==f&&0<t[n].length){for(var i=0;i<t[n].length;i++)if(m.has(t[n][i],e))return"?"===n?d:n}else if(m.has(t[n],e))return"?"===n?d:n;return e}},y={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},b={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[t,o],[/\s(opr)\/([\w\.]+)/i],[[t,"Opera"],o],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs)\/([\w\.-]+)/i],[t,o],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[t,"IE"],o],[/(edge)\/((\d+)?[\w\.]+)/i],[t,o],[/(yabrowser)\/([\w\.]+)/i],[[t,"Yandex"],o],[/(comodo_dragon)\/([\w\.]+)/i],[[t,/_/g," "],o],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(qqbrowser)[\/\s]?([\w\.]+)/i],[t,o],[/(uc\s?browser)[\/\s]?([\w\.]+)/i,/ucweb.+(ucbrowser)[\/\s]?([\w\.]+)/i,/JUC.+(ucweb)[\/\s]?([\w\.]+)/i],[[t,"UCBrowser"],o],[/(dolfin)\/([\w\.]+)/i],[[t,"Dolphin"],o],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[t,"Chrome"],o],[/XiaoMi\/MiuiBrowser\/([\w\.]+)/i],[o,[t,"MIUI Browser"]],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)/i],[o,[t,"Android Browser"]],[/FBAV\/([\w\.]+);/i],[o,[t,"Facebook"]],[/fxios\/([\w\.-]+)/i],[o,[t,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[o,[t,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[o,t],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[t,[o,v.str,y.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[t,o],[/(navigator|netscape)\/([\w\.-]+)/i],[[t,"Netscape"],o],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[t,o]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[a,"amd64"]],[/(ia32(?=;))/i],[[a,m.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[a,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[a,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[a,/ower/,"",m.lowerize]],[/(sun4\w)[;\)]/i],[[a,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[a,m.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[e,i,[n,c]],[/applecoremedia\/[\w\.]+ \((ipad)/],[e,[i,"Apple"],[n,c]],[/(apple\s{0,1}tv)/i],[[e,"Apple TV"],[i,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[i,e,[n,c]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[e,[i,"Amazon"],[n,c]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[e,v.str,y.device.amazon.model],[i,"Amazon"],[n,l]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[e,i,[n,l]],[/\((ip[honed|\s\w*]+);/i],[e,[i,"Apple"],[n,l]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[i,e,[n,l]],[/\(bb10;\s(\w+)/i],[e,[i,"BlackBerry"],[n,l]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7)/i],[e,[i,"Asus"],[n,c]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[i,"Sony"],[e,"Xperia Tablet"],[n,c]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[[i,"Sony"],[e,"Xperia Phone"],[n,l]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[i,e,[n,s]],[/android.+;\s(shield)\sbuild/i],[e,[i,"Nvidia"],[n,s]],[/(playstation\s[34portablevi]+)/i],[e,[i,"Sony"],[n,s]],[/(sprint\s(\w+))/i],[[i,v.str,y.device.sprint.vendor],[e,v.str,y.device.sprint.model],[n,l]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[i,e,[n,c]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[i,[e,/_/g," "],[n,l]],[/(nexus\s9)/i],[e,[i,"HTC"],[n,c]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[e,[i,"Microsoft"],[n,s]],[/(kin\.[onetw]{3})/i],[[e,/\./g," "],[i,"Microsoft"],[n,l]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s[6])/i],[e,[i,"Motorola"],[n,l]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[e,[i,"Motorola"],[n,c]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n8000|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[i,"Samsung"],e,[n,c]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-n900))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[i,"Samsung"],e,[n,l]],[/(samsung);smarttv/i],[i,e,[n,u]],[/\(dtv[\);].+(aquos)/i],[e,[i,"Sharp"],[n,u]],[/sie-(\w+)*/i],[e,[i,"Siemens"],[n,l]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[i,"Nokia"],e,[n,l]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[e,[i,"Acer"],[n,c]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[i,"LG"],e,[n,c]],[/(lg) netcast\.tv/i],[i,e,[n,u]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[e,[i,"LG"],[n,l]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[e,[i,"Lenovo"],[n,c]],[/linux;.+((jolla));/i],[i,e,[n,l]],[/((pebble))app\/[\d\.]+\s/i],[i,e,[n,g]],[/android.+;\s(glass)\s\d/i],[e,[i,"Google"],[n,g]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus)?[\s_]*(?:\d\w)?)\s+build/i],[[e,/_/g," "],[i,"Xiaomi"],[n,l]],[/\s(tablet)[;\/\s]/i,/\s(mobile)[;\/\s]/i],[[n,m.lowerize],i,e]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[o,[t,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[t,o],[/rv\:([\w\.]+).*(gecko)/i],[o,t]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[t,o],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[t,[o,v.str,y.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[t,"Windows"],[o,v.str,y.os.windows.version]],[/\((bb)(10);/i],[[t,"BlackBerry"],o],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[t,o],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[t,"Symbian"],o],[/\((series40);/i],[t],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[t,"Firefox OS"],o],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[t,o],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[t,"Chromium OS"],o],[/(sunos)\s?([\w\.]+\d)*/i],[[t,"Solaris"],o],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[t,o],[/(ip[honead]+)(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i],[[t,"iOS"],[o,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[t,"Mac OS"],[o,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[t,o]]},w=function(e,t){if(!(this instanceof w))return new w(e,t).getResult();var n=e||(r&&r.navigator&&r.navigator.userAgent?r.navigator.userAgent:""),i=t?m.extend(b,t):b;return this.getBrowser=function(){var e=v.rgx.apply(this,i.browser);return e.major=m.major(e.version),e},this.getCPU=function(){return v.rgx.apply(this,i.cpu)},this.getDevice=function(){return v.rgx.apply(this,i.device)},this.getEngine=function(){return v.rgx.apply(this,i.engine)},this.getOS=function(){return v.rgx.apply(this,i.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=e,this},this.setUA(n),this};w.VERSION="0.7.10",w.BROWSER={NAME:t,MAJOR:"major",VERSION:o},w.CPU={ARCHITECTURE:a},w.DEVICE={MODEL:e,VENDOR:i,TYPE:n,CONSOLE:s,MOBILE:l,SMARTTV:u,TABLET:c,WEARABLE:g,EMBEDDED:"embedded"},w.ENGINE={NAME:t,VERSION:o},w.OS={NAME:t,VERSION:o},typeof exports!=p?(typeof module!=p&&module.exports&&(exports=module.exports=w),exports.UAParser=w):typeof define==h&&define.amd?define(function(){return w}):r.UAParser=w;var x=r.jQuery||r.Zepto;if(typeof x!=p){var C=new w;x.ua=C.getResult(),x.ua.get=function(){return C.getUA()},x.ua.set=function(e){C.setUA(e);var t=C.getResult();for(var n in t)x.ua[n]=t[n]}}}("object"==typeof window?window:this),function(e,t){"function"==typeof define&&define.amd?define(function(){return t(e)}):"object"==typeof module&&module.exports?module.exports=t(e):e.bodymovin=t(e)}(window||{},function(window){function ProjectInterface(){return{}}function roundValues(e){bm_rnd=e?Math.round:function(e){return e}}function roundTo2Decimals(e){return Math.round(1e4*e)/1e4}function roundTo3Decimals(e){return Math.round(100*e)/100}function styleDiv(e){e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.display="block",e.style.transformOrigin=e.style.webkitTransformOrigin="0 0",e.style.backfaceVisibility=e.style.webkitBackfaceVisibility="visible",e.style.transformStyle=e.style.webkitTransformStyle=e.style.mozTransformStyle="preserve-3d"}function styleUnselectableDiv(e){e.style.userSelect="none",e.style.MozUserSelect="none",e.style.webkitUserSelect="none",e.style.oUserSelect="none"}function BMEnterFrameEvent(e,t,n,i){this.type=e,this.currentTime=t,this.totalTime=n,this.direction=i<0?-1:1}function BMCompleteEvent(e,t){this.type=e,this.direction=t<0?-1:1}function BMCompleteLoopEvent(e,t,n,i){this.type=e,this.currentLoop=t,this.totalLoops=n,this.direction=i<0?-1:1}function BMSegmentStartEvent(e,t,n){this.type=e,this.firstFrame=t,this.totalFrames=n}function BMDestroyEvent(e,t){this.type=e,this.target=t}function _addEventListener(e,t){return this._cbs[e]||(this._cbs[e]=[]),this._cbs[e].push(t),function(){this.removeEventListener(e,t)}.bind(this)}function _removeEventListener(e,t){if(t){if(this._cbs[e]){for(var n=0,i=this._cbs[e].length;n<i;)this._cbs[e][n]===t&&(this._cbs[e].splice(n,1),n-=1,i-=1),n+=1;this._cbs[e].length||(this._cbs[e]=null)}}else this._cbs[e]=null}function _triggerEvent(e,t){if(this._cbs[e])for(var n=this._cbs[e].length,i=0;i<n;i++)this._cbs[e][i](t)}function randomString(e,t){void 0===t&&(t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890");var n,i="";for(n=e;0<n;--n)i+=t[Math.round(Math.random()*(t.length-1))];return i}function HSVtoRGB(e,t,n){var i,r,o,a,s,l,c,u;switch(1===arguments.length&&(t=e.s,n=e.v,e=e.h),l=n*(1-t),c=n*(1-(s=6*e-(a=Math.floor(6*e)))*t),u=n*(1-(1-s)*t),a%6){case 0:i=n,r=u,o=l;break;case 1:i=c,r=n,o=l;break;case 2:i=l,r=n,o=u;break;case 3:i=l,r=c,o=n;break;case 4:i=u,r=l,o=n;break;case 5:i=n,r=l,o=c}return[i,r,o]}function RGBtoHSV(e,t,n){1===arguments.length&&(t=e.g,n=e.b,e=e.r);var i,r=Math.max(e,t,n),o=Math.min(e,t,n),a=r-o,s=0===r?0:a/r,l=r/255;switch(r){case o:i=0;break;case e:i=t-n+a*(t<n?6:0),i/=6*a;break;case t:i=n-e+2*a,i/=6*a;break;case n:i=e-t+4*a,i/=6*a}return[i,s,l]}function addSaturationToRGB(e,t){var n=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return n[1]+=t,1<n[1]?n[1]=1:n[1]<=0&&(n[1]=0),HSVtoRGB(n[0],n[1],n[2])}function addBrightnessToRGB(e,t){var n=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return n[2]+=t,1<n[2]?n[2]=1:n[2]<0&&(n[2]=0),HSVtoRGB(n[0],n[1],n[2])}function addHueToRGB(e,t){var n=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return n[0]+=t/360,1<n[0]?n[0]-=1:n[0]<0&&(n[0]+=1),HSVtoRGB(n[0],n[1],n[2])}function componentToHex(e){var t=e.toString(16);return 1==t.length?"0"+t:t}function fillToRgba(e,t){if(!cachedColors[e]){var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);cachedColors[e]=parseInt(n[1],16)+","+parseInt(n[2],16)+","+parseInt(n[3],16)}return"rgba("+cachedColors[e]+","+t+")"}function RenderedFrame(e,t){this.tr=e,this.o=t}function iterateDynamicProperties(e){var t,n=this.dynamicProperties;for(t=0;t<n;t+=1)this.dynamicProperties[t].getValue(e)}function reversePath(e){var t,n,i=[],r=[],o=[],a={},s=0;e.c&&(i[0]=e.o[0],r[0]=e.i[0],o[0]=e.v[0],s=1);var l=(n=e.i.length)-1;for(t=s;t<n;t+=1)i.push(e.o[l]),r.push(e.i[l]),o.push(e.v[l]),l-=1;return a.i=i,a.o=r,a.v=o,a}function Matrix(){}function createElement(e,t,n){if(!t){var i=Object.create(e.prototype,n);return i&&"[object Function]"==={}.toString.call(i.init)&&i.init(),i}t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).prototype._parent=e.prototype}function extendPrototype(e,t){for(var n in e.prototype)e.prototype.hasOwnProperty(n)&&(t.prototype[n]=e.prototype[n])}function bezFunction(){function v(e,t,n,i,r,o){var a=e*i+t*r+n*o-r*i-o*e-n*t;return-1e-4<a&&a<1e-4}function y(e){this.segmentLength=0,this.points=new Array(e)}function b(e,t){this.partialLength=e,this.point=t}function f(e,t){var n=t.segments,i=n.length,r=bm_floor((i-1)*e),o=e*t.addedLength,a=0;if(o==n[r].l)return n[r].p;for(var s=n[r].l>o?-1:1,l=!0;l;)n[r].l<=o&&n[r+1].l>o?(a=(o-n[r].l)/(n[r+1].l-n[r].l),l=!1):r+=s,(r<0||i-1<=r)&&(l=!1);return n[r].p+(n[r+1].p-n[r].p)*a}function g(){this.pt1=new Array(2),this.pt2=new Array(2),this.pt3=new Array(2),this.pt4=new Array(2)}var w,c=(Math,function(e,t,n,i){var r,o,a,s,l,c,u=defaultCurveSegments,d=0,h=[],p=[],f={addedLength:0,segments:[]};for(a=n.length,r=0;r<u;r+=1){for(l=r/(u-1),o=c=0;o<a;o+=1)s=bm_pow(1-l,3)*e[o]+3*bm_pow(1-l,2)*l*n[o]+3*(1-l)*bm_pow(l,2)*i[o]+bm_pow(l,3)*t[o],h[o]=s,null!==p[o]&&(c+=bm_pow(h[o]-p[o],2)),p[o]=h[o];c&&(d+=c=bm_sqrt(c)),f.segments.push(new m(d,l))}return f.addedLength=d,f}),e=(w={},function(e){var t=e.s,n=e.e,i=e.to,r=e.ti,o=(t.join("_")+"_"+n.join("_")+"_"+i.join("_")+"_"+r.join("_")).replace(/\./g,"p");if(w[o])e.bezierData=w[o];else{var a,s,l,c,u,d,h,p=defaultCurveSegments,f=0,g=null;2===t.length&&(t[0]!=n[0]||t[1]!=n[1])&&v(t[0],t[1],n[0],n[1],t[0]+i[0],t[1]+i[1])&&v(t[0],t[1],n[0],n[1],n[0]+r[0],n[1]+r[1])&&(p=2);var m=new y(p);for(l=i.length,a=0;a<p;a+=1){for(h=new Array(l),u=a/(p-1),s=d=0;s<l;s+=1)c=bm_pow(1-u,3)*t[s]+3*bm_pow(1-u,2)*u*(t[s]+i[s])+3*(1-u)*bm_pow(u,2)*(n[s]+r[s])+bm_pow(u,3)*n[s],h[s]=c,null!==g&&(d+=bm_pow(h[s]-g[s],2));f+=d=bm_sqrt(d),m.points[a]=new b(d,h),g=h}m.segmentLength=f,e.bezierData=m,w[o]=m}});function m(e,t){this.l=e,this.p=t}return{getBezierLength:c,getSegmentsLength:function(e){var t,n=e.c,i=e.v,r=e.o,o=e.i,a=e._length,s=[],l=0;for(t=0;t<a-1;t+=1)s[t]=c(i[t],i[t+1],r[t],o[t+1]),l+=s[t].addedLength;return n&&(s[t]=c(i[t],i[0],r[t],o[0]),l+=s[t].addedLength),{lengths:s,totalLength:l}},getNewSegment:function(e,t,n,i,r,o,a){var s,l=new g,c=f(r=r<0?0:1<r?1:r,a),u=f(o=1<o?1:o,a),d=e.length,h=1-c,p=1-u;for(s=0;s<d;s+=1)l.pt1[s]=Math.round(1e3*(h*h*h*e[s]+(c*h*h+h*c*h+h*h*c)*n[s]+(c*c*h+h*c*c+c*h*c)*i[s]+c*c*c*t[s]))/1e3,l.pt3[s]=Math.round(1e3*(h*h*p*e[s]+(c*h*p+h*c*p+h*h*u)*n[s]+(c*c*p+h*c*u+c*h*u)*i[s]+c*c*u*t[s]))/1e3,l.pt4[s]=Math.round(1e3*(h*p*p*e[s]+(c*p*p+h*u*p+h*p*u)*n[s]+(c*u*p+h*u*u+c*p*u)*i[s]+c*u*u*t[s]))/1e3,l.pt2[s]=Math.round(1e3*(p*p*p*e[s]+(u*p*p+p*u*p+p*p*u)*n[s]+(u*u*p+p*u*u+u*p*u)*i[s]+u*u*u*t[s]))/1e3;return l},getPointInSegment:function(e,t,n,i,r,o){var a=f(r,o),s=1-a;return[Math.round(1e3*(s*s*s*e[0]+(a*s*s+s*a*s+s*s*a)*n[0]+(a*a*s+s*a*a+a*s*a)*i[0]+a*a*a*t[0]))/1e3,Math.round(1e3*(s*s*s*e[1]+(a*s*s+s*a*s+s*s*a)*n[1]+(a*a*s+s*a*a+a*s*a)*i[1]+a*a*a*t[1]))/1e3]},buildBezierData:e,pointOnLine2D:v,pointOnLine3D:function(e,t,n,i,r,o,a,s,l){if(0===n&&0===o&&0===l)return v(e,t,i,r,a,s);var c,u=Math.sqrt(Math.pow(i-e,2)+Math.pow(r-t,2)+Math.pow(o-n,2)),d=Math.sqrt(Math.pow(a-e,2)+Math.pow(s-t,2)+Math.pow(l-n,2)),h=Math.sqrt(Math.pow(a-i,2)+Math.pow(s-r,2)+Math.pow(l-o,2));return-1e-4<(c=d<u?h<u?u-d-h:h-d-u:d<h?h-d-u:d-u-h)&&c<1e-4}}}function dataFunctionManager(){function p(e,t){for(var n=0,i=t.length;n<i;){if(t[n].id===e)return t[n].layers.__used?JSON.parse(JSON.stringify(t[n].layers)):(t[n].layers.__used=!0,t[n].layers);n+=1}}function f(e){var t,n,i;for(t=e.length-1;0<=t;t-=1)if("sh"==e[t].ty){if(e[t].ks.k.i)g(e[t].ks.k);else for(i=e[t].ks.k.length,n=0;n<i;n+=1)e[t].ks.k[n].s&&g(e[t].ks.k[n].s[0]),e[t].ks.k[n].e&&g(e[t].ks.k[n].e[0]);!0}else"gr"==e[t].ty&&f(e[t].it)}function g(e){var t,n=e.i.length;for(t=0;t<n;t+=1)e.i[t][0]+=e.v[t][0],e.i[t][1]+=e.v[t][1],e.o[t][0]+=e.v[t][0],e.o[t][1]+=e.v[t][1]}function s(e,t){var n=t?t.split("."):[100,100,100];return e[0]>n[0]||!(n[0]>e[0])&&(e[1]>n[1]||!(n[1]>e[1])&&(e[2]>n[2]||!(n[2]>e[2])&&void 0))}var i,r,l,o,n=(o=[4,4,14],function(e){if(s(o,e.v)&&(y(e.layers),e.assets)){var t,n=e.assets.length;for(t=0;t<n;t+=1)e.assets[t].layers&&y(e.assets[t].layers)}}),a=(l=[4,7,99],function(e){if(e.chars&&!s(l,e.v)){var t,n,i,r,o,a=e.chars.length;for(t=0;t<a;t+=1)if(e.chars[t].data&&e.chars[t].data.shapes)for(i=(o=e.chars[t].data.shapes[0].it).length,n=0;n<i;n+=1)(r=o[n].ks.k).__converted||(g(o[n].ks.k),r.__converted=!0)}}),c=(r=[4,1,9],function(e){if(s(r,e.v)&&(v(e.layers),e.assets)){var t,n=e.assets.length;for(t=0;t<n;t+=1)e.assets[t].layers&&v(e.assets[t].layers)}}),u=(i=[4,4,18],function(e){if(s(i,e.v)&&(h(e.layers),e.assets)){var t,n=e.assets.length;for(t=0;t<n;t+=1)e.assets[t].layers&&h(e.assets[t].layers)}}),e={};function d(e){var t,n,i;for(t=e.length-1;0<=t;t-=1)if("sh"==e[t].ty){if(e[t].ks.k.i)e[t].ks.k.c=e[t].closed;else for(i=e[t].ks.k.length,n=0;n<i;n+=1)e[t].ks.k[n].s&&(e[t].ks.k[n].s[0].c=e[t].closed),e[t].ks.k[n].e&&(e[t].ks.k[n].e[0].c=e[t].closed);!0}else"gr"==e[t].ty&&d(e[t].it)}function h(e){var t,n,i,r,o,a,s=e.length;for(n=0;n<s;n+=1){if((t=e[n]).hasMask){var l=t.masksProperties;for(r=l.length,i=0;i<r;i+=1)if(l[i].pt.k.i)l[i].pt.k.c=l[i].cl;else for(a=l[i].pt.k.length,o=0;o<a;o+=1)l[i].pt.k[o].s&&(l[i].pt.k[o].s[0].c=l[i].cl),l[i].pt.k[o].e&&(l[i].pt.k[o].e[0].c=l[i].cl)}4===t.ty&&d(t.shapes)}}function m(e){var t,n,i,r=e.length;for(t=0;t<r;t+=1)if("gr"===e[t].ty)m(e[t].it);else if("fl"===e[t].ty||"st"===e[t].ty)if(e[t].c.k&&e[t].c.k[0].i)for(i=e[t].c.k.length,n=0;n<i;n+=1)e[t].c.k[n].s&&(e[t].c.k[n].s[0]/=255,e[t].c.k[n].s[1]/=255,e[t].c.k[n].s[2]/=255,e[t].c.k[n].s[3]/=255),e[t].c.k[n].e&&(e[t].c.k[n].e[0]/=255,e[t].c.k[n].e[1]/=255,e[t].c.k[n].e[2]/=255,e[t].c.k[n].e[3]/=255);else e[t].c.k[0]/=255,e[t].c.k[1]/=255,e[t].c.k[2]/=255,e[t].c.k[3]/=255}function v(e){var t,n=e.length;for(t=0;t<n;t+=1)4===e[t].ty&&m(e[t].shapes)}function y(e){var t,n,i,r=e.length;for(t=0;t<r;t+=1)5===e[t].ty&&(n=e[t],void 0,i=n.t.d,n.t.d={k:[{s:i,t:0}]})}return e.completeData=function(e,t){e.__complete||(c(e),n(e),a(e),u(e),function e(t,n,i){var r,o,a,s,l,c,u,d=t.length;for(o=0;o<d;o+=1)if("ks"in(r=t[o])&&!r.completed){if(r.completed=!0,r.tt&&(t[o-1].td=r.tt),r.hasMask){var h=r.masksProperties;for(s=h.length,a=0;a<s;a+=1)if(h[a].pt.k.i)g(h[a].pt.k);else for(c=h[a].pt.k.length,l=0;l<c;l+=1)h[a].pt.k[l].s&&g(h[a].pt.k[l].s[0]),h[a].pt.k[l].e&&g(h[a].pt.k[l].e[0])}0===r.ty?(r.layers=p(r.refId,n),e(r.layers,n,i)):4===r.ty?f(r.shapes):5==r.ty&&(0!==(u=r).t.a.length||"m"in u.t.p||(u.singleShape=!0))}}(e.layers,e.assets,t),e.__complete=!0)},e}function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=Array.apply(null,{length:this._maxLength}),this.o=Array.apply(null,{length:this._maxLength}),this.i=Array.apply(null,{length:this._maxLength})}function ShapeModifier(){}function TrimModifier(){}function RoundCornersModifier(){}function RepeaterModifier(){}function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=Array.apply(null,{length:this._maxLength})}function TextAnimatorProperty(e,t,n){this.mdf=!1,this._firstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._dynamicProperties=[],this._textData=e,this._renderType=t,this._elem=n,this._animatorsData=Array.apply(null,{length:this._textData.a.length}),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1}function LetterProps(e,t,n,i,r,o){this.o=e,this.sw=t,this.sc=n,this.fc=i,this.m=r,this.p=o,this.mdf={o:!0,sw:!!t,sc:!!n,fc:!!i,m:!0,p:!0}}function TextProperty(e,t,n){this._frameId=-99999,this.pv="",this.v="",this.kf=!1,this.firstFrame=!0,this.mdf=!0,this.data=t,this.elem=e,this.keysIndex=-1,this.currentData={ascent:0,boxWidth:[0,0],f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,__complete:!1},this.searchProperty()?n.push(this):this.getValue(!0)}function BaseRenderer(){}function SVGRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.globalData={frameNum:-1},this.renderConfig={preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",progressiveLoad:t&&t.progressiveLoad||!1,hideOnTransparent:!t||!1!==t.hideOnTransparent,viewBoxOnly:t&&t.viewBoxOnly||!1,className:t&&t.className||""},this.globalData.renderConfig=this.renderConfig,this.elements=[],this.pendingElements=[],this.destroyed=!1}function MaskElement(e,t,n){this.dynamicProperties=[],this.data=e,this.element=t,this.globalData=n,this.storedData=[],this.masksProperties=this.data.masksProperties,this.viewData=Array.apply(null,{length:this.masksProperties.length}),this.maskElement=null,this.firstFrame=!0;var i,r,o,a,s,l,c,u,d=this.globalData.defs,h=this.masksProperties.length,p=this.masksProperties,f=0,g=[],m=randomString(10),v="clipPath",y="clip-path";for(i=0;i<h;i++)if(("a"!==p[i].mode&&"n"!==p[i].mode||p[i].inv||100!==p[i].o.k)&&(y=v="mask"),"s"!=p[i].mode&&"i"!=p[i].mode||0!=f?s=null:((s=document.createElementNS(svgNS,"rect")).setAttribute("fill","#ffffff"),s.setAttribute("width",this.element.comp.data.w),s.setAttribute("height",this.element.comp.data.h),g.push(s)),r=document.createElementNS(svgNS,"path"),"n"!=p[i].mode){if(f+=1,"s"==p[i].mode?r.setAttribute("fill","#000000"):r.setAttribute("fill","#ffffff"),r.setAttribute("clip-rule","nonzero"),0!==p[i].x.k){y=v="mask",u=PropertyFactory.getProp(this.element,p[i].x,0,null,this.dynamicProperties);var b="fi_"+randomString(10);(l=document.createElementNS(svgNS,"filter")).setAttribute("id",b),(c=document.createElementNS(svgNS,"feMorphology")).setAttribute("operator","dilate"),c.setAttribute("in","SourceGraphic"),c.setAttribute("radius","0"),l.appendChild(c),d.appendChild(l),"s"==p[i].mode?r.setAttribute("stroke","#000000"):r.setAttribute("stroke","#ffffff")}else u=c=null;if(this.storedData[i]={elem:r,x:u,expan:c,lastPath:"",lastOperator:"",filterId:b,lastRadius:0},"i"==p[i].mode){a=g.length;var w=document.createElementNS(svgNS,"g");for(o=0;o<a;o+=1)w.appendChild(g[o]);var x=document.createElementNS(svgNS,"mask");x.setAttribute("mask-type","alpha"),x.setAttribute("id",m+"_"+f),x.appendChild(r),d.appendChild(x),w.setAttribute("mask","url("+locationHref+"#"+m+"_"+f+")"),g.length=0,g.push(w)}else g.push(r);p[i].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[i]={elem:r,lastPath:"",op:PropertyFactory.getProp(this.element,p[i].o,0,.01,this.dynamicProperties),prop:ShapePropertyFactory.getShapeProp(this.element,p[i],3,this.dynamicProperties,null)},s&&(this.viewData[i].invRect=s),this.viewData[i].prop.k||this.drawPath(p[i],this.viewData[i].prop.v,this.viewData[i])}else this.viewData[i]={op:PropertyFactory.getProp(this.element,p[i].o,0,.01,this.dynamicProperties),prop:ShapePropertyFactory.getShapeProp(this.element,p[i],3,this.dynamicProperties,null),elem:r},d.appendChild(r);for(this.maskElement=document.createElementNS(svgNS,v),h=g.length,i=0;i<h;i+=1)this.maskElement.appendChild(g[i]);this.maskElement.setAttribute("id",m),0<f&&this.element.maskedElement.setAttribute(y,"url("+locationHref+"#"+m+")"),d.appendChild(this.maskElement)}function BaseElement(){}function SVGBaseElement(e,t,n,i,r){this.globalData=n,this.comp=i,this.data=e,this.matteElement=null,this.transformedElement=null,this.isTransparent=!1,this.parentContainer=t,this.layerId=r?r.layerId:"ly_"+randomString(10),this.placeholder=r,this._sizeChanged=!1,this.init()}function IShapeElement(e,t,n,i,r){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this._parent.constructor.call(this,e,t,n,i,r)}function ITextElement(e,t,n,i){}function SVGTextElement(e,t,n,i,r){this.textSpans=[],this.renderType="svg",this._parent.constructor.call(this,e,t,n,i,r)}function SVGTintFilter(e,t){this.filterManager=t;var n=document.createElementNS(svgNS,"feColorMatrix");if(n.setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","linearRGB"),n.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),n.setAttribute("result","f1"),e.appendChild(n),(n=document.createElementNS(svgNS,"feColorMatrix")).setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),n.setAttribute("result","f2"),e.appendChild(n),this.matrixFilter=n,100!==t.effectElements[2].p.v||t.effectElements[2].p.k){var i,r=document.createElementNS(svgNS,"feMerge");e.appendChild(r),(i=document.createElementNS(svgNS,"feMergeNode")).setAttribute("in","SourceGraphic"),r.appendChild(i),(i=document.createElementNS(svgNS,"feMergeNode")).setAttribute("in","f2"),r.appendChild(i)}}function SVGFillFilter(e,t){this.filterManager=t;var n=document.createElementNS(svgNS,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),e.appendChild(n),this.matrixFilter=n}function SVGStrokeEffect(e,t){this.initialized=!1,this.filterManager=t,this.elem=e,this.paths=[]}function SVGTritoneFilter(e,t){this.filterManager=t;var n=document.createElementNS(svgNS,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","linearRGB"),n.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),n.setAttribute("result","f1"),e.appendChild(n);var i=document.createElementNS(svgNS,"feComponentTransfer");i.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(i),this.matrixFilter=i;var r=document.createElementNS(svgNS,"feFuncR");r.setAttribute("type","table"),i.appendChild(r),this.feFuncR=r;var o=document.createElementNS(svgNS,"feFuncG");o.setAttribute("type","table"),i.appendChild(o),this.feFuncG=o;var a=document.createElementNS(svgNS,"feFuncB");a.setAttribute("type","table"),i.appendChild(a),this.feFuncB=a}function SVGProLevelsFilter(e,t){this.filterManager=t;var n=this.filterManager.effectElements,i=document.createElementNS(svgNS,"feComponentTransfer");(n[9].p.k||0!==n[9].p.v||n[10].p.k||1!==n[10].p.v||n[11].p.k||1!==n[11].p.v||n[12].p.k||0!==n[12].p.v||n[13].p.k||1!==n[13].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",i)),(n[16].p.k||0!==n[16].p.v||n[17].p.k||1!==n[17].p.v||n[18].p.k||1!==n[18].p.v||n[19].p.k||0!==n[19].p.v||n[20].p.k||1!==n[20].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",i)),(n[23].p.k||0!==n[23].p.v||n[24].p.k||1!==n[24].p.v||n[25].p.k||1!==n[25].p.v||n[26].p.k||0!==n[26].p.v||n[27].p.k||1!==n[27].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",i)),(n[30].p.k||0!==n[30].p.v||n[31].p.k||1!==n[31].p.v||n[32].p.k||1!==n[32].p.v||n[33].p.k||0!==n[33].p.v||n[34].p.k||1!==n[34].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",i)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(i.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(i),i=document.createElementNS(svgNS,"feComponentTransfer")),(n[2].p.k||0!==n[2].p.v||n[3].p.k||1!==n[3].p.v||n[4].p.k||1!==n[4].p.v||n[5].p.k||0!==n[5].p.v||n[6].p.k||1!==n[6].p.v)&&(i.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(i),this.feFuncRComposed=this.createFeFunc("feFuncR",i),this.feFuncGComposed=this.createFeFunc("feFuncG",i),this.feFuncBComposed=this.createFeFunc("feFuncB",i))}function SVGDropShadowEffect(e,t){e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width","400%"),e.setAttribute("height","400%"),this.filterManager=t;var n=document.createElementNS(svgNS,"feGaussianBlur");n.setAttribute("in","SourceAlpha"),n.setAttribute("result","drop_shadow_1"),n.setAttribute("stdDeviation","0"),this.feGaussianBlur=n,e.appendChild(n);var i=document.createElementNS(svgNS,"feOffset");i.setAttribute("dx","25"),i.setAttribute("dy","0"),i.setAttribute("in","drop_shadow_1"),i.setAttribute("result","drop_shadow_2"),this.feOffset=i,e.appendChild(i);var r=document.createElementNS(svgNS,"feFlood");r.setAttribute("flood-color","#00ff00"),r.setAttribute("flood-opacity","1"),r.setAttribute("result","drop_shadow_3"),this.feFlood=r,e.appendChild(r);var o=document.createElementNS(svgNS,"feComposite");o.setAttribute("in","drop_shadow_3"),o.setAttribute("in2","drop_shadow_2"),o.setAttribute("operator","in"),o.setAttribute("result","drop_shadow_4"),e.appendChild(o);var a,s=document.createElementNS(svgNS,"feMerge");e.appendChild(s),a=document.createElementNS(svgNS,"feMergeNode"),s.appendChild(a),(a=document.createElementNS(svgNS,"feMergeNode")).setAttribute("in","SourceGraphic"),this.feMergeNode=a,this.feMerge=s,this.originalNodeAdded=!1,s.appendChild(a)}function SVGMatte3Effect(e,t,n){this.initialized=!1,this.filterManager=t,this.filterElem=e,(this.elem=n).matteElement=document.createElementNS(svgNS,"g"),n.matteElement.appendChild(n.layerElement),n.matteElement.appendChild(n.transformedElement),n.baseElement=n.matteElement}function SVGEffects(e){var t,n,i=e.data.ef.length,r=randomString(10),o=filtersFactory.createFilter(r),a=0;for(this.filters=[],t=0;t<i;t+=1)20===e.data.ef[t].ty?(a+=1,n=new SVGTintFilter(o,e.effects.effectElements[t]),this.filters.push(n)):21===e.data.ef[t].ty?(a+=1,n=new SVGFillFilter(o,e.effects.effectElements[t]),this.filters.push(n)):22===e.data.ef[t].ty?(n=new SVGStrokeEffect(e,e.effects.effectElements[t]),this.filters.push(n)):23===e.data.ef[t].ty?(a+=1,n=new SVGTritoneFilter(o,e.effects.effectElements[t]),this.filters.push(n)):24===e.data.ef[t].ty?(a+=1,n=new SVGProLevelsFilter(o,e.effects.effectElements[t]),this.filters.push(n)):25===e.data.ef[t].ty?(a+=1,n=new SVGDropShadowEffect(o,e.effects.effectElements[t]),this.filters.push(n)):28===e.data.ef[t].ty&&(n=new SVGMatte3Effect(o,e.effects.effectElements[t],e),this.filters.push(n));a&&(e.globalData.defs.appendChild(o),e.layerElement.setAttribute("filter","url("+locationHref+"#"+r+")"))}function ICompElement(e,t,n,i,r){this._parent.constructor.call(this,e,t,n,i,r),this.layers=e.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?Array.apply(null,{length:this.layers.length}):[],this.data.tm&&(this.tm=PropertyFactory.getProp(this,this.data.tm,0,n.frameRate,this.dynamicProperties)),this.data.xt?(this.layerElement=document.createElementNS(svgNS,"g"),this.buildAllItems()):n.progressiveLoad||this.buildAllItems()}function IImageElement(e,t,n,i,r){this.assetData=n.getAssetData(e.refId),this._parent.constructor.call(this,e,t,n,i,r)}function ISolidElement(e,t,n,i,r){this._parent.constructor.call(this,e,t,n,i,r)}function CanvasRenderer(e,t){this.animationItem=e,this.renderConfig={clearCanvas:!t||void 0===t.clearCanvas||t.clearCanvas,context:t&&t.context||null,progressiveLoad:t&&t.progressiveLoad||!1,preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",className:t&&t.className||""},this.renderConfig.dpr=t&&t.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=t&&t.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1},this.contextData={saved:Array.apply(null,{length:15}),savedOp:Array.apply(null,{length:15}),cArrPos:0,cTr:new Matrix,cO:1};var n;for(n=0;n<15;n+=1)this.contextData.saved[n]=Array.apply(null,{length:16});this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1}function HybridRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.globalData={frameNum:-1},this.renderConfig={className:t&&t.className||""},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0}function CVBaseElement(e,t,n){this.globalData=n,this.data=e,this.comp=t,this.canvasContext=n.canvasContext,this.init()}function CVCompElement(e,t,n){this._parent.constructor.call(this,e,t,n);var i={};for(var r in n)n.hasOwnProperty(r)&&(i[r]=n[r]);i.renderer=this,i.compHeight=this.data.h,i.compWidth=this.data.w,this.renderConfig={clearCanvas:!0},this.contextData={saved:Array.apply(null,{length:15}),savedOp:Array.apply(null,{length:15}),cArrPos:0,cTr:new Matrix,cO:1},this.completeLayers=!1;var o;for(o=0;o<15;o+=1)this.contextData.saved[o]=Array.apply(null,{length:16});this.transformMat=new Matrix,this.parentGlobalData=this.globalData;var a=document.createElement("canvas");i.canvasContext=a.getContext("2d"),this.canvasContext=i.canvasContext,a.width=this.data.w,a.height=this.data.h,this.canvas=a,this.globalData=i,this.layers=e.layers,this.pendingElements=[],this.elements=Array.apply(null,{length:this.layers.length}),this.data.tm&&(this.tm=PropertyFactory.getProp(this,this.data.tm,0,n.frameRate,this.dynamicProperties)),!this.data.xt&&n.progressiveLoad||this.buildAllItems()}function CVImageElement(e,t,n){this.assetData=n.getAssetData(e.refId),this._parent.constructor.call(this,e,t,n),this.globalData.addPendingElement()}function CVMaskElement(e,t){this.data=e,this.element=t,this.dynamicProperties=[],this.masksProperties=this.data.masksProperties,this.viewData=Array.apply(null,{length:this.masksProperties.length});var n,i=this.masksProperties.length;for(n=0;n<i;n++)this.viewData[n]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[n],3,this.dynamicProperties,null)}function CVShapeElement(e,t,n){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this._parent.constructor.call(this,e,t,n)}function CVSolidElement(e,t,n){this._parent.constructor.call(this,e,t,n)}function CVTextElement(e,t,n){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this._parent.constructor.call(this,e,t,n)}function HBaseElement(e,t,n,i,r){this.globalData=n,this.comp=i,this.data=e,this.matteElement=null,this.parentContainer=t,this.layerId=r?r.layerId:"ly_"+randomString(10),this.placeholder=r,this.init()}function HSolidElement(e,t,n,i,r){this._parent.constructor.call(this,e,t,n,i,r)}function HCompElement(e,t,n,i,r){this._parent.constructor.call(this,e,t,n,i,r),this.layers=e.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=Array.apply(null,{length:this.layers.length}),this.data.tm&&(this.tm=PropertyFactory.getProp(this,this.data.tm,0,n.frameRate,this.dynamicProperties)),this.data.hasMask&&(this.supports3d=!1),this.data.xt&&(this.layerElement=document.createElement("div")),this.buildAllItems()}function HShapeElement(e,t,n,i,r){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this._parent.constructor.call(this,e,t,n,i,r),this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(e,t,n,i,r){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this._parent.constructor.call(this,e,t,n,i,r)}function HImageElement(e,t,n,i,r){this.assetData=n.getAssetData(e.refId),this._parent.constructor.call(this,e,t,n,i,r)}function HCameraElement(e,t,n,i,r){this._parent.constructor.call(this,e,t,n,i,r);var o=PropertyFactory.getProp;if(this.pe=o(this,e.pe,0,0,this.dynamicProperties),e.ks.p.s?(this.px=o(this,e.ks.p.x,1,0,this.dynamicProperties),this.py=o(this,e.ks.p.y,1,0,this.dynamicProperties),this.pz=o(this,e.ks.p.z,1,0,this.dynamicProperties)):this.p=o(this,e.ks.p,1,0,this.dynamicProperties),e.ks.a&&(this.a=o(this,e.ks.a,1,0,this.dynamicProperties)),e.ks.or.k.length&&e.ks.or.k[0].to){var a,s=e.ks.or.k.length;for(a=0;a<s;a+=1)e.ks.or.k[a].to=null,e.ks.or.k[a].ti=null}this.or=o(this,e.ks.or,1,degToRads,this.dynamicProperties),this.or.sh=!0,this.rx=o(this,e.ks.rx,0,degToRads,this.dynamicProperties),this.ry=o(this,e.ks.ry,0,degToRads,this.dynamicProperties),this.rz=o(this,e.ks.rz,0,degToRads,this.dynamicProperties),this.mat=new Matrix}function SliderEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,0,0,n)}function AngleEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,0,0,n)}function ColorEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,1,0,n)}function PointEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,1,0,n)}function LayerIndexEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,0,0,n)}function MaskIndexEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,0,0,n)}function CheckboxEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,0,0,n)}function NoValueEffect(){this.p={}}function EffectsManager(e,t,n){var i=e.ef;this.effectElements=[];var r,o,a=i.length;for(r=0;r<a;r++)o=new GroupEffect(i[r],t,n),this.effectElements.push(o)}function GroupEffect(e,t,n){this.dynamicProperties=[],this.init(e,t,this.dynamicProperties),this.dynamicProperties.length&&n.push(this)}function setLocationHref(e){locationHref=e}function play(e){animationManager.play(e)}function pause(e){animationManager.pause(e)}function togglePause(e){animationManager.togglePause(e)}function setSpeed(e,t){animationManager.setSpeed(e,t)}function setDirection(e,t){animationManager.setDirection(e,t)}function stop(e){animationManager.stop(e)}function moveFrame(e){animationManager.moveFrame(e)}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function registerAnimation(e){return animationManager.registerAnimation(e)}function resize(){animationManager.resize()}function start(){animationManager.start()}function goToAndStop(e,t,n){animationManager.goToAndStop(e,t,n)}function setSubframeRendering(e){subframeEnabled=e}function loadAnimation(e){return!0===standalone&&(e.animationData=JSON.parse(animationData)),animationManager.loadAnimation(e)}function destroy(e){return animationManager.destroy(e)}function setQuality(e){if("string"==typeof e)switch(e){case"high":defaultCurveSegments=200;break;case"medium":defaultCurveSegments=50;break;case"low":defaultCurveSegments=10}else!isNaN(e)&&1<e&&(defaultCurveSegments=e);roundValues(!(50<=defaultCurveSegments))}function inBrowser(){return"undefined"!=typeof navigator}function installPlugin(e,t){"expressions"===e&&(expressionsPlugin=t)}function getFactory(e){switch(e){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(e){for(var t=queryString.split("&"),n=0;n<t.length;n++){var i=t[n].split("=");if(decodeURIComponent(i[0])==e)return decodeURIComponent(i[1])}}var svgNS="http://www.w3.org/2000/svg",locationHref="",subframeEnabled=!0,expressionsPlugin,isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),cachedColors={},bm_rounder=Math.round,bm_rnd,bm_pow=Math.pow,bm_sqrt=Math.sqrt,bm_abs=Math.abs,bm_floor=Math.floor,bm_max=Math.max,bm_min=Math.min,blitter=10,BMMath={};!function(){var e,t=Object.getOwnPropertyNames(Math),n=t.length;for(e=0;e<n;e+=1)BMMath[t[e]]=Math[t[e]]}(),BMMath.random=Math.random,BMMath.abs=function(e){if("object"==typeof e&&e.length){var t,n=Array.apply(null,{length:e.length}),i=e.length;for(t=0;t<i;t+=1)n[t]=Math.abs(e[t]);return n}return Math.abs(e)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;roundValues(!1);var rgbToHex=function(){var e,t,i=[];for(e=0;e<256;e+=1)t=e.toString(16),i[e]=1==t.length?"0"+t:t;return function(e,t,n){return e<0&&(e=0),t<0&&(t=0),n<0&&(n=0),"#"+i[e]+i[t]+i[n]}}(),fillColorToString=(wzh=[],function(e,t){return void 0!==t&&(e[3]=t),wzh[e[0]]||(wzh[e[0]]={}),wzh[e[0]][e[1]]||(wzh[e[0]][e[1]]={}),wzh[e[0]][e[1]][e[2]]||(wzh[e[0]][e[1]][e[2]]={}),wzh[e[0]][e[1]][e[2]][e[3]]||(wzh[e[0]][e[1]][e[2]][e[3]]="rgba("+e.join(",")+")"),wzh[e[0]][e[1]][e[2]][e[3]]}),Matrix=function(){this.reset=zzh,this.rotate=Azh,this.rotateX=Bzh,this.rotateY=Czh,this.rotateZ=Dzh,this.skew=Fzh,this.skewFromAxis=Gzh,this.shear=Ezh,this.scale=Hzh,this.setTransform=Izh,this.translate=Jzh,this.transform=Kzh,this.applyToPoint=Ozh,this.applyToX=Pzh,this.applyToY=Qzh,this.applyToZ=Rzh,this.applyToPointArray=Uzh,this.applyToPointStringified=Vzh,this.toArray=Wzh,this.toCSS=Xzh,this.to2dCSS=Yzh,this.toString=Zzh,this.clone=Mzh,this.cloneFromProps=Nzh,this.inversePoints=Tzh,this.inversePoint=Szh,this._t=this.transform,this.isIdentity=Lzh,this._identity=!0,this._identityCalculated=!1,this.props=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this.cssParts=["matrix3d(","",")"]},wzh;function zzh(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function Azh(e){if(0===e)return this;var t=Math.cos(e),n=Math.sin(e);return this._t(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1)}function Bzh(e){if(0===e)return this;var t=Math.cos(e),n=Math.sin(e);return this._t(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1)}function Czh(e){if(0===e)return this;var t=Math.cos(e),n=Math.sin(e);return this._t(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1)}function Dzh(e){if(0===e)return this;var t=Math.cos(e),n=Math.sin(e);return this._t(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1)}function Ezh(e,t){return this._t(1,t,e,1,0,0)}function Fzh(e,t){return this.shear(Math.tan(e),Math.tan(t))}function Gzh(e,t){var n=Math.cos(t),i=Math.sin(t);return this._t(n,i,0,0,-i,n,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,Math.tan(e),1,0,0,0,0,1,0,0,0,0,1)._t(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1)}function Hzh(e,t,n){return n=isNaN(n)?1:n,1==e&&1==t&&1==n?this:this._t(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1)}function Izh(e,t,n,i,r,o,a,s,l,c,u,d,h,p,f,g){return this.props[0]=e,this.props[1]=t,this.props[2]=n,this.props[3]=i,this.props[4]=r,this.props[5]=o,this.props[6]=a,this.props[7]=s,this.props[8]=l,this.props[9]=c,this.props[10]=u,this.props[11]=d,this.props[12]=h,this.props[13]=p,this.props[14]=f,this.props[15]=g,this}function Jzh(e,t,n){return n=n||0,0!==e||0!==t||0!==n?this._t(1,0,0,0,0,1,0,0,0,0,1,0,e,t,n,1):this}function Kzh(e,t,n,i,r,o,a,s,l,c,u,d,h,p,f,g){if(1===e&&0===t&&0===n&&0===i&&0===r&&1===o&&0===a&&0===s&&0===l&&0===c&&1===u&&0===d)return 0===h&&0===p&&0===f||(this.props[12]=this.props[12]*e+this.props[13]*r+this.props[14]*l+this.props[15]*h,this.props[13]=this.props[12]*t+this.props[13]*o+this.props[14]*c+this.props[15]*p,this.props[14]=this.props[12]*n+this.props[13]*a+this.props[14]*u+this.props[15]*f,this.props[15]=this.props[12]*i+this.props[13]*s+this.props[14]*d+this.props[15]*g),this._identityCalculated=!1,this;var m=this.props[0],v=this.props[1],y=this.props[2],b=this.props[3],w=this.props[4],x=this.props[5],C=this.props[6],S=this.props[7],$=this.props[8],E=this.props[9],k=this.props[10],A=this.props[11],T=this.props[12],M=this.props[13],D=this.props[14],P=this.props[15];return this.props[0]=m*e+v*r+y*l+b*h,this.props[1]=m*t+v*o+y*c+b*p,this.props[2]=m*n+v*a+y*u+b*f,this.props[3]=m*i+v*s+y*d+b*g,this.props[4]=w*e+x*r+C*l+S*h,this.props[5]=w*t+x*o+C*c+S*p,this.props[6]=w*n+x*a+C*u+S*f,this.props[7]=w*i+x*s+C*d+S*g,this.props[8]=$*e+E*r+k*l+A*h,this.props[9]=$*t+E*o+k*c+A*p,this.props[10]=$*n+E*a+k*u+A*f,this.props[11]=$*i+E*s+k*d+A*g,this.props[12]=T*e+M*r+D*l+P*h,this.props[13]=T*t+M*o+D*c+P*p,this.props[14]=T*n+M*a+D*u+P*f,this.props[15]=T*i+M*s+D*d+P*g,this._identityCalculated=!1,this}function Lzh(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function Mzh(e){var t;for(t=0;t<16;t+=1)e.props[t]=this.props[t]}function Nzh(e){var t;for(t=0;t<16;t+=1)this.props[t]=e[t]}function Ozh(e,t,n){return{x:e*this.props[0]+t*this.props[4]+n*this.props[8]+this.props[12],y:e*this.props[1]+t*this.props[5]+n*this.props[9]+this.props[13],z:e*this.props[2]+t*this.props[6]+n*this.props[10]+this.props[14]}}function Pzh(e,t,n){return e*this.props[0]+t*this.props[4]+n*this.props[8]+this.props[12]}function Qzh(e,t,n){return e*this.props[1]+t*this.props[5]+n*this.props[9]+this.props[13]}function Rzh(e,t,n){return e*this.props[2]+t*this.props[6]+n*this.props[10]+this.props[14]}function Szh(e){var t=this.props[0]*this.props[5]-this.props[1]*this.props[4],n=this.props[5]/t,i=-this.props[1]/t,r=-this.props[4]/t,o=this.props[0]/t,a=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/t,s=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/t;return[e[0]*n+e[1]*r+a,e[0]*i+e[1]*o+s,0]}function Tzh(e){var t,n=e.length,i=[];for(t=0;t<n;t+=1)i[t]=Szh(e[t]);return i}function Uzh(e,t,n,i){if(i&&2===i){var r=point_pool.newPoint();return r[0]=e*this.props[0]+t*this.props[4]+n*this.props[8]+this.props[12],r[1]=e*this.props[1]+t*this.props[5]+n*this.props[9]+this.props[13],r}return[e*this.props[0]+t*this.props[4]+n*this.props[8]+this.props[12],e*this.props[1]+t*this.props[5]+n*this.props[9]+this.props[13],e*this.props[2]+t*this.props[6]+n*this.props[10]+this.props[14]]}function Vzh(e,t){return this.isIdentity()?e+","+t:bm_rnd(e*this.props[0]+t*this.props[4]+this.props[12])+","+bm_rnd(e*this.props[1]+t*this.props[5]+this.props[13])}function Wzh(){return[this.props[0],this.props[1],this.props[2],this.props[3],this.props[4],this.props[5],this.props[6],this.props[7],this.props[8],this.props[9],this.props[10],this.props[11],this.props[12],this.props[13],this.props[14],this.props[15]]}function Xzh(){return isSafari?"matrix3d("+roundTo2Decimals(this.props[0])+","+roundTo2Decimals(this.props[1])+","+roundTo2Decimals(this.props[2])+","+roundTo2Decimals(this.props[3])+","+roundTo2Decimals(this.props[4])+","+roundTo2Decimals(this.props[5])+","+roundTo2Decimals(this.props[6])+","+roundTo2Decimals(this.props[7])+","+roundTo2Decimals(this.props[8])+","+roundTo2Decimals(this.props[9])+","+roundTo2Decimals(this.props[10])+","+roundTo2Decimals(this.props[11])+","+roundTo2Decimals(this.props[12])+","+roundTo2Decimals(this.props[13])+","+roundTo2Decimals(this.props[14])+","+roundTo2Decimals(this.props[15])+")":(this.cssParts[1]=this.props.join(","),this.cssParts.join(""))}function Yzh(){return"matrix("+roundTo2Decimals(this.props[0])+","+roundTo2Decimals(this.props[1])+","+roundTo2Decimals(this.props[4])+","+roundTo2Decimals(this.props[5])+","+roundTo2Decimals(this.props[12])+","+roundTo2Decimals(this.props[13])+")"}function Zzh(){return""+this.toArray()}!function(s,l){function c(e){var t,n=e.length,a=this,i=0,r=a.i=a.j=0,o=a.S=[];for(n||(e=[n++]);i<g;)o[i]=i++;for(i=0;i<g;i++)o[i]=o[r=x&r+e[i%n]+(t=o[i])],o[r]=t;(a.g=function(e){for(var t,n=0,i=a.i,r=a.j,o=a.S;e--;)t=o[i=x&i+1],n=n*g+o[x&(o[i]=o[r=x&r+t])+(o[r]=t)];return a.i=i,a.j=r,n})(g)}function u(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function d(e,t){for(var n,i=e+"",r=0;r<i.length;)t[x&r]=x&(n^=19*t[x&r])+i.charCodeAt(r++);return h(t)}function h(e){return String.fromCharCode.apply(0,e)}var p,f=this,g=256,m=6,v="random",y=l.pow(g,m),b=l.pow(2,52),w=2*b,x=g-1;l["seed"+v]=function(e,t,n){function i(){for(var e=a.g(m),t=y,n=0;e<b;)e=(e+n)*g,t*=g,n=a.g(1);for(;w<=e;)e/=2,t/=2,n>>>=1;return(e+n)/t}var r=[],o=d(function e(t,n){var i,r=[],o=typeof t;if(n&&"object"==o)for(i in t)try{r.push(e(t[i],n-1))}catch(e){}return r.length?r:"string"==o?t:t+"\0"}((t=1==t?{entropy:!0}:t||{}).entropy?[e,h(s)]:null==e?function(){try{if(p)return h(p.randomBytes(g));var e=new Uint8Array(g);return(f.crypto||f.msCrypto).getRandomValues(e),h(e)}catch(e){var t=f.navigator,n=t&&t.plugins;return[+new Date,f,n,f.screen,h(s)]}}():e,3),r),a=new c(r);return i.int32=function(){return 0|a.g(4)},i.quick=function(){return a.g(4)/4294967296},i.double=i,d(h(a.S),s),(t.pass||n||function(e,t,n,i){return i&&(i.S&&u(i,a),e.state=function(){return u(a,{})}),n?(l[v]=e,t):e})(i,o,"global"in t?t.global:this==l,t.state)},d(l.random(),s)}([],BMMath);var BezierFactory=(sDh={getBezierEasing:function(e,t,n,i,r){var o=r||("bez_"+e+"_"+t+"_"+n+"_"+i).replace(/\./g,"p");if(tDh[o])return tDh[o];var a=new rDh([e,t,n,i]);return tDh[o]=a}},tDh={},yDh=11,zDh=1/(yDh-1),ADh="function"==typeof Float32Array,rDh.prototype={get:function(e){var t=this._p[0],n=this._p[1],i=this._p[2],r=this._p[3];return this._precomputed||this._precompute(),t===n&&i===r?e:0===e?0:1===e?1:nDh(this._getTForX(e),n,r)},_precompute:function(){var e=this._p[0],t=this._p[1],n=this._p[2],i=this._p[3];this._precomputed=!0,e===t&&n===i||this._calcSampleValues()},_calcSampleValues:function(){for(var e=this._p[0],t=this._p[2],n=0;n<yDh;++n)this._mSampleValues[n]=nDh(n*zDh,e,t)},_getTForX:function(e){for(var t=this._p[0],n=this._p[2],i=this._mSampleValues,r=0,o=1,a=yDh-1;o!==a&&i[o]<=e;++o)r+=zDh;var s=r+(e-i[--o])/(i[o+1]-i[o])*zDh,l=oDh(s,t,n);return.001<=l?function(e,t,n,i){for(var r=0;r<4;++r){var o=oDh(t,n,i);if(0===o)return t;t-=(nDh(t,n,i)-e)/o}return t}(e,s,t,n):0===l?s:function(e,t,n,i,r){for(var o,a,s=0;0<(o=nDh(a=t+(n-t)/2,i,r)-e)?n=a:t=a,1e-7<Math.abs(o)&&++s<10;);return a}(e,r,r+zDh,t,n)}},sDh),sDh,tDh,yDh,zDh,ADh;function kDh(e,t){return 1-3*t+3*e}function lDh(e,t){return 3*t-6*e}function mDh(e){return 3*e}function nDh(e,t,n){return((kDh(t,n)*e+lDh(t,n))*e+mDh(t))*e}function oDh(e,t,n){return 3*kDh(t,n)*e*e+2*lDh(t,n)*e+mDh(t)}function rDh(e){this._p=e,this._mSampleValues=ADh?new Float32Array(yDh):new Array(yDh),this._precomputed=!1,this.get=this.get.bind(this)}!function(){for(var o=0,e=["ms","moz","webkit","o"],t=0;t<e.length&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[e[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[t]+"CancelAnimationFrame"]||window[e[t]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,t){var n=(new Date).getTime(),i=Math.max(0,16-(n-o)),r=setTimeout(function(){e(n+i)},i);return o=n+i,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}();var bez=bezFunction(),dataManager=dataFunctionManager(),FontManager=(UEh=5e3,VEh.prototype.addChars=function(e){if(e){this.chars||(this.chars=[]);var t,n,i,r=e.length,o=this.chars.length;for(t=0;t<r;t+=1){for(n=0,i=!1;n<o;)this.chars[n].style===e[t].style&&this.chars[n].fFamily===e[t].fFamily&&this.chars[n].ch===e[t].ch&&(i=!0),n+=1;i||(this.chars.push(e[t]),o+=1)}}},VEh.prototype.addFonts=function(e,t){if(e){if(this.chars)return this.loaded=!0,void(this.fonts=e.list);var n,i=e.list,r=i.length;for(n=0;n<r;n+=1){if(i[n].loaded=!1,i[n].monoCase=MEh(i[n].fFamily,"monospace"),i[n].sansCase=MEh(i[n].fFamily,"sans-serif"),i[n].fPath){if("p"===i[n].fOrigin||3===i[n].origin){var o=document.createElement("style");o.type="text/css",o.innerHTML="@font-face {font-family: "+i[n].fFamily+"; font-style: normal; src: url('"+i[n].fPath+"');}",t.appendChild(o)}else if("g"===i[n].fOrigin||1===i[n].origin){var a=document.createElement("link");a.type="text/css",a.rel="stylesheet",a.href=i[n].fPath,t.appendChild(a)}else if("t"===i[n].fOrigin||2===i[n].origin){var s=document.createElement("script");s.setAttribute("src",i[n].fPath),t.appendChild(s)}}else i[n].loaded=!0;i[n].helper=OEh(t,i[n]),this.fonts.push(i[n])}(function e(){var t,n,i,r=this.fonts.length,o=r;for(t=0;t<r;t+=1)if(this.fonts[t].loaded)o-=1;else if("t"===this.fonts[t].fOrigin||2===this.fonts[t].origin){if(window.Typekit&&window.Typekit.load&&0===this.typekitLoaded){this.typekitLoaded=1;try{window.Typekit.load({async:!0,active:function(){this.typekitLoaded=2}.bind(this)})}catch(e){}}2===this.typekitLoaded&&(this.fonts[t].loaded=!0)}else"n"===this.fonts[t].fOrigin||0===this.fonts[t].origin?this.fonts[t].loaded=!0:(n=this.fonts[t].monoCase.node,i=this.fonts[t].monoCase.w,n.offsetWidth!==i?(o-=1,this.fonts[t].loaded=!0):(n=this.fonts[t].sansCase.node,i=this.fonts[t].sansCase.w,n.offsetWidth!==i&&(o-=1,this.fonts[t].loaded=!0)),this.fonts[t].loaded&&(this.fonts[t].sansCase.parent.parentNode.removeChild(this.fonts[t].sansCase.parent),this.fonts[t].monoCase.parent.parentNode.removeChild(this.fonts[t].monoCase.parent)));0!==o&&Date.now()-this.initTime<UEh?setTimeout(e.bind(this),20):setTimeout(function(){this.loaded=!0}.bind(this),0)}).bind(this)()}else this.loaded=!0},VEh.prototype.getCharData=function(e,t,n){for(var i=0,r=this.chars.length;i<r;){if(this.chars[i].ch===e&&this.chars[i].style===t&&this.chars[i].fFamily===n)return this.chars[i];i+=1}},VEh.prototype.getFontByName=function(e){for(var t=0,n=this.fonts.length;t<n;){if(this.fonts[t].fName===e)return this.fonts[t];t+=1}return"sans-serif"},VEh.prototype.measureText=function(e,t,n){return this.getFontByName(t).helper.measureText(e).width*n/100},VEh),PropertyFactory=(UFh=-999999,VFh=function(e,t,n){this.elem=e,this.frameId=-1,this.type="transform",this.dynamicProperties=[],this.mdf=!1,this.data=t,this.getValue=xHh,this.applyToMatrix=wHh,this.setInverted=yHh,this.autoOrient=zHh,this.v=new Matrix,t.p.s?(this.px=PropertyFactory.getProp(e,t.p.x,0,0,this.dynamicProperties),this.py=PropertyFactory.getProp(e,t.p.y,0,0,this.dynamicProperties),t.p.z&&(this.pz=PropertyFactory.getProp(e,t.p.z,0,0,this.dynamicProperties))):this.p=PropertyFactory.getProp(e,t.p,1,0,this.dynamicProperties),t.r?this.r=PropertyFactory.getProp(e,t.r,0,degToRads,this.dynamicProperties):t.rx&&(this.rx=PropertyFactory.getProp(e,t.rx,0,degToRads,this.dynamicProperties),this.ry=PropertyFactory.getProp(e,t.ry,0,degToRads,this.dynamicProperties),this.rz=PropertyFactory.getProp(e,t.rz,0,degToRads,this.dynamicProperties),this.or=PropertyFactory.getProp(e,t.or,1,degToRads,this.dynamicProperties),this.or.sh=!0),t.sk&&(this.sk=PropertyFactory.getProp(e,t.sk,0,degToRads,this.dynamicProperties),this.sa=PropertyFactory.getProp(e,t.sa,0,degToRads,this.dynamicProperties)),t.a&&(this.a=PropertyFactory.getProp(e,t.a,1,0,this.dynamicProperties)),t.s&&(this.s=PropertyFactory.getProp(e,t.s,1,.01,this.dynamicProperties)),this.o=t.o?PropertyFactory.getProp(e,t.o,0,.01,this.dynamicProperties):{mdf:!1,v:1},this.dynamicProperties.length?n.push(this):(this.a&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r?this.v.rotate(-this.r.v):this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?t.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])),Object.defineProperty(this,"position",{get:mHh}),Object.defineProperty(this,"xPosition",{get:nHh}),Object.defineProperty(this,"yPosition",{get:oHh}),Object.defineProperty(this,"orientation",{get:qHh}),Object.defineProperty(this,"anchorPoint",{get:pHh}),Object.defineProperty(this,"rotation",{get:rHh}),Object.defineProperty(this,"scale",{get:sHh}),Object.defineProperty(this,"opacity",{get:tHh}),Object.defineProperty(this,"skew",{get:uHh}),Object.defineProperty(this,"skewAxis",{get:vHh})},XFh=function(e,t,n,i){this.elem=e,this.frameId=-1,this.dataProps=new Array(t.length),this.renderer=n,this.mdf=!1,this.k=!1,this.dasharray="svg"===this.renderer?"":new Array(t.length-1),this.dashoffset=0;var r,o,a=t.length;for(r=0;r<a;r+=1)o=PropertyFactory.getProp(e,t[r].v,0,0,i),this.k=!!o.k||this.k,this.dataProps[r]={n:t[r].n,p:o};this.getValue=YHh,this.k?i.push(this):this.getValue(!0)},jIh=Math.max,kIh=Math.min,lIh=Math.floor,YFh=function(e,t,n){this.mdf=!1,this.k=!1,this.data=t,this.dynamicProperties=[],this.getValue=hIh,this.getMult=iIh,this.elem=e,this.comp=e.comp,this.finalS=0,this.finalE=0,this.s=PropertyFactory.getProp(e,t.s||{k:0},0,0,this.dynamicProperties),this.e="e"in t?PropertyFactory.getProp(e,t.e,0,0,this.dynamicProperties):{v:100},this.o=PropertyFactory.getProp(e,t.o||{k:0},0,0,this.dynamicProperties),this.xe=PropertyFactory.getProp(e,t.xe||{k:0},0,0,this.dynamicProperties),this.ne=PropertyFactory.getProp(e,t.ne||{k:0},0,0,this.dynamicProperties),this.a=PropertyFactory.getProp(e,t.a,0,.01,this.dynamicProperties),this.dynamicProperties.length?n.push(this):this.getValue()},{getProp:RFh,getDashProp:function(e,t,n,i){return new XFh(e,t,n,i)},getTextSelectorProp:function(e,t,n){return new YFh(e,t,n)},getGradientProp:WFh}),jIh,kIh,lIh,UFh,VFh,XFh,YFh,UEh;function KFh(e,t,n,i){var r,o,a,s,l,c,u,d=this.offsetTime;n.constructor===Array&&(r=Array.apply(null,{length:n.length}));for(var h,p,f=t,g=this.keyframes.length-1,m=!0;m;){if(h=this.keyframes[f],p=this.keyframes[f+1],f==g-1&&e>=p.t-d){h.h&&(h=p),t=0;break}if(p.t-d>e){t=f;break}f<g-1?f+=1:(t=0,m=!1)}if(h.to){h.bezierData||bez.buildBezierData(h);var v=h.bezierData;if(e>=p.t-d||e<h.t-d){var y=e>=p.t-d?v.points.length-1:0;for(a=v.points[y].point.length,o=0;o<a;o+=1)r[o]=v.points[y].point[o];i._lastBezierData=null}else{h.__fnct?u=h.__fnct:(u=BezierFactory.getBezierEasing(h.o.x,h.o.y,h.i.x,h.i.y,h.n).get,h.__fnct=u),s=u((e-(h.t-d))/(p.t-d-(h.t-d)));var b,w=v.segmentLength*s,x=i.lastFrame<e&&i._lastBezierData===v?i._lastAddedLength:0;for(c=i.lastFrame<e&&i._lastBezierData===v?i._lastPoint:0,m=!0,l=v.points.length;m;){if(x+=v.points[c].partialLength,0==w||0===s||c==v.points.length-1){for(a=v.points[c].point.length,o=0;o<a;o+=1)r[o]=v.points[c].point[o];break}if(x<=w&&w<x+v.points[c+1].partialLength){for(b=(w-x)/v.points[c+1].partialLength,a=v.points[c].point.length,o=0;o<a;o+=1)r[o]=v.points[c].point[o]+(v.points[c+1].point[o]-v.points[c].point[o])*b;break}c<l-1?c+=1:m=!1}i._lastPoint=c,i._lastAddedLength=x-v.points[c].partialLength,i._lastBezierData=v}}else{var C,S,$,E,k;for(g=h.s.length,f=0;f<g;f+=1){if(1!==h.h&&(s=e>=p.t-d?1:e<h.t-d?0:(h.o.x.constructor===Array?(h.__fnct||(h.__fnct=[]),h.__fnct[f]?u=h.__fnct[f]:(C=h.o.x[f]||h.o.x[0],S=h.o.y[f]||h.o.y[0],$=h.i.x[f]||h.i.x[0],E=h.i.y[f]||h.i.y[0],u=BezierFactory.getBezierEasing(C,S,$,E).get,h.__fnct[f]=u)):h.__fnct?u=h.__fnct:(C=h.o.x,S=h.o.y,$=h.i.x,E=h.i.y,u=BezierFactory.getBezierEasing(C,S,$,E).get,h.__fnct=u),u((e-(h.t-d))/(p.t-d-(h.t-d))))),this.sh&&1!==h.h){var A=h.s[f],T=h.e[f];A-T<-180?A+=360:180<A-T&&(A-=360),k=A+(T-A)*s}else k=1===h.h?h.s[f]:h.s[f]+(h.e[f]-h.s[f])*s;1===g?r=k:r[f]=k}}return{value:r,iterationIndex:t}}function LFh(){if(this.elem.globalData.frameId!==this.frameId){this.mdf=!1;var e=this.comp.renderedFrame-this.offsetTime,t=this.keyframes[0].t-this.offsetTime,n=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(e===this._caching.lastFrame||this._caching.lastFrame!==UFh&&(this._caching.lastFrame>=n&&n<=e||this._caching.lastFrame<t&&e<t))){var i=this._caching.lastFrame<e?this._caching.lastIndex:0,r=this.interpolateValue(e,i,this.pv,this._caching);if(this._caching.lastIndex=r.iterationIndex,this.pv.constructor===Array)for(i=0;i<this.v.length;)this.pv[i]=r.value[i],this.v[i]=this.mult?this.pv[i]*this.mult:this.pv[i],this.lastPValue[i]!==this.pv[i]&&(this.mdf=!0,this.lastPValue[i]=this.pv[i]),i+=1;else this.pv=r.value,this.v=this.mult?this.pv*this.mult:this.pv,this.lastPValue!=this.pv&&(this.mdf=!0,this.lastPValue=this.pv)}this._caching.lastFrame=e,this.frameId=this.elem.globalData.frameId}}function MFh(){}function NFh(e,t,n){this.mult=n,this.v=n?t.k*n:t.k,this.pv=t.k,this.mdf=!1,this.comp=e.comp,this.k=!1,this.kf=!1,this.vel=0,this.getValue=MFh}function OFh(e,t,n){this.mult=n,this.data=t,this.mdf=!1,this.comp=e.comp,this.k=!1,this.kf=!1,this.frameId=-1,this.v=Array.apply(null,{length:t.k.length}),this.pv=Array.apply(null,{length:t.k.length}),this.lastValue=Array.apply(null,{length:t.k.length});var i=Array.apply(null,{length:t.k.length});this.vel=i.map(function(){return 0});var r,o=t.k.length;for(r=0;r<o;r+=1)this.v[r]=n?t.k[r]*n:t.k[r],this.pv[r]=t.k[r];this.getValue=MFh}function PFh(e,t,n){this.keyframes=t.k,this.offsetTime=e.data.st,this.lastValue=-99999,this.lastPValue=-99999,this.frameId=-1,this._caching={lastFrame:UFh,lastIndex:0},this.k=!0,this.kf=!0,this.data=t,this.mult=n,this.elem=e,this.comp=e.comp,this.v=n?t.k[0].s[0]*n:t.k[0].s[0],this.pv=t.k[0].s[0],this.getValue=LFh,this.interpolateValue=KFh}function QFh(e,t,n){var i,r,o,a,s,l=t.k.length;for(i=0;i<l-1;i+=1)t.k[i].to&&t.k[i].s&&t.k[i].e&&(r=t.k[i].s,o=t.k[i].e,a=t.k[i].to,s=t.k[i].ti,(2===r.length&&(r[0]!==o[0]||r[1]!==o[1])&&bez.pointOnLine2D(r[0],r[1],o[0],o[1],r[0]+a[0],r[1]+a[1])&&bez.pointOnLine2D(r[0],r[1],o[0],o[1],o[0]+s[0],o[1]+s[1])||3===r.length&&(r[0]!==o[0]||r[1]!==o[1]||r[2]!==o[2])&&bez.pointOnLine3D(r[0],r[1],r[2],o[0],o[1],o[2],r[0]+a[0],r[1]+a[1],r[2]+a[2])&&bez.pointOnLine3D(r[0],r[1],r[2],o[0],o[1],o[2],o[0]+s[0],o[1]+s[1],o[2]+s[2]))&&(t.k[i].to=null,t.k[i].ti=null));this.keyframes=t.k,this.offsetTime=e.data.st,this.k=!0,this.kf=!0,this.mult=n,this.elem=e,this.comp=e.comp,this._caching={lastFrame:UFh,lastIndex:0},this.getValue=LFh,this.interpolateValue=KFh,this.frameId=-1,this.v=Array.apply(null,{length:t.k[0].s.length}),this.pv=Array.apply(null,{length:t.k[0].s.length}),this.lastValue=Array.apply(null,{length:t.k[0].s.length}),this.lastPValue=Array.apply(null,{length:t.k[0].s.length})}function RFh(e,t,n,i,r){var o;if(2===n)o=new VFh(e,t,r);else if(0===t.a)o=0===n?new NFh(e,t,i):new OFh(e,t,i);else if(1===t.a)o=0===n?new PFh(e,t,i):new QFh(e,t,i);else if(t.k.length)if("number"==typeof t.k[0])o=new OFh(e,t,i);else switch(n){case 0:o=new PFh(e,t,i);break;case 1:o=new QFh(e,t,i)}else o=new NFh(e,t,i);return o.k&&r.push(o),o}function WFh(e,t,n){return new LHh(e,t,n)}function hIh(e){if(this.mdf=e||!1,this.dynamicProperties.length){var t,n=this.dynamicProperties.length;for(t=0;t<n;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t].mdf&&(this.mdf=!0)}var i=this.elem.textProperty.currentData?this.elem.textProperty.currentData.l.length:0;e&&2===this.data.r&&(this.e.v=i);var r=2===this.data.r?1:100/i,o=this.o.v/r,a=this.s.v/r+o,s=this.e.v/r+o;if(s<a){var l=a;a=s,s=l}this.finalS=a,this.finalE=s}function iIh(e){var t=BezierFactory.getBezierEasing(this.ne.v/100,0,1-this.xe.v/100,1).get,n=0,i=this.finalS,r=this.finalE,o=this.data.sh;if(2==o)n=t(n=r===i?r<=e?1:0:jIh(0,kIh(.5/(r-i)+(e-i)/(r-i),1)));else if(3==o)n=t(n=r===i?r<=e?0:1:1-jIh(0,kIh(.5/(r-i)+(e-i)/(r-i),1)));else if(4==o)r===i?n=0:(n=jIh(0,kIh(.5/(r-i)+(e-i)/(r-i),1)))<.5?n*=2:n=1-2*(n-.5),n=t(n);else if(5==o){if(r===i)n=0;else{var a=r-i,s=-a/2+(e=kIh(jIh(0,e+.5-i),r-i)),l=a/2;n=Math.sqrt(1-s*s/(l*l))}n=t(n)}else n=(6==o?n=r===i?0:(e=kIh(jIh(0,e+.5-i),r-i),(1+Math.cos(Math.PI+2*Math.PI*e/(r-i)))/2):e>=lIh(i)&&(n=e-i<0?1-(i-e):jIh(0,kIh(r-e,1))),t(n));return n*this.a.v}function YHh(e){var t=0,n=this.dataProps.length;if(this.elem.globalData.frameId!==this.frameId||e){for(this.mdf=!1,this.frameId=this.elem.globalData.frameId;t<n;){if(this.dataProps[t].p.mdf){this.mdf=!0;break}t+=1}if(this.mdf||e)for("svg"===this.renderer&&(this.dasharray=""),t=0;t<n;t+=1)"o"!=this.dataProps[t].n?"svg"===this.renderer?this.dasharray+=" "+this.dataProps[t].p.v:this.dasharray[t]=this.dataProps[t].p.v:this.dashoffset=this.dataProps[t].p.v}}function KHh(e){if(this.prop.getValue(),this.cmdf=!1,this.omdf=!1,this.prop.mdf||e){var t,n,i,r=4*this.data.p;for(t=0;t<r;t+=1)n=t%4==0?100:255,i=Math.round(this.prop.v[t]*n),this.c[t]!==i&&(this.c[t]=i,this.cmdf=!0);if(this.o.length)for(r=this.prop.v.length,t=4*this.data.p;t<r;t+=1)n=t%2==0?100:1,i=t%2==0?Math.round(100*this.prop.v[t]):this.prop.v[t],this.o[t-4*this.data.p]!==i&&(this.o[t-4*this.data.p]=i,this.omdf=!0)}}function LHh(e,t,n){this.prop=RFh(e,t.k,1,null,[]),this.data=t,this.k=this.prop.k,this.c=Array.apply(null,{length:4*t.p});var i=t.k.k[0].s?t.k.k[0].s.length-4*t.p:t.k.k.length-4*t.p;this.o=Array.apply(null,{length:i}),this.cmdf=!1,this.omdf=!1,this.getValue=KHh,this.prop.k&&n.push(this),this.getValue(!0)}function mHh(){return this.p?ExpressionValue(this.p):[this.px.v,this.py.v,this.pz?this.pz.v:0]}function nHh(){return ExpressionValue(this.px)}function oHh(){return ExpressionValue(this.py)}function pHh(){return ExpressionValue(this.a)}function qHh(){return ExpressionValue(this.or)}function rHh(){return this.r?ExpressionValue(this.r,1/degToRads):ExpressionValue(this.rz,1/degToRads)}function sHh(){return ExpressionValue(this.s,100)}function tHh(){return ExpressionValue(this.o,100)}function uHh(){return ExpressionValue(this.sk)}function vHh(){return ExpressionValue(this.sa)}function wHh(e){var t,n=this.dynamicProperties.length;for(t=0;t<n;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t].mdf&&(this.mdf=!0);this.a&&e.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&e.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.r?e.rotate(-this.r.v):e.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?e.translate(this.px.v,this.py.v,-this.pz.v):e.translate(this.px.v,this.py.v,0):e.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function xHh(){if(this.elem.globalData.frameId!==this.frameId){this.mdf=!1;var e,t=this.dynamicProperties.length;for(e=0;e<t;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e].mdf&&(this.mdf=!0);if(this.mdf){var n,i;if(this.v.reset(),this.a&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r?this.v.rotate(-this.r.v):this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented&&this.p.keyframes&&this.p.getValueAtTime)i=this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(n=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/this.elem.globalData.frameRate,0),this.p.getValueAtTime(this.p.keyframes[0].t/this.elem.globalData.frameRate,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(n=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/this.elem.globalData.frameRate,0),this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.01)/this.elem.globalData.frameRate,0)):(n=this.p.pv,this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/this.elem.globalData.frameRate,this.p.offsetTime)),this.v.rotate(-Math.atan2(n[1]-i[1],n[0]-i[0]));this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function yHh(){this.inverted=!0,this.iv=new Matrix,this.k||(this.data.p.s?this.iv.translate(this.px.v,this.py.v,-this.pz.v):this.iv.translate(this.p.v[0],this.p.v[1],-this.p.v[2]),this.r?this.iv.rotate(-this.r.v):this.iv.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.s&&this.iv.scale(this.s.v[0],this.s.v[1],1),this.a&&this.iv.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]))}function zHh(){}function MEh(e,t){var n=document.createElement("span");n.style.fontFamily=t;var i=document.createElement("span");i.innerHTML="giItT1WQy@!-/#",n.style.position="absolute",n.style.left="-10000px",n.style.top="-10000px",n.style.fontSize="300px",n.style.fontVariant="normal",n.style.fontStyle="normal",n.style.fontWeight="normal",n.style.letterSpacing="0",n.appendChild(i),document.body.appendChild(n);var r=i.offsetWidth;return i.style.fontFamily=e+", "+t,{node:i,w:r,parent:n}}function OEh(e,t){var n=document.createElementNS(svgNS,"text");n.style.fontSize="100px",n.style.fontFamily=t.fFamily,n.textContent="1",t.fClass?(n.style.fontFamily="inherit",n.className=t.fClass):n.style.fontFamily=t.fFamily,e.appendChild(n);var i=document.createElement("canvas").getContext("2d");return i.font="100px "+t.fFamily,i}function VEh(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.loaded=!1,this.initTime=Date.now()}ShapePath.prototype.setPathData=function(e,t){this.c=e,this.setLength(t);for(var n=0;n<t;)this.v[n]=point_pool.newPoint(),this.o[n]=point_pool.newPoint(),this.i[n]=point_pool.newPoint(),n+=1},ShapePath.prototype.setLength=function(e){for(;this._maxLength<e;)this.doubleArrayLength();this._length=e},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(Array.apply(null,{length:this._maxLength})),this.i=this.i.concat(Array.apply(null,{length:this._maxLength})),this.o=this.o.concat(Array.apply(null,{length:this._maxLength})),this._maxLength*=2},ShapePath.prototype.setXYAt=function(e,t,n,i,r){var o;switch(this._length=Math.max(this._length,i+1),this._length>=this._maxLength&&this.doubleArrayLength(),n){case"v":o=this.v;break;case"i":o=this.i;break;case"o":o=this.o}o[i]&&(!o[i]||r)||(o[i]=point_pool.newPoint()),o[i][0]=e,o[i][1]=t},ShapePath.prototype.setTripleAt=function(e,t,n,i,r,o,a,s){this.setXYAt(e,t,"v",a,s),this.setXYAt(n,i,"o",a,s),this.setXYAt(r,o,"i",a,s)};var ShapePropertyFactory=function(){function e(e,t,n,i){var r,o,a;if(e<this.keyframes[0].t-this.offsetTime)r=this.keyframes[0].s[0],a=!0,t=0;else if(e>=this.keyframes[this.keyframes.length-1].t-this.offsetTime)r=1===this.keyframes[this.keyframes.length-2].h?this.keyframes[this.keyframes.length-1].s[0]:this.keyframes[this.keyframes.length-2].e[0],a=!0;else{for(var s,l,c,u,d,h,p=t,f=this.keyframes.length-1,g=!0;g&&(s=this.keyframes[p],!((l=this.keyframes[p+1]).t-this.offsetTime>e));)p<f-1?p+=1:g=!1;var m;if(t=p,!(a=1===s.h)){if(e>=l.t-this.offsetTime)m=1;else if(e<s.t-this.offsetTime)m=0;else{var v;s.__fnct?v=s.__fnct:(v=BezierFactory.getBezierEasing(s.o.x,s.o.y,s.i.x,s.i.y).get,s.__fnct=v),m=v((e-(s.t-this.offsetTime))/(l.t-this.offsetTime-(s.t-this.offsetTime)))}o=s.e[0]}r=s.s[0]}u=n._length,h=r.i[0].length;var y,b=!1;for(c=0;c<u;c+=1)for(d=0;d<h;d+=1)y=a?(y=r.i[c][d],n.i[c][d]!==y&&(n.i[c][d]=y,i&&(this.pv.i[c][d]=y),b=!0),y=r.o[c][d],n.o[c][d]!==y&&(n.o[c][d]=y,i&&(this.pv.o[c][d]=y),b=!0),r.v[c][d]):(y=r.i[c][d]+(o.i[c][d]-r.i[c][d])*m,n.i[c][d]!==y&&(n.i[c][d]=y,i&&(this.pv.i[c][d]=y),b=!0),y=r.o[c][d]+(o.o[c][d]-r.o[c][d])*m,n.o[c][d]!==y&&(n.o[c][d]=y,i&&(this.pv.o[c][d]=y),b=!0),r.v[c][d]+(o.v[c][d]-r.v[c][d])*m),n.v[c][d]!==y&&(n.v[c][d]=y,i&&(this.pv.v[c][d]=y),b=!0);return b&&(n.c=r.c),{iterationIndex:t,hasModified:b}}function r(){this.paths=this.localShapeCollection,this.k||(this.mdf=!1)}function s(e,t,n){this.__shapeObject=1,this.comp=e.comp,this.k=!1,this.mdf=!1;var i=3===n?t.pt.k:t.ks.k;this.v=shape_pool.clone(i),this.pv=shape_pool.clone(this.v),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=r}function l(e,t,n){this.__shapeObject=1,this.comp=e.comp,this.elem=e,this.offsetTime=e.data.st,this._lastIndex=0,this.keyframes=3===n?t.pt.k:t.ks.k,this.k=!0,this.kf=!0;var i=this.keyframes[0].s[0].i.length;this.keyframes[0].s[0].i[0].length,this.v=shape_pool.newShape(),this.v.setPathData(this.keyframes[0].s[0].c,i),this.pv=shape_pool.clone(this.v),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=o,this.reset=r}var o=-999999;s.prototype.interpolateShape=e,s.prototype.getValue=function(){return this.v},l.prototype.getValue=function(){if(this.elem.globalData.frameId!==this.frameId){this.mdf=!1;var e=this.comp.renderedFrame-this.offsetTime,t=this.keyframes[0].t-this.offsetTime,n=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(this.lastFrame===o||!(this.lastFrame<t&&e<t||this.lastFrame>n&&n<e)){var i=this.lastFrame<e?this._lastIndex:0,r=this.interpolateShape(e,i,this.v,!0);this._lastIndex=r.iterationIndex,this.mdf=r.hasModified,r.hasModified&&(this.paths=this.localShapeCollection)}this.lastFrame=e,this.frameId=this.elem.globalData.frameId}},l.prototype.interpolateShape=e;var a,c=(a=roundCorner,function(e,t){this.v=shape_pool.newShape(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=t.d,this.dynamicProperties=[],this.elem=e,this.comp=e.comp,this.frameId=-1,this.mdf=!1,this.getValue=m,this.convertEllToPath=g,this.reset=r,this.p=PropertyFactory.getProp(e,t.p,1,0,this.dynamicProperties),this.s=PropertyFactory.getProp(e,t.s,1,0,this.dynamicProperties),this.dynamicProperties.length?this.k=!0:this.convertEllToPath()}),u=function(e,t){this.v=shape_pool.newShape(),this.v.setPathData(!0,0),this.elem=e,this.comp=e.comp,this.data=t,this.frameId=-1,this.d=t.d,this.dynamicProperties=[],this.mdf=!1,this.getValue=f,this.reset=r,1===t.sy?(this.ir=PropertyFactory.getProp(e,t.ir,0,0,this.dynamicProperties),this.is=PropertyFactory.getProp(e,t.is,0,.01,this.dynamicProperties),this.convertToPath=p):this.convertToPath=h,this.pt=PropertyFactory.getProp(e,t.pt,0,0,this.dynamicProperties),this.p=PropertyFactory.getProp(e,t.p,1,0,this.dynamicProperties),this.r=PropertyFactory.getProp(e,t.r,0,degToRads,this.dynamicProperties),this.or=PropertyFactory.getProp(e,t.or,0,0,this.dynamicProperties),this.os=PropertyFactory.getProp(e,t.os,0,.01,this.dynamicProperties),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:this.convertToPath()},d=function(e,t){this.v=shape_pool.newShape(),this.v.c=!0,this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=e,this.comp=e.comp,this.frameId=-1,this.d=t.d,this.dynamicProperties=[],this.mdf=!1,this.getValue=n,this.convertRectToPath=i,this.reset=r,this.p=PropertyFactory.getProp(e,t.p,1,0,this.dynamicProperties),this.s=PropertyFactory.getProp(e,t.s,1,0,this.dynamicProperties),this.r=PropertyFactory.getProp(e,t.r,0,0,this.dynamicProperties),this.dynamicProperties.length?this.k=!0:this.convertRectToPath()},t={};function n(e){if(this.elem.globalData.frameId!==this.frameId){this.mdf=!1,this.frameId=this.elem.globalData.frameId;var t,n=this.dynamicProperties.length;for(t=0;t<n;t+=1)this.dynamicProperties[t].getValue(e),this.dynamicProperties[t].mdf&&(this.mdf=!0);this.mdf&&this.convertRectToPath()}}function i(){var e=this.p.v[0],t=this.p.v[1],n=this.s.v[0]/2,i=this.s.v[1]/2,r=bm_min(n,i,this.r.v),o=r*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(e+n,t-i+r,e+n,t-i+r,e+n,t-i+o,0,!0),this.v.setTripleAt(e+n,t+i-r,e+n,t+i-o,e+n,t+i-r,1,!0),0!==r?(this.v.setTripleAt(e+n-r,t+i,e+n-r,t+i,e+n-o,t+i,2,!0),this.v.setTripleAt(e-n+r,t+i,e-n+o,t+i,e-n+r,t+i,3,!0),this.v.setTripleAt(e-n,t+i-r,e-n,t+i-r,e-n,t+i-o,4,!0),this.v.setTripleAt(e-n,t-i+r,e-n,t-i+o,e-n,t-i+r,5,!0),this.v.setTripleAt(e-n+r,t-i,e-n+r,t-i,e-n+o,t-i,6,!0),this.v.setTripleAt(e+n-r,t-i,e+n-o,t-i,e+n-r,t-i,7,!0)):(this.v.setTripleAt(e-n,t+i,e-n+o,t+i,e-n,t+i,2),this.v.setTripleAt(e-n,t-i,e-n,t-i+o,e-n,t-i,3))):(this.v.setTripleAt(e+n,t-i+r,e+n,t-i+o,e+n,t-i+r,0,!0),0!==r?(this.v.setTripleAt(e+n-r,t-i,e+n-r,t-i,e+n-o,t-i,1,!0),this.v.setTripleAt(e-n+r,t-i,e-n+o,t-i,e-n+r,t-i,2,!0),this.v.setTripleAt(e-n,t-i+r,e-n,t-i+r,e-n,t-i+o,3,!0),this.v.setTripleAt(e-n,t+i-r,e-n,t+i-o,e-n,t+i-r,4,!0),this.v.setTripleAt(e-n+r,t+i,e-n+r,t+i,e-n+o,t+i,5,!0),this.v.setTripleAt(e+n-r,t+i,e+n-o,t+i,e+n-r,t+i,6,!0),this.v.setTripleAt(e+n,t+i-r,e+n,t+i-r,e+n,t+i-o,7,!0)):(this.v.setTripleAt(e-n,t-i,e-n+o,t-i,e-n,t-i,1,!0),this.v.setTripleAt(e-n,t+i,e-n,t+i-o,e-n,t+i,2,!0),this.v.setTripleAt(e+n,t+i,e+n-o,t+i,e+n,t+i,3,!0)))}function h(){var e,t=Math.floor(this.pt.v),n=2*Math.PI/t,i=this.or.v,r=this.os.v,o=2*Math.PI*i/(4*t),a=-Math.PI/2,s=3===this.data.d?-1:1;for(a+=this.r.v,e=this.v._length=0;e<t;e+=1){var l=i*Math.cos(a),c=i*Math.sin(a),u=0===l&&0===c?0:c/Math.sqrt(l*l+c*c),d=0===l&&0===c?0:-l/Math.sqrt(l*l+c*c);l+=+this.p.v[0],c+=+this.p.v[1],this.v.setTripleAt(l,c,l-u*o*r*s,c-d*o*r*s,l+u*o*r*s,c+d*o*r*s,e,!0),a+=n*s}this.paths.length=0,this.paths[0]=this.v}function p(){var e,t,n,i,r=2*Math.floor(this.pt.v),o=2*Math.PI/r,a=!0,s=this.or.v,l=this.ir.v,c=this.os.v,u=this.is.v,d=2*Math.PI*s/(2*r),h=2*Math.PI*l/(2*r),p=-Math.PI/2;p+=this.r.v;var f=3===this.data.d?-1:1;for(e=this.v._length=0;e<r;e+=1){n=a?c:u,i=a?d:h;var g=(t=a?s:l)*Math.cos(p),m=t*Math.sin(p),v=0===g&&0===m?0:m/Math.sqrt(g*g+m*m),y=0===g&&0===m?0:-g/Math.sqrt(g*g+m*m);g+=+this.p.v[0],m+=+this.p.v[1],this.v.setTripleAt(g,m,g-v*i*n*f,m-y*i*n*f,g+v*i*n*f,m+y*i*n*f,e,!0),a=!a,p+=o*f}}function f(){if(this.elem.globalData.frameId!==this.frameId){this.mdf=!1,this.frameId=this.elem.globalData.frameId;var e,t=this.dynamicProperties.length;for(e=0;e<t;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e].mdf&&(this.mdf=!0);this.mdf&&this.convertToPath()}}function g(){var e=this.p.v[0],t=this.p.v[1],n=this.s.v[0]/2,i=this.s.v[1]/2;3!==this.d?(this.v.v[0][0]=e,this.v.v[0][1]=t-i,this.v.v[1][0]=e+n,this.v.v[1][1]=t,this.v.v[2][0]=e,this.v.v[2][1]=t+i,this.v.v[3][0]=e-n,this.v.v[3][1]=t,this.v.i[0][0]=e-n*a,this.v.i[0][1]=t-i,this.v.i[1][0]=e+n,this.v.i[1][1]=t-i*a,this.v.i[2][0]=e+n*a,this.v.i[2][1]=t+i,this.v.i[3][0]=e-n,this.v.i[3][1]=t+i*a,this.v.o[0][0]=e+n*a,this.v.o[0][1]=t-i,this.v.o[1][0]=e+n,this.v.o[1][1]=t+i*a,this.v.o[2][0]=e-n*a,this.v.o[2][1]=t+i,this.v.o[3][0]=e-n):(this.v.v[0][0]=e,this.v.v[0][1]=t-i,this.v.v[1][0]=e-n,this.v.v[1][1]=t,this.v.v[2][0]=e,this.v.v[2][1]=t+i,this.v.v[3][0]=e+n,this.v.v[3][1]=t,this.v.i[0][0]=e+n*a,this.v.i[0][1]=t-i,this.v.i[1][0]=e-n,this.v.i[1][1]=t-i*a,this.v.i[2][0]=e-n*a,this.v.i[2][1]=t+i,this.v.i[3][0]=e+n,this.v.i[3][1]=t+i*a,this.v.o[0][0]=e-n*a,this.v.o[0][1]=t-i,this.v.o[1][0]=e-n,this.v.o[1][1]=t+i*a,this.v.o[2][0]=e+n*a,this.v.o[2][1]=t+i,this.v.o[3][0]=e+n),this.v.o[3][1]=t-i*a}function m(e){var t,n=this.dynamicProperties.length;if(this.elem.globalData.frameId!==this.frameId){for(this.mdf=!1,this.frameId=this.elem.globalData.frameId,t=0;t<n;t+=1)this.dynamicProperties[t].getValue(e),this.dynamicProperties[t].mdf&&(this.mdf=!0);this.mdf&&this.convertEllToPath()}}return t.getShapeProp=function(e,t,n,i){var r;if(3===n||4===n){var o=3===n?t.pt:t.ks,a=o.k;r=1===o.a||a.length?new l(e,t,n):new s(e,t,n)}else 5===n?r=new d(e,t):6===n?r=new c(e,t):7===n&&(r=new u(e,t));return r.k&&i.push(r),r},t.getConstructorFunction=function(){return s},t.getKeyframedConstructorFunction=function(){return l},t}(),ShapeModifiers=(iLh={},jLh={},iLh.registerModifier=function(e,t){jLh[e]||(jLh[e]=t)},iLh.getModifier=function(e,t,n,i){return new jLh[e](t,n,i)},iLh),iLh,jLh;ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(e){this.closed||(this.shapes.push({shape:e.sh,data:e,localShapeCollection:shapeCollection_pool.newShapeCollection()}),this.addShapeToModifier(e.sh))},ShapeModifier.prototype.init=function(e,t,n){this.elem=e,this.frameId=-1,this.shapes=[],this.dynamicProperties=[],this.mdf=!1,this.closed=!1,this.k=!1,this.comp=e.comp,this.initModifierProperties(e,t),this.dynamicProperties.length?(this.k=!0,n.push(this)):this.getValue(!0)},extendPrototype(ShapeModifier,TrimModifier),TrimModifier.prototype.processKeys=function(e){if(this.elem.globalData.frameId!==this.frameId||e){this.mdf=!!e,this.frameId=this.elem.globalData.frameId;var t,n=this.dynamicProperties.length;for(t=0;t<n;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t].mdf&&(this.mdf=!0);if(this.mdf||e){var i=this.o.v%360/360;i<0&&(i+=1);var r=this.s.v+i,o=this.e.v+i;if(o<r){var a=r;r=o,o=a}this.sValue=r,this.eValue=o,this.oValue=i}}},TrimModifier.prototype.initModifierProperties=function(e,t){this.sValue=0,this.eValue=0,this.oValue=0,this.getValue=this.processKeys,this.s=PropertyFactory.getProp(e,t.s,0,.01,this.dynamicProperties),this.e=PropertyFactory.getProp(e,t.e,0,.01,this.dynamicProperties),this.o=PropertyFactory.getProp(e,t.o,0,0,this.dynamicProperties),this.m=t.m,this.dynamicProperties.length||this.getValue(!0)},TrimModifier.prototype.calculateShapeEdges=function(e,t,n,i,r){var o=[];t<=1?o.push({s:e,e:t}):1<=e?o.push({s:e-1,e:t-1}):(o.push({s:e,e:1}),o.push({s:0,e:t-1}));var a,s,l=[],c=o.length;for(a=0;a<c;a+=1)if((s=o[a]).e*r<i||s.s*r>i+n);else{var u,d;u=s.s*r<=i?0:(s.s*r-i)/n,d=s.e*r>=i+n?1:(s.e*r-i)/n,l.push([u,d])}return l.length||l.push([0,0]),l},TrimModifier.prototype.processShapes=function(e){var t,n,i,r,o,a=this.shapes.length,s=this.sValue,l=this.eValue,c=0;if(l===s)for(n=0;n<a;n+=1)this.shapes[n].localShapeCollection.releaseShapes(),this.shapes[n].shape.mdf=!0,this.shapes[n].shape.paths=this.shapes[n].localShapeCollection;else if(1===l&&0===s||0===l&&1===s){if(this.mdf)for(n=0;n<a;n+=1)this.shapes[n].shape.mdf=!0}else{var u,d,h=[];for(n=0;n<a;n+=1)if((u=this.shapes[n]).shape.mdf||this.mdf||e||2===this.m){if(f=(t=u.shape.paths)._length,o=0,!u.shape.mdf&&u.pathsData)o=u.totalShapeLength;else{for(i=[],p=0;p<f;p+=1)r=bez.getSegmentsLength(t.shapes[p]),i.push(r),o+=r.totalLength;u.totalShapeLength=o,u.pathsData=i}c+=o,u.shape.mdf=!0}else u.shape.paths=u.localShapeCollection;var p,f,g=s,m=l,v=0;for(n=a-1;0<=n;n-=1)if((u=this.shapes[n]).shape.mdf){if((d=u.localShapeCollection).releaseShapes(),2===this.m&&1<a){var y=this.calculateShapeEdges(s,l,u.totalShapeLength,v,c);v+=u.totalShapeLength}else y=[[g,m]];for(f=y.length,p=0;p<f;p+=1){g=y[p][0],m=y[p][1],h.length=0,m<=1?h.push({s:u.totalShapeLength*g,e:u.totalShapeLength*m}):1<=g?h.push({s:u.totalShapeLength*(g-1),e:u.totalShapeLength*(m-1)}):(h.push({s:u.totalShapeLength*g,e:u.totalShapeLength}),h.push({s:0,e:u.totalShapeLength*(m-1)}));var b=this.addShapes(u,h[0]);if(h[0].s!==h[0].e){if(1<h.length)if(u.shape.v.c){var w=b.pop();this.addPaths(b,d),b=this.addShapes(u,h[1],w)}else this.addPaths(b,d),b=this.addShapes(u,h[1]);this.addPaths(b,d)}}u.shape.paths=d}}this.dynamicProperties.length||(this.mdf=!1)},TrimModifier.prototype.addPaths=function(e,t){var n,i=e.length;for(n=0;n<i;n+=1)t.addShape(e[n])},TrimModifier.prototype.addSegment=function(e,t,n,i,r,o,a){r.setXYAt(t[0],t[1],"o",o),r.setXYAt(n[0],n[1],"i",o+1),a&&r.setXYAt(e[0],e[1],"v",o),r.setXYAt(i[0],i[1],"v",o+1)},TrimModifier.prototype.addShapes=function(e,t,n){var i,r,o,a,s,l,c,u,d=e.pathsData,h=e.shape.paths.shapes,p=e.shape.paths._length,f=0,g=[],m=!0;for(u=n?(s=n._length,n._length):(n=shape_pool.newShape(),s=0),g.push(n),i=0;i<p;i+=1){for(l=d[i].lengths,n.c=h[i].c,o=h[i].c?l.length:l.length+1,r=1;r<o;r+=1)if(f+(a=l[r-1]).addedLength<t.s)f+=a.addedLength,n.c=!1;else{if(f>t.e){n.c=!1;break}t.s<=f&&t.e>=f+a.addedLength?(this.addSegment(h[i].v[r-1],h[i].o[r-1],h[i].i[r],h[i].v[r],n,s,m),m=!1):(c=bez.getNewSegment(h[i].v[r-1],h[i].v[r],h[i].o[r-1],h[i].i[r],(t.s-f)/a.addedLength,(t.e-f)/a.addedLength,l[r-1]),this.addSegment(c.pt1,c.pt3,c.pt4,c.pt2,n,s,m),m=!1,n.c=!1),f+=a.addedLength,s+=1}if(h[i].c){if(a=l[r-1],f<=t.e){var v=l[r-1].addedLength;t.s<=f&&t.e>=f+v?(this.addSegment(h[i].v[r-1],h[i].o[r-1],h[i].i[0],h[i].v[0],n,s,m),m=!1):(c=bez.getNewSegment(h[i].v[r-1],h[i].v[0],h[i].o[r-1],h[i].i[0],(t.s-f)/v,(t.e-f)/v,l[r-1]),this.addSegment(c.pt1,c.pt3,c.pt4,c.pt2,n,s,m),m=!1,n.c=!1)}else n.c=!1;f+=a.addedLength,s+=1}if(n._length&&(n.setXYAt(n.v[u][0],n.v[u][1],"i",u),n.setXYAt(n.v[n._length-1][0],n.v[n._length-1][1],"o",n._length-1)),f>t.e)break;i<p-1&&(n=shape_pool.newShape(),m=!0,g.push(n),s=0)}return g},ShapeModifiers.registerModifier("tm",TrimModifier),extendPrototype(ShapeModifier,RoundCornersModifier),RoundCornersModifier.prototype.processKeys=function(e){if(this.elem.globalData.frameId!==this.frameId||e){this.mdf=!!e,this.frameId=this.elem.globalData.frameId;var t,n=this.dynamicProperties.length;for(t=0;t<n;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t].mdf&&(this.mdf=!0)}},RoundCornersModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(e,t.r,0,null,this.dynamicProperties),this.dynamicProperties.length||this.getValue(!0)},RoundCornersModifier.prototype.processPath=function(e,t){var n=shape_pool.newShape();n.c=e.c;var i,r,o,a,s,l,c,u,d,h,p,f,g,m=e._length,v=0;for(i=0;i<m;i+=1)r=e.v[i],a=e.o[i],o=e.i[i],r[0]===a[0]&&r[1]===a[1]&&r[0]===o[0]&&r[1]===o[1]?0!==i&&i!==m-1||e.c?(s=0===i?e.v[m-1]:e.v[i-1],c=(l=Math.sqrt(Math.pow(r[0]-s[0],2)+Math.pow(r[1]-s[1],2)))?Math.min(l/2,t)/l:0,u=f=r[0]+(s[0]-r[0])*c,d=g=r[1]-(r[1]-s[1])*c,h=u-(u-r[0])*roundCorner,p=d-(d-r[1])*roundCorner,n.setTripleAt(u,d,h,p,f,g,v),v+=1,s=i===m-1?e.v[0]:e.v[i+1],c=(l=Math.sqrt(Math.pow(r[0]-s[0],2)+Math.pow(r[1]-s[1],2)))?Math.min(l/2,t)/l:0,u=h=r[0]+(s[0]-r[0])*c,d=p=r[1]+(s[1]-r[1])*c,f=u-(u-r[0])*roundCorner,g=d-(d-r[1])*roundCorner,n.setTripleAt(u,d,h,p,f,g,v)):n.setTripleAt(r[0],r[1],a[0],a[1],o[0],o[1],v):n.setTripleAt(e.v[i][0],e.v[i][1],e.o[i][0],e.o[i][1],e.i[i][0],e.i[i][1],v),v+=1;return n},RoundCornersModifier.prototype.processShapes=function(e){var t,n,i,r,o,a,s=this.shapes.length,l=this.rd.v;if(0!==l)for(n=0;n<s;n+=1){if((o=this.shapes[n]).shape.paths,a=o.localShapeCollection,o.shape.mdf||this.mdf||e)for(a.releaseShapes(),o.shape.mdf=!0,t=o.shape.paths.shapes,r=o.shape.paths._length,i=0;i<r;i+=1)a.addShape(this.processPath(t[i],l));o.shape.paths=o.localShapeCollection}this.dynamicProperties.length||(this.mdf=!1)},ShapeModifiers.registerModifier("rd",RoundCornersModifier),RepeaterModifier.prototype.processKeys=function(e){if(this.elem.globalData.frameId!==this.frameId||e){this.mdf=!!e;var t,n=this.dynamicProperties.length;for(t=0;t<n;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t].mdf&&(this.mdf=!0)}},RepeaterModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(e,t.c,0,null,this.dynamicProperties),this.o=PropertyFactory.getProp(e,t.o,0,null,this.dynamicProperties),this.tr=PropertyFactory.getProp(e,t.tr,2,null,this.dynamicProperties),this.data=t,this.dynamicProperties.length||this.getValue(!0),this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(e,t,n,i,r,o){var a=o?-1:1,s=i.s.v[0]+(1-i.s.v[0])*(1-r),l=i.s.v[1]+(1-i.s.v[1])*(1-r);e.translate(i.p.v[0]*a*r,i.p.v[1]*a*r,i.p.v[2]),t.translate(-i.a.v[0],-i.a.v[1],i.a.v[2]),t.rotate(-i.r.v*a*r),t.translate(i.a.v[0],i.a.v[1],i.a.v[2]),n.translate(-i.a.v[0],-i.a.v[1],i.a.v[2]),n.scale(o?1/s:s,o?1/l:l),n.translate(i.a.v[0],i.a.v[1],i.a.v[2])},RepeaterModifier.prototype.init=function(e,t,n,i,r){this.elem=e,this.arr=t,this.pos=n,this.elemsData=i,this._currentCopies=0,this._elements=[],this._groups=[],this.dynamicProperties=[],this.frameId=-1,this.initModifierProperties(e,t[n]);for(;0<n;)n-=1,this._elements.unshift(t[n]),1;this.dynamicProperties.length?(this.k=!0,r.push(this)):this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(e){var t,n=e.length;for(t=0;t<n;t+=1)e[t]._processed=!1,"gr"===e[t].ty&&this.resetElements(e[t].it)},RepeaterModifier.prototype.cloneElements=function(e){var t=(e.length,JSON.parse(JSON.stringify(e)));return this.resetElements(t),t},RepeaterModifier.prototype.changeGroupRender=function(e,t){var n,i=e.length;for(n=0;n<i;n+=1)e[n]._render=t,"gr"===e[n].ty&&this.changeGroupRender(e[n].it,t)},RepeaterModifier.prototype.processShapes=function(e){if(this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.dynamicProperties.length||e||(this.mdf=!1),this.mdf)){var t=Math.ceil(this.c.v);if(this._groups.length<t){for(;this._groups.length<t;){var n={it:this.cloneElements(this._elements),ty:"gr"};n.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:0,ix:6,k:0},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,n),this._groups.splice(0,0,n),this._currentCopies+=1}this.elem.reloadShapes()}var i,r,o=0;for(i=0;i<=this._groups.length-1;i+=1)r=o<t,this._groups[i]._render=r,this.changeGroupRender(this._groups[i].it,r),o+=1;this._currentCopies=t,this.elem.firstFrame=!0;var a=this.o.v,s=a%1,l=0<a?Math.floor(a):Math.ceil(a),c=(this.tr.v.props,this.pMatrix.props),u=this.rMatrix.props,d=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var h=0;if(0<a){for(;h<l;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),h+=1;s&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,s,!1),h+=s)}else if(a<0){for(;l<h;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),h-=1;s&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-s,!0),h-=s)}i=1===this.data.m?0:this._currentCopies-1;var p=1===this.data.m?1:-1;for(o=this._currentCopies;o;){if(0!==h){(0!==i&&1==p||i!==this._currentCopies-1&&-1==p)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8],u[9],u[10],u[11],u[12],u[13],u[14],u[15]),this.matrix.transform(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],d[9],d[10],d[11],d[12],d[13],d[14],d[15]),this.matrix.transform(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15]);var f=(v=(m=this.elemsData[i].it)[m.length-1].transform.mProps.v.props).length;for(g=0;g<f;g+=1)v[g]=this.matrix.props[g];this.matrix.reset()}else{this.matrix.reset();var g,m,v;f=(v=(m=this.elemsData[i].it)[m.length-1].transform.mProps.v.props).length;for(g=0;g<f;g+=1)v[g]=this.matrix.props[g]}h+=1,o-=1,i+=p}}},RepeaterModifier.prototype.addShape=function(){},ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeCollection.prototype.addShape=function(e){this._length===this._maxLength&&(this.shapes=this.shapes.concat(Array.apply(null,{length:this._maxLength})),this._maxLength*=2),this.shapes[this._length]=e,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var e;for(e=0;e<this._length;e+=1)shape_pool.release(this.shapes[e]);this._length=0};var ImagePreloader=function(){this.loadAssets=oOh,this.setAssetsPath=qOh,this.setPath=pOh,this.assetsPath="",this.path="",this.totalAssets=0,this.totalImages=0,this.loadedAssets=0},featureSupport=(COh={maskType:!0},(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(COh.maskType=!1),COh),filtersFactory=(FOh={createFilter:function(e){var t=document.createElementNS(svgNS,"filter");return t.setAttribute("id",e),t.setAttribute("filterUnits","objectBoundingBox"),t.setAttribute("x","0%"),t.setAttribute("y","0%"),t.setAttribute("width","100%"),t.setAttribute("height","100%"),t},createAlphaToLuminanceFilter:function(){var e=document.createElementNS(svgNS,"feColorMatrix");return e.setAttribute("type","matrix"),e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),e}},FOh),FOh,COh,rOh;function lOh(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&rOh&&rOh(null)}function mOh(e){var t="";if(this.assetsPath){var n=e.p;-1!==n.indexOf("images/")&&(n=n.split("/")[1]),t=this.assetsPath+n}else t=this.path,t+=e.u?e.u:"",t+=e.p;return t}function nOh(e){var t=document.createElement("img");t.addEventListener("load",lOh.bind(this),!1),t.addEventListener("error",lOh.bind(this),!1),t.src=e}function oOh(e,t){var n;for(rOh=t,this.totalAssets=e.length,n=0;n<this.totalAssets;n+=1)e[n].layers||(nOh.bind(this)(mOh.bind(this)(e[n])),this.totalImages+=1)}function pOh(e){this.path=e||""}function qOh(e){this.assetsPath=e||""}TextAnimatorProperty.prototype.searchProperties=function(e){var t,n,i,r=this._textData.a.length,o=PropertyFactory.getProp;for(t=0;t<r;t+=1)n={a:{},s:{}},"r"in(i=this._textData.a[t]).a&&(n.a.r=o(this._elem,i.a.r,0,degToRads,this._dynamicProperties)),"rx"in i.a&&(n.a.rx=o(this._elem,i.a.rx,0,degToRads,this._dynamicProperties)),"ry"in i.a&&(n.a.ry=o(this._elem,i.a.ry,0,degToRads,this._dynamicProperties)),"sk"in i.a&&(n.a.sk=o(this._elem,i.a.sk,0,degToRads,this._dynamicProperties)),"sa"in i.a&&(n.a.sa=o(this._elem,i.a.sa,0,degToRads,this._dynamicProperties)),"s"in i.a&&(n.a.s=o(this._elem,i.a.s,1,.01,this._dynamicProperties)),"a"in i.a&&(n.a.a=o(this._elem,i.a.a,1,0,this._dynamicProperties)),"o"in i.a&&(n.a.o=o(this._elem,i.a.o,0,.01,this._dynamicProperties)),"p"in i.a&&(n.a.p=o(this._elem,i.a.p,1,0,this._dynamicProperties)),"sw"in i.a&&(n.a.sw=o(this._elem,i.a.sw,0,0,this._dynamicProperties)),"sc"in i.a&&(n.a.sc=o(this._elem,i.a.sc,1,0,this._dynamicProperties)),"fc"in i.a&&(n.a.fc=o(this._elem,i.a.fc,1,0,this._dynamicProperties)),"fh"in i.a&&(n.a.fh=o(this._elem,i.a.fh,0,0,this._dynamicProperties)),"fs"in i.a&&(n.a.fs=o(this._elem,i.a.fs,0,.01,this._dynamicProperties)),"fb"in i.a&&(n.a.fb=o(this._elem,i.a.fb,0,.01,this._dynamicProperties)),"t"in i.a&&(n.a.t=o(this._elem,i.a.t,0,0,this._dynamicProperties)),n.s=PropertyFactory.getTextSelectorProp(this._elem,i.s,this._dynamicProperties),n.s.t=i.s.t,this._animatorsData[t]=n;this._textData.p&&"m"in this._textData.p?(this._pathData={f:o(this._elem,this._textData.p.f,0,0,this._dynamicProperties),l:o(this._elem,this._textData.p.l,0,0,this._dynamicProperties),r:this._textData.p.r,m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=o(this._elem,this._textData.m.a,1,0,this._dynamicProperties),this._dynamicProperties.length&&e.push(this)},TextAnimatorProperty.prototype.getMeasures=function(e,t){if(this.lettersChangedFlag=t,this.mdf||this._firstFrame||t||this._hasMaskedPath&&this._pathData.m.mdf){this._firstFrame=!1;var n,i,r,o,a=this._moreOptions.alignment.v,s=this._animatorsData,l=this._textData,c=this.mHelper,u=this._renderType,d=this.renderedLetters.length,h=(this.data,e.l);if(this._hasMaskedPath){var p=this._pathData.m;if(!this._pathData.n||this._pathData.mdf){var f=p.v;this._pathData.r&&(f=reversePath(f));var g={tLength:0,segments:[]};o=f._length-1;var m,v=0;for(r=0;r<o;r+=1)m={s:f.v[r],e:f.v[r+1],to:[f.o[r][0]-f.v[r][0],f.o[r][1]-f.v[r][1]],ti:[f.i[r+1][0]-f.v[r+1][0],f.i[r+1][1]-f.v[r+1][1]]},bez.buildBezierData(m),g.tLength+=m.bezierData.segmentLength,g.segments.push(m),v+=m.bezierData.segmentLength;r=o,p.v.c&&(m={s:f.v[r],e:f.v[0],to:[f.o[r][0]-f.v[r][0],f.o[r][1]-f.v[r][1]],ti:[f.i[0][0]-f.v[0][0],f.i[0][1]-f.v[0][1]]},bez.buildBezierData(m),g.tLength+=m.bezierData.segmentLength,g.segments.push(m),v+=m.bezierData.segmentLength),this._pathData.pi=g}g=this._pathData.pi;var y,b,w,x=this._pathData.f.v,C=0,S=1,$=0,E=!0,k=g.segments;if(x<0&&p.v.c)for(g.tLength<Math.abs(x)&&(x=-Math.abs(x)%g.tLength),S=(w=k[C=k.length-1].bezierData.points).length-1;x<0;)x+=w[S].partialLength,(S-=1)<0&&(S=(w=k[C-=1].bezierData.points).length-1);b=(w=k[C].bezierData.points)[S-1];var A,T,M=(y=w[S]).partialLength}o=h.length,i=n=0;var D,P,_,R,I=1.2*e.s*.714,F=!0;if(_=s.length,t)for(P=0;P<_;P+=1)s[P].s.getValue(!0);var O,L,N,V,H,B,z,j,G,U,W,q,Y,X=-1,K=x,Z=C,J=S,Q=-1,ee="",te=this.defaultPropsArray;for(r=0;r<o;r+=1){if(c.reset(),H=1,h[r].n)n=0,i+=e.yOffset,i+=F?1:0,x=K,F=!1,0,this._hasMaskedPath&&(S=J,b=(w=k[C=Z].bezierData.points)[S-1],M=(y=w[S]).partialLength,$=0),Y=U=q=ee="",te=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Q!==h[r].line){switch(e.j){case 1:x+=v-e.lineWidths[h[r].line];break;case 2:x+=(v-e.lineWidths[h[r].line])/2}Q=h[r].line}X!==h[r].ind&&(h[X]&&(x+=h[X].extra),x+=h[r].an/2,X=h[r].ind),x+=a[0]*h[r].an/200;var ne=0;for(P=0;P<_;P+=1)"p"in(D=s[P].a)&&(ne+=(O=s[P].s.getMult(h[r].anIndexes[P],l.a[P].s.totalChars)).length?D.p.v[0]*O[0]:D.p.v[0]*O),"a"in D&&(ne+=(O=s[P].s.getMult(h[r].anIndexes[P],l.a[P].s.totalChars)).length?D.a.v[0]*O[0]:D.a.v[0]*O);for(E=!0;E;)x+ne<=$+M||!w?(A=(x+ne-$)/y.partialLength,N=b.point[0]+(y.point[0]-b.point[0])*A,V=b.point[1]+(y.point[1]-b.point[1])*A,c.translate(-a[0]*h[r].an/200,-a[1]*I/100),E=!1):w&&($+=y.partialLength,(S+=1)>=w.length&&(S=0,w=k[C+=1]?k[C].bezierData.points:p.v.c?k[C=S=0].bezierData.points:($-=y.partialLength,null)),w&&(b=y,M=(y=w[S]).partialLength));L=h[r].an/2-h[r].add,c.translate(-L,0,0)}else L=h[r].an/2-h[r].add,c.translate(-L,0,0),c.translate(-a[0]*h[r].an/200,-a[1]*I/100,0);for(h[r].l/2,P=0;P<_;P+=1)"t"in(D=s[P].a)&&(O=s[P].s.getMult(h[r].anIndexes[P],l.a[P].s.totalChars),this._hasMaskedPath?x+=O.length?D.t*O[0]:D.t*O:n+=O.length?D.t.v*O[0]:D.t.v*O);for(h[r].l/2,e.strokeWidthAnim&&(z=e.sw||0),e.strokeColorAnim&&(B=e.sc?[e.sc[0],e.sc[1],e.sc[2]]:[0,0,0]),e.fillColorAnim&&e.fc&&(j=[e.fc[0],e.fc[1],e.fc[2]]),P=0;P<_;P+=1)"a"in(D=s[P].a)&&((O=s[P].s.getMult(h[r].anIndexes[P],l.a[P].s.totalChars)).length?c.translate(-D.a.v[0]*O[0],-D.a.v[1]*O[1],D.a.v[2]*O[2]):c.translate(-D.a.v[0]*O,-D.a.v[1]*O,D.a.v[2]*O));for(P=0;P<_;P+=1)"s"in(D=s[P].a)&&((O=s[P].s.getMult(h[r].anIndexes[P],l.a[P].s.totalChars)).length?c.scale(1+(D.s.v[0]-1)*O[0],1+(D.s.v[1]-1)*O[1],1):c.scale(1+(D.s.v[0]-1)*O,1+(D.s.v[1]-1)*O,1));for(P=0;P<_;P+=1){if(D=s[P].a,O=s[P].s.getMult(h[r].anIndexes[P],l.a[P].s.totalChars),"sk"in D&&(O.length?c.skewFromAxis(-D.sk.v*O[0],D.sa.v*O[1]):c.skewFromAxis(-D.sk.v*O,D.sa.v*O)),"r"in D&&c.rotateZ(O.length?-D.r.v*O[2]:-D.r.v*O),"ry"in D&&c.rotateY(O.length?D.ry.v*O[1]:D.ry.v*O),"rx"in D&&c.rotateX(O.length?D.rx.v*O[0]:D.rx.v*O),"o"in D&&(H+=O.length?(D.o.v*O[0]-H)*O[0]:(D.o.v*O-H)*O),e.strokeWidthAnim&&"sw"in D&&(z+=O.length?D.sw.v*O[0]:D.sw.v*O),e.strokeColorAnim&&"sc"in D)for(G=0;G<3;G+=1)B[G]=O.length?B[G]+(D.sc.v[G]-B[G])*O[0]:B[G]+(D.sc.v[G]-B[G])*O;if(e.fillColorAnim&&e.fc){if("fc"in D)for(G=0;G<3;G+=1)j[G]=O.length?j[G]+(D.fc.v[G]-j[G])*O[0]:j[G]+(D.fc.v[G]-j[G])*O;"fh"in D&&(j=O.length?addHueToRGB(j,D.fh.v*O[0]):addHueToRGB(j,D.fh.v*O)),"fs"in D&&(j=O.length?addSaturationToRGB(j,D.fs.v*O[0]):addSaturationToRGB(j,D.fs.v*O)),"fb"in D&&(j=O.length?addBrightnessToRGB(j,D.fb.v*O[0]):addBrightnessToRGB(j,D.fb.v*O))}}for(P=0;P<_;P+=1)"p"in(D=s[P].a)&&(O=s[P].s.getMult(h[r].anIndexes[P],l.a[P].s.totalChars),this._hasMaskedPath?O.length?c.translate(0,D.p.v[1]*O[0],-D.p.v[2]*O[1]):c.translate(0,D.p.v[1]*O,-D.p.v[2]*O):O.length?c.translate(D.p.v[0]*O[0],D.p.v[1]*O[1],-D.p.v[2]*O[2]):c.translate(D.p.v[0]*O,D.p.v[1]*O,-D.p.v[2]*O));if(e.strokeWidthAnim&&(U=z<0?0:z),e.strokeColorAnim&&(W="rgb("+Math.round(255*B[0])+","+Math.round(255*B[1])+","+Math.round(255*B[2])+")"),e.fillColorAnim&&e.fc&&(q="rgb("+Math.round(255*j[0])+","+Math.round(255*j[1])+","+Math.round(255*j[2])+")"),this._hasMaskedPath){if(c.translate(0,-e.ls),c.translate(0,a[1]*I/100+i,0),l.p.p){T=(y.point[1]-b.point[1])/(y.point[0]-b.point[0]);var ie=180*Math.atan(T)/Math.PI;y.point[0]<b.point[0]&&(ie+=180),c.rotate(-ie*Math.PI/180)}c.translate(N,V,0),x-=a[0]*h[r].an/200,h[r+1]&&X!==h[r+1].ind&&(x+=h[r].an/2,x+=e.tr/1e3*e.s)}else{switch(c.translate(n,i,0),e.ps&&c.translate(e.ps[0],e.ps[1]+e.ascent,0),e.j){case 1:c.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[h[r].line]),0,0);break;case 2:c.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[h[r].line])/2,0,0)}c.translate(0,-e.ls),c.translate(L,0,0),c.translate(a[0]*h[r].an/200,a[1]*I/100,0),n+=h[r].l+e.tr/1e3*e.s}"html"===u?ee=c.toCSS():"svg"===u?ee=c.to2dCSS():te=[c.props[0],c.props[1],c.props[2],c.props[3],c.props[4],c.props[5],c.props[6],c.props[7],c.props[8],c.props[9],c.props[10],c.props[11],c.props[12],c.props[13],c.props[14],c.props[15]],Y=H}d<=r?(R=new LetterProps(Y,U,W,q,ee,te),this.renderedLetters.push(R),d+=1,this.lettersChangedFlag=!0):(R=this.renderedLetters[r],this.lettersChangedFlag=R.update(Y,U,W,q,ee,te)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){if(this._elem.globalData.frameId!==this._frameId){this._frameId=this._elem.globalData.frameId;var e,t=this._dynamicProperties.length;for(this.mdf=!1,e=0;e<t;e+=1)this._dynamicProperties[e].getValue(),this.mdf=this._dynamicProperties[e].mdf||this.mdf}},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],LetterProps.prototype.update=function(e,t,n,i,r,o){this.mdf.o=!1,this.mdf.sw=!1,this.mdf.sc=!1,this.mdf.fc=!1,this.mdf.m=!1;var a=this.mdf.p=!1;return this.o!==e&&(this.o=e,a=this.mdf.o=!0),this.sw!==t&&(this.sw=t,a=this.mdf.sw=!0),this.sc!==n&&(this.sc=n,a=this.mdf.sc=!0),this.fc!==i&&(this.fc=i,a=this.mdf.fc=!0),this.m!==r&&(this.m=r,a=this.mdf.m=!0),!o.length||this.p[0]===o[0]&&this.p[1]===o[1]&&this.p[4]===o[4]&&this.p[5]===o[5]&&this.p[12]===o[12]&&this.p[13]===o[13]||(this.p=o,a=this.mdf.p=!0),a},TextProperty.prototype.setCurrentData=function(e){var t=this.currentData;t.ascent=e.ascent,t.boxWidth=e.boxWidth?e.boxWidth:t.boxWidth,t.f=e.f,t.fStyle=e.fStyle,t.fWeight=e.fWeight,t.fc=e.fc,t.j=e.j,t.justifyOffset=e.justifyOffset,t.l=e.l,t.lh=e.lh,t.lineWidths=e.lineWidths,t.ls=e.ls,t.of=e.of,t.s=e.s,t.sc=e.sc,t.sw=e.sw,t.t=e.t,t.tr=e.tr,t.fillColorAnim=e.fillColorAnim||t.fillColorAnim,t.strokeColorAnim=e.strokeColorAnim||t.strokeColorAnim,t.strokeWidthAnim=e.strokeWidthAnim||t.strokeWidthAnim,t.yOffset=e.yOffset,t.__complete=!1},TextProperty.prototype.searchProperty=function(){return this.kf=1<this.data.d.k.length,this.kf},TextProperty.prototype.getValue=function(){this.mdf=!1;var e=this.elem.globalData.frameId;if(e!==this._frameId&&this.kf||this.firstFrame){for(var t,n=this.data.d.k,i=0,r=n.length;i<=r-1&&(t=n[i].s,!(i===r-1||n[i+1].t>e));)i+=1;this.keysIndex!==i&&(t.__complete||this.completeTextData(t),this.setCurrentData(t),this.mdf=!this.firstFrame,this.pv=this.v=this.currentData.t,this.keysIndex=i),this._frameId=e}},TextProperty.prototype.completeTextData=function(e){e.__complete=!0;var t,n,i,r,o,a,s,l=this.elem.globalData.fontManager,c=this.data,u=[],d=0,h=c.m.g,p=0,f=0,g=0,m=[],v=0,y=0,b=l.getFontByName(e.f),w=0,x=b.fStyle.split(" "),C="normal",S="normal";for(n=x.length,t=0;t<n;t+=1)switch(x[t].toLowerCase()){case"italic":S="italic";break;case"bold":C="700";break;case"black":C="900";break;case"medium":C="500";break;case"regular":case"normal":C="400";case"light":case"thin":C="200"}e.fWeight=C,e.fStyle=S,n=e.t.length;var $=e.tr/1e3*e.s;if(e.sz){var E=e.sz[0],k=-1;for(t=0;t<n;t+=1)i=!1," "===e.t.charAt(t)?k=t:13===e.t.charCodeAt(t)&&(i=!(v=0)),E<v+(w=l.chars?(s=l.getCharData(e.t.charAt(t),b.fStyle,b.fFamily),i?0:s.w*e.s/100):l.measureText(e.t.charAt(t),e.f,e.s))&&" "!==e.t.charAt(t)?(-1===k?n+=1:t=k,e.t=e.t.substr(0,t)+"\r"+e.t.substr(t===k?t+1:t),k=-1,v=0):(v+=w,v+=$);n=e.t.length}v=-$;var A,T=w=0;for(t=0;t<n;t+=1)if(i=!1," "===(A=e.t.charAt(t))?r="":13===A.charCodeAt(0)?(T=0,m.push(v),y=y<v?v:y,v=-2*$,i=!(r=""),g+=1):r=e.t.charAt(t),w=l.chars?(s=l.getCharData(A,b.fStyle,l.getFontByName(e.f).fFamily),i?0:s.w*e.s/100):l.measureText(r,e.f,e.s)," "===A?T+=w+$:(v+=w+$+T,T=0),u.push({l:w,an:w,add:p,n:i,anIndexes:[],val:r,line:g}),2==h){if(p+=w,""==r||""==r||t==n-1){for(""!=r&&""!=r||(p-=w);f<=t;)u[f].an=p,u[f].ind=d,u[f].extra=w,f+=1;d+=1,p=0}}else if(3==h){if(p+=w,""==r||t==n-1){for(""==r&&(p-=w);f<=t;)u[f].an=p,u[f].ind=d,u[f].extra=w,f+=1;p=0,d+=1}}else u[d].ind=d,u[d].extra=0,d+=1;if(e.l=u,y=y<v?v:y,m.push(v),e.sz)e.boxWidth=e.sz[0],e.justifyOffset=0;else switch(e.boxWidth=y,e.j){case 1:e.justifyOffset=-e.boxWidth;break;case 2:e.justifyOffset=-e.boxWidth/2;break;default:e.justifyOffset=0}e.lineWidths=m;var M,D,P=c.a;a=P.length;var _,R,I=[];for(o=0;o<a;o+=1){for((M=P[o]).a.sc&&(e.strokeColorAnim=!0),M.a.sw&&(e.strokeWidthAnim=!0),(M.a.fc||M.a.fh||M.a.fs||M.a.fb)&&(e.fillColorAnim=!0),R=0,_=M.s.b,t=0;t<n;t+=1)(D=u[t]).anIndexes[o]=R,(1==_&&""!=D.val||2==_&&""!=D.val&&""!=D.val||3==_&&(D.n||""==D.val||t==n-1)||4==_&&(D.n||t==n-1))&&(1===M.s.rn&&I.push(R),R+=1);c.a[o].s.totalChars=R;var F,O=-1;if(1===M.s.rn)for(t=0;t<n;t+=1)O!=(D=u[t]).anIndexes[o]&&(O=D.anIndexes[o],F=I.splice(Math.floor(Math.random()*I.length),1)[0]),D.anIndexes[o]=F}e.yOffset=e.lh||1.2*e.s,e.ls=e.ls||0,e.ascent=b.ascent*e.s/100},TextProperty.prototype.updateDocumentData=function(e,t){t=void 0===t?this.keysIndex:t;var n=this.data.d.k[t].s;n.__complete=!1,n.t=e.t,this.keysIndex=-1,this.firstFrame=!0,this.getValue()};var pooling={double:function(e){return e.concat(Array.apply(null,{length:e.length}))}},point_pool=(aRh={newPoint:function(){return bRh?dRh[bRh-=1]:[.1,.1]},release:function(e){bRh===cRh&&(dRh=pooling.double(dRh),cRh*=2),dRh[bRh]=e,bRh+=1}},bRh=0,cRh=8,dRh=Array.apply(null,{length:cRh}),aRh),shape_pool=(kRh={clone:function(e,t){var n,i,r=void 0===e._length?e.v.length:e._length,o=gRh();for(o.setLength(r),o.c=e.c,n=0;n<r;n+=1)t?(i=t.applyToPointArray(e.v[n][0],e.v[n][1],0,2),o.setXYAt(i[0],i[1],"v",n),point_pool.release(i),i=t.applyToPointArray(e.o[n][0],e.o[n][1],0,2),o.setXYAt(i[0],i[1],"o",n),point_pool.release(i),i=t.applyToPointArray(e.i[n][0],e.i[n][1],0,2),o.setXYAt(i[0],i[1],"i",n),point_pool.release(i)):o.setTripleAt(e.v[n][0],e.v[n][1],e.o[n][0],e.o[n][1],e.i[n][0],e.i[n][1],n);return o},newShape:gRh,release:hRh,releaseArray:function(e,t){for(;t--;)hRh(e[t])}},lRh=0,mRh=4,nRh=Array.apply(null,{length:mRh}),kRh),shapeCollection_pool=(DRh={newShapeCollection:function(){return ERh?GRh[ERh-=1]:new ShapeCollection},release:BRh,clone:function(e,t){BRh(e),ERh===FRh&&(GRh=pooling.double(GRh),FRh*=2),GRh[ERh]=e,ERh+=1}},ERh=0,FRh=4,GRh=Array.apply(null,{length:FRh}),DRh),DRh,ERh,FRh,GRh,kRh,lRh,mRh,nRh,aRh,bRh,cRh,dRh;function BRh(e){var t,n=e._length;for(t=0;t<n;t+=1)shape_pool.release(e.shapes[t]);e._length=0,ERh===FRh&&(GRh=pooling.double(GRh),FRh*=2),GRh[ERh]=e,ERh+=1}function gRh(){return lRh?nRh[lRh-=1]:new ShapePath}function hRh(e){lRh===mRh&&(nRh=pooling.double(nRh),mRh*=2);var t,n=e._length;for(t=0;t<n;t+=1)point_pool.release(e.v[t]),point_pool.release(e.i[t]),point_pool.release(e.o[t]),e.v[t]=null,e.i[t]=null,e.o[t]=null;e._length=0,e.c=!1,nRh[lRh]=e,lRh+=1}BaseRenderer.prototype.checkLayers=function(e){var t,n,i=this.layers.length;for(this.completeLayers=!0,t=i-1;0<=t;t--)this.elements[t]||(n=this.layers[t]).ip-n.st<=e-this.layers[t].st&&n.op-n.st>e-this.layers[t].st&&this.buildItem(t),this.completeLayers=!!this.elements[t]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(e){switch(e.ty){case 2:return this.createImage(e);case 0:return this.createComp(e);case 1:return this.createSolid(e);case 4:return this.createShape(e);case 5:return this.createText(e);case 13:return this.createCamera(e);case 99:return null}return this.createBase(e)},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.buildAllItems=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.buildItem(e);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(e){this.completeLayers=!1;var t,n,i=e.length,r=this.layers.length;for(t=0;t<i;t+=1)for(n=0;n<r;){if(this.layers[n].id==e[t].id){this.layers[n]=e[t];break}n+=1}},BaseRenderer.prototype.setProjectInterface=function(e){this.globalData.projectInterface=e},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(e,t,n){n=n||[];for(var i=this.elements,r=this.layers,o=0,a=r.length;o<a;)r[o].ind==t&&(i[o]&&!0!==i[o]?void 0!==r[o].parent?(n.push(i[o]),i[o]._isParent=!0,this.buildElementParenting(e,r[o].parent,n)):(n.push(i[o]),i[o]._isParent=!0,e.setHierarchy(n)):(this.buildItem(o),this.addPendingElement(e))),o+=1},BaseRenderer.prototype.addPendingElement=function(e){this.pendingElements.push(e)},extendPrototype(BaseRenderer,SVGRenderer),SVGRenderer.prototype.createBase=function(e){return new SVGBaseElement(e,this.layerElement,this.globalData,this)},SVGRenderer.prototype.createShape=function(e){return new IShapeElement(e,this.layerElement,this.globalData,this)},SVGRenderer.prototype.createText=function(e){return new SVGTextElement(e,this.layerElement,this.globalData,this)},SVGRenderer.prototype.createImage=function(e){return new IImageElement(e,this.layerElement,this.globalData,this)},SVGRenderer.prototype.createComp=function(e){return new ICompElement(e,this.layerElement,this.globalData,this)},SVGRenderer.prototype.createSolid=function(e){return new ISolidElement(e,this.layerElement,this.globalData,this)},SVGRenderer.prototype.configAnimation=function(e){this.layerElement=document.createElementNS(svgNS,"svg"),this.layerElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.layerElement.setAttribute("viewBox","0 0 "+e.w+" "+e.h),this.renderConfig.viewBoxOnly||(this.layerElement.setAttribute("width",e.w),this.layerElement.setAttribute("height",e.h),this.layerElement.style.width="100%",this.layerElement.style.height="100%"),this.renderConfig.className&&this.layerElement.setAttribute("class",this.renderConfig.className),this.layerElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.layerElement);var t=document.createElementNS(svgNS,"defs");this.globalData.defs=t,this.layerElement.appendChild(t),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.frameId=0,this.globalData.nm=e.nm,this.globalData.compSize={w:e.w,h:e.h},this.data=e,this.globalData.frameRate=e.fr;var n=document.createElementNS(svgNS,"clipPath"),i=document.createElementNS(svgNS,"rect");i.setAttribute("width",e.w),i.setAttribute("height",e.h),i.setAttribute("x",0),i.setAttribute("y",0);var r="animationMask_"+randomString(10);n.setAttribute("id",r),n.appendChild(i);var o=document.createElementNS(svgNS,"g");o.setAttribute("clip-path","url("+locationHref+"#"+r+")"),this.layerElement.appendChild(o),t.appendChild(n),this.layerElement=o,this.layers=e.layers,this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(e.chars),this.globalData.fontManager.addFonts(e.fonts,t),this.elements=Array.apply(null,{length:e.layers.length})},SVGRenderer.prototype.destroy=function(){this.animationItem.wrapper.innerHTML="",this.layerElement=null,this.globalData.defs=null;var e,t=this.layers?this.layers.length:0;for(e=0;e<t;e++)this.elements[e]&&this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRenderer.prototype.updateContainerSize=function(){},SVGRenderer.prototype.buildItem=function(e){var t=this.elements;if(!t[e]&&99!=this.layers[e].ty){t[e]=!0;var n=this.createItem(this.layers[e]);t[e]=n,expressionsPlugin&&(0===this.layers[e].ty&&this.globalData.projectInterface.registerComposition(n),n.initExpressions()),this.appendElementInPos(n,e),this.layers[e].tt&&(this.elements[e-1]&&!0!==this.elements[e-1]?n.setMatte(t[e-1].layerId):(this.buildItem(e-1),this.addPendingElement(n)))}},SVGRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var e=this.pendingElements.pop();if(e.checkParenting(),e.data.tt)for(var t=0,n=this.elements.length;t<n;){if(this.elements[t]===e){e.setMatte(this.elements[t-1].layerId);break}t+=1}}},SVGRenderer.prototype.renderFrame=function(e){if(this.renderedFrame!=e&&!this.destroyed){null===e?e=this.renderedFrame:this.renderedFrame=e,this.globalData.frameNum=e,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=e;var t,n=this.layers.length;for(this.completeLayers||this.checkLayers(e),t=n-1;0<=t;t--)(this.completeLayers||this.elements[t])&&this.elements[t].prepareFrame(e-this.layers[t].st);for(t=n-1;0<=t;t--)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()}},SVGRenderer.prototype.appendElementInPos=function(e,t){var n=e.getBaseElement();if(n){for(var i,r=0;r<t;)this.elements[r]&&!0!==this.elements[r]&&this.elements[r].getBaseElement()&&(i=this.elements[r].getBaseElement()),r+=1;i?this.layerElement.insertBefore(n,i):this.layerElement.appendChild(n)}},SVGRenderer.prototype.hide=function(){this.layerElement.style.display="none"},SVGRenderer.prototype.show=function(){this.layerElement.style.display="block"},SVGRenderer.prototype.searchExtraCompositions=function(e){var t,n=e.length,i=document.createElementNS(svgNS,"g");for(t=0;t<n;t+=1)if(e[t].xt){var r=this.createComp(e[t],i,this.globalData.comp,null);r.initExpressions(),this.globalData.projectInterface.registerComposition(r)}},MaskElement.prototype.getMaskProperty=function(e){return this.viewData[e].prop},MaskElement.prototype.prepareFrame=function(){var e,t=this.dynamicProperties.length;for(e=0;e<t;e+=1)this.dynamicProperties[e].getValue()},MaskElement.prototype.renderFrame=function(e){var t,n=this.masksProperties.length;for(t=0;t<n;t++)if((this.viewData[t].prop.mdf||this.firstFrame)&&this.drawPath(this.masksProperties[t],this.viewData[t].prop.v,this.viewData[t]),(this.viewData[t].op.mdf||this.firstFrame)&&this.viewData[t].elem.setAttribute("fill-opacity",this.viewData[t].op.v),"n"!==this.masksProperties[t].mode&&(this.viewData[t].invRect&&(this.element.finalTransform.mProp.mdf||this.firstFrame)&&(this.viewData[t].invRect.setAttribute("x",-e.props[12]),this.viewData[t].invRect.setAttribute("y",-e.props[13])),this.storedData[t].x&&(this.storedData[t].x.mdf||this.firstFrame))){var i=this.storedData[t].expan;this.storedData[t].x.v<0?("erode"!==this.storedData[t].lastOperator&&(this.storedData[t].lastOperator="erode",this.storedData[t].elem.setAttribute("filter","url("+locationHref+"#"+this.storedData[t].filterId+")")),i.setAttribute("radius",-this.storedData[t].x.v)):("dilate"!==this.storedData[t].lastOperator&&(this.storedData[t].lastOperator="dilate",this.storedData[t].elem.setAttribute("filter",null)),this.storedData[t].elem.setAttribute("stroke-width",2*this.storedData[t].x.v))}this.firstFrame=!1},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var e="M0,0 ";return e+=" h"+this.globalData.compSize.w,e+=" v"+this.globalData.compSize.h,(e+=" h-"+this.globalData.compSize.w)+" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(e,t,n){var i,r,o=" M"+t.v[0][0]+","+t.v[0][1];for(r=t._length,i=1;i<r;i+=1)o+=" C"+bm_rnd(t.o[i-1][0])+","+bm_rnd(t.o[i-1][1])+" "+bm_rnd(t.i[i][0])+","+bm_rnd(t.i[i][1])+" "+bm_rnd(t.v[i][0])+","+bm_rnd(t.v[i][1]);t.c&&1<r&&(o+=" C"+bm_rnd(t.o[i-1][0])+","+bm_rnd(t.o[i-1][1])+" "+bm_rnd(t.i[0][0])+","+bm_rnd(t.i[0][1])+" "+bm_rnd(t.v[0][0])+","+bm_rnd(t.v[0][1])),n.lastPath!==o&&(n.elem&&(t.c?e.inv?n.elem.setAttribute("d",this.solidPath+o):n.elem.setAttribute("d",o):n.elem.setAttribute("d","")),n.lastPath=o)},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null},BaseElement.prototype.checkMasks=function(){if(!this.data.hasMask)return!1;for(var e=0,t=this.data.masksProperties.length;e<t;){if("n"!==this.data.masksProperties[e].mode&&!1!==this.data.masksProperties[e].cl)return!0;e+=1}return!1},BaseElement.prototype.checkParenting=function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent)},BaseElement.prototype.prepareFrame=function(e){this.data.ip-this.data.st<=e&&this.data.op-this.data.st>e?!0!==this.isVisible&&(this.elemMdf=!0,this.globalData.mdf=!0,this.isVisible=!0,this.firstFrame=!0,this.data.hasMask&&(this.maskManager.firstFrame=!0)):!1!==this.isVisible&&(this.elemMdf=!0,this.globalData.mdf=!0,this.isVisible=!1);var t,n=this.dynamicProperties.length;for(t=0;t<n;t+=1)(this.isVisible||this._isParent&&"transform"===this.dynamicProperties[t].type)&&(this.dynamicProperties[t].getValue(),this.dynamicProperties[t].mdf&&(this.elemMdf=!0,this.globalData.mdf=!0));return this.data.hasMask&&this.isVisible&&this.maskManager.prepareFrame(e*this.data.sr),this.currentFrameNum=e*this.data.sr,this.isVisible},BaseElement.prototype.globalToLocal=function(e){var t=[];t.push(this.finalTransform);for(var n=!0,i=this.comp;n;)i.finalTransform?(i.data.hasMask&&t.splice(0,0,i.finalTransform),i=i.comp):n=!1;var r,o,a=t.length;for(r=0;r<a;r+=1)o=t[r].mat.applyToPointArray(0,0,0),e=[e[0]-o[0],e[1]-o[1],0];return e},BaseElement.prototype.initExpressions=function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.layerInterface.registerMaskInterface(this.maskManager);var e=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(e),0===this.data.ty||this.data.xt?this.compInterface=CompExpressionInterface(this):4===this.data.ty?this.layerInterface.shapeInterface=ShapeExpressionInterface.createShapeInterface(this.shapesData,this.itemsData,this.layerInterface):5===this.data.ty&&(this.layerInterface.textInterface=TextExpressionInterface(this))},BaseElement.prototype.setBlendMode=function(){var e="";switch(this.data.bm){case 1:e="multiply";break;case 2:e="screen";break;case 3:e="overlay";break;case 4:e="darken";break;case 5:e="lighten";break;case 6:e="color-dodge";break;case 7:e="color-burn";break;case 8:e="hard-light";break;case 9:e="soft-light";break;case 10:e="difference";break;case 11:e="exclusion";break;case 12:e="hue";break;case 13:e="saturation";break;case 14:e="color";break;case 15:e="luminosity"}(this.baseElement||this.layerElement).style["mix-blend-mode"]=e},BaseElement.prototype.init=function(){this.data.sr||(this.data.sr=1),this.dynamicProperties=this.dynamicProperties||[],this.data.ef&&(this.effects=new EffectsManager(this.data,this,this.dynamicProperties)),this.hidden=!1,this.firstFrame=!0,this.isVisible=!1,this._isParent=!1,this.currentFrameNum=-99999,this.lastNum=-99999,this.data.ks&&(this.finalTransform={mProp:PropertyFactory.getProp(this,this.data.ks,2,null,this.dynamicProperties),matMdf:!1,opMdf:!1,mat:new Matrix,opacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.finalTransform.op=this.finalTransform.mProp.o,this.transform=this.finalTransform.mProp,11!==this.data.ty&&this.createElements(),this.data.hasMask&&this.addMasks(this.data)),this.elemMdf=!1},BaseElement.prototype.getType=function(){return this.type},BaseElement.prototype.resetHierarchy=function(){this.hierarchy?this.hierarchy.length=0:this.hierarchy=[]},BaseElement.prototype.getHierarchy=function(){return this.hierarchy||(this.hierarchy=[]),this.hierarchy},BaseElement.prototype.setHierarchy=function(e){this.hierarchy=e},BaseElement.prototype.getLayerSize=function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}},BaseElement.prototype.hide=function(){},BaseElement.prototype.sourceRectAtTime=function(){return{top:0,left:0,width:100,height:100}},BaseElement.prototype.mHelper=new Matrix,createElement(BaseElement,SVGBaseElement),SVGBaseElement.prototype.createElements=function(){this.layerElement=document.createElementNS(svgNS,"g"),this.transformedElement=this.layerElement,this.data.hasMask&&(this.maskedElement=this.layerElement);var e=null;if(this.data.td){if(3==this.data.td||1==this.data.td){var t=document.createElementNS(svgNS,"mask");if(t.setAttribute("id",this.layerId),t.setAttribute("mask-type",3==this.data.td?"luminance":"alpha"),t.appendChild(this.layerElement),e=t,this.globalData.defs.appendChild(t),!featureSupport.maskType&&1==this.data.td){t.setAttribute("mask-type","luminance");var n=randomString(10),i=filtersFactory.createFilter(n);this.globalData.defs.appendChild(i),i.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(l=document.createElementNS(svgNS,"g")).appendChild(this.layerElement),e=l,t.appendChild(l),l.setAttribute("filter","url("+locationHref+"#"+n+")")}}else if(2==this.data.td){var r=document.createElementNS(svgNS,"mask");r.setAttribute("id",this.layerId),r.setAttribute("mask-type","alpha");var o=document.createElementNS(svgNS,"g");r.appendChild(o);n=randomString(10),i=filtersFactory.createFilter(n);var a=document.createElementNS(svgNS,"feColorMatrix");a.setAttribute("type","matrix"),a.setAttribute("color-interpolation-filters","sRGB"),a.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 -1 1"),i.appendChild(a),this.globalData.defs.appendChild(i);var s=document.createElementNS(svgNS,"rect");if(s.setAttribute("width",this.comp.data.w),s.setAttribute("height",this.comp.data.h),s.setAttribute("x","0"),s.setAttribute("y","0"),s.setAttribute("fill","#ffffff"),s.setAttribute("opacity","0"),o.setAttribute("filter","url("+locationHref+"#"+n+")"),o.appendChild(s),o.appendChild(this.layerElement),e=o,!featureSupport.maskType){r.setAttribute("mask-type","luminance"),i.appendChild(filtersFactory.createAlphaToLuminanceFilter());var l=document.createElementNS(svgNS,"g");o.appendChild(s),l.appendChild(this.layerElement),e=l,o.appendChild(l)}this.globalData.defs.appendChild(r)}}else(this.data.hasMask||this.data.tt)&&this.data.tt?(this.matteElement=document.createElementNS(svgNS,"g"),this.matteElement.appendChild(this.layerElement),e=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(!this.data.ln&&!this.data.cl||4!==this.data.ty&&0!==this.data.ty||(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl)),0===this.data.ty){var c=document.createElementNS(svgNS,"clipPath"),u=document.createElementNS(svgNS,"path");u.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var d="cp_"+randomString(8);if(c.setAttribute("id",d),c.appendChild(u),this.globalData.defs.appendChild(c),this.checkMasks()){var h=document.createElementNS(svgNS,"g");h.setAttribute("clip-path","url("+locationHref+"#"+d+")"),h.appendChild(this.layerElement),this.transformedElement=h,e?e.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+d+")")}0!==this.data.bm&&this.setBlendMode(),this.layerElement!==this.parentContainer&&(this.placeholder=null),this.data.ef&&(this.effectsManager=new SVGEffects(this)),this.checkParenting()},SVGBaseElement.prototype.setBlendMode=BaseElement.prototype.setBlendMode,SVGBaseElement.prototype.renderFrame=function(e){if(3===this.data.ty||this.data.hd||!this.isVisible)return!1;this.lastNum=this.currentFrameNum,this.finalTransform.opMdf=this.firstFrame||this.finalTransform.op.mdf,this.finalTransform.matMdf=this.firstFrame||this.finalTransform.mProp.mdf,this.finalTransform.opacity=this.finalTransform.op.v;var t,n=this.finalTransform.mat;if(this.hierarchy){var i=0,r=this.hierarchy.length;if(!this.finalTransform.matMdf)for(;i<r;){if(this.hierarchy[i].finalTransform.mProp.mdf){this.finalTransform.matMdf=!0;break}i+=1}if(this.finalTransform.matMdf)for(t=this.finalTransform.mProp.v.props,n.cloneFromProps(t),i=0;i<r;i+=1)t=this.hierarchy[i].finalTransform.mProp.v.props,n.transform(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}else this.isVisible&&(n=this.finalTransform.mProp.v);return this.finalTransform.matMdf&&this.layerElement&&this.transformedElement.setAttribute("transform",n.to2dCSS()),this.finalTransform.opMdf&&this.layerElement&&(this.finalTransform.op.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.hidden&&this.isTransparent&&(this.isTransparent=!1,this.show()),this.transformedElement.setAttribute("opacity",this.finalTransform.op.v)),this.data.hasMask&&this.maskManager.renderFrame(n),this.effectsManager&&this.effectsManager.renderFrame(this.firstFrame),this.isVisible},SVGBaseElement.prototype.destroy=function(){this.layerElement=null,this.parentContainer=null,this.matteElement&&(this.matteElement=null),this.maskManager&&this.maskManager.destroy()},SVGBaseElement.prototype.getBaseElement=function(){return this.baseElement},SVGBaseElement.prototype.addMasks=function(e){this.maskManager=new MaskElement(e,this,this.globalData)},SVGBaseElement.prototype.setMatte=function(e){this.matteElement&&this.matteElement.setAttribute("mask","url("+locationHref+"#"+e+")")},SVGBaseElement.prototype.hide=function(){this.hidden||(this.layerElement.style.display="none",this.hidden=!0)},SVGBaseElement.prototype.show=function(){this.isVisible&&!this.isTransparent&&(this.hidden=!1,this.layerElement.style.display="block")},createElement(SVGBaseElement,IShapeElement),IShapeElement.prototype.identityMatrix=new Matrix,IShapeElement.prototype.lcEnum={1:"butt",2:"round",3:"square"},IShapeElement.prototype.ljEnum={1:"miter",2:"round",3:"butt"},IShapeElement.prototype.searchProcessedElement=function(e){for(var t=this.processedElements.length;t;)if(t-=1,this.processedElements[t].elem===e)return this.processedElements[t].pos;return 0},IShapeElement.prototype.addProcessedElement=function(e,t){for(var n=this.processedElements.length;n;)if(n-=1,this.processedElements[n].elem===e){this.processedElements[n].pos=t;break}0===n&&this.processedElements.push({elem:e,pos:t})},IShapeElement.prototype.buildExpressionInterface=function(){},IShapeElement.prototype.createElements=function(){this._parent.createElements.call(this),this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,this.dynamicProperties,0,[],!0),this.data.hd&&!this.data.td||styleUnselectableDiv(this.layerElement)},IShapeElement.prototype.setGradientData=function(e,t,n){var i,r="gr_"+randomString(10);(i=1===t.t?document.createElementNS(svgNS,"linearGradient"):document.createElementNS(svgNS,"radialGradient")).setAttribute("id",r),i.setAttribute("spreadMethod","pad"),i.setAttribute("gradientUnits","userSpaceOnUse");var o,a,s,l=[];for(s=4*t.g.p,a=0;a<s;a+=4)o=document.createElementNS(svgNS,"stop"),i.appendChild(o),l.push(o);e.setAttribute("gf"===t.ty?"fill":"stroke","url(#"+r+")"),this.globalData.defs.appendChild(i),n.gf=i,n.cst=l},IShapeElement.prototype.setGradientOpacity=function(e,t,n){if(e.g.k.k[0].s&&e.g.k.k[0].s.length>4*e.g.p||e.g.k.k.length>4*e.g.p){var i,r,o,a,s=document.createElementNS(svgNS,"mask"),l=document.createElementNS(svgNS,"path");s.appendChild(l);var c="op_"+randomString(10),u="mk_"+randomString(10);s.setAttribute("id",u),(i=1===e.t?document.createElementNS(svgNS,"linearGradient"):document.createElementNS(svgNS,"radialGradient")).setAttribute("id",c),i.setAttribute("spreadMethod","pad"),i.setAttribute("gradientUnits","userSpaceOnUse"),a=e.g.k.k[0].s?e.g.k.k[0].s.length:e.g.k.k.length;var d=[];for(o=4*e.g.p;o<a;o+=2)(r=document.createElementNS(svgNS,"stop")).setAttribute("stop-color","rgb(255,255,255)"),i.appendChild(r),d.push(r);return l.setAttribute("gf"===e.ty?"fill":"stroke","url(#"+c+")"),this.globalData.defs.appendChild(i),this.globalData.defs.appendChild(s),t.of=i,t.ost=d,n.msElem=l,u}},IShapeElement.prototype.createStyleElement=function(e,t,n){var i={},r={data:e,type:e.ty,d:"",ld:"",lvl:t,mdf:!1,closed:!1},o=document.createElementNS(svgNS,"path");if(i.o=PropertyFactory.getProp(this,e.o,0,.01,n),("st"==e.ty||"gs"==e.ty)&&(o.setAttribute("stroke-linecap",this.lcEnum[e.lc]||"round"),o.setAttribute("stroke-linejoin",this.ljEnum[e.lj]||"round"),o.setAttribute("fill-opacity","0"),1==e.lj&&o.setAttribute("stroke-miterlimit",e.ml),i.w=PropertyFactory.getProp(this,e.w,0,null,n),e.d)){var a=PropertyFactory.getDashProp(this,e.d,"svg",n);a.k||(o.setAttribute("stroke-dasharray",a.dasharray),o.setAttribute("stroke-dashoffset",a.dashoffset)),i.d=a}if("fl"==e.ty||"st"==e.ty)i.c=PropertyFactory.getProp(this,e.c,1,255,n);else{i.g=PropertyFactory.getGradientProp(this,e.g,n),2==e.t&&(i.h=PropertyFactory.getProp(this,e.h,0,.01,n),i.a=PropertyFactory.getProp(this,e.a,0,degToRads,n)),i.s=PropertyFactory.getProp(this,e.s,1,null,n),i.e=PropertyFactory.getProp(this,e.e,1,null,n),this.setGradientData(o,e,i,r);var s=this.setGradientOpacity(e,i,r);s&&o.setAttribute("mask","url(#"+s+")")}return i.elem=o,2===e.r&&o.setAttribute("fill-rule","evenodd"),e.ln&&o.setAttribute("id",e.ln),e.cl&&o.setAttribute("class",e.cl),r.pElem=o,this.stylesList.push(r),i.style=r,i},IShapeElement.prototype.createGroupElement=function(e){var t={it:[],prevViewData:[]},n=document.createElementNS(svgNS,"g");return t.gr=n,e.ln&&t.gr.setAttribute("id",e.ln),t},IShapeElement.prototype.createTransformElement=function(e,t){return{transform:{op:PropertyFactory.getProp(this,e.o,0,.01,t),mProps:PropertyFactory.getProp(this,e,2,null,t)},elements:[]}},IShapeElement.prototype.createShapeElement=function(e,t,n,i){var r={elements:[],caches:[],styles:[],transformers:t,lStr:""},o=4;return"rc"==e.ty?o=5:"el"==e.ty?o=6:"sr"==e.ty&&(o=7),r.sh=ShapePropertyFactory.getShapeProp(this,e,o,i),r.lvl=n,this.shapes.push(r.sh),this.addShapeToModifiers(r),r};var cont=0;IShapeElement.prototype.setElementStyles=function(){var e,t=this.stylesList.length,n=[];for(e=0;e<t;e+=1)this.stylesList[e].closed||n.push(this.stylesList[e]);return n},IShapeElement.prototype.reloadShapes=function(){this.firstFrame=!0;var e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,this.dynamicProperties,0,[],!0);var t;e=this.dynamicProperties.length;for(t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},IShapeElement.prototype.searchShapes=function(e,t,n,i,r,o,a,s){var l,c,u,d,h,p,f=[].concat(a),g=e.length-1,m=[],v=[];for(l=g;0<=l;l-=1){if((p=this.searchProcessedElement(e[l]))?t[l]=n[p-1]:e[l]._render=s,"fl"==e[l].ty||"st"==e[l].ty||"gf"==e[l].ty||"gs"==e[l].ty)p?t[l].style.closed=!1:t[l]=this.createStyleElement(e[l],o,r),e[l]._render&&i.appendChild(t[l].elem),m.push(t[l].style);else if("gr"==e[l].ty){if(p)for(u=t[l].it.length,c=0;c<u;c+=1)t[l].prevViewData[c]=t[l].it[c];else t[l]=this.createGroupElement(e[l]);this.searchShapes(e[l].it,t[l].it,t[l].prevViewData,t[l].gr,r,o+1,f,s),e[l]._render&&i.appendChild(t[l].gr)}else"tr"==e[l].ty?(p||(t[l]=this.createTransformElement(e[l],r)),d=t[l].transform,f.push(d)):"sh"==e[l].ty||"rc"==e[l].ty||"el"==e[l].ty||"sr"==e[l].ty?(p||(t[l]=this.createShapeElement(e[l],f,o,r)),t[l].elements=this.setElementStyles()):"tm"==e[l].ty||"rd"==e[l].ty||"ms"==e[l].ty?(p?(h=t[l]).closed=!1:((h=ShapeModifiers.getModifier(e[l].ty)).init(this,e[l],r),t[l]=h,this.shapeModifiers.push(h)),v.push(h)):"rp"==e[l].ty&&(p?(h=t[l]).closed=!0:(h=ShapeModifiers.getModifier(e[l].ty),(t[l]=h).init(this,e,l,t,r),this.shapeModifiers.push(h),s=!1),v.push(h));this.addProcessedElement(e[l],l+1)}for(g=m.length,l=0;l<g;l+=1)m[l].closed=!0;for(g=v.length,l=0;l<g;l+=1)v[l].closed=!0},IShapeElement.prototype.addShapeToModifiers=function(e){var t,n=this.shapeModifiers.length;for(t=0;t<n;t+=1)this.shapeModifiers[t].addShape(e)},IShapeElement.prototype.renderModifiers=function(){if(this.shapeModifiers.length){var e,t=this.shapes.length;for(e=0;e<t;e+=1)this.shapes[e].reset();for(e=(t=this.shapeModifiers.length)-1;0<=e;e-=1)this.shapeModifiers[e].processShapes(this.firstFrame)}},IShapeElement.prototype.renderFrame=function(e){if(!1!==this._parent.renderFrame.call(this,e)){this.hidden&&(this.layerElement.style.display="block",this.hidden=!1),this.renderModifiers();var t,n=this.stylesList.length;for(t=0;t<n;t+=1)this.stylesList[t].d="",this.stylesList[t].mdf=!1;for(this.renderShape(this.shapesData,this.itemsData,null),t=0;t<n;t+=1)"0"===this.stylesList[t].ld&&(this.stylesList[t].ld="1",this.stylesList[t].pElem.style.display="block"),(this.stylesList[t].mdf||this.firstFrame)&&(this.stylesList[t].pElem.setAttribute("d",this.stylesList[t].d),this.stylesList[t].msElem&&this.stylesList[t].msElem.setAttribute("d",this.stylesList[t].d));this.firstFrame&&(this.firstFrame=!1)}else this.hide()},IShapeElement.prototype.hide=function(){if(!this.hidden){var e;for(this.layerElement.style.display="none",e=this.stylesList.length-1;0<=e;e-=1)"0"!==this.stylesList[e].ld&&(this.stylesList[e].ld="0",this.stylesList[e].pElem.style.display="none",this.stylesList[e].pElem.parentNode&&(this.stylesList[e].parent=this.stylesList[e].pElem.parentNode));this.hidden=!0}},IShapeElement.prototype.renderShape=function(e,t,n){var i,r;for(i=e.length-1;0<=i;i-=1)"tr"==(r=e[i].ty)?((this.firstFrame||t[i].transform.op.mdf&&n)&&n.setAttribute("opacity",t[i].transform.op.v),(this.firstFrame||t[i].transform.mProps.mdf&&n)&&n.setAttribute("transform",t[i].transform.mProps.v.to2dCSS())):"sh"==r||"el"==r||"rc"==r||"sr"==r?this.renderPath(e[i],t[i]):"fl"==r?this.renderFill(e[i],t[i]):"gf"==r?this.renderGradient(e[i],t[i]):"gs"==r?(this.renderGradient(e[i],t[i]),this.renderStroke(e[i],t[i])):"st"==r?this.renderStroke(e[i],t[i]):"gr"==r&&this.renderShape(e[i].it,t[i].it,t[i].gr)},IShapeElement.prototype.buildShapeString=function(e,t,n,i){var r,o="";for(r=1;r<t;r+=1)1===r&&(o+=" M"+i.applyToPointStringified(e.v[0][0],e.v[0][1])),o+=" C"+i.applyToPointStringified(e.o[r-1][0],e.o[r-1][1])+" "+i.applyToPointStringified(e.i[r][0],e.i[r][1])+" "+i.applyToPointStringified(e.v[r][0],e.v[r][1]);return 1===t&&(o+=" M"+i.applyToPointStringified(e.v[0][0],e.v[0][1])),n&&t&&(o+=" C"+i.applyToPointStringified(e.o[r-1][0],e.o[r-1][1])+" "+i.applyToPointStringified(e.i[0][0],e.i[0][1])+" "+i.applyToPointStringified(e.v[0][0],e.v[0][1]),o+="z"),o},IShapeElement.prototype.renderPath=function(e,t){var n,i,r,o,a,s,l=t.elements.length,c=t.lvl;if(e._render)for(s=0;s<l;s+=1)if(t.elements[s].data._render){o=t.sh.mdf||this.firstFrame,r="M0 0";var u=t.sh.paths;if(i=u._length,t.elements[s].lvl<c){for(var d,h=this.mHelper.reset(),p=c-t.elements[s].lvl,f=t.transformers.length-1;0<p;)o=t.transformers[f].mProps.mdf||o,d=t.transformers[f].mProps.v.props,h.transform(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],d[9],d[10],d[11],d[12],d[13],d[14],d[15]),p--,f--;if(o){for(n=0;n<i;n+=1)(a=u.shapes[n])&&a._length&&(r+=this.buildShapeString(a,a._length,a.c,h));t.caches[s]=r}else r=t.caches[s]}else if(o){for(n=0;n<i;n+=1)(a=u.shapes[n])&&a._length&&(r+=this.buildShapeString(a,a._length,a.c,this.identityMatrix));t.caches[s]=r}else r=t.caches[s];t.elements[s].d+=r,t.elements[s].mdf=o||t.elements[s].mdf}else t.elements[s].mdf=!0},IShapeElement.prototype.renderFill=function(e,t){var n=t.style;(t.c.mdf||this.firstFrame)&&n.pElem.setAttribute("fill","rgb("+bm_floor(t.c.v[0])+","+bm_floor(t.c.v[1])+","+bm_floor(t.c.v[2])+")"),(t.o.mdf||this.firstFrame)&&n.pElem.setAttribute("fill-opacity",t.o.v)},IShapeElement.prototype.renderGradient=function(e,t){var n,i,r,o,a,s=t.gf,l=t.of,c=t.s.v,u=t.e.v;if(t.o.mdf||this.firstFrame){var d="gf"===e.ty?"fill-opacity":"stroke-opacity";t.elem.setAttribute(d,t.o.v)}if(t.s.mdf||this.firstFrame){var h=1===e.t?"x1":"cx",p="x1"==h?"y1":"cy";s.setAttribute(h,c[0]),s.setAttribute(p,c[1]),l&&(l.setAttribute(h,c[0]),l.setAttribute(p,c[1]))}if(t.g.cmdf||this.firstFrame){n=t.cst;var f=t.g.c;for(r=n.length,i=0;i<r;i+=1)(o=n[i]).setAttribute("offset",f[4*i]+"%"),o.setAttribute("stop-color","rgb("+f[4*i+1]+","+f[4*i+2]+","+f[4*i+3]+")")}if(l&&(t.g.omdf||this.firstFrame)){n=t.ost;var g=t.g.o;for(r=n.length,i=0;i<r;i+=1)(o=n[i]).setAttribute("offset",g[2*i]+"%"),o.setAttribute("stop-opacity",g[2*i+1])}if(1===e.t)(t.e.mdf||this.firstFrame)&&(s.setAttribute("x2",u[0]),s.setAttribute("y2",u[1]),l&&(l.setAttribute("x2",u[0]),l.setAttribute("y2",u[1])));else if((t.s.mdf||t.e.mdf||this.firstFrame)&&(a=Math.sqrt(Math.pow(c[0]-u[0],2)+Math.pow(c[1]-u[1],2)),s.setAttribute("r",a),l&&l.setAttribute("r",a)),t.e.mdf||t.h.mdf||t.a.mdf||this.firstFrame){a=a||Math.sqrt(Math.pow(c[0]-u[0],2)+Math.pow(c[1]-u[1],2));var m=Math.atan2(u[1]-c[1],u[0]-c[0]),v=a*(1<=t.h.v?.99:t.h.v<=-1?-.99:t.h.v),y=Math.cos(m+t.a.v)*v+c[0],b=Math.sin(m+t.a.v)*v+c[1];s.setAttribute("fx",y),s.setAttribute("fy",b),l&&(l.setAttribute("fx",y),l.setAttribute("fy",b))}},IShapeElement.prototype.renderStroke=function(e,t){var n=t.style,i=t.d;i&&i.k&&(i.mdf||this.firstFrame)&&(n.pElem.setAttribute("stroke-dasharray",i.dasharray),n.pElem.setAttribute("stroke-dashoffset",i.dashoffset)),t.c&&(t.c.mdf||this.firstFrame)&&n.pElem.setAttribute("stroke","rgb("+bm_floor(t.c.v[0])+","+bm_floor(t.c.v[1])+","+bm_floor(t.c.v[2])+")"),(t.o.mdf||this.firstFrame)&&n.pElem.setAttribute("stroke-opacity",t.o.v),(t.w.mdf||this.firstFrame)&&(n.pElem.setAttribute("stroke-width",t.w.v),n.msElem&&n.msElem.setAttribute("stroke-width",t.w.v))},IShapeElement.prototype.destroy=function(){this._parent.destroy.call(this._parent),this.shapeData=null,this.itemsData=null,this.parentContainer=null,this.placeholder=null},ITextElement.prototype.init=function(){this.lettersChangedFlag=!0,this.dynamicProperties=this.dynamicProperties||[],this.textAnimator=new TextAnimatorProperty(this.data.t,this.renderType,this),this.textProperty=new TextProperty(this,this.data.t,this.dynamicProperties),this._parent.init.call(this),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(e){this._parent.prepareFrame.call(this,e),(this.textProperty.mdf||this.textProperty.firstFrame)&&(this.buildNewText(),this.textProperty.firstFrame=!1)},ITextElement.prototype.createPathShape=function(e,t){var n,i,r=t.length,o="";for(n=0;n<r;n+=1)i=t[n].ks.k,o+=this.buildShapeString(i,i.i.length,!0,e);return o},ITextElement.prototype.updateDocumentData=function(e,t){this.textProperty.updateDocumentData(e,t)},ITextElement.prototype.applyTextPropertiesToMatrix=function(e,t,n,i,r){switch(e.ps&&t.translate(e.ps[0],e.ps[1]+e.ascent,0),t.translate(0,-e.ls,0),e.j){case 1:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[n]),0,0);break;case 2:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[n])/2,0,0)}t.translate(i,r,0)},ITextElement.prototype.buildColor=function(e){return"rgb("+Math.round(255*e[0])+","+Math.round(255*e[1])+","+Math.round(255*e[2])+")"},ITextElement.prototype.buildShapeString=IShapeElement.prototype.buildShapeString,ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){this._parent.destroy.call(this._parent)},createElement(SVGBaseElement,SVGTextElement),extendPrototype(ITextElement,SVGTextElement),SVGTextElement.prototype.createElements=function(){this._parent.createElements.call(this),this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=document.createElementNS(svgNS,"text"))},SVGTextElement.prototype.buildNewText=function(){var e,t,n=this.textProperty.currentData;this.renderedLetters=Array.apply(null,{length:n?n.l.length:0}),n.fc?this.layerElement.setAttribute("fill",this.buildColor(n.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),n.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(n.sc)),this.layerElement.setAttribute("stroke-width",n.sw)),this.layerElement.setAttribute("font-size",n.s);var i=this.globalData.fontManager.getFontByName(n.f);if(i.fClass)this.layerElement.setAttribute("class",i.fClass);else{this.layerElement.setAttribute("font-family",i.fFamily);var r=n.fWeight,o=n.fStyle;this.layerElement.setAttribute("font-style",o),this.layerElement.setAttribute("font-weight",r)}var a=n.l||[],s=this.globalData.fontManager.chars;if(t=a.length){var l,c,u=this.mHelper,d="",h=this.data.singleShape,p=0,f=0,g=!0,m=n.tr/1e3*n.s;if(h&&!s){var v=this.textContainer,y="";switch(n.j){case 1:y="end";break;case 2:y="middle";break;case 2:y="start"}v.setAttribute("text-anchor",y),v.setAttribute("letter-spacing",m);var b=n.t.split(String.fromCharCode(13));t=b.length;f=n.ps?n.ps[1]+n.ascent:0;for(e=0;e<t;e+=1)(l=this.textSpans[e]||document.createElementNS(svgNS,"tspan")).textContent=b[e],l.setAttribute("x",0),l.setAttribute("y",f),l.style.display="inherit",v.appendChild(l),this.textSpans[e]=l,f+=n.lh;this.layerElement.appendChild(v)}else{var w,x,C=this.textSpans.length;for(e=0;e<t;e+=1)s&&h&&0!==e||(l=e<C?this.textSpans[e]:document.createElementNS(svgNS,s?"path":"text"),C<=e&&(l.setAttribute("stroke-linecap","butt"),l.setAttribute("stroke-linejoin","round"),l.setAttribute("stroke-miterlimit","4"),this.textSpans[e]=l,this.layerElement.appendChild(l)),l.style.display="inherit"),u.reset(),s?(u.scale(n.s/100,n.s/100),h&&(a[e].n&&(p=-m,f+=n.yOffset,f+=g?1:0,g=!1),this.applyTextPropertiesToMatrix(n,u,a[e].line,p,f),p+=a[e].l||0,p+=m),c=(w=(x=this.globalData.fontManager.getCharData(n.t.charAt(e),i.fStyle,this.globalData.fontManager.getFontByName(n.f).fFamily))&&x.data||{}).shapes?w.shapes[0].it:[],h?d+=this.createPathShape(u,c):l.setAttribute("d",this.createPathShape(u,c))):(l.textContent=a[e].val,l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"));h&&l.setAttribute("d",d)}for(;e<this.textSpans.length;)this.textSpans[e].style.display="none",e+=1;this._sizeChanged=!0}},SVGTextElement.prototype.sourceRectAtTime=function(e){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderLetters(),this._sizeChanged){this._sizeChanged=!1;var t=this.layerElement.getBBox();this.bbox={top:t.y,left:t.x,width:t.width,height:t.height}}return this.bbox},SVGTextElement.prototype.renderLetters=function(){if(!this.data.singleShape&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var e,t,n,i,r=this.textAnimator.renderedLetters,o=this.textProperty.currentData.l;for(t=o.length,e=0;e<t;e+=1)o[e].n||(n=r[e],i=this.textSpans[e],n.mdf.m&&i.setAttribute("transform",n.m),n.mdf.o&&i.setAttribute("opacity",n.o),n.mdf.sw&&i.setAttribute("stroke-width",n.sw),n.mdf.sc&&i.setAttribute("stroke",n.sc),n.mdf.fc&&i.setAttribute("fill",n.fc))}},SVGTextElement.prototype.renderFrame=function(e){return!1===this._parent.renderFrame.call(this,e)?void this.hide():(this.hidden&&this.show(),this.firstFrame&&(this.firstFrame=!1),void this.renderLetters())},SVGTintFilter.prototype.renderFrame=function(e){if(e||this.filterManager.mdf){var t=this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,i=this.filterManager.effectElements[2].p.v/100;this.matrixFilter.setAttribute("values",n[0]-t[0]+" 0 0 0 "+t[0]+" "+(n[1]-t[1])+" 0 0 0 "+t[1]+" "+(n[2]-t[2])+" 0 0 0 "+t[2]+" 0 0 0 "+i+" 0")}},SVGFillFilter.prototype.renderFrame=function(e){if(e||this.filterManager.mdf){var t=this.filterManager.effectElements[2].p.v,n=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+t[0]+" 0 0 0 0 "+t[1]+" 0 0 0 0 "+t[2]+" 0 0 0 "+n+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var e,t,n,i,r=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(i=this.elem.maskManager.masksProperties.length,n=0):i=(n=this.filterManager.effectElements[0].p.v-1)+1,(t=document.createElementNS(svgNS,"g")).setAttribute("fill","none"),t.setAttribute("stroke-linecap","round"),t.setAttribute("stroke-dashoffset",1);n<i;n+=1)e=document.createElementNS(svgNS,"path"),t.appendChild(e),this.paths.push({p:e,m:n});if(3===this.filterManager.effectElements[10].p.v){var o=document.createElementNS(svgNS,"mask"),a="stms_"+randomString(10);o.setAttribute("id",a),o.setAttribute("mask-type","alpha"),o.appendChild(t),this.elem.globalData.defs.appendChild(o);var s=document.createElementNS(svgNS,"g");s.setAttribute("mask","url("+locationHref+"#"+a+")"),r[0]&&s.appendChild(r[0]),this.elem.layerElement.appendChild(s),this.masker=o,t.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(r=this.elem.layerElement.children||this.elem.layerElement.childNodes;r.length;)this.elem.layerElement.removeChild(r[0]);this.elem.layerElement.appendChild(t),this.elem.layerElement.removeAttribute("mask"),t.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=t},SVGStrokeEffect.prototype.renderFrame=function(e){this.initialized||this.initialize();var t,n,i,r=this.paths.length;for(t=0;t<r;t+=1)if(n=this.elem.maskManager.viewData[this.paths[t].m],i=this.paths[t].p,(e||this.filterManager.mdf||n.prop.mdf)&&i.setAttribute("d",n.lastPath),e||this.filterManager.effectElements[9].p.mdf||this.filterManager.effectElements[4].p.mdf||this.filterManager.effectElements[7].p.mdf||this.filterManager.effectElements[8].p.mdf||n.prop.mdf){var o;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var a=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,s=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,l=i.getTotalLength();o="0 0 0 "+l*a+" ";var c,u=l*(s-a),d=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100,h=Math.floor(u/d);for(c=0;c<h;c+=1)o+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100+" ";o+="0 "+10*l+" 0 0"}else o="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100;i.setAttribute("stroke-dasharray",o)}if((e||this.filterManager.effectElements[4].p.mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(e||this.filterManager.effectElements[6].p.mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(e||this.filterManager.effectElements[3].p.mdf)){var p=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bm_floor(255*p[0])+","+bm_floor(255*p[1])+","+bm_floor(255*p[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(e){if(e||this.filterManager.mdf){var t=this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,i=this.filterManager.effectElements[2].p.v,r=i[0]+" "+n[0]+" "+t[0],o=i[1]+" "+n[1]+" "+t[1],a=i[2]+" "+n[2]+" "+t[2];this.feFuncR.setAttribute("tableValues",r),this.feFuncG.setAttribute("tableValues",o),this.feFuncB.setAttribute("tableValues",a)}},SVGProLevelsFilter.prototype.createFeFunc=function(e,t){var n=document.createElementNS(svgNS,e);return n.setAttribute("type","table"),t.appendChild(n),n},SVGProLevelsFilter.prototype.getTableValue=function(e,t,n,i,r){for(var o,a,s=0,l=Math.min(e,t),c=Math.max(e,t),u=Array.call(null,{length:256}),d=0,h=r-i,p=t-e;s<=256;)a=(o=s/256)<=l?p<0?r:i:c<=o?p<0?i:r:i+h*Math.pow((o-e)/p,1/n),u[d++]=a,s+=256/255;return u.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(e){if(e||this.filterManager.mdf){var t,n=this.filterManager.effectElements;this.feFuncRComposed&&(e||n[2].p.mdf||n[3].p.mdf||n[4].p.mdf||n[5].p.mdf||n[6].p.mdf)&&(t=this.getTableValue(n[2].p.v,n[3].p.v,n[4].p.v,n[5].p.v,n[6].p.v),this.feFuncRComposed.setAttribute("tableValues",t),this.feFuncGComposed.setAttribute("tableValues",t),this.feFuncBComposed.setAttribute("tableValues",t)),this.feFuncR&&(e||n[9].p.mdf||n[10].p.mdf||n[11].p.mdf||n[12].p.mdf||n[13].p.mdf)&&(t=this.getTableValue(n[9].p.v,n[10].p.v,n[11].p.v,n[12].p.v,n[13].p.v),this.feFuncR.setAttribute("tableValues",t)),this.feFuncG&&(e||n[16].p.mdf||n[17].p.mdf||n[18].p.mdf||n[19].p.mdf||n[20].p.mdf)&&(t=this.getTableValue(n[16].p.v,n[17].p.v,n[18].p.v,n[19].p.v,n[20].p.v),this.feFuncG.setAttribute("tableValues",t)),this.feFuncB&&(e||n[23].p.mdf||n[24].p.mdf||n[25].p.mdf||n[26].p.mdf||n[27].p.mdf)&&(t=this.getTableValue(n[23].p.v,n[24].p.v,n[25].p.v,n[26].p.v,n[27].p.v),this.feFuncB.setAttribute("tableValues",t)),this.feFuncA&&(e||n[30].p.mdf||n[31].p.mdf||n[32].p.mdf||n[33].p.mdf||n[34].p.mdf)&&(t=this.getTableValue(n[30].p.v,n[31].p.v,n[32].p.v,n[33].p.v,n[34].p.v),this.feFuncA.setAttribute("tableValues",t))}},SVGDropShadowEffect.prototype.renderFrame=function(e){if(e||this.filterManager.mdf){if((e||this.filterManager.effectElements[4].p.mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),e||this.filterManager.effectElements[0].p.mdf){var t=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*t[0]),Math.round(255*t[1]),Math.round(255*t[2])))}if((e||this.filterManager.effectElements[1].p.mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),e||this.filterManager.effectElements[2].p.mdf||this.filterManager.effectElements[3].p.mdf){var n=this.filterManager.effectElements[3].p.v,i=(this.filterManager.effectElements[2].p.v-90)*degToRads,r=n*Math.cos(i),o=n*Math.sin(i);this.feOffset.setAttribute("dx",r),this.feOffset.setAttribute("dy",o)}}},SVGMatte3Effect.prototype.setElementAsMask=function(e,t){var n=document.createElementNS(svgNS,"mask");n.setAttribute("id",t.layerId),n.setAttribute("mask-type","alpha"),n.appendChild(t.layerElement),e.setMatte(t.layerId),t.data.hd=!1,e.globalData.defs.appendChild(n)},SVGMatte3Effect.prototype.initialize=function(){for(var e=this.filterManager.effectElements[0].p.v,t=0,n=this.elem.comp.elements.length;t<n;)this.elem.comp.elements[t].data.ind===e&&this.setElementAsMask(this.elem,this.elem.comp.elements[t]),t+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGEffects.prototype.renderFrame=function(e){var t,n=this.filters.length;for(t=0;t<n;t+=1)this.filters[t].renderFrame(e)},createElement(SVGBaseElement,ICompElement),ICompElement.prototype.hide=function(){if(!this.hidden){this._parent.hide.call(this);var e,t=this.elements.length;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].hide()}},ICompElement.prototype.prepareFrame=function(e){if(this._parent.prepareFrame.call(this,e),!1!==this.isVisible||this.data.xt){if(this.tm){var t=this.tm.v;t===this.data.op&&(t=this.data.op-1),this.renderedFrame=t}else this.renderedFrame=e/this.data.sr;var n,i=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),n=0;n<i;n+=1)(this.completeLayers||this.elements[n])&&this.elements[n].prepareFrame(this.renderedFrame-this.layers[n].st)}},ICompElement.prototype.renderFrame=function(e){var t,n=this._parent.renderFrame.call(this,e),i=this.layers.length;if(!1!==n){for(this.hidden&&this.show(),t=0;t<i;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame();this.firstFrame&&(this.firstFrame=!1)}else this.hide()},ICompElement.prototype.setElements=function(e){this.elements=e},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroy=function(){this._parent.destroy.call(this._parent);var e,t=this.layers.length;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy()},ICompElement.prototype.checkLayers=SVGRenderer.prototype.checkLayers,ICompElement.prototype.buildItem=SVGRenderer.prototype.buildItem,ICompElement.prototype.buildAllItems=SVGRenderer.prototype.buildAllItems,ICompElement.prototype.buildElementParenting=SVGRenderer.prototype.buildElementParenting,ICompElement.prototype.createItem=SVGRenderer.prototype.createItem,ICompElement.prototype.createImage=SVGRenderer.prototype.createImage,ICompElement.prototype.createComp=SVGRenderer.prototype.createComp,ICompElement.prototype.createSolid=SVGRenderer.prototype.createSolid,ICompElement.prototype.createShape=SVGRenderer.prototype.createShape,ICompElement.prototype.createText=SVGRenderer.prototype.createText,ICompElement.prototype.createBase=SVGRenderer.prototype.createBase,ICompElement.prototype.appendElementInPos=SVGRenderer.prototype.appendElementInPos,ICompElement.prototype.checkPendingElements=SVGRenderer.prototype.checkPendingElements,ICompElement.prototype.addPendingElement=SVGRenderer.prototype.addPendingElement,createElement(SVGBaseElement,IImageElement),IImageElement.prototype.createElements=function(){var e=this.globalData.getAssetsPath(this.assetData);this._parent.createElements.call(this),this.innerElem=document.createElementNS(svgNS,"image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio","xMidYMid slice"),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.maskedElement=this.innerElem,this.layerElement.appendChild(this.innerElem),this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl)},IImageElement.prototype.renderFrame=function(e){return!1===this._parent.renderFrame.call(this,e)?void this.hide():(this.hidden&&this.show(),void(this.firstFrame&&(this.firstFrame=!1)))},IImageElement.prototype.destroy=function(){this._parent.destroy.call(this._parent),this.innerElem=null},createElement(SVGBaseElement,ISolidElement),ISolidElement.prototype.createElements=function(){this._parent.createElements.call(this);var e=document.createElementNS(svgNS,"rect");e.setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.layerElement.appendChild(e),this.innerElem=e,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl)},ISolidElement.prototype.renderFrame=IImageElement.prototype.renderFrame,ISolidElement.prototype.destroy=IImageElement.prototype.destroy;var animationManager=(fZh={},gZh=[],hZh=0,iZh=0,jZh=!0,kZh=0,setTimeout(dZh,0),fZh.registerAnimation=NYh,fZh.loadAnimation=function(e){var t=new AnimationItem;return QYh(t,null),t.setParams(e),t},fZh.setSpeed=function(e,t){var n;for(n=0;n<iZh;n+=1)gZh[n].animation.setSpeed(e,t)},fZh.setDirection=function(e,t){var n;for(n=0;n<iZh;n+=1)gZh[n].animation.setDirection(e,t)},fZh.play=function(e){var t;for(t=0;t<iZh;t+=1)gZh[t].animation.play(e)},fZh.moveFrame=function(e,t){var n;for(hZh=Date.now(),n=0;n<iZh;n+=1)gZh[n].animation.moveFrame(e,t)},fZh.pause=function(e){var t;for(t=0;t<iZh;t+=1)gZh[t].animation.pause(e)},fZh.stop=function(e){var t;for(t=0;t<iZh;t+=1)gZh[t].animation.stop(e)},fZh.togglePause=function(e){var t;for(t=0;t<iZh;t+=1)gZh[t].animation.togglePause(e)},fZh.searchAnimations=function(e,t,n){var i,r=document.getElementsByClassName("bodymovin"),o=r.length;for(i=0;i<o;i+=1)n&&r[i].setAttribute("data-bm-type",n),NYh(r[i],e);if(t&&0===o){n=n||"svg";var a=document.getElementsByTagName("body")[0];a.innerHTML="";var s=document.createElement("div");s.style.width="100%",s.style.height="100%",s.setAttribute("data-bm-type",n),a.appendChild(s),NYh(s,e)}},fZh.resize=function(){var e;for(e=0;e<iZh;e+=1)gZh[e].animation.resize()},fZh.start=dZh,fZh.goToAndStop=function(e,t,n){var i;for(i=0;i<iZh;i+=1)gZh[i].animation.goToAndStop(e,t,n)},fZh.destroy=function(e){var t;for(t=iZh-1;0<=t;t-=1)gZh[t].animation.destroy(e)},fZh),AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.pendingElements=0,this.playCount=0,this.prerenderFramesFlag=!0,this.animationData={},this.layers=[],this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=randomString(10),this.scaleMode="fit",this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.subframeEnabled=subframeEnabled,this.segments=[],this.pendingSegment=!1,this._idle=!0,this.projectInterface=ProjectInterface()},fZh,gZh,hZh,iZh,jZh,kZh;function MYh(e){for(var t=0,n=e.target;t<iZh;)gZh[t].animation===n&&(gZh.splice(t,1),t-=1,iZh-=1,n.isPaused||PYh()),t+=1}function NYh(e,t){if(!e)return null;for(var n=0;n<iZh;){if(gZh[n].elem==e&&null!==gZh[n].elem)return gZh[n].animation;n+=1}var i=new AnimationItem;return QYh(i,e),i.setData(e,t),i}function OYh(){kZh+=1,jZh&&(jZh=!1,window.requestAnimationFrame(XYh))}function PYh(){0===(kZh-=1)&&(jZh=!0)}function QYh(e,t){e.addEventListener("destroy",MYh),e.addEventListener("_active",OYh),e.addEventListener("_idle",PYh),gZh.push({elem:t,animation:e}),iZh+=1}function WYh(e){var t,n=e-hZh;for(t=0;t<iZh;t+=1)gZh[t].animation.advanceTime(n);hZh=e,jZh||window.requestAnimationFrame(WYh)}function XYh(e){hZh=e,window.requestAnimationFrame(WYh)}function dZh(){window.requestAnimationFrame(XYh)}AnimationItem.prototype.setParams=function(e){var t=this;e.context&&(this.context=e.context),(e.wrapper||e.container)&&(this.wrapper=e.wrapper||e.container);var n=e.animType?e.animType:e.renderer?e.renderer:"svg";switch(n){case"canvas":this.renderer=new CanvasRenderer(this,e.rendererSettings);break;case"svg":this.renderer=new SVGRenderer(this,e.rendererSettings);break;case"hybrid":case"html":default:this.renderer=new HybridRenderer(this,e.rendererSettings)}if(this.renderer.setProjectInterface(this.projectInterface),this.animType=n,""===e.loop||null===e.loop||(this.loop=!1!==e.loop&&(!0===e.loop||parseInt(e.loop))),this.autoplay=!("autoplay"in e)||e.autoplay,this.name=e.name?e.name:"",this.prerenderFramesFlag=!("prerender"in e)||e.prerender,this.autoloadSegments=!e.hasOwnProperty("autoloadSegments")||e.autoloadSegments,e.animationData)t.configAnimation(e.animationData);else if(e.path){"json"!=e.path.substr(-4)&&("/"!=e.path.substr(-1,1)&&(e.path+="/"),e.path+="data.json");var i=new XMLHttpRequest;this.path=-1!=e.path.lastIndexOf("\\")?e.path.substr(0,e.path.lastIndexOf("\\")+1):e.path.substr(0,e.path.lastIndexOf("/")+1),this.assetsPath=e.assetsPath,this.fileName=e.path.substr(e.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),i.open("GET",e.path,!0),i.send(),i.onreadystatechange=function(){if(4==i.readyState)if(200==i.status)t.configAnimation(JSON.parse(i.responseText));else try{var e=JSON.parse(i.responseText);t.configAnimation(e)}catch(e){}}}},AnimationItem.prototype.setData=function(e,t){var n={wrapper:e,animationData:t?"object"==typeof t?t:JSON.parse(t):null},i=e.attributes;n.path=i.getNamedItem("data-animation-path")?i.getNamedItem("data-animation-path").value:i.getNamedItem("data-bm-path")?i.getNamedItem("data-bm-path").value:i.getNamedItem("bm-path")?i.getNamedItem("bm-path").value:"",n.animType=i.getNamedItem("data-anim-type")?i.getNamedItem("data-anim-type").value:i.getNamedItem("data-bm-type")?i.getNamedItem("data-bm-type").value:i.getNamedItem("bm-type")?i.getNamedItem("bm-type").value:i.getNamedItem("data-bm-renderer")?i.getNamedItem("data-bm-renderer").value:i.getNamedItem("bm-renderer")?i.getNamedItem("bm-renderer").value:"canvas";var r=i.getNamedItem("data-anim-loop")?i.getNamedItem("data-anim-loop").value:i.getNamedItem("data-bm-loop")?i.getNamedItem("data-bm-loop").value:i.getNamedItem("bm-loop")?i.getNamedItem("bm-loop").value:"";""===r||(n.loop="false"!==r&&("true"===r||parseInt(r)));var o=i.getNamedItem("data-anim-autoplay")?i.getNamedItem("data-anim-autoplay").value:i.getNamedItem("data-bm-autoplay")?i.getNamedItem("data-bm-autoplay").value:!i.getNamedItem("bm-autoplay")||i.getNamedItem("bm-autoplay").value;n.autoplay="false"!==o,n.name=i.getNamedItem("data-name")?i.getNamedItem("data-name").value:i.getNamedItem("data-bm-name")?i.getNamedItem("data-bm-name").value:i.getNamedItem("bm-name")?i.getNamedItem("bm-name").value:"","false"===(i.getNamedItem("data-anim-prerender")?i.getNamedItem("data-anim-prerender").value:i.getNamedItem("data-bm-prerender")?i.getNamedItem("data-bm-prerender").value:i.getNamedItem("bm-prerender")?i.getNamedItem("bm-prerender").value:"")&&(n.prerender=!1),this.setParams(n)},AnimationItem.prototype.includeLayers=function(e){e.op>this.animationData.op&&(this.animationData.op=e.op,this.totalFrames=Math.floor(e.op-this.animationData.ip),this.animationData.tf=this.totalFrames);var t,n,i=this.animationData.layers,r=i.length,o=e.layers,a=o.length;for(n=0;n<a;n+=1)for(t=0;t<r;){if(i[t].id==o[n].id){i[t]=o[n];break}t+=1}if((e.chars||e.fonts)&&(this.renderer.globalData.fontManager.addChars(e.chars),this.renderer.globalData.fontManager.addFonts(e.fonts,this.renderer.globalData.defs)),e.assets)for(r=e.assets.length,t=0;t<r;t+=1)this.animationData.assets.push(e.assets[t]);this.animationData.__complete=!1,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),this.renderer.includeLayers(e.layers),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.renderer.renderFrame(null),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var e=this.animationData.segments;if(!e||0===e.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.animationData.tf);var t=e.shift();this.timeCompleted=t.time*this.frameRate;var n=new XMLHttpRequest,i=this,r=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,n.open("GET",r,!0),n.send(),n.onreadystatechange=function(){if(4==n.readyState)if(200==n.status)i.includeLayers(JSON.parse(n.responseText));else try{var e=JSON.parse(n.responseText);i.includeLayers(e)}catch(e){}}},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.animationData.tf),this.loadNextSegment()},AnimationItem.prototype.configAnimation=function(e){var t=this;this.renderer&&this.renderer.destroyed||(this.animationData=e,this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.animationData.tf=this.totalFrames,this.renderer.configAnimation(e),e.assets||(e.assets=[]),e.comps&&(e.assets=e.assets.concat(e.comps),e.comps=null),this.renderer.searchExtraCompositions(e.assets),this.layers=this.animationData.layers,this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.firstFrame=Math.round(this.animationData.ip),this.frameMult=this.animationData.fr/1e3,this.trigger("config_ready"),this.imagePreloader=new ImagePreloader,this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(e.assets,function(e){e||t.trigger("loaded_images")}),this.loadSegments(),this.updaFrameModifier(),this.renderer.globalData.fontManager?this.waitForFontsLoaded():(dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),this.checkLoaded()))},AnimationItem.prototype.waitForFontsLoaded=function(){(function e(){this.renderer.globalData.fontManager.loaded?(dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),this.checkLoaded()):setTimeout(e.bind(this),20)}).bind(this)()},AnimationItem.prototype.addPendingElement=function(){this.pendingElements+=1},AnimationItem.prototype.elementLoaded=function(){this.pendingElements--,this.checkLoaded()},AnimationItem.prototype.checkLoaded=function(){0===this.pendingElements&&(expressionsPlugin&&expressionsPlugin.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.isLoaded=!0,this.gotoFrame(),this.autoplay&&this.play())},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(e){this.subframeEnabled=!!e},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.subframeEnabled?this.currentRawFrame:Math.floor(this.currentRawFrame),this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame()},AnimationItem.prototype.renderFrame=function(){!1!==this.isLoaded&&this.renderer.renderFrame(this.currentFrame+this.firstFrame)},AnimationItem.prototype.play=function(e){e&&this.name!=e||!0===this.isPaused&&(this.isPaused=!1,this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(e){e&&this.name!=e||!1===this.isPaused&&(this.isPaused=!0,this.pendingSegment||(this._idle=!0,this.trigger("_idle")))},AnimationItem.prototype.togglePause=function(e){e&&this.name!=e||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(e){e&&this.name!=e||(this.pause(),this.currentFrame=this.currentRawFrame=0,this.playCount=0,this.gotoFrame())},AnimationItem.prototype.goToAndStop=function(e,t,n){n&&this.name!=n||(this.setCurrentRawFrameValue(t?e:e*this.frameModifier),this.pause())},AnimationItem.prototype.goToAndPlay=function(e,t,n){this.goToAndStop(e,t,n),this.play()},AnimationItem.prototype.advanceTime=function(e){return this.pendingSegment?(this.pendingSegment=!1,this.adjustSegment(this.segments.shift()),void(this.isPaused&&this.play())):void(!0!==this.isPaused&&!1!==this.isLoaded&&this.setCurrentRawFrameValue(this.currentRawFrame+e*this.frameModifier))},AnimationItem.prototype.updateAnimation=function(e){this.setCurrentRawFrameValue(this.totalFrames*e)},AnimationItem.prototype.moveFrame=function(e,t){t&&this.name!=t||this.setCurrentRawFrameValue(this.currentRawFrame+e)},AnimationItem.prototype.adjustSegment=function(e){this.playCount=0,e[1]<e[0]?(0<this.frameModifier&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=e[0]-e[1],this.firstFrame=e[1],this.setCurrentRawFrameValue(this.totalFrames-.01)):e[1]>e[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=e[1]-e[0],this.firstFrame=e[0],this.setCurrentRawFrameValue(0)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(e,t){var n=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<e?n=e:this.currentRawFrame+this.firstFrame>t&&(n=t-e-.01)),this.firstFrame=e,this.totalFrames=t-e,-1!==n&&this.goToAndStop(n,!0)},AnimationItem.prototype.playSegments=function(e,t){if("object"==typeof e[0]){var n,i=e.length;for(n=0;n<i;n+=1)this.segments.push(e[n])}else this.segments.push(e);t&&this.adjustSegment(this.segments.shift()),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(e){this.segments.length=0,this.segments.push([this.animationData.ip*this.frameRate,Math.floor(this.animationData.op-this.animationData.ip+this.animationData.ip*this.frameRate)]),e&&this.adjustSegment(this.segments.shift())},AnimationItem.prototype.checkSegments=function(){this.segments.length&&(this.pendingSegment=!0)},AnimationItem.prototype.remove=function(e){e&&this.name!=e||this.renderer.destroy()},AnimationItem.prototype.destroy=function(e){e&&this.name!=e||this.renderer&&this.renderer.destroyed||(this.renderer.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=this.onLoopComplete=this.onComplete=this.onSegmentStart=this.onDestroy=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(e){if(this.currentRawFrame=e,this.currentRawFrame>=this.totalFrames){if(this.checkSegments(),!1===this.loop)return this.currentRawFrame=this.totalFrames-.01,this.gotoFrame(),this.pause(),void this.trigger("complete");if(this.trigger("loopComplete"),this.playCount+=1,!0!==this.loop&&this.playCount==this.loop||this.pendingSegment)return this.currentRawFrame=this.totalFrames-.01,this.gotoFrame(),this.pause(),void this.trigger("complete");this.currentRawFrame=this.currentRawFrame%this.totalFrames}else if(this.currentRawFrame<0)return this.checkSegments(),this.playCount-=1,this.playCount<0&&(this.playCount=0),!1===this.loop||this.pendingSegment?(this.currentRawFrame=0,this.gotoFrame(),this.pause(),void this.trigger("complete")):(this.trigger("loopComplete"),this.currentRawFrame=(this.totalFrames+this.currentRawFrame)%this.totalFrames,void this.gotoFrame());this.gotoFrame()},AnimationItem.prototype.setSpeed=function(e){this.playSpeed=e,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(e){this.playDirection=e<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(e){var t="";if(this.assetsPath){var n=e.p;-1!==n.indexOf("images/")&&(n=n.split("/")[1]),t=this.assetsPath+n}else t=this.path,t+=e.u?e.u:"",t+=e.p;return t},AnimationItem.prototype.getAssetData=function(e){for(var t=0,n=this.assets.length;t<n;){if(e==this.assets[t].id)return this.assets[t];t+=1}},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getAssets=function(){return this.assets},AnimationItem.prototype.trigger=function(e){if(this._cbs&&this._cbs[e])switch(e){case"enterFrame":this.triggerEvent(e,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameMult));break;case"loopComplete":this.triggerEvent(e,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(e,new BMCompleteEvent(e,this.frameMult));break;case"segmentStart":this.triggerEvent(e,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(e,new BMDestroyEvent(e,this));break;default:this.triggerEvent(e)}"enterFrame"===e&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===e&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult)),"complete"===e&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(e,this.frameMult)),"segmentStart"===e&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames)),"destroy"===e&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(e,this))},AnimationItem.prototype.addEventListener=_addEventListener,AnimationItem.prototype.removeEventListener=_removeEventListener,AnimationItem.prototype.triggerEvent=_triggerEvent,extendPrototype(BaseRenderer,CanvasRenderer),CanvasRenderer.prototype.createBase=function(e){return new CVBaseElement(e,this,this.globalData)},CanvasRenderer.prototype.createShape=function(e){return new CVShapeElement(e,this,this.globalData)},CanvasRenderer.prototype.createText=function(e){return new CVTextElement(e,this,this.globalData)},CanvasRenderer.prototype.createImage=function(e){return new CVImageElement(e,this,this.globalData)},CanvasRenderer.prototype.createComp=function(e){return new CVCompElement(e,this,this.globalData)},CanvasRenderer.prototype.createSolid=function(e){return new CVSolidElement(e,this,this.globalData)},CanvasRenderer.prototype.ctxTransform=function(e){if(1!==e[0]||0!==e[1]||0!==e[4]||1!==e[5]||0!==e[12]||0!==e[13]){if(!this.renderConfig.clearCanvas)return void this.canvasContext.transform(e[0],e[1],e[4],e[5],e[12],e[13]);this.transformMat.cloneFromProps(e),this.transformMat.transform(this.contextData.cTr.props[0],this.contextData.cTr.props[1],this.contextData.cTr.props[2],this.contextData.cTr.props[3],this.contextData.cTr.props[4],this.contextData.cTr.props[5],this.contextData.cTr.props[6],this.contextData.cTr.props[7],this.contextData.cTr.props[8],this.contextData.cTr.props[9],this.contextData.cTr.props[10],this.contextData.cTr.props[11],this.contextData.cTr.props[12],this.contextData.cTr.props[13],this.contextData.cTr.props[14],this.contextData.cTr.props[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var t=this.contextData.cTr.props;this.canvasContext.setTransform(t[0],t[1],t[4],t[5],t[12],t[13])}},CanvasRenderer.prototype.ctxOpacity=function(e){if(1!==e){if(!this.renderConfig.clearCanvas)return void(this.canvasContext.globalAlpha*=e<0?0:e);this.contextData.cO*=e<0?0:e,this.canvasContext.globalAlpha=this.contextData.cO}},CanvasRenderer.prototype.reset=function(){return this.renderConfig.clearCanvas?(this.contextData.cArrPos=0,this.contextData.cTr.reset(),void(this.contextData.cO=1)):void this.canvasContext.restore()},CanvasRenderer.prototype.save=function(e){if(this.renderConfig.clearCanvas){e&&this.canvasContext.save();var t=this.contextData.cTr.props;null!==this.contextData.saved[this.contextData.cArrPos]&&void 0!==this.contextData.saved[this.contextData.cArrPos]||(this.contextData.saved[this.contextData.cArrPos]=new Array(16));var n,i=this.contextData.saved[this.contextData.cArrPos];for(n=0;n<16;n+=1)i[n]=t[n];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1}else this.canvasContext.save()},CanvasRenderer.prototype.restore=function(e){if(this.renderConfig.clearCanvas){e&&this.canvasContext.restore(),this.contextData.cArrPos-=1;var t,n=this.contextData.saved[this.contextData.cArrPos],i=this.contextData.cTr.props;for(t=0;t<16;t+=1)i[t]=n[t];this.canvasContext.setTransform(n[0],n[1],n[4],n[5],n[12],n[13]),n=this.contextData.savedOp[this.contextData.cArrPos],this.contextData.cO=n,this.canvasContext.globalAlpha=n}else this.canvasContext.restore()},CanvasRenderer.prototype.configAnimation=function(e){this.animationItem.wrapper?(this.animationItem.container=document.createElement("canvas"),this.animationItem.container.style.width="100%",this.animationItem.container.style.height="100%",this.animationItem.container.style.transformOrigin=this.animationItem.container.style.mozTransformOrigin=this.animationItem.container.style.webkitTransformOrigin=this.animationItem.container.style["-webkit-transform"]="0px 0px 0px",this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className)):this.canvasContext=this.renderConfig.context,this.data=e,this.globalData.canvasContext=this.canvasContext,(this.globalData.renderer=this).globalData.isDashed=!1,this.globalData.totalFrames=Math.floor(e.tf),this.globalData.compWidth=e.w,this.globalData.compHeight=e.h,this.globalData.frameRate=e.fr,this.globalData.frameId=0,this.globalData.compSize={w:e.w,h:e.h},this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.layers=e.layers,this.transformCanvas={},this.transformCanvas.w=e.w,this.transformCanvas.h=e.h,this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(e.chars),this.globalData.fontManager.addFonts(e.fonts,document.body),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.elementLoaded=this.animationItem.elementLoaded.bind(this.animationItem),this.globalData.addPendingElement=this.animationItem.addPendingElement.bind(this.animationItem),this.globalData.transformCanvas=this.transformCanvas,this.elements=Array.apply(null,{length:e.layers.length}),this.updateContainerSize()},CanvasRenderer.prototype.updateContainerSize=function(){var e,t,n,i;if(this.animationItem.wrapper&&this.animationItem.container?(e=this.animationItem.wrapper.offsetWidth,t=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",e*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",t*this.renderConfig.dpr)):(e=this.canvasContext.canvas.width*this.renderConfig.dpr,t=this.canvasContext.canvas.height*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var r=this.renderConfig.preserveAspectRatio.split(" "),o=r[1]||"meet",a=r[0]||"xMidYMid",s=a.substr(0,4),l=a.substr(4);(n=e/t)<(i=this.transformCanvas.w/this.transformCanvas.h)&&"meet"===o||i<n&&"slice"===o?(this.transformCanvas.sx=e/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=t/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=t/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===s&&(i<n&&"meet"===o||n<i&&"slice"===o)?(e-this.transformCanvas.w*(t/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===s&&(i<n&&"meet"===o||n<i&&"slice"===o)?(e-this.transformCanvas.w*(t/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===l&&(n<i&&"meet"===o||i<n&&"slice"===o)?(t-this.transformCanvas.h*(e/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===l&&(n<i&&"meet"===o||i<n&&"slice"===o)?(t-this.transformCanvas.h*(e/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"==this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=e/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=t/(this.transformCanvas.h/this.renderConfig.dpr)):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0;this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1];var c,u=this.elements.length;for(c=0;c<u;c+=1)this.elements[c]&&0===this.elements[c].data.ty&&this.elements[c].resize(this.globalData.transformCanvas)},CanvasRenderer.prototype.destroy=function(){var e;for(this.renderConfig.clearCanvas&&(this.animationItem.wrapper.innerHTML=""),e=(this.layers?this.layers.length:0)-1;0<=e;e-=1)this.elements[e]&&this.elements[e].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRenderer.prototype.renderFrame=function(e){if(!(this.renderedFrame==e&&!0===this.renderConfig.clearCanvas||this.destroyed||null===e)){this.renderedFrame=e,this.globalData.frameNum=e-this.animationItem.firstFrame,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=e,!0===this.renderConfig.clearCanvas?(this.reset(),this.canvasContext.save(),this.canvasContext.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)):this.save(),this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip();var t,n=this.layers.length;for(this.completeLayers||this.checkLayers(e),t=0;t<n;t++)(this.completeLayers||this.elements[t])&&this.elements[t].prepareFrame(e-this.layers[t].st);for(t=n-1;0<=t;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame();!0!==this.renderConfig.clearCanvas?this.restore():this.canvasContext.restore()}},CanvasRenderer.prototype.buildItem=function(e){var t=this.elements;if(!t[e]&&99!=this.layers[e].ty){var n=this.createItem(this.layers[e],this,this.globalData);(t[e]=n).initExpressions(),0===this.layers[e].ty&&n.resize(this.globalData.transformCanvas)}},CanvasRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){this.pendingElements.pop().checkParenting()}},CanvasRenderer.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRenderer.prototype.show=function(){this.animationItem.container.style.display="block"},CanvasRenderer.prototype.searchExtraCompositions=function(e){var t,n=e.length;for(document.createElementNS(svgNS,"g"),t=0;t<n;t+=1)if(e[t].xt){var i=this.createComp(e[t],this.globalData.comp,this.globalData);i.initExpressions(),this.globalData.projectInterface.registerComposition(i)}},extendPrototype(BaseRenderer,HybridRenderer),HybridRenderer.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){this.pendingElements.pop().checkParenting()}},HybridRenderer.prototype.appendElementInPos=function(e,t){var n=e.getBaseElement();if(n){var i=this.layers[t];if(i.ddd&&this.supports3d)this.addTo3dContainer(n,t);else{for(var r,o,a=0;a<t;)this.elements[a]&&!0!==this.elements[a]&&this.elements[a].getBaseElement&&(o=this.elements[a],r=this.layers[a].ddd?this.getThreeDContainerByPos(a):o.getBaseElement()),a+=1;r?i.ddd&&this.supports3d||this.layerElement.insertBefore(n,r):i.ddd&&this.supports3d||this.layerElement.appendChild(n)}}},HybridRenderer.prototype.createBase=function(e){return new SVGBaseElement(e,this.layerElement,this.globalData,this)},HybridRenderer.prototype.createShape=function(e){return this.supports3d?new HShapeElement(e,this.layerElement,this.globalData,this):new IShapeElement(e,this.layerElement,this.globalData,this)},HybridRenderer.prototype.createText=function(e){return this.supports3d?new HTextElement(e,this.layerElement,this.globalData,this):new SVGTextElement(e,this.layerElement,this.globalData,this)},HybridRenderer.prototype.createCamera=function(e){return this.camera=new HCameraElement(e,this.layerElement,this.globalData,this),this.camera},HybridRenderer.prototype.createImage=function(e){return this.supports3d?new HImageElement(e,this.layerElement,this.globalData,this):new IImageElement(e,this.layerElement,this.globalData,this)},HybridRenderer.prototype.createComp=function(e){return this.supports3d?new HCompElement(e,this.layerElement,this.globalData,this):new ICompElement(e,this.layerElement,this.globalData,this)},HybridRenderer.prototype.createSolid=function(e){return this.supports3d?new HSolidElement(e,this.layerElement,this.globalData,this):new ISolidElement(e,this.layerElement,this.globalData,this)},HybridRenderer.prototype.getThreeDContainerByPos=function(e){for(var t=0,n=this.threeDElements.length;t<n;){if(this.threeDElements[t].startPos<=e&&this.threeDElements[t].endPos>=e)return this.threeDElements[t].perspectiveElem;t+=1}},HybridRenderer.prototype.createThreeDContainer=function(e){var t=document.createElement("div");styleDiv(t),t.style.width=this.globalData.compSize.w+"px",t.style.height=this.globalData.compSize.h+"px",t.style.transformOrigin=t.style.mozTransformOrigin=t.style.webkitTransformOrigin="50% 50%";var n=document.createElement("div");styleDiv(n),n.style.transform=n.style.webkitTransform="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)",t.appendChild(n),this.resizerElem.appendChild(t);var i={container:n,perspectiveElem:t,startPos:e,endPos:e};return this.threeDElements.push(i),i},HybridRenderer.prototype.build3dContainers=function(){var e,t,n=this.layers.length;for(e=0;e<n;e+=1)this.layers[e].ddd?(t=t||this.createThreeDContainer(e)).endPos=Math.max(t.endPos,e):t=null},HybridRenderer.prototype.addTo3dContainer=function(e,t){for(var n=0,i=this.threeDElements.length;n<i;){if(t<=this.threeDElements[n].endPos){for(var r,o=this.threeDElements[n].startPos;o<t;)this.elements[o]&&this.elements[o].getBaseElement&&(r=this.elements[o].getBaseElement()),o+=1;r?this.threeDElements[n].container.insertBefore(e,r):this.threeDElements[n].container.appendChild(e);break}n+=1}},HybridRenderer.prototype.configAnimation=function(e){var t=document.createElement("div"),n=this.animationItem.wrapper;t.style.width=e.w+"px",t.style.height=e.h+"px",styleDiv(this.resizerElem=t),t.style.transformStyle=t.style.webkitTransformStyle=t.style.mozTransformStyle="flat",this.renderConfig.className&&n.setAttribute("class",this.renderConfig.className),n.appendChild(t),t.style.overflow="hidden";var i=document.createElementNS(svgNS,"svg");i.setAttribute("width","1"),i.setAttribute("height","1"),styleDiv(i),this.resizerElem.appendChild(i);var r=document.createElementNS(svgNS,"defs");i.appendChild(r),this.globalData.defs=r,this.data=e,this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.elementLoaded=this.animationItem.elementLoaded.bind(this.animationItem),this.globalData.frameId=0,this.globalData.compSize={w:e.w,h:e.h},this.globalData.frameRate=e.fr,this.layers=e.layers,this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(e.chars),this.globalData.fontManager.addFonts(e.fonts,i),this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRenderer.prototype.destroy=function(){this.animationItem.wrapper.innerHTML="",this.animationItem.container=null,this.globalData.defs=null;var e,t=this.layers?this.layers.length:0;for(e=0;e<t;e++)this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRenderer.prototype.updateContainerSize=function(){var e,t,n,i,r=this.animationItem.wrapper.offsetWidth,o=this.animationItem.wrapper.offsetHeight;i=r/o<this.globalData.compSize.w/this.globalData.compSize.h?(e=r/this.globalData.compSize.w,t=r/this.globalData.compSize.w,n=0,(o-this.globalData.compSize.h*(r/this.globalData.compSize.w))/2):(e=o/this.globalData.compSize.h,t=o/this.globalData.compSize.h,n=(r-this.globalData.compSize.w*(o/this.globalData.compSize.h))/2,0),this.resizerElem.style.transform=this.resizerElem.style.webkitTransform="matrix3d("+e+",0,0,0,0,"+t+",0,0,0,0,1,0,"+n+","+i+",0,1)"},HybridRenderer.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRenderer.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRenderer.prototype.show=function(){this.resizerElem.style.display="block"},HybridRenderer.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var e,t=this.globalData.compSize.w,n=this.globalData.compSize.h,i=this.threeDElements.length;for(e=0;e<i;e+=1)this.threeDElements[e].perspectiveElem.style.perspective=this.threeDElements[e].perspectiveElem.style.webkitPerspective=Math.sqrt(Math.pow(t,2)+Math.pow(n,2))+"px"}},HybridRenderer.prototype.searchExtraCompositions=function(e){var t,n=e.length,i=document.createElement("div");for(t=0;t<n;t+=1)if(e[t].xt){var r=this.createComp(e[t],i,this.globalData.comp,null);r.initExpressions(),this.globalData.projectInterface.registerComposition(r)}},createElement(BaseElement,CVBaseElement),CVBaseElement.prototype.createElements=function(){this.checkParenting()},CVBaseElement.prototype.checkBlendMode=function(e){if(e.blendMode!==this.data.bm){e.blendMode=this.data.bm;var t="";switch(this.data.bm){case 0:t="normal";break;case 1:t="multiply";break;case 2:t="screen";break;case 3:t="overlay";break;case 4:t="darken";break;case 5:t="lighten";break;case 6:t="color-dodge";break;case 7:t="color-burn";break;case 8:t="hard-light";break;case 9:t="soft-light";break;case 10:t="difference";break;case 11:t="exclusion";break;case 12:t="hue";break;case 13:t="saturation";break;case 14:t="color";break;case 15:t="luminosity"}e.canvasContext.globalCompositeOperation=t}},CVBaseElement.prototype.renderFrame=function(e){if(3===this.data.ty)return!1;if(this.checkBlendMode(0===this.data.ty?this.parentGlobalData:this.globalData),!this.isVisible)return this.isVisible;this.finalTransform.opMdf=this.finalTransform.op.mdf,this.finalTransform.matMdf=this.finalTransform.mProp.mdf,this.finalTransform.opacity=this.finalTransform.op.v;var t,n=this.finalTransform.mat;if(this.hierarchy){var i,r=this.hierarchy.length;for(t=this.finalTransform.mProp.v.props,n.cloneFromProps(t),i=0;i<r;i+=1)this.finalTransform.matMdf=!!this.hierarchy[i].finalTransform.mProp.mdf||this.finalTransform.matMdf,t=this.hierarchy[i].finalTransform.mProp.v.props,n.transform(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}else e?(t=this.finalTransform.mProp.v.props,n.cloneFromProps(t)):n.cloneFromProps(this.finalTransform.mProp.v.props);return e&&(t=e.mat.props,n.transform(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]),this.finalTransform.opacity*=e.opacity,this.finalTransform.opMdf=!!e.opMdf||this.finalTransform.opMdf,this.finalTransform.matMdf=!!e.matMdf||this.finalTransform.matMdf),this.data.hasMask&&(this.globalData.renderer.save(!0),this.maskManager.renderFrame(0===this.data.ty?null:n)),this.data.hd&&(this.isVisible=!1),this.isVisible},CVBaseElement.prototype.addMasks=function(e){this.maskManager=new CVMaskElement(e,this,this.globalData)},CVBaseElement.prototype.destroy=function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager&&this.maskManager.destroy()},CVBaseElement.prototype.mHelper=new Matrix,createElement(CVBaseElement,CVCompElement),CVCompElement.prototype.ctxTransform=CanvasRenderer.prototype.ctxTransform,CVCompElement.prototype.ctxOpacity=CanvasRenderer.prototype.ctxOpacity,CVCompElement.prototype.save=CanvasRenderer.prototype.save,CVCompElement.prototype.restore=CanvasRenderer.prototype.restore,CVCompElement.prototype.reset=function(){this.contextData.cArrPos=0,this.contextData.cTr.reset(),this.contextData.cO=1},CVCompElement.prototype.resize=function(e){var t=Math.max(e.sx,e.sy);this.canvas.width=this.data.w*t,this.canvas.height=this.data.h*t,this.transformCanvas={sc:t,w:this.data.w*t,h:this.data.h*t,props:[t,0,0,0,0,t,0,0,0,0,1,0,0,0,0,1]};var n,i=this.elements.length;for(n=0;n<i;n+=1)this.elements[n]&&0===this.elements[n].data.ty&&this.elements[n].resize(e)},CVCompElement.prototype.prepareFrame=function(e){if(this.globalData.frameId=this.parentGlobalData.frameId,this.globalData.mdf=!1,this._parent.prepareFrame.call(this,e),!1!==this.isVisible||this.data.xt){var t=e;this.tm&&((t=this.tm.v)===this.data.op&&(t=this.data.op-1)),this.renderedFrame=t/this.data.sr;var n,i=this.elements.length;for(this.completeLayers||this.checkLayers(e),n=0;n<i;n+=1)(this.completeLayers||this.elements[n])&&(this.elements[n].prepareFrame(t/this.data.sr-this.layers[n].st),0===this.elements[n].data.ty&&this.elements[n].globalData.mdf&&(this.globalData.mdf=!0));this.globalData.mdf&&!this.data.xt&&(this.canvasContext.clearRect(0,0,this.data.w,this.data.h),this.ctxTransform(this.transformCanvas.props))}},CVCompElement.prototype.renderFrame=function(e){if(!1!==this._parent.renderFrame.call(this,e)){var t;if(this.globalData.mdf)for(t=this.layers.length-1;0<=t;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame();this.data.hasMask&&this.globalData.renderer.restore(!0),this.firstFrame&&(this.firstFrame=!1),this.parentGlobalData.renderer.save(),this.parentGlobalData.renderer.ctxTransform(this.finalTransform.mat.props),this.parentGlobalData.renderer.ctxOpacity(this.finalTransform.opacity),this.parentGlobalData.renderer.canvasContext.drawImage(this.canvas,0,0,this.data.w,this.data.h),this.parentGlobalData.renderer.restore(),this.globalData.mdf&&this.reset()}},CVCompElement.prototype.setElements=function(e){this.elements=e},CVCompElement.prototype.getElements=function(){return this.elements},CVCompElement.prototype.destroy=function(){var e;for(e=this.layers.length-1;0<=e;e-=1)this.elements[e].destroy();this.layers=null,this.elements=null,this._parent.destroy.call(this._parent)},CVCompElement.prototype.checkLayers=CanvasRenderer.prototype.checkLayers,CVCompElement.prototype.buildItem=CanvasRenderer.prototype.buildItem,CVCompElement.prototype.checkPendingElements=CanvasRenderer.prototype.checkPendingElements,CVCompElement.prototype.addPendingElement=CanvasRenderer.prototype.addPendingElement,CVCompElement.prototype.buildAllItems=CanvasRenderer.prototype.buildAllItems,CVCompElement.prototype.createItem=CanvasRenderer.prototype.createItem,CVCompElement.prototype.createImage=CanvasRenderer.prototype.createImage,CVCompElement.prototype.createComp=CanvasRenderer.prototype.createComp,CVCompElement.prototype.createSolid=CanvasRenderer.prototype.createSolid,CVCompElement.prototype.createShape=CanvasRenderer.prototype.createShape,CVCompElement.prototype.createText=CanvasRenderer.prototype.createText,CVCompElement.prototype.createBase=CanvasRenderer.prototype.createBase,CVCompElement.prototype.buildElementParenting=CanvasRenderer.prototype.buildElementParenting,createElement(CVBaseElement,CVImageElement),CVImageElement.prototype.createElements=function(){var e=function(){if(this.globalData.elementLoaded(),this.assetData.w!==this.img.width||this.assetData.h!==this.img.height){var e=document.createElement("canvas");e.width=this.assetData.w,e.height=this.assetData.h;var t,n,i=e.getContext("2d"),r=this.img.width,o=this.img.height,a=r/o,s=this.assetData.w/this.assetData.h;s<a?t=(n=o)*s:n=(t=r)/s,i.drawImage(this.img,(r-t)/2,(o-n)/2,t,n,0,0,this.assetData.w,this.assetData.h),this.img=e}}.bind(this),t=function(){this.failed=!0,this.globalData.elementLoaded()}.bind(this);this.img=new Image,this.img.addEventListener("load",e,!1),this.img.addEventListener("error",t,!1);var n=this.globalData.getAssetsPath(this.assetData);this.img.src=n,this._parent.createElements.call(this)},CVImageElement.prototype.renderFrame=function(e){if(!this.failed&&!1!==this._parent.renderFrame.call(this,e)){var t=this.canvasContext;this.globalData.renderer.save();var n=this.finalTransform.mat.props;this.globalData.renderer.ctxTransform(n),this.globalData.renderer.ctxOpacity(this.finalTransform.opacity),t.drawImage(this.img,0,0),this.globalData.renderer.restore(this.data.hasMask),this.firstFrame&&(this.firstFrame=!1)}},CVImageElement.prototype.destroy=function(){this.img=null,this._parent.destroy.call(this._parent)},CVMaskElement.prototype.prepareFrame=function(e){var t,n=this.dynamicProperties.length;for(t=0;t<n;t+=1)this.dynamicProperties[t].getValue(e),this.dynamicProperties[t].mdf&&(this.element.globalData.mdf=!0)},CVMaskElement.prototype.renderFrame=function(e){var t,n,i,r,o,a=this.element.canvasContext,s=this.data.masksProperties.length,l=!1;for(t=0;t<s;t++)if("n"!==this.masksProperties[t].mode){!1===l&&(a.beginPath(),l=!0),this.masksProperties[t].inv&&(a.moveTo(0,0),a.lineTo(this.element.globalData.compWidth,0),a.lineTo(this.element.globalData.compWidth,this.element.globalData.compHeight),a.lineTo(0,this.element.globalData.compHeight),a.lineTo(0,0)),o=this.viewData[t].v,n=e?e.applyToPointArray(o.v[0][0],o.v[0][1],0):o.v[0],a.moveTo(n[0],n[1]);var c,u=o._length;for(c=1;c<u;c++)n=e?e.applyToPointArray(o.o[c-1][0],o.o[c-1][1],0):o.o[c-1],i=e?e.applyToPointArray(o.i[c][0],o.i[c][1],0):o.i[c],r=e?e.applyToPointArray(o.v[c][0],o.v[c][1],0):o.v[c],a.bezierCurveTo(n[0],n[1],i[0],i[1],r[0],r[1]);n=e?e.applyToPointArray(o.o[c-1][0],o.o[c-1][1],0):o.o[c-1],i=e?e.applyToPointArray(o.i[0][0],o.i[0][1],0):o.i[0],r=e?e.applyToPointArray(o.v[0][0],o.v[0][1],0):o.v[0],a.bezierCurveTo(n[0],n[1],i[0],i[1],r[0],r[1])}l&&a.clip()},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null},createElement(CVBaseElement,CVShapeElement),CVShapeElement.prototype.transformHelper={opacity:1,mat:new Matrix,matMdf:!1,opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createElements=function(){this._parent.createElements.call(this),this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.dynamicProperties,!0)},CVShapeElement.prototype.createStyleElement=function(e,t){var n={data:e,type:e.ty,elements:[]},i={};if("fl"!=e.ty&&"st"!=e.ty||(i.c=PropertyFactory.getProp(this,e.c,1,255,t),i.c.k||(n.co="rgb("+bm_floor(i.c.v[0])+","+bm_floor(i.c.v[1])+","+bm_floor(i.c.v[2])+")")),i.o=PropertyFactory.getProp(this,e.o,0,.01,t),"st"==e.ty){if(n.lc=this.lcEnum[e.lc]||"round",n.lj=this.ljEnum[e.lj]||"round",1==e.lj&&(n.ml=e.ml),i.w=PropertyFactory.getProp(this,e.w,0,null,t),i.w.k||(n.wi=i.w.v),e.d){var r=PropertyFactory.getDashProp(this,e.d,"canvas",t);i.d=r,i.d.k||(n.da=i.d.dasharray,n.do=i.d.dashoffset)}}else n.r=2===e.r?"evenodd":"nonzero";return this.stylesList.push(n),i.style=n,i},CVShapeElement.prototype.createGroupElement=function(e){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(e,t){return{transform:{mat:new Matrix,opacity:1,matMdf:!1,opMdf:!1,op:PropertyFactory.getProp(this,e.o,0,.01,t),mProps:PropertyFactory.getProp(this,e,2,null,t)},elements:[]}},CVShapeElement.prototype.createShapeElement=function(e,t){var n={nodes:[],trNodes:[],tr:[0,0,0,0,0,0]},i=4;"rc"==e.ty?i=5:"el"==e.ty?i=6:"sr"==e.ty&&(i=7),n.sh=ShapePropertyFactory.getShapeProp(this,e,i,t),this.shapes.push(n.sh),this.addShapeToModifiers(n),jLen=this.stylesList.length;var r=!1,o=!1;for(j=0;j<jLen;j+=1)this.stylesList[j].closed||(this.stylesList[j].elements.push(n),"st"===this.stylesList[j].type?r=!0:o=!0);return n.st=r,n.fl=o,n},CVShapeElement.prototype.reloadShapes=function(){this.firstFrame=!0;var e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.dynamicProperties,!0);var t;e=this.dynamicProperties.length;for(t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},CVShapeElement.prototype.searchShapes=function(e,t,n,i,r){var o,a,s,l,c=e.length-1,u=[],d=[];for(o=c;0<=o;o-=1){if((l=this.searchProcessedElement(e[o]))?t[o]=n[l-1]:e[o]._render=r,"fl"==e[o].ty||"st"==e[o].ty)l?t[o].style.closed=!1:t[o]=this.createStyleElement(e[o],i),u.push(t[o].style);else if("gr"==e[o].ty){if(l)for(s=t[o].it.length,a=0;a<s;a+=1)t[o].prevViewData[a]=t[o].it[a];else t[o]=this.createGroupElement(e[o]);this.searchShapes(e[o].it,t[o].it,t[o].prevViewData,i,r)}else if("tr"==e[o].ty)l||(t[o]=this.createTransformElement(e[o],i));else if("sh"==e[o].ty||"rc"==e[o].ty||"el"==e[o].ty||"sr"==e[o].ty)l||(t[o]=this.createShapeElement(e[o],i));else if("tm"==e[o].ty||"rd"==e[o].ty){if(l)(h=t[o]).closed=!1;else{var h=ShapeModifiers.getModifier(e[o].ty);h.init(this,e[o],i),t[o]=h,this.shapeModifiers.push(h)}d.push(h)}else"rp"==e[o].ty&&(l?(h=t[o]).closed=!0:(h=ShapeModifiers.getModifier(e[o].ty),(t[o]=h).init(this,e,o,t,i),this.shapeModifiers.push(h),r=!1),d.push(h));this.addProcessedElement(e[o],o+1)}for(c=u.length,o=0;o<c;o+=1)u[o].closed=!0;for(c=d.length,o=0;o<c;o+=1)d[o].closed=!0},CVShapeElement.prototype.addShapeToModifiers=IShapeElement.prototype.addShapeToModifiers,CVShapeElement.prototype.renderModifiers=IShapeElement.prototype.renderModifiers,CVShapeElement.prototype.lcEnum=IShapeElement.prototype.lcEnum,CVShapeElement.prototype.ljEnum=IShapeElement.prototype.ljEnum,CVShapeElement.prototype.searchProcessedElement=IShapeElement.prototype.searchProcessedElement,CVShapeElement.prototype.addProcessedElement=IShapeElement.prototype.addProcessedElement,CVShapeElement.prototype.renderFrame=function(e){!1!==this._parent.renderFrame.call(this,e)&&(this.transformHelper.mat.reset(),this.transformHelper.opacity=this.finalTransform.opacity,this.transformHelper.matMdf=!1,this.transformHelper.opMdf=this.finalTransform.opMdf,this.renderModifiers(),this.renderShape(this.transformHelper,null,null,!0),this.data.hasMask&&this.globalData.renderer.restore(!0))},CVShapeElement.prototype.renderShape=function(e,t,n,i){var r,o,a,s;if(!t)for(t=this.shapesData,o=this.stylesList.length,r=0;r<o;r+=1)this.stylesList[r].d="",this.stylesList[r].mdf=!1;for(n=n||this.itemsData,a=e,r=o=t.length-1;0<=r;r-=1)if("tr"==t[r].ty){a=n[r].transform;var l=n[r].transform.mProps.v.props;if(a.matMdf=a.mProps.mdf,a.opMdf=a.op.mdf,(s=a.mat).cloneFromProps(l),e){var c=e.mat.props;a.opacity=e.opacity,a.opacity*=n[r].transform.op.v,a.matMdf=!!e.matMdf||a.matMdf,a.opMdf=!!e.opMdf||a.opMdf,s.transform(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15])}else a.opacity=a.op.o}else"sh"==t[r].ty||"el"==t[r].ty||"rc"==t[r].ty||"sr"==t[r].ty?this.renderPath(t[r],n[r],a):"fl"==t[r].ty?this.renderFill(t[r],n[r],a):"st"==t[r].ty?this.renderStroke(t[r],n[r],a):"gr"==t[r].ty?this.renderShape(a,t[r].it,n[r].it):t[r].ty;if(i){o=this.stylesList.length;var u,d,h,p,f,g,m,v=this.globalData.renderer,y=this.globalData.canvasContext;for(v.save(),v.ctxTransform(this.finalTransform.mat.props),r=0;r<o;r+=1)if(("st"!==(m=this.stylesList[r].type)||0!==this.stylesList[r].wi)&&this.stylesList[r].data._render){for(v.save(),f=this.stylesList[r].elements,"st"===m?(y.strokeStyle=this.stylesList[r].co,y.lineWidth=this.stylesList[r].wi,y.lineCap=this.stylesList[r].lc,y.lineJoin=this.stylesList[r].lj,y.miterLimit=this.stylesList[r].ml||0):y.fillStyle=this.stylesList[r].co,v.ctxOpacity(this.stylesList[r].coOp),"st"!==m&&y.beginPath(),d=f.length,u=0;u<d;u+=1){for("st"===m&&(y.beginPath(),this.stylesList[r].da?(y.setLineDash(this.stylesList[r].da),y.lineDashOffset=this.stylesList[r].do,this.globalData.isDashed=!0):this.globalData.isDashed&&(y.setLineDash(this.dashResetter),this.globalData.isDashed=!1)),p=(g=f[u].trNodes).length,h=0;h<p;h+=1)"m"==g[h].t?y.moveTo(g[h].p[0],g[h].p[1]):"c"==g[h].t?y.bezierCurveTo(g[h].p1[0],g[h].p1[1],g[h].p2[0],g[h].p2[1],g[h].p3[0],g[h].p3[1]):y.closePath();"st"===m&&y.stroke()}"st"!==m&&y.fill(this.stylesList[r].r),v.restore()}v.restore(),this.firstFrame&&(this.firstFrame=!1)}},CVShapeElement.prototype.renderPath=function(e,t,n){var i,r,o,a;if(n.matMdf||t.sh.mdf||this.firstFrame){var s=t.sh.paths,l=n.mat;a=s._length;var c=t.trNodes;for(o=c.length=0;o<a;o+=1){var u=s.shapes[o];if(u&&u.v){for(i=u._length,r=1;r<i;r+=1)1==r&&c.push({t:"m",p:l.applyToPointArray(u.v[0][0],u.v[0][1],0)}),c.push({t:"c",p1:l.applyToPointArray(u.o[r-1][0],u.o[r-1][1],0),p2:l.applyToPointArray(u.i[r][0],u.i[r][1],0),p3:l.applyToPointArray(u.v[r][0],u.v[r][1],0)});1==i&&c.push({t:"m",p:l.applyToPointArray(u.v[0][0],u.v[0][1],0)}),u.c&&i&&(c.push({t:"c",p1:l.applyToPointArray(u.o[r-1][0],u.o[r-1][1],0),p2:l.applyToPointArray(u.i[0][0],u.i[0][1],0),p3:l.applyToPointArray(u.v[0][0],u.v[0][1],0)}),c.push({t:"z"})),t.lStr=c}}if(t.st)for(r=0;r<16;r+=1)t.tr[r]=n.mat.props[r];t.trNodes=c}},CVShapeElement.prototype.renderFill=function(e,t,n){var i=t.style;(t.c.mdf||this.firstFrame)&&(i.co="rgb("+bm_floor(t.c.v[0])+","+bm_floor(t.c.v[1])+","+bm_floor(t.c.v[2])+")"),(t.o.mdf||n.opMdf||this.firstFrame)&&(i.coOp=t.o.v*n.opacity)},CVShapeElement.prototype.renderStroke=function(e,t,n){var i=t.style,r=t.d;r&&(r.mdf||this.firstFrame)&&(i.da=r.dasharray,i.do=r.dashoffset),(t.c.mdf||this.firstFrame)&&(i.co="rgb("+bm_floor(t.c.v[0])+","+bm_floor(t.c.v[1])+","+bm_floor(t.c.v[2])+")"),(t.o.mdf||n.opMdf||this.firstFrame)&&(i.coOp=t.o.v*n.opacity),(t.w.mdf||this.firstFrame)&&(i.wi=t.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemData.length=0,this._parent.destroy.call(this._parent)},createElement(CVBaseElement,CVSolidElement),CVSolidElement.prototype.renderFrame=function(e){if(!1!==this._parent.renderFrame.call(this,e)){var t=this.canvasContext;this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.opacity),t.fillStyle=this.data.sc,t.fillRect(0,0,this.data.sw,this.data.sh),this.globalData.renderer.restore(this.data.hasMask),this.firstFrame&&(this.firstFrame=!1)}},createElement(CVBaseElement,CVTextElement),extendPrototype(ITextElement,CVTextElement),CVTextElement.prototype.tHelper=document.createElement("canvas").getContext("2d"),CVTextElement.prototype.createElements=function(){this._parent.createElements.call(this)},CVTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=Array.apply(null,{length:e.l?e.l.length:0});var t=!1;e.fc?(t=!0,this.values.fill=this.buildColor(e.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=t;var n=!1;e.sc&&(n=!0,this.values.stroke=this.buildColor(e.sc),this.values.sWidth=e.sw);var i,r,o=this.globalData.fontManager.getFontByName(e.f),a=e.l,s=this.mHelper;this.stroke=n,this.values.fValue=e.s+"px "+this.globalData.fontManager.getFontByName(e.f).fFamily,r=e.t.length;var l,c,u,d,h,p,f,g,m,v,y=this.data.singleShape,b=e.tr/1e3*e.s,w=0,x=0,C=!0,S=0;for(i=0;i<r;i+=1){for(c=(l=this.globalData.fontManager.getCharData(e.t.charAt(i),o.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily))&&l.data||{},s.reset(),y&&a[i].n&&(w=-b,x+=e.yOffset,x+=C?1:0,C=!1),f=(h=c.shapes?c.shapes[0].it:[]).length,s.scale(e.s/100,e.s/100),y&&this.applyTextPropertiesToMatrix(e,s,a[i].line,w,x),m=Array.apply(null,{length:f}),p=0;p<f;p+=1){for(d=h[p].ks.k.i.length,g=h[p].ks.k,v=[],u=1;u<d;u+=1)1==u&&v.push(s.applyToX(g.v[0][0],g.v[0][1],0),s.applyToY(g.v[0][0],g.v[0][1],0)),v.push(s.applyToX(g.o[u-1][0],g.o[u-1][1],0),s.applyToY(g.o[u-1][0],g.o[u-1][1],0),s.applyToX(g.i[u][0],g.i[u][1],0),s.applyToY(g.i[u][0],g.i[u][1],0),s.applyToX(g.v[u][0],g.v[u][1],0),s.applyToY(g.v[u][0],g.v[u][1],0));v.push(s.applyToX(g.o[u-1][0],g.o[u-1][1],0),s.applyToY(g.o[u-1][0],g.o[u-1][1],0),s.applyToX(g.i[0][0],g.i[0][1],0),s.applyToY(g.i[0][0],g.i[0][1],0),s.applyToX(g.v[0][0],g.v[0][1],0),s.applyToY(g.v[0][0],g.v[0][1],0)),m[p]=v}y&&(w+=a[i].l,w+=b),this.textSpans[S]?this.textSpans[S].elem=m:this.textSpans[S]={elem:m},S+=1}},CVTextElement.prototype.renderFrame=function(e){if(!1!==this._parent.renderFrame.call(this,e)){var t=this.canvasContext,n=this.finalTransform.mat.props;this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(n),this.globalData.renderer.ctxOpacity(this.finalTransform.opacity),t.font=this.values.fValue,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var i,r,o,a,s,l,c=this.textAnimator.renderedLetters,u=this.textProperty.currentData.l;r=u.length;var d,h,p,f=null,g=null,m=null;for(i=0;i<r;i+=1)if(!u[i].n){if((d=c[i])&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(d.p),this.globalData.renderer.ctxOpacity(d.o)),this.fill){for(d&&d.fc?f!==d.fc&&(f=d.fc,t.fillStyle=d.fc):f!==this.values.fill&&(f=this.values.fill,t.fillStyle=this.values.fill),a=(h=this.textSpans[i].elem).length,this.globalData.canvasContext.beginPath(),o=0;o<a;o+=1)for(l=(p=h[o]).length,this.globalData.canvasContext.moveTo(p[0],p[1]),s=2;s<l;s+=6)this.globalData.canvasContext.bezierCurveTo(p[s],p[s+1],p[s+2],p[s+3],p[s+4],p[s+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(d&&d.sw?m!==d.sw&&(m=d.sw,t.lineWidth=d.sw):m!==this.values.sWidth&&(m=this.values.sWidth,t.lineWidth=this.values.sWidth),d&&d.sc?g!==d.sc&&(g=d.sc,t.strokeStyle=d.sc):g!==this.values.stroke&&(g=this.values.stroke,t.strokeStyle=this.values.stroke),a=(h=this.textSpans[i].elem).length,this.globalData.canvasContext.beginPath(),o=0;o<a;o+=1)for(l=(p=h[o]).length,this.globalData.canvasContext.moveTo(p[0],p[1]),s=2;s<l;s+=6)this.globalData.canvasContext.bezierCurveTo(p[s],p[s+1],p[s+2],p[s+3],p[s+4],p[s+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}d&&this.globalData.renderer.restore()}this.globalData.renderer.restore(this.data.hasMask),this.firstFrame&&(this.firstFrame=!1)}},createElement(BaseElement,HBaseElement),HBaseElement.prototype.checkBlendMode=function(){},HBaseElement.prototype.setBlendMode=BaseElement.prototype.setBlendMode,HBaseElement.prototype.getBaseElement=function(){return this.baseElement},HBaseElement.prototype.createElements=function(){this.data.hasMask?(this.layerElement=document.createElementNS(svgNS,"svg"),styleDiv(this.layerElement),this.baseElement=this.layerElement,this.maskedElement=this.layerElement):this.layerElement=this.parentContainer,this.transformedElement=this.layerElement,!this.data.ln||4!==this.data.ty&&0!==this.data.ty||(this.layerElement===this.parentContainer&&(this.layerElement=document.createElementNS(svgNS,"g"),this.baseElement=this.layerElement),this.layerElement.setAttribute("id",this.data.ln)),this.setBlendMode(),this.layerElement!==this.parentContainer&&(this.placeholder=null),this.checkParenting()},HBaseElement.prototype.renderFrame=function(e){if(3===this.data.ty)return!1;if(this.currentFrameNum===this.lastNum||!this.isVisible)return this.isVisible;this.lastNum=this.currentFrameNum,this.finalTransform.opMdf=this.finalTransform.op.mdf,this.finalTransform.matMdf=this.finalTransform.mProp.mdf,this.finalTransform.opacity=this.finalTransform.op.v,this.firstFrame&&(this.finalTransform.opMdf=!0,this.finalTransform.matMdf=!0);var t,n=this.finalTransform.mat;if(this.hierarchy){var i,r=this.hierarchy.length;for(t=this.finalTransform.mProp.v.props,n.cloneFromProps(t),i=0;i<r;i+=1)this.finalTransform.matMdf=!!this.hierarchy[i].finalTransform.mProp.mdf||this.finalTransform.matMdf,t=this.hierarchy[i].finalTransform.mProp.v.props,n.transform(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}else this.isVisible&&this.finalTransform.matMdf&&(e?(t=this.finalTransform.mProp.v.props,n.cloneFromProps(t)):n.cloneFromProps(this.finalTransform.mProp.v.props));return this.data.hasMask&&this.maskManager.renderFrame(n),e&&(t=e.mat.props,n.cloneFromProps(t),this.finalTransform.opacity*=e.opacity,this.finalTransform.opMdf=!!e.opMdf||this.finalTransform.opMdf,this.finalTransform.matMdf=!!e.matMdf||this.finalTransform.matMdf),this.finalTransform.matMdf&&(this.transformedElement.style.transform=this.transformedElement.style.webkitTransform=n.toCSS(),this.finalMat=n),this.finalTransform.opMdf&&(this.transformedElement.style.opacity=this.finalTransform.opacity),this.isVisible},HBaseElement.prototype.destroy=function(){this.layerElement=null,this.transformedElement=null,this.parentContainer=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},HBaseElement.prototype.getDomElement=function(){return this.layerElement},HBaseElement.prototype.addMasks=function(e){this.maskManager=new MaskElement(e,this,this.globalData)},HBaseElement.prototype.hide=function(){},HBaseElement.prototype.setMatte=function(){},HBaseElement.prototype.buildElementParenting=HybridRenderer.prototype.buildElementParenting,createElement(HBaseElement,HSolidElement),HSolidElement.prototype.createElements=function(){var e=document.createElement("div");styleDiv(e);var t=document.createElementNS(svgNS,"svg");styleDiv(t),t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),e.appendChild(t),this.layerElement=e,this.transformedElement=e,this.baseElement=e,this.innerElem=e,this.data.ln&&this.innerElem.setAttribute("id",this.data.ln),0!==this.data.bm&&this.setBlendMode();var n=document.createElementNS(svgNS,"rect");n.setAttribute("width",this.data.sw),n.setAttribute("height",this.data.sh),n.setAttribute("fill",this.data.sc),t.appendChild(n),this.data.hasMask&&(this.maskedElement=n),this.checkParenting()},HSolidElement.prototype.hide=SVGBaseElement.prototype.hide,HSolidElement.prototype.show=SVGBaseElement.prototype.show,HSolidElement.prototype.renderFrame=IImageElement.prototype.renderFrame,HSolidElement.prototype.destroy=IImageElement.prototype.destroy,createElement(HBaseElement,HCompElement),HCompElement.prototype.createElements=function(){var e=document.createElement("div");if(styleDiv(e),this.data.ln&&e.setAttribute("id",this.data.ln),e.style.clip="rect(0px, "+this.data.w+"px, "+this.data.h+"px, 0px)",this.data.hasMask){var t=document.createElementNS(svgNS,"svg");styleDiv(t),t.setAttribute("width",this.data.w),t.setAttribute("height",this.data.h);var n=document.createElementNS(svgNS,"g");t.appendChild(n),e.appendChild(t),this.maskedElement=n,this.baseElement=e,this.layerElement=n,this.transformedElement=e}else this.layerElement=e,this.baseElement=this.layerElement,this.transformedElement=e;this.checkParenting()},HCompElement.prototype.hide=ICompElement.prototype.hide,HCompElement.prototype.prepareFrame=ICompElement.prototype.prepareFrame,HCompElement.prototype.setElements=ICompElement.prototype.setElements,HCompElement.prototype.getElements=ICompElement.prototype.getElements,HCompElement.prototype.destroy=ICompElement.prototype.destroy,HCompElement.prototype.renderFrame=function(e){var t,n=this._parent.renderFrame.call(this,e),i=this.layers.length;if(!1!==n){for(this.hidden=!1,t=0;t<i;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame();this.firstFrame&&(this.firstFrame=!1)}else this.hide()},HCompElement.prototype.checkLayers=BaseRenderer.prototype.checkLayers,HCompElement.prototype.buildItem=HybridRenderer.prototype.buildItem,HCompElement.prototype.checkPendingElements=HybridRenderer.prototype.checkPendingElements,HCompElement.prototype.addPendingElement=HybridRenderer.prototype.addPendingElement,HCompElement.prototype.buildAllItems=BaseRenderer.prototype.buildAllItems,HCompElement.prototype.createItem=HybridRenderer.prototype.createItem,HCompElement.prototype.buildElementParenting=HybridRenderer.prototype.buildElementParenting,HCompElement.prototype.createImage=HybridRenderer.prototype.createImage,HCompElement.prototype.createComp=HybridRenderer.prototype.createComp,HCompElement.prototype.createSolid=HybridRenderer.prototype.createSolid,HCompElement.prototype.createShape=HybridRenderer.prototype.createShape,HCompElement.prototype.createText=HybridRenderer.prototype.createText,HCompElement.prototype.createBase=HybridRenderer.prototype.createBase,HCompElement.prototype.appendElementInPos=HybridRenderer.prototype.appendElementInPos,createElement(HBaseElement,HShapeElement);var parent=HShapeElement.prototype._parent;extendPrototype(IShapeElement,HShapeElement),HShapeElement.prototype._parent=parent,HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderFrame,HShapeElement.prototype.createElements=function(){var e=document.createElement("div");styleDiv(e);var t=document.createElementNS(svgNS,"svg");styleDiv(t);var n=this.comp.data?this.comp.data:this.globalData.compSize;if(t.setAttribute("width",n.w),t.setAttribute("height",n.h),this.data.hasMask){var i=document.createElementNS(svgNS,"g");e.appendChild(t),t.appendChild(i),this.maskedElement=i,this.layerElement=i,this.shapesContainer=i}else e.appendChild(t),this.layerElement=t,this.shapesContainer=document.createElementNS(svgNS,"g"),this.layerElement.appendChild(this.shapesContainer);this.data.hd||(this.baseElement=e),this.innerElem=e,this.data.ln&&this.innerElem.setAttribute("id",this.data.ln),this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,this.dynamicProperties,0,[],!0),this.buildExpressionInterface(),this.layerElement=e,this.transformedElement=e,this.shapeCont=t,0!==this.data.bm&&this.setBlendMode(),this.checkParenting()},HShapeElement.prototype.renderFrame=function(e){var t=this.firstFrame;if(this._renderShapeFrame(),this.isVisible&&(this.elemMdf||t)){var n=this.shapeCont.getBBox(),i=!1;this.currentBBox.w!==n.width&&(this.currentBBox.w=n.width,this.shapeCont.setAttribute("width",n.width),i=!0),this.currentBBox.h!==n.height&&(this.currentBBox.h=n.height,this.shapeCont.setAttribute("height",n.height),i=!0),!i&&this.currentBBox.x===n.x&&this.currentBBox.y===n.y||(this.currentBBox.w=n.width,this.currentBBox.h=n.height,this.currentBBox.x=n.x,this.currentBBox.y=n.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),this.shapeCont.style.transform=this.shapeCont.style.webkitTransform="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)")}},createElement(HBaseElement,HTextElement),extendPrototype(ITextElement,HTextElement),HTextElement.prototype.createElements=function(){this.isMasked=this.checkMasks();var e=document.createElement("div");if(styleDiv(e),this.layerElement=e,this.transformedElement=e,this.isMasked){this.renderType="svg";var t=document.createElementNS(svgNS,"svg");styleDiv(t),this.cont=t,this.compW=this.comp.data.w,this.compH=this.comp.data.h,t.setAttribute("width",this.compW),t.setAttribute("height",this.compH);var n=document.createElementNS(svgNS,"g");t.appendChild(n),e.appendChild(t),this.maskedElement=n,this.innerElem=n}else this.renderType="html",this.innerElem=e;this.baseElement=e,this.checkParenting()},HTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=Array.apply(null,{length:this.textProperty.currentData.l?this.textProperty.currentData.l.length:0});var t=this.innerElem.style;t.color=t.fill=e.fc?this.buildColor(e.fc):"rgba(0,0,0,0)",e.sc&&(t.stroke=this.buildColor(e.sc),t.strokeWidth=e.sw+"px");var n=this.globalData.fontManager.getFontByName(e.f);if(!this.globalData.fontManager.chars)if(t.fontSize=e.s+"px",t.lineHeight=e.s+"px",n.fClass)this.innerElem.className=n.fClass;else{t.fontFamily=n.fFamily;var i=e.fWeight,r=e.fStyle;t.fontStyle=r,t.fontWeight=i}var o,a,s=e.l;a=s.length;var l,c,u,d,h=this.mHelper,p="",f=0;for(o=0;o<a;o+=1){if(this.globalData.fontManager.chars?(this.textPaths[f]?l=this.textPaths[f]:((l=document.createElementNS(svgNS,"path")).setAttribute("stroke-linecap","butt"),l.setAttribute("stroke-linejoin","round"),l.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[f]?u=(c=this.textSpans[f]).children[0]:(c=document.createElement("div"),(u=document.createElementNS(svgNS,"svg")).appendChild(l),styleDiv(c)))):this.isMasked?l=this.textPaths[f]?this.textPaths[f]:document.createElementNS(svgNS,"text"):this.textSpans[f]?(c=this.textSpans[f],l=this.textPaths[f]):(styleDiv(c=document.createElement("span")),styleDiv(l=document.createElement("span")),c.appendChild(l)),this.globalData.fontManager.chars){var g,m=this.globalData.fontManager.getCharData(e.t.charAt(o),n.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily);if(g=m?m.data:null,h.reset(),g&&g.shapes&&(d=g.shapes[0].it,h.scale(e.s/100,e.s/100),p=this.createPathShape(h,d),l.setAttribute("d",p)),this.isMasked)this.innerElem.appendChild(l);else if(this.innerElem.appendChild(c),g&&g.shapes){document.body.appendChild(u);var v=u.getBBox();u.setAttribute("width",v.width+2),u.setAttribute("height",v.height+2),u.setAttribute("viewBox",v.x-1+" "+(v.y-1)+" "+(v.width+2)+" "+(v.height+2)),u.style.transform=u.style.webkitTransform="translate("+(v.x-1)+"px,"+(v.y-1)+"px)",s[o].yOffset=v.y-1,c.appendChild(u)}else u.setAttribute("width",1),u.setAttribute("height",1)}else l.textContent=s[o].val,l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked?this.innerElem.appendChild(l):(this.innerElem.appendChild(c),l.style.transform=l.style.webkitTransform="translate3d(0,"+-e.s/1.2+"px,0)");this.textSpans[f]=this.isMasked?l:c,this.textSpans[f].style.display="block",this.textPaths[f]=l,f+=1}for(;f<this.textSpans.length;)this.textSpans[f].style.display="none",f+=1},HTextElement.prototype.hide=SVGTextElement.prototype.hide,HTextElement.prototype.renderFrame=function(e){if(!1!==this._parent.renderFrame.call(this,e)){if(this.hidden&&(this.hidden=!1,this.innerElem.style.display="block",this.layerElement.style.display="block"),this.data.singleShape){if(!this.firstFrame&&!this.lettersChangedFlag)return;this.isMasked&&this.finalTransform.matMdf&&(this.cont.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),this.cont.style.transform=this.cont.style.webkitTransform="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)")}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var t,n,i,r,o,a=0,s=this.textAnimator.renderedLetters,l=this.textProperty.currentData.l;for(n=l.length,t=0;t<n;t+=1)l[t].n?a+=1:(r=this.textSpans[t],o=this.textPaths[t],i=s[a],a+=1,this.isMasked?r.setAttribute("transform",i.m):r.style.transform=r.style.webkitTransform=i.m,r.style.opacity=i.o,i.sw&&o.setAttribute("stroke-width",i.sw),i.sc&&o.setAttribute("stroke",i.sc),i.fc&&(o.setAttribute("fill",i.fc),o.style.color=i.fc));if(this.isVisible&&(this.elemMdf||this.firstFrame)&&this.innerElem.getBBox){var c=this.innerElem.getBBox();this.currentBBox.w!==c.width&&(this.currentBBox.w=c.width,this.cont.setAttribute("width",c.width)),this.currentBBox.h!==c.height&&(this.currentBBox.h=c.height,this.cont.setAttribute("height",c.height));this.currentBBox.w===c.width+2&&this.currentBBox.h===c.height+2&&this.currentBBox.x===c.x-1&&this.currentBBox.y===c.y-1||(this.currentBBox.w=c.width+2,this.currentBBox.h=c.height+2,this.currentBBox.x=c.x-1,this.currentBBox.y=c.y-1,this.cont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),this.cont.style.transform=this.cont.style.webkitTransform="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)")}this.firstFrame&&(this.firstFrame=!1)}}else this.hide()},createElement(HBaseElement,HImageElement),HImageElement.prototype.createElements=function(){var e=this.globalData.getAssetsPath(this.assetData),t=new Image;if(this.data.hasMask){var n=document.createElement("div");styleDiv(n);var i=document.createElementNS(svgNS,"svg");styleDiv(i),i.setAttribute("width",this.assetData.w),i.setAttribute("height",this.assetData.h),n.appendChild(i),this.imageElem=document.createElementNS(svgNS,"image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),i.appendChild(this.imageElem),this.layerElement=n,this.transformedElement=n,this.baseElement=n,this.innerElem=n,this.maskedElement=this.imageElem}else styleDiv(t),this.layerElement=t,this.baseElement=t,this.innerElem=t,this.transformedElement=t;t.src=e,this.data.ln&&this.innerElem.setAttribute("id",this.data.ln),this.checkParenting()},HImageElement.prototype.show=HSolidElement.prototype.show,HImageElement.prototype.hide=HSolidElement.prototype.hide,HImageElement.prototype.renderFrame=HSolidElement.prototype.renderFrame,HImageElement.prototype.destroy=HSolidElement.prototype.destroy,createElement(HBaseElement,HCameraElement),HCameraElement.prototype.setup=function(){var e,t,n=this.comp.threeDElements.length;for(e=0;e<n;e+=1)(t=this.comp.threeDElements[e]).perspectiveElem.style.perspective=t.perspectiveElem.style.webkitPerspective=this.pe.v+"px",t.container.style.transformOrigin=t.container.style.mozTransformOrigin=t.container.style.webkitTransformOrigin="0px 0px 0px",t.perspectiveElem.style.transform=t.perspectiveElem.style.webkitTransform="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)"},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var e,t,n=this.firstFrame;if(this.hierarchy)for(t=this.hierarchy.length,e=0;e<t;e+=1)n=!!this.hierarchy[e].finalTransform.mProp.mdf||n;if(n||this.p&&this.p.mdf||this.px&&(this.px.mdf||this.py.mdf||this.pz.mdf)||this.rx.mdf||this.ry.mdf||this.rz.mdf||this.or.mdf||this.a&&this.a.mdf){if(this.mat.reset(),this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var i=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]],r=Math.sqrt(Math.pow(i[0],2)+Math.pow(i[1],2)+Math.pow(i[2],2)),o=[i[0]/r,i[1]/r,i[2]/r],a=Math.sqrt(o[2]*o[2]+o[0]*o[0]),s=Math.atan2(o[1],a),l=Math.atan2(o[0],-o[2]);this.mat.rotateY(l).rotateX(-s)}var c,u;if(this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v),this.hierarchy)for(t=this.hierarchy.length,e=0;e<t;e+=1)c=this.hierarchy[e].finalTransform.mProp.iv.props,this.mat.transform(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],-c[12],-c[13],c[14],c[15]);for(t=this.comp.threeDElements.length,e=0;e<t;e+=1)(u=this.comp.threeDElements[e]).container.style.transform=u.container.style.webkitTransform=this.mat.toCSS()}this.firstFrame=!1},HCameraElement.prototype.destroy=function(){};var Expressions=(G5h={initExpressions:function(e){e.renderer.compInterface=CompExpressionInterface(e.renderer),e.renderer.globalData.projectInterface.registerComposition(e.renderer)}},G5h),G5h;expressionsPlugin=Expressions,function(){function s(){return this.pv}function l(e,t,n){if(!this.k||!this.keyframes)return this.pv;var i,r,o=this.comp.renderedFrame,a=this.keyframes,s=a[a.length-1].t;if(o<=s)return this.pv;n?r=s-(i=t?Math.abs(s-elem.comp.globalData.frameRate*t):Math.max(0,s-this.elem.data.ip)):((!t||t>a.length-1)&&(t=a.length-1),i=s-(r=a[a.length-1-t].t));var l,c,u,d=this.offsetTime||0;if("pingpong"===e.toLowerCase()){if(Math.floor((o-r)/i)%2!=0)return this.getValueAtTime((i-(o-r)%i+r-d)/this.comp.globalData.frameRate,0)}else{if("offset"===e){var h=this.getValueAtTime(r/this.comp.globalData.frameRate,0),p=this.getValueAtTime(s/this.comp.globalData.frameRate,0),f=this.getValueAtTime(((o-r)%i+r)/this.comp.globalData.frameRate,0),g=Math.floor((o-r)/i);if(this.pv.length){for(c=(u=new Array(h.length)).length,l=0;l<c;l+=1)u[l]=(p[l]-h[l])*g+f[l];return u}return(p-h)*g+f}if("continue"===e){var m=this.getValueAtTime(s/this.comp.globalData.frameRate,0),v=this.getValueAtTime((s-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(c=(u=new Array(m.length)).length,l=0;l<c;l+=1)u[l]=m[l]+(m[l]-v[l])*((o-s)/this.comp.globalData.frameRate)/5e-4;return u}return m+(o-s)/.001*(m-v)}}return this.getValueAtTime(((o-r)%i+r-d)/this.comp.globalData.frameRate,0)}function c(e,t,n){if(!this.k)return this.pv;var i,r,o,a,s,l=time*elem.comp.globalData.frameRate,c=this.keyframes,u=c[0].t,d=this.offsetTime||0;if(u<=l)return this.pv;if(n?r=u+(i=t?Math.abs(elem.comp.globalData.frameRate*t):Math.max(0,this.elem.data.op-u)):((!t||t>c.length-1)&&(t=c.length-1),i=(r=c[t].t)-u),"pingpong"===e){if(Math.floor((u-l)/i)%2==0)return this.getValueAtTime(((u-l)%i+u-d)/this.comp.globalData.frameRate,0)}else{if("offset"===e){var h=this.getValueAtTime(u/this.comp.globalData.frameRate,0),p=this.getValueAtTime(r/this.comp.globalData.frameRate,0),f=this.getValueAtTime((i-(u-l)%i+u)/this.comp.globalData.frameRate,0),g=Math.floor((u-l)/i)+1;if(this.pv.length){for(a=(s=new Array(h.length)).length,o=0;o<a;o+=1)s[o]=f[o]-(p[o]-h[o])*g;return s}return f-(p-h)*g}if("continue"===e){var m=this.getValueAtTime(u/this.comp.globalData.frameRate,0),v=this.getValueAtTime((u+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(a=(s=new Array(m.length)).length,o=0;o<a;o+=1)s[o]=m[o]+(m[o]-v[o])*(u-l)/.001;return s}return m+(m-v)*(u-l)/.001}}return this.getValueAtTime((i-(u-l)%i+u-d)/this.comp.globalData.frameRate,0)}function u(e){if(this._cachingAtTime||(this._cachingAtTime={lastValue:-99999,lastIndex:0}),e!==this._cachingAtTime.lastFrame){e*=this.elem.globalData.frameRate,e-=this.offsetTime;var t=this._caching.lastFrame<e?this._caching.lastIndex:0,n=this.interpolateValue(e,t,this.pv,this._cachingAtTime);this._cachingAtTime.lastIndex=n.iterationIndex,this._cachingAtTime.value=n.value,this._cachingAtTime.lastFrame=e}return this._cachingAtTime.value}function d(e){if(void 0!==this.vel)return this.vel;var t,n,i=this.getValueAtTime(e),r=this.getValueAtTime(e+-.01);if(i.length)for(t=Array.apply(null,{length:i.length}),n=0;n<i.length;n+=1)t[n]=(r[n]-i[n])/-.01;else t=(r-i)/-.01;return t}function h(e){this.propertyGroup=e}function p(e,t,n){t.x&&(n.k=!0,n.x=!0,n.getValue&&(n.getPreValue=n.getValue),n.getValue=ExpressionManager.initiateExpression.bind(n)(e,t,n))}var i=function(e,t){this.pv=1,this.comp=e.comp,this.elem=e,this.mult=.01,this.type="textSelector",this.textTotal=t.totalChars,this.selectorValue=100,this.lastValue=[1,1,1],p.bind(this)(e,t,this),this.getMult=n,this.getVelocityAtTime=d,this.getValueAtTime=this.kf?u.bind(this):s.bind(this),this.setGroupProperty=h},f=PropertyFactory.getProp;function n(e,t){return this.textIndex=e+1,this.textTotal=t,this.getValue(),this.v}PropertyFactory.getProp=function(e,t,n,i,r){var o=f(e,t,n,i,r);o.getValueAtTime=2===n?o.dynamicProperties.length?function(e){console.log("time:",e)}.bind(o):function(e){}.bind(o):o.kf?u.bind(o):s.bind(o),o.setGroupProperty=h,o.loopOut=l,o.loopIn=c,o.getVelocityAtTime=d,o.numKeys=1===t.a?t.k.length:0;var a=o.k;return void 0!==t.ix&&Object.defineProperty(o,"propertyIndex",{get:function(){return t.ix}}),p(e,t,o),!a&&o.x&&r.push(o),o};var e=ShapePropertyFactory.getConstructorFunction(),t=ShapePropertyFactory.getKeyframedConstructorFunction();e.prototype.vertices=function(e,t){var n=this.v;void 0!==t&&(n=this.getValueAtTime(t,0));var i,r=n._length,o=n[e],a=n.v,s=Array.apply(null,{length:r});for(i=0;i<r;i+=1)s[i]="i"===e||"o"===e?[o[i][0]-a[i][0],o[i][1]-a[i][1]]:[o[i][0],o[i][1]];return s},e.prototype.points=function(e){return this.vertices("v",e)},e.prototype.inTangents=function(e){return this.vertices("i",e)},e.prototype.outTangents=function(e){return this.vertices("o",e)},e.prototype.isClosed=function(){return this.v.c},e.prototype.pointOnPath=function(e,t){var n=this.v;void 0!==t&&(n=this.getValueAtTime(t,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(n));for(var i=this._segmentsLength,r=i.lengths,o=i.totalLength*e,a=0,s=r.length,l=0;a<s;){if(l+r[a].addedLength>o){r[a].segments;var c=a,u=n.c&&a===s-1?0:a+1,d=(o-l)/r[a].addedLength,h=bez.getPointInSegment(n.v[c],n.v[u],n.o[c],n.i[u],d,r[a]);break}l+=r[a].addedLength,a+=1}return h=h||(n.c?[n.v[0][0],n.v[0][1]]:[n.v[n._length-1][0],n.v[n._length-1][1]])},e.prototype.vectorOnPath=function(e,t,n){e=1==e?this.v.c?0:.999:e;var i=this.pointOnPath(e,t),r=this.pointOnPath(e+.001,t),o=r[0]-i[0],a=r[1]-i[1],s=Math.sqrt(Math.pow(o,2)+Math.pow(a,2));return"tangent"===n?[o/s,a/s]:[-a/s,o/s]},e.prototype.tangentOnPath=function(e,t){return this.vectorOnPath(e,t,"tangent")},e.prototype.normalOnPath=function(e,t){return this.vectorOnPath(e,t,"normal")},e.prototype.setGroupProperty=h,e.prototype.getValueAtTime=s,t.prototype.vertices=e.prototype.vertices,t.prototype.points=e.prototype.points,t.prototype.inTangents=e.prototype.inTangents,t.prototype.outTangents=e.prototype.outTangents,t.prototype.isClosed=e.prototype.isClosed,t.prototype.pointOnPath=e.prototype.pointOnPath,t.prototype.vectorOnPath=e.prototype.vectorOnPath,t.prototype.tangentOnPath=e.prototype.tangentOnPath,t.prototype.normalOnPath=e.prototype.normalOnPath,t.prototype.setGroupProperty=e.prototype.setGroupProperty,t.prototype.getValueAtTime=function(e){if(this._shapeValueAtTime||(this._lastIndexAtTime=0,this._lastTimeAtTime=-999999,this._shapeValueAtTime=shape_pool.clone(this.pv)),e!==this._lastTimeAtTime){this._lastTimeAtTime=e,e*=this.elem.globalData.frameRate;var t=this.interpolateShape(e,this._lastIndexAtTime,this._shapeValueAtTime,!1);this._lastIndexAtTime=t.iterationIndex}return this._shapeValueAtTime};var g=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(e,t,n,i,r){var o=g(e,t,n,i,r),a=o.k;return void 0!==t.ix&&Object.defineProperty(o,"propertyIndex",{get:function(){return t.ix}}),3===n?p(e,t.pt,o):4===n&&p(e,t.ks,o),!a&&o.x&&i.push(o),o};var r=PropertyFactory.getTextSelectorProp;PropertyFactory.getTextSelectorProp=function(e,t,n){return 1===t.t?new i(e,t,n):r(e,t,n)}}(),TextProperty.prototype.searchProperty=function(){return this.kf=this.searchExpressions()||1<this.data.d.k.length,this.kf},TextProperty.prototype.getExpressionValue=function(e){this.calculateExpression(),this.mdf&&(this.currentData.t=this.v.toString(),this.completeTextData(this.currentData))},TextProperty.prototype.searchExpressions=function(){return!!this.data.d.x&&(this.comp=this.elem.comp,this.getValue&&(this.getPreValue=this.getValue),this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.getValue=this.getExpressionValue,!0)};var ExpressionManager=function(){function duplicatePropertyValue(e,t){if(t=t||1,"number"==typeof e||e instanceof Number)return e*t;if(e.i)return JSON.parse(JSON.stringify(e));var n,i=Array.apply(null,{length:e.length}),r=e.length;for(n=0;n<r;n+=1)i[n]=e[n]*t;return i}function shapesEqual(e,t){if(e._length!==t._length||e.c!==t.c)return!1;var n,i=e._length;for(n=0;n<i;n+=1)if(e.v[n][0]!==t.v[n][0]||e.v[n][1]!==t.v[n][1]||e.o[n][0]!==t.o[n][0]||e.o[n][1]!==t.o[n][1]||e.i[n][0]!==t.i[n][0]||e.i[n][1]!==t.i[n][1])return!1;return!0}function $bm_neg(e){var t=typeof e;if("number"==t||"boolean"==t||e instanceof Number)return-e;if(e.constructor===Array){var n,i=e.length,r=[];for(n=0;n<i;n+=1)r[n]=-e[n];return r}}function sum(e,t){var n=typeof e,i=typeof t;if("string"==n||"string"==i)return e+t;if(("number"==n||"boolean"==n||"string"==n||e instanceof Number)&&("number"==i||"boolean"==i||"string"==i||t instanceof Number))return e+t;if(e.constructor===Array&&("number"==i||"boolean"==i||"string"==i||t instanceof Number))return e[0]=e[0]+t,e;if(("number"==n||"boolean"==n||"string"==n||e instanceof Number)&&t.constructor===Array)return t[0]=e+t[0],t;if(e.constructor!==Array||t.constructor!==Array)return 0;for(var r=0,o=e.length,a=t.length,s=[];r<o||r<a;)s[r]=("number"==typeof e[r]||e[r]instanceof Number)&&("number"==typeof t[r]||t[r]instanceof Number)?e[r]+t[r]:null==t[r]?e[r]:e[r]||t[r],r+=1;return s}function sub(e,t){var n=typeof e,i=typeof t;if(("number"==n||"boolean"==n||"string"==n||e instanceof Number)&&("number"==i||"boolean"==i||"string"==i||t instanceof Number))return"string"==n&&(e=parseInt(e)),"string"==i&&(t=parseInt(t)),e-t;if(e.constructor===Array&&("number"==i||"boolean"==i||"string"==i||t instanceof Number))return e[0]=e[0]-t,e;if(("number"==n||"boolean"==n||"string"==n||e instanceof Number)&&t.constructor===Array)return t[0]=e-t[0],t;if(e.constructor!==Array||t.constructor!==Array)return 0;for(var r=0,o=e.length,a=t.length,s=[];r<o||r<a;)s[r]="number"==typeof e[r]||e[r]instanceof Number?e[r]-t[r]:null==t[r]?e[r]:e[r]||t[r],r+=1;return s}function mul(e,t){var n,i,r,o=typeof e,a=typeof t;if(("number"==o||"boolean"==o||"string"==o||e instanceof Number)&&("number"==a||"boolean"==a||"string"==a||t instanceof Number))return e*t;if(e.constructor===Array&&("number"==a||"boolean"==a||"string"==a||t instanceof Number)){for(r=e.length,n=Array.apply(null,{length:r}),i=0;i<r;i+=1)n[i]=e[i]*t;return n}if(("number"==o||"boolean"==o||"string"==o||e instanceof Number)&&t.constructor===Array){for(r=t.length,n=Array.apply(null,{length:r}),i=0;i<r;i+=1)n[i]=e*t[i];return n}return 0}function div(e,t){var n,i,r,o=typeof e,a=typeof t;if(("number"==o||"boolean"==o||"string"==o||e instanceof Number)&&("number"==a||"boolean"==a||"string"==a||t instanceof Number))return e/t;if(e.constructor===Array&&("number"==a||"boolean"==a||"string"==a||t instanceof Number)){for(r=e.length,n=Array.apply(null,{length:r}),i=0;i<r;i+=1)n[i]=e[i]/t;return n}if(("number"==o||"boolean"==o||"string"==o||e instanceof Number)&&t.constructor===Array){for(r=t.length,n=Array.apply(null,{length:r}),i=0;i<r;i+=1)n[i]=e/t[i];return n}return 0}function mod(e,t){return"string"==typeof e&&(e=parseInt(e)),"string"==typeof t&&(t=parseInt(t)),e%t}function clamp(e,t,n){if(n<t){var i=n;n=t,t=i}return Math.min(Math.max(e,t),n)}function radiansToDegrees(e){return e/degToRads}function degreesToRadians(e){return e*degToRads}function length(e,t){if("number"==typeof e||e instanceof Number)return t=t||0,Math.abs(e-t);t=t||helperLengthArray;var n,i=Math.min(e.length,t.length),r=0;for(n=0;n<i;n+=1)r+=Math.pow(t[n]-e[n],2);return Math.sqrt(r)}function normalize(e){return div(e,length(e))}function rgbToHsl(e){var t,n,i=e[0],r=e[1],o=e[2],a=Math.max(i,r,o),s=Math.min(i,r,o),l=(a+s)/2;if(a==s)t=n=0;else{var c=a-s;switch(n=.5<l?c/(2-a-s):c/(a+s),a){case i:t=(r-o)/c+(r<o?6:0);break;case r:t=(o-i)/c+2;break;case o:t=(i-r)/c+4}t/=6}return[t,n,l,e[3]]}function hslToRgb(e){function t(e,t,n){return n<0&&(n+=1),1<n&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var n,i,r,o=e[0],a=e[1],s=e[2];if(0==a)n=i=r=s;else{var l=s<.5?s*(1+a):s+a-s*a,c=2*s-l;n=t(c,l,o+1/3),i=t(c,l,o),r=t(c,l,o-1/3)}return[n,i,r,e[3]]}function linear(e,t,n,i,r){if(void 0===i||void 0===r)return linear(e,0,1,t,n);if(e<=t)return i;if(n<=e)return r;var o=n===t?0:(e-t)/(n-t);if(!i.length)return i+(r-i)*o;var a,s=i.length,l=Array.apply(null,{length:s});for(a=0;a<s;a+=1)l[a]=i[a]+(r[a]-i[a])*o;return l}function random(e,t){if(void 0===t&&(void 0===e?(e=0,t=1):(t=e,e=void 0)),t.length){var n,i=t.length;e=e||Array.apply(null,{length:i});var r=Array.apply(null,{length:i}),o=BMMath.random();for(n=0;n<i;n+=1)r[n]=e[n]+o*(t[n]-e[n]);return r}return void 0===e&&(e=0),e+BMMath.random()*(t-e)}function createPath(e,t,n,r){t=t&&t.length?t:e,n=n&&n.length?n:e;var o=shape_pool.newShape(),a=e.length;for(o.setPathData(r,a),i=0;i<a;i+=1)o.setTripleAt(e[i][0],e[i][1],n[i][0]+e[i][0],n[i][1]+e[i][1],t[i][0]+e[i][0],t[i][1]+e[i][1],i,!0);return o}function initiateExpression(elem,data,property){function lookAt(e,t){var n=[t[0]-e[0],t[1]-e[1],t[2]-e[2]],i=Math.atan2(n[0],Math.sqrt(n[1]*n[1]+n[2]*n[2]))/degToRads;return[-Math.atan2(n[1],n[2])/degToRads,i,0]}function easeOut(e,t,n){return-(n-t)*e*(e-2)+t}function nearestKey(e){var t,n,i,r=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(n=-1,(e*=elem.comp.globalData.frameRate)<data.k[0].t)n=1,i=data.k[0].t;else{for(t=0;t<r-1;t+=1){if(e===data.k[t].t){n=t+1,i=data.k[t].t;break}if(e>data.k[t].t&&e<data.k[t+1].t){i=e-data.k[t].t>data.k[t+1].t-e?(n=t+2,data.k[t+1].t):(n=t+1,data.k[t].t);break}}-1===n&&(n=t+1,i=data.k[t].t)}else i=n=0;var o={};return o.index=n,o.time=i/elem.comp.globalData.frameRate,o}function key(e){var t,n,i,r;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+e);for(e-=1,t={time:data.k[e].t/elem.comp.globalData.frameRate},i=(r=e!==data.k.length-1||data.k[e].h?data.k[e].s:data.k[e-1].e).length,n=0;n<i;n+=1)t[n]=r[n];return t}function framesToTime(e,t){return e/(t=t||elem.comp.globalData.frameRate)}function timeToFrames(e,t){return e||0===e||(e=time),e*(t=t||elem.comp.globalData.frameRate)}function seedRandom(e){BMMath.seedrandom(randSeed+e)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function executeExpression(){if(_needsRandom&&seedRandom(randSeed),this.frameExpressionId!==elem.globalData.frameId||"textSelector"===this.type){if(this.lock)return this.v=duplicatePropertyValue(this.pv,this.mult),!0;var e,t;if("textSelector"===this.type&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),anchorPoint=transform.anchorPoint),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect=effect||thisLayer(4),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),this.lock=!0,this.getPreValue&&this.getPreValue(),value=this.pv,time=this.comp.renderedFrame/this.comp.globalData.frameRate,needsVelocity&&(velocity=velocityAtTime(time)),bindedFn(),this.frameExpressionId=elem.globalData.frameId,this.mult)if("number"==typeof this.v||this.v instanceof Number||this.v instanceof String||"string"==typeof this.v)this.v*=this.mult;else if(1===this.v.length)this.v=this.v[0]*this.mult;else for(t=this.v.length,value===this.v&&(this.v=2===t?[value[0],value[1]]:[value[0],value[1],value[2]]),e=0;e<t;e+=1)this.v[e]*=this.mult;if(1===this.v.length&&(this.v=this.v[0]),"number"==typeof this.v||this.v instanceof Number||this.v instanceof String||"string"==typeof this.v)this.lastValue!==this.v&&(this.lastValue=this.v,this.mdf=!0);else if(this.v._length)shapesEqual(this.v,this.localShapeCollection.shapes[0])||(this.mdf=!0,this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(shape_pool.clone(this.v)));else for(t=this.v.length,e=0;e<t;e+=1)this.v[e]!==this.lastValue[e]&&(this.lastValue[e]=this.v[e],this.mdf=!0);this.lock=!1}}var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,content,effect,thisComp=elem.comp,thisProperty=property;elem.comp.frameDuration=1/elem.comp.globalData.frameRate;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,loopIn,loop_in,loopOut,loop_out,toWorld,fromWorld,fromComp,fromCompToSurface,anchorPoint,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,fn=new Function,fn=eval("[function(){"+val+";if($bm_rt.__shapeObject){this.v=shape_pool.clone($bm_rt.v);}else{this.v=$bm_rt;}}]")[0],bindedFn=fn.bind(this),numKeys=property.kf?data.k.length:0,wiggle=function(e,t){var n,i,r=this.pv.length?this.pv.length:1,o=Array.apply(null,{len:r});for(i=0;i<r;i+=1)o[i]=0;var a=Math.floor(5*time);for(i=n=0;n<a;){for(i=0;i<r;i+=1)o[i]+=-t+2*t*BMMath.random();n+=1}var s=5*time,l=s-Math.floor(s),c=Array.apply({length:r});if(1<r){for(i=0;i<r;i+=1)c[i]=this.pv[i]+o[i]+(-t+2*t*BMMath.random())*l;return c}return this.pv+o[0]+(-t+2*t*BMMath.random())*l}.bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut);var loopInDuration=function(e,t){return loopIn(e,t,!0)}.bind(this),loopOutDuration=function(e,t){return loopOut(e,t,!0)}.bind(this);this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random());return executeExpression}var ob={},Math=BMMath,window=null,document=null,add=sum,radians_to_degrees=radiansToDegrees,degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];return ob.initiateExpression=initiateExpression,ob}(),ShapeExpressionInterface=(_ai={createShapeInterface:function(e,t,n){return abi(e,t,n)},createGroupInterface:function(e,t,n){return cbi(e,t,n)},createTrimInterface:function(e,t,n){return fbi(e,t,n)},createStrokeInterface:function(e,t,n){return ebi(e,t,n)},createTransformInterface:function(e,t,n){return gbi(e,t,n)},createEllipseInterface:function(e,t,n){return hbi(e,t,n)},createStarInterface:function(e,t,n){return ibi(e,t,n)},createRectInterface:function(e,t,n){return jbi(e,t,n)},createRoundedInterface:function(e,t,n){return kbi(e,t,n)},createRepatearInterface:function(e,t,n){return lbi(e,t,n)},createPathInterface:function(e,t,n){return mbi(e,t,n)},createFillInterface:function(e,t,n){return dbi(e,t,n)}},abi=function(e,t,n){function i(e){if("number"==typeof e)return r[e-1];for(var t=0,n=r.length;t<n;){if(r[t]._name===e)return r[t];t+=1}}var r;return i.propertyGroup=n,r=$ai(e,t,i),i},bbi=function(e,t,n){function i(e){for(var t=0,n=r.length;t<n;){if(r[t]._name===e||r[t].mn===e||r[t].propertyIndex===e||r[t].ix===e||r[t].ind===e)return r[t];t+=1}return"number"==typeof e?r[e-1]:void 0}var r;return i.propertyGroup=function(e){return 1===e?i:n(e-1)},r=$ai(e.it,t.it,i.propertyGroup),i.numProperties=r.length,i.propertyIndex=e.cix,i},cbi=function(e,t,n){var i=function(e){switch(e){case"ADBE Vectors Group":case"Contents":case 2:return i.content;case"ADBE Vector Transform Group":case 3:default:return i.transform}};i.propertyGroup=function(e){return 1===e?i:n(e-1)};var r=bbi(e,t,i.propertyGroup),o=ShapeExpressionInterface.createTransformInterface(e.it[e.it.length-1],t.it[t.it.length-1],i.propertyGroup);return i.content=r,i.transform=o,Object.defineProperty(i,"_name",{get:function(){return e.nm}}),i.numProperties=e.np,i.propertyIndex=e.ix,i.nm=e.nm,i.mn=e.mn,i},dbi=function(e,t,n){function i(e){return"Color"===e||"color"===e?i.color:"Opacity"===e||"opacity"===e?i.opacity:void 0}return Object.defineProperty(i,"color",{get:function(){return ExpressionValue(t.c,1/t.c.mult,"color")}}),Object.defineProperty(i,"opacity",{get:function(){return ExpressionValue(t.o,100)}}),Object.defineProperty(i,"_name",{value:e.nm}),Object.defineProperty(i,"mn",{value:e.mn}),t.c.setGroupProperty(n),t.o.setGroupProperty(n),i},ebi=function(t,n,i){function r(e){return 1===e?_ai:i(e-1)}function e(e){return 1===e?c:r(e-1)}function o(e){Object.defineProperty(c,t.d[e].nm,{get:function(){return ExpressionValue(n.d.dataProps[e].p)}})}function a(e){return"Color"===e||"color"===e?a.color:"Opacity"===e||"opacity"===e?a.opacity:"Stroke Width"===e||"stroke width"===e?a.strokeWidth:void 0}var s,l=t.d?t.d.length:0,c={};for(s=0;s<l;s+=1)o(s),n.d.dataProps[s].p.setGroupProperty(e);return Object.defineProperty(a,"color",{get:function(){return ExpressionValue(n.c,1/n.c.mult,"color")}}),Object.defineProperty(a,"opacity",{get:function(){return ExpressionValue(n.o,100)}}),Object.defineProperty(a,"strokeWidth",{get:function(){return ExpressionValue(n.w)}}),Object.defineProperty(a,"dash",{get:function(){return c}}),Object.defineProperty(a,"_name",{value:t.nm}),Object.defineProperty(a,"mn",{value:t.mn}),n.c.setGroupProperty(r),n.o.setGroupProperty(r),n.w.setGroupProperty(r),a},fbi=function(t,e,n){function i(e){return 1==e?r:n(--e)}function r(e){return e===t.e.ix||"End"===e||"end"===e?r.end:e===t.s.ix?r.start:e===t.o.ix?r.offset:void 0}return r.propertyIndex=t.ix,e.s.setGroupProperty(i),e.e.setGroupProperty(i),e.o.setGroupProperty(i),r.propertyIndex=t.ix,Object.defineProperty(r,"start",{get:function(){return ExpressionValue(e.s,1/e.s.mult)}}),Object.defineProperty(r,"end",{get:function(){return ExpressionValue(e.e,1/e.e.mult)}}),Object.defineProperty(r,"offset",{get:function(){return ExpressionValue(e.o)}}),Object.defineProperty(r,"_name",{get:function(){return t.nm}}),r.mn=t.mn,r},gbi=function(t,e,n){function i(e){return 1==e?r:n(--e)}function r(e){return t.a.ix===e?r.anchorPoint:t.o.ix===e?r.opacity:t.p.ix===e?r.position:t.r.ix===e?r.rotation:t.s.ix===e?r.scale:t.sk&&t.sk.ix===e?r.skew:t.sa&&t.sa.ix===e?r.skewAxis:"Opacity"===e?r.opacity:"Position"===e?r.position:"Anchor Point"===e?r.anchorPoint:"Scale"===e?r.scale:"Rotation"===e||"ADBE Vector Rotation"===e?r.rotation:"Skew"===e?r.skew:"Skew Axis"===e?r.skewAxis:void 0}return e.transform.mProps.o.setGroupProperty(i),e.transform.mProps.p.setGroupProperty(i),e.transform.mProps.a.setGroupProperty(i),e.transform.mProps.s.setGroupProperty(i),e.transform.mProps.r.setGroupProperty(i),e.transform.mProps.sk&&(e.transform.mProps.sk.setGroupProperty(i),e.transform.mProps.sa.setGroupProperty(i)),e.transform.op.setGroupProperty(i),Object.defineProperty(r,"opacity",{get:function(){return ExpressionValue(e.transform.mProps.o,1/e.transform.mProps.o.mult)}}),Object.defineProperty(r,"position",{get:function(){return ExpressionValue(e.transform.mProps.p)}}),Object.defineProperty(r,"anchorPoint",{get:function(){return ExpressionValue(e.transform.mProps.a)}}),Object.defineProperty(r,"scale",{get:function(){return ExpressionValue(e.transform.mProps.s,1/e.transform.mProps.s.mult)}}),Object.defineProperty(r,"rotation",{get:function(){return ExpressionValue(e.transform.mProps.r,1/e.transform.mProps.r.mult)}}),Object.defineProperty(r,"skew",{get:function(){return ExpressionValue(e.transform.mProps.sk)}}),Object.defineProperty(r,"skewAxis",{get:function(){return ExpressionValue(e.transform.mProps.sa)}}),Object.defineProperty(r,"_name",{get:function(){return t.nm}}),r.ty="tr",r.mn=t.mn,r},hbi=function(t,e,n){function i(e){return 1==e?r:n(--e)}function r(e){return t.p.ix===e?r.position:t.s.ix===e?r.size:void 0}r.propertyIndex=t.ix;var o="tm"===e.sh.ty?e.sh.prop:e.sh;return o.s.setGroupProperty(i),o.p.setGroupProperty(i),Object.defineProperty(r,"size",{get:function(){return ExpressionValue(o.s)}}),Object.defineProperty(r,"position",{get:function(){return ExpressionValue(o.p)}}),Object.defineProperty(r,"_name",{get:function(){return t.nm}}),r.mn=t.mn,r},ibi=function(t,e,n){function i(e){return 1==e?r:n(--e)}function r(e){return t.p.ix===e?r.position:t.r.ix===e?r.rotation:t.pt.ix===e?r.points:t.or.ix===e||"ADBE Vector Star Outer Radius"===e?r.outerRadius:t.os.ix===e?r.outerRoundness:!t.ir||t.ir.ix!==e&&"ADBE Vector Star Inner Radius"!==e?t.is&&t.is.ix===e?r.innerRoundness:void 0:r.innerRadius}var o="tm"===e.sh.ty?e.sh.prop:e.sh;return r.propertyIndex=t.ix,o.or.setGroupProperty(i),o.os.setGroupProperty(i),o.pt.setGroupProperty(i),o.p.setGroupProperty(i),o.r.setGroupProperty(i),t.ir&&(o.ir.setGroupProperty(i),o.is.setGroupProperty(i)),Object.defineProperty(r,"position",{get:function(){return ExpressionValue(o.p)}}),Object.defineProperty(r,"rotation",{get:function(){return ExpressionValue(o.r,1/o.r.mult)}}),Object.defineProperty(r,"points",{get:function(){return ExpressionValue(o.pt)}}),Object.defineProperty(r,"outerRadius",{get:function(){return ExpressionValue(o.or)}}),Object.defineProperty(r,"outerRoundness",{get:function(){return ExpressionValue(o.os)}}),Object.defineProperty(r,"innerRadius",{get:function(){return o.ir?ExpressionValue(o.ir):0}}),Object.defineProperty(r,"innerRoundness",{get:function(){return o.is?ExpressionValue(o.is,1/o.is.mult):0}}),Object.defineProperty(r,"_name",{get:function(){return t.nm}}),r.mn=t.mn,r},jbi=function(t,e,n){function i(e){return 1==e?r:n(--e)}function r(e){return t.p.ix===e?r.position:t.r.ix===e?r.roundness:t.s.ix===e||"Size"===e?r.size:void 0}var o="tm"===e.sh.ty?e.sh.prop:e.sh;return r.propertyIndex=t.ix,o.p.setGroupProperty(i),o.s.setGroupProperty(i),o.r.setGroupProperty(i),Object.defineProperty(r,"position",{get:function(){return ExpressionValue(o.p)}}),Object.defineProperty(r,"roundness",{get:function(){return ExpressionValue(o.r)}}),Object.defineProperty(r,"size",{get:function(){return ExpressionValue(o.s)}}),Object.defineProperty(r,"_name",{get:function(){return t.nm}}),r.mn=t.mn,r},kbi=function(t,e,n){function i(e){return t.r.ix===e||"Round Corners 1"===e?i.radius:void 0}var r=e;return i.propertyIndex=t.ix,r.rd.setGroupProperty(function(e){return 1==e?i:n(--e)}),Object.defineProperty(i,"radius",{get:function(){return ExpressionValue(r.rd)}}),Object.defineProperty(i,"_name",{get:function(){return t.nm}}),i.mn=t.mn,i},lbi=function(t,e,n){function i(e){return 1==e?r:n(--e)}function r(e){return t.c.ix===e||"Copies"===e?r.copies:t.o.ix===e||"Offset"===e?r.offset:void 0}var o=e;return r.propertyIndex=t.ix,o.c.setGroupProperty(i),o.o.setGroupProperty(i),Object.defineProperty(r,"copies",{get:function(){return ExpressionValue(o.c)}}),Object.defineProperty(r,"offset",{get:function(){return ExpressionValue(o.o)}}),Object.defineProperty(r,"_name",{get:function(){return t.nm}}),r.mn=t.mn,r},mbi=function(e,t,n){function i(e){return"Shape"===e||"shape"===e||"Path"===e||"path"===e||"ADBE Vector Shape"===e||2===e?i.path:void 0}var r=t.sh;return r.setGroupProperty(function(e){return 1==e?i:n(--e)}),Object.defineProperty(i,"path",{get:function(){return r.k&&r.getValue(),r}}),Object.defineProperty(i,"shape",{get:function(){return r.k&&r.getValue(),r}}),Object.defineProperty(i,"_name",{value:e.nm}),Object.defineProperty(i,"ix",{value:e.ix}),Object.defineProperty(i,"mn",{value:e.mn}),i},_ai),TextExpressionInterface=function(t){function e(){}var n;return Object.defineProperty(e,"sourceText",{get:function(){var e=t.textProperty.currentData.t;return void 0!==t.textProperty.currentData.t&&(t.textProperty.currentData.t=void 0,(n=new String(e)).value=e||new String(e)),n}}),e},LayerExpressionInterface=function(t){function n(e){switch(e){case"ADBE Root Vectors Group":case"Contents":case 2:return n.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return i;case 4:case"ADBE Effect Parade":return n.effect}}var i=TransformExpressionInterface(t.transform);return n.toWorld=eei,n.fromWorld=fei,n.toComp=eei,n.fromComp=gei,n.sourceRectAtTime=t.sourceRectAtTime.bind(t),n._elem=t,Object.defineProperty(n,"hasParent",{get:function(){return!!t.hierarchy}}),Object.defineProperty(n,"parent",{get:function(){return t.hierarchy[0].layerInterface}}),Object.defineProperty(n,"rotation",{get:function(){return i.rotation}}),Object.defineProperty(n,"scale",{get:function(){return i.scale}}),Object.defineProperty(n,"position",{get:function(){return i.position}}),Object.defineProperty(n,"anchorPoint",{get:function(){return i.anchorPoint}}),Object.defineProperty(n,"transform",{get:function(){return i}}),Object.defineProperty(n,"width",{get:function(){return 0===t.data.ty?t.data.w:100}}),Object.defineProperty(n,"height",{get:function(){return 0===t.data.ty?t.data.h:100}}),Object.defineProperty(n,"source",{get:function(){return t.data.refId}}),Object.defineProperty(n,"index",{get:function(){return t.data.ind}}),Object.defineProperty(n,"_name",{value:t.data.nm}),Object.defineProperty(n,"content",{get:function(){return n.shapeInterface}}),Object.defineProperty(n,"active",{get:function(){return t.isVisible}}),Object.defineProperty(n,"text",{get:function(){return n.textInterface}}),n.registerMaskInterface=function(e){n.mask=new MaskManagerInterface(e,t)},n.registerEffectsInterface=function(e){n.effect=e},n},CompExpressionInterface=function(i){function e(e){for(var t=0,n=i.layers.length;t<n;){if(i.layers[t].nm===e||i.layers[t].ind===e)return i.elements[t].layerInterface;t+=1}return{active:!1}}return Object.defineProperty(e,"_name",{value:i.data.nm}),(e.layer=e).pixelAspect=1,e.height=i.globalData.compSize.h,e.width=i.globalData.compSize.w,e.pixelAspect=1,e.frameDuration=1/i.globalData.frameRate,e},TransformExpressionInterface=function(t){function n(e){switch(e){case"scale":case"Scale":case"ADBE Scale":case 6:return n.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return n.rotation;case"position":case"Position":case"ADBE Position":case 2:return t.position;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return n.anchorPoint;case"opacity":case"Opacity":case 11:return n.opacity}}return Object.defineProperty(n,"rotation",{get:function(){return t.rotation}}),Object.defineProperty(n,"scale",{get:function(){return t.scale}}),Object.defineProperty(n,"position",{get:function(){return t.position}}),Object.defineProperty(n,"xPosition",{get:function(){return t.xPosition}}),Object.defineProperty(n,"yPosition",{get:function(){return t.yPosition}}),Object.defineProperty(n,"anchorPoint",{get:function(){return t.anchorPoint}}),Object.defineProperty(n,"opacity",{get:function(){return t.opacity}}),Object.defineProperty(n,"skew",{get:function(){return t.skew}}),Object.defineProperty(n,"skewAxis",{get:function(){return t.skewAxis}}),n},ProjectInterface=function(){function e(e){for(var t=0,n=this.compositions.length;t<n;){if(this.compositions[t].data&&this.compositions[t].data.nm===e)return this.compositions[t].prepareFrame&&this.compositions[t].prepareFrame(this.currentFrame),this.compositions[t].compInterface;t+=1}}return e.compositions=[],e.currentFrame=0,e.registerComposition=Nei,e},EffectsExpressionInterface={createEffectsInterface:function(r,e){if(r.effects){var t,o=[],n=r.data.ef,i=r.effects.effectElements.length;for(t=0;t<i;t+=1)o.push(Uei(n[t],r.effects.effectElements[t],e,r));return function(e){for(var t=r.data.ef,n=0,i=t.length;n<i;){if(e===t[n].nm||e===t[n].mn||e===t[n].ix)return o[n];n+=1}}}}},MaskManagerInterface=function(){function o(e,t){this._mask=e,this._data=t}Object.defineProperty(o.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}});return function(t,e){var n,i=Array.apply(null,{length:t.viewData.length}),r=t.viewData.length;for(n=0;n<r;n+=1)i[n]=new o(t.viewData[n],t.masksProperties[n]);return function(e){for(n=0;n<r;){if(t.masksProperties[n].nm===e)return i[n];n+=1}}}}(),ExpressionValue=function(t,e,n){var i,r,o,a;if(t.k&&t.getValue(),n){if("color"===n){for(o=4,i=Array.apply(null,{length:o}),a=Array.apply(null,{length:o}),r=0;r<o;r+=1)i[r]=a[r]=e&&r<3?t.v[r]*e:1;i.value=a}}else if("number"==typeof t.v||t.v instanceof Number)(i=new Number(e?t.v*e:t.v)).value=e?t.v*e:t.v;else{for(o=t.v.length,i=Array.apply(null,{length:o}),a=Array.apply(null,{length:o}),r=0;r<o;r+=1)i[r]=a[r]=e?t.v[r]*e:t.v[r];i.value=a}return i.numKeys=t.keyframes?t.keyframes.length:0,i.key=function(e){return i.numKeys?t.keyframes[e-1].t:0},i.valueAtTime=t.getValueAtTime,i.propertyGroup=t.propertyGroup,i},_ai,abi,bbi,cbi,dbi,ebi,fbi,gbi,hbi,ibi,jbi,kbi,lbi,mbi;function Uei(r,e,t,n){function i(e){return 1===e?l:t(e-1)}var o,a=[],s=r.ef.length;for(o=0;o<s;o+=1)a.push(5===r.ef[o].ty?Uei(r.ef[o],e.effectElements[o],e.effectElements[o].propertyGroup,n):Vei(e.effectElements[o],r.ef[o].ty,n,i));var l=function(e){for(var t=r.ef,n=0,i=t.length;n<i;){if(e===t[n].nm||e===t[n].mn||e===t[n].ix)return 5===t[n].ty?a[n]:a[n]();n+=1}return a[0]()};return l.propertyGroup=i,"ADBE Color Control"===r.mn&&Object.defineProperty(l,"color",{get:function(){return a[0]()}}),Object.defineProperty(l,"numProperties",{get:function(){return r.np}}),l.active=0!==r.en,l}function Vei(e,t,n,i){return e.p.setGroupProperty&&e.p.setGroupProperty(i),function(){return 10===t?n.comp.compInterface(e.p.v):ExpressionValue(e.p)}}function Nei(e){this.compositions.push(e)}function eei(e,t){var n=new Matrix;if(n.reset(),this._elem.finalTransform.mProp.applyToMatrix(n),this._elem.hierarchy&&this._elem.hierarchy.length){var i,r=this._elem.hierarchy.length;for(i=0;i<r;i+=1)this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(n);return n.applyToPointArray(e[0],e[1],e[2]||0)}return n.applyToPointArray(e[0],e[1],e[2]||0)}function fei(e,t){var n=new Matrix;if(n.reset(),this._elem.finalTransform.mProp.applyToMatrix(n),this._elem.hierarchy&&this._elem.hierarchy.length){var i,r=this._elem.hierarchy.length;for(i=0;i<r;i+=1)this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(n);return n.inversePoint(e)}return n.inversePoint(e)}function gei(e){var t=new Matrix;if(t.reset(),this._elem.finalTransform.mProp.applyToMatrix(t),this._elem.hierarchy&&this._elem.hierarchy.length){var n,i=this._elem.hierarchy.length;for(n=0;n<i;n+=1)this._elem.hierarchy[n].finalTransform.mProp.applyToMatrix(t);return t.inversePoint(e)}return t.inversePoint(e)}function $ai(e,t,n){var i,r=[],o=e?e.length:0;for(i=0;i<o;i+=1)"gr"==e[i].ty?r.push(ShapeExpressionInterface.createGroupInterface(e[i],t[i],n)):"fl"==e[i].ty?r.push(ShapeExpressionInterface.createFillInterface(e[i],t[i],n)):"st"==e[i].ty?r.push(ShapeExpressionInterface.createStrokeInterface(e[i],t[i],n)):"tm"==e[i].ty?r.push(ShapeExpressionInterface.createTrimInterface(e[i],t[i],n)):"tr"==e[i].ty||("el"==e[i].ty?r.push(ShapeExpressionInterface.createEllipseInterface(e[i],t[i],n)):"sr"==e[i].ty?r.push(ShapeExpressionInterface.createStarInterface(e[i],t[i],n)):"sh"==e[i].ty?r.push(ShapeExpressionInterface.createPathInterface(e[i],t[i],n)):"rc"==e[i].ty?r.push(ShapeExpressionInterface.createRectInterface(e[i],t[i],n)):"rd"==e[i].ty?r.push(ShapeExpressionInterface.createRoundedInterface(e[i],t[i],n)):"rp"==e[i].ty&&r.push(ShapeExpressionInterface.createRepatearInterface(e[i],t[i],n)));return r}GroupEffect.prototype.getValue=function(){this.mdf=!1;var e,t=this.dynamicProperties.length;for(e=0;e<t;e+=1)this.dynamicProperties[e].getValue(),this.mdf=!!this.dynamicProperties[e].mdf||this.mdf},GroupEffect.prototype.init=function(e,t,n){this.data=e,this.mdf=!1,this.effectElements=[];var i,r,o=this.data.ef.length,a=this.data.ef;for(i=0;i<o;i+=1)switch(a[i].ty){case 0:r=new SliderEffect(a[i],t,n),this.effectElements.push(r);break;case 1:r=new AngleEffect(a[i],t,n),this.effectElements.push(r);break;case 2:r=new ColorEffect(a[i],t,n),this.effectElements.push(r);break;case 3:r=new PointEffect(a[i],t,n),this.effectElements.push(r);break;case 4:case 7:r=new CheckboxEffect(a[i],t,n),this.effectElements.push(r);break;case 10:r=new LayerIndexEffect(a[i],t,n),this.effectElements.push(r);break;case 11:r=new MaskIndexEffect(a[i],t,n),this.effectElements.push(r);break;case 5:r=new EffectsManager(a[i],t,n),this.effectElements.push(r);break;case 6:r=new NoValueEffect(a[i],t,n),this.effectElements.push(r)}};var bodymovinjs={};bodymovinjs.play=play,bodymovinjs.pause=pause,bodymovinjs.setLocationHref=setLocationHref,bodymovinjs.togglePause=togglePause,bodymovinjs.setSpeed=setSpeed,bodymovinjs.setDirection=setDirection,bodymovinjs.stop=stop,bodymovinjs.moveFrame=moveFrame,bodymovinjs.searchAnimations=searchAnimations,bodymovinjs.registerAnimation=registerAnimation,bodymovinjs.loadAnimation=loadAnimation,bodymovinjs.setSubframeRendering=setSubframeRendering,bodymovinjs.resize=resize,bodymovinjs.start=start,bodymovinjs.goToAndStop=goToAndStop,bodymovinjs.destroy=destroy,bodymovinjs.setQuality=setQuality,bodymovinjs.inBrowser=inBrowser,bodymovinjs.installPlugin=installPlugin,bodymovinjs.__getFactory=getFactory,bodymovinjs.version="4.13.0";var standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""},queryString=myScript.src.replace(/^[^\?]+\??/,"");renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);return bodymovinjs}),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("angular"),require("moment"),function(){try{return require("interactjs")}catch(e){}}()):"function"==typeof define&&define.amd?define(["angular","moment","interact"],t):"object"==typeof exports?exports.angularBootstrapCalendarModuleName=t(require("angular"),require("moment"),function(){try{return require("interactjs")}catch(e){}}()):e.angularBootstrapCalendarModuleName=t(e.angular,e.moment,e.interact)}(this,function(n,i,r){return s={},o.m=a=[function(e,t){e.exports=n},function(e,t,n){function u(e,t,n){t=t||0,n=n||0;var i=new Date(0);i.setUTCFullYear(e,0,4);var r=7*t+n+1-(i.getUTCDay()||7);return i.setUTCDate(i.getUTCDate()+r),i}var d=n(24),h=36e5,p=6e4,f=/[T ]/,g=/:/,m=/^(\d{2})$/,v=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],y=/^(\d{4})/,b=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],w=/^-(\d{2})$/,x=/^-?(\d{3})$/,C=/^-?(\d{2})-?(\d{2})$/,S=/^-?W(\d{2})$/,$=/^-?W(\d{2})-?(\d{1})$/,E=/^(\d{2}([.,]\d*)?)$/,k=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,A=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,T=/([Z+-].*)$/,M=/^(Z)$/,D=/^([+-])(\d{2})$/,P=/^([+-])(\d{2}):?(\d{2})$/;e.exports=function(e,t){if(d(e))return new Date(e.getTime());if("string"!=typeof e)return new Date(e);var n=(t||{}).additionalDigits;n=null==n?2:Number(n);var i=function(e){var t,n={},i=e.split(f);if(t=g.test(i[0])?(n.date=null,i[0]):(n.date=i[0],i[1]),t){var r=T.exec(t);r?(n.time=t.replace(r[1],""),n.timezone=r[1]):n.time=t}return n}(e),r=function(e,t){var n,i=v[t],r=b[t];if(n=y.exec(e)||r.exec(e)){var o=n[1];return{year:parseInt(o,10),restDateString:e.slice(o.length)}}if(n=m.exec(e)||i.exec(e)){var a=n[1];return{year:100*parseInt(a,10),restDateString:e.slice(a.length)}}return{year:null}}(i.date,n),o=r.year,a=function(e,t){if(null===t)return null;var n,i,r,o;if(0===e.length)return(i=new Date(0)).setUTCFullYear(t),i;if(n=w.exec(e))return i=new Date(0),r=parseInt(n[1],10)-1,i.setUTCFullYear(t,r),i;if(n=x.exec(e)){i=new Date(0);var a=parseInt(n[1],10);return i.setUTCFullYear(t,0,a),i}if(n=C.exec(e)){i=new Date(0),r=parseInt(n[1],10)-1;var s=parseInt(n[2],10);return i.setUTCFullYear(t,r,s),i}if(n=S.exec(e))return o=parseInt(n[1],10)-1,u(t,o);if(n=$.exec(e))return o=parseInt(n[1],10)-1,u(t,o,parseInt(n[2],10)-1);return null}(r.restDateString,o);if(a){var s,l=a.getTime(),c=0;return i.time&&(c=function(e){var t,n,i;if(t=E.exec(e))return(n=parseFloat(t[1].replace(",",".")))%24*h;if(t=k.exec(e))return n=parseInt(t[1],10),i=parseFloat(t[2].replace(",",".")),n%24*h+i*p;if(t=A.exec(e)){n=parseInt(t[1],10),i=parseInt(t[2],10);var r=parseFloat(t[3].replace(",","."));return n%24*h+i*p+1e3*r}return null}(i.time)),s=i.timezone?function(e){var t,n;return(t=M.exec(e))?0:(t=D.exec(e))?(n=60*parseInt(t[2],10),"+"===t[1]?-n:n):(t=P.exec(e))?(n=60*parseInt(t[2],10)+parseInt(t[3],10),"+"===t[1]?-n:n):0}(i.timezone):(s=new Date(l+c).getTimezoneOffset(),new Date(l+c+s*p).getTimezoneOffset()),new Date(l+c+s*p)}return new Date(e)}},function(e,t,n){var r=n(1);e.exports=function(e,t){var n=r(e).getTime(),i=Number(t);return new Date(n+i)}},function(e,t,n){var i=n(1);e.exports=function(e){var t=i(e);return t.setHours(0,0,0,0),t}},function(e,t,n){"use strict";function v(e){var t=e.startDate,n=e.seconds,i=e.excluded,r=e.precision,o=void 0===r?"days":r;if(i.length<1)return 0;var a,s,l,c=0;switch(o){case"minutes":a=W()(t,n-1),s=u()(t),l=u()(W()(a,0)),i.forEach(function(e){e===s?c+=b()(C()(t),t)+1:e===l?c+=b()(a,$()(a))+1:s<e&&e<l&&(c+=te)});break;case"days":a=W()($()(t),n-1),s=u()($()(t)),l=u()(a),c+=i.filter(function(e){return s<=e&&e<=l}).length*te}return c}function y(e){var t,n=e.event,i=e.startOfWeek,r=e.excluded,o=void 0===r?[]:r,a=e.precision,s=void 0===a?"days":a;if(n.start<i)return 0;switch(s){case"days":t=S()($()(n.start),i)*te;break;case"minutes":t=b()(n.start,i)}return(t-=v({startDate:i,seconds:t,excluded:o,precision:s}))/te}function w(e){var t=e.events,n=e.periodStart,i=e.periodEnd;return t.filter(function(e){return function(e){var t=e.event,n=e.periodStart,i=e.periodEnd,r=t.start,o=t.end||t.start;return n<r&&r<i||n<o&&o<i||r<n&&i<o||!(!I()(r,n)&&!I()(r,i))||!(!I()(o,n)&&!I()(o,i))}({event:e,periodStart:n,periodEnd:i})})}function x(e){var t=e.date,n=$()(new Date);return{date:t,isPast:t<n,isToday:l()(t,n),isFuture:n<t,isWeekend:-1<Z.indexOf(u()(t))}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(20),C=n.n(i),r=n(13),f=n.n(r),o=n(17),S=n.n(o),a=n(3),$=n.n(a),s=n(25),l=n.n(s),c=n(23),u=n.n(c),d=n(35),E=n.n(d),h=n(11),p=n.n(h),g=n(22),k=n.n(g),m=n(19),b=n.n(m),A=n(33),T=n.n(A),M=n(21),D=n.n(M),P=n(26),_=n.n(P),R=n(27),I=n.n(R),F=n(30),O=n.n(F),L=n(31),N=n.n(L),V=n(32),H=n.n(V),B=n(18),z=n.n(B),j=n(12),G=n.n(j),U=n(14),W=n.n(U),q=n(29),Y=n.n(q),X=n(28),K=n.n(X);n.d(t,"SECONDS_IN_DAY",function(){return te}),t.getWeekViewEventOffset=y,t.getWeekViewHeader=function(e){for(var t=e.viewDate,n=e.weekStartsOn,i=e.excluded,r=void 0===i?[]:i,o=E()(t,{weekStartsOn:n}),a=[],s=0;s<J;s++)!function(e){var t=p()(o,e);r.some(function(e){return t.getDay()===e})||a.push(x({date:t}))}(s);return a},t.getWeekView=function(e){var t=e.events,n=void 0===t?[]:t,i=e.viewDate,r=e.weekStartsOn,o=e.excluded,a=void 0===o?[]:o,s=e.precision,l=void 0===s?"days":s,c=e.absolutePositionedEvents,u=void 0!==c&&c;n=n||[];var d=E()(i,{weekStartsOn:r}),h=k()(i,{weekStartsOn:r}),p=J-a.length,f=w({events:n,periodStart:d,periodEnd:h}).map(function(e){var t=y({event:e,startOfWeek:d,excluded:a,precision:l});return{event:e,offset:t,span:function(e){var t=e.event,n=e.offset,i=e.startOfWeekDate,r=e.excluded,o=e.precision,a=void 0===o?"days":o,s=e.weekStartsOn;n=Math.round(n*te);var l=te,c=K()(t.start,i),u=k()(i,{weekStartsOn:s});if(t.end)switch(a){case"days":l=(S()(Y()($()(t.end),$()(u)),$()(c))+1)*te;break;case"minutes":l=b()(Y()(t.end,W()(u,1)),c)}return(l-=v({startDate:c,seconds:l,excluded:r,precision:a}))/te}({event:e,offset:t,startOfWeekDate:d,excluded:a,precision:l,weekStartsOn:r})}}).filter(function(e){return e.offset<p}).filter(function(e){return 0<e.span}).map(function(e){return{event:e.event,offset:e.offset,span:e.span,startsBeforeWeek:e.event.start<d,endsAfterWeek:(e.event.end||e.event.start)>h}}).sort(function(e,t){var n=b()(e.event.start,t.event.start);return 0===n?b()(t.event.end||t.event.start,e.event.end||e.event.start):n}),g=[],m=[];return f.forEach(function(e,t){if(-1===m.indexOf(e)){m.push(e);var n=e.span+e.offset,i=f.slice(t+1).filter(function(e){if(e.offset>=n&&n+e.span<=J&&-1===m.indexOf(e)){var t=e.offset-n;return u||(e.offset=t),n+=e.span+t,m.push(e),!0}});g.push({row:[e].concat(i)})}}),g},t.getMonthView=function(e){var t=e.events,n=void 0===t?[]:t,i=e.viewDate,r=e.weekStartsOn,o=e.excluded,a=void 0===o?[]:o,s=e.viewStart,l=void 0===s?T()(i):s,c=e.viewEnd,u=void 0===c?D()(i):c;n=n||[];for(var d,h=E()(l,{weekStartsOn:r}),p=k()(u,{weekStartsOn:r}),f=w({events:n,periodStart:h,periodEnd:p}),g=[],m=0;m<S()(p,h)+1;m++)!function(){var t;if(d?(t=$()(G()(d,Q)),d.getTime()===t.getTime()&&(t=$()(G()(d,Q+1))),d=t):t=d=h,!a.some(function(e){return t.getDay()===e})){var e=x({date:t}),n=w({events:f,periodStart:$()(t),periodEnd:C()(t)});e.inMonth=_()(t,i),e.events=n,e.badgeTotal=n.length,g.push(e)}}();var v=J-a.length,y=Math.floor(g.length/v),b=[];for(m=0;m<y;m++)b.push(m*v);return{rowOffsets:b,totalDaysVisibleInWeek:v,days:g}},t.getDayView=function(e){var t=e.events,n=void 0===t?[]:t,i=e.viewDate,f=e.hourSegments,r=e.dayStart,o=e.dayEnd,g=e.eventWidth,m=e.segmentHeight;n=n||[];var v=N()(O()($()(i),r.hour),r.minute),y=N()(O()(H()(C()(i)),o.hour),o.minute),b=[],a=w({events:n.filter(function(e){return!e.allDay}),periodStart:v,periodEnd:y}).sort(function(e,t){return e.start.valueOf()-t.start.valueOf()}).map(function(e){var t=e.start,n=e.end||t,i=t<v,r=y<n,o=f*m/ee,a=0;v<t&&(a+=z()(t,v)),a*=o;var s=i?v:t,l=r?y:n,c=z()(l,s);e.end?c*=o:c=m;for(var u=a+c,d=b.filter(function(e){var t=e.top,n=e.top+e.height;return a<n&&n<u||t<=a&&u<=n}),h=0;d.some(function(e){return e.left===h});)h+=g;var p={event:e,height:c,width:g,top:a,left:h,startsBeforeDay:i,endsAfterDay:r};return 0<c&&b.push(p),p}).filter(function(e){return 0<e.height});return{events:a,width:Math.max.apply(Math,a.map(function(e){return e.left+e.width})),allDayEvents:w({events:n.filter(function(e){return e.allDay}),periodStart:$()(v),periodEnd:C()(y)})}},t.getDayViewHourGrid=function(e){for(var t=e.viewDate,n=e.hourSegments,i=e.dayStart,r=e.dayEnd,o=[],a=N()(O()($()(t),i.hour),i.minute),s=N()(O()(H()(C()(t)),r.hour),r.minute),l=ee/n,c=$()(t),u=0;u<Q;u++){for(var d=[],h=0;h<n;h++){var p=f()(G()(c,u),h*l);a<=p&&p<s&&d.push({date:p,isStart:0===h})}0<d.length&&o.push({segments:d})}return o};var Z=[0,6],J=7,Q=24,ee=60,te=86400},function(e,t,n){var r=n(1);e.exports=function(e,t){var n=r(e),i=r(t);return n.getTime()-i.getTime()}},function(e,t){},function(e,t,n){function i(e){return n(r(e))}function r(e){var t=o[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var o={"./mwlCalendar.js":45,"./mwlCalendarDay.js":46,"./mwlCalendarHourList.js":47,"./mwlCalendarMonth.js":48,"./mwlCalendarSlideBox.js":49,"./mwlCalendarWeek.js":50,"./mwlCalendarYear.js":51,"./mwlCollapseFallback.js":52,"./mwlDateModifier.js":53,"./mwlDragSelect.js":54,"./mwlDraggable.js":55,"./mwlDroppable.js":56,"./mwlDynamicDirectiveTemplate.js":57,"./mwlElementDimensions.js":58,"./mwlResizable.js":59};i.keys=function(){return Object.keys(o)},i.resolve=r,(e.exports=i).id=7},function(e,t,n){function i(e){return n(r(e))}function r(e){var t=o[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var o={"./calendarDate.js":61,"./calendarLimitTo.js":62,"./calendarTruncateEventTitle.js":63,"./calendarTrustAsHtml.js":64};i.keys=function(){return Object.keys(o)},i.resolve=r,(e.exports=i).id=8},function(e,t,n){function i(e){return n(r(e))}function r(e){var t=o[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var o={"./calendarConfig.js":65,"./calendarEventTitle.js":66,"./calendarHelper.js":67,"./calendarTitle.js":68,"./interact.js":69,"./moment.js":70};i.keys=function(){return Object.keys(o)},i.resolve=r,(e.exports=i).id=9},function(e,t,n){function i(e){return n(r(e))}function r(e){var t=o[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var o={"./calendar.html":36,"./calendarDayView.html":37,"./calendarHourList.html":38,"./calendarMonthCell.html":39,"./calendarMonthCellEvents.html":40,"./calendarMonthView.html":41,"./calendarSlideBox.html":42,"./calendarWeekView.html":43,"./calendarYearView.html":44};i.keys=function(){return Object.keys(o)},i.resolve=r,(e.exports=i).id=10},function(e,t,n){var r=n(1);e.exports=function(e,t){var n=r(e),i=Number(t);return n.setDate(n.getDate()+i),n}},function(e,t,n){var i=n(2);e.exports=function(e,t){var n=Number(t);return i(e,36e5*n)}},function(e,t,n){var i=n(2);e.exports=function(e,t){var n=Number(t);return i(e,6e4*n)}},function(e,t,n){var i=n(2);e.exports=function(e,t){var n=Number(t);return i(e,1e3*n)}},function(e,t,n){var r=n(1);e.exports=function(e,t){var n=r(e).getTime(),i=r(t).getTime();return n<i?-1:i<n?1:0}},function(e,t,n){var a=n(3);e.exports=function(e,t){var n=a(e),i=a(t),r=n.getTime()-6e4*n.getTimezoneOffset(),o=i.getTime()-6e4*i.getTimezoneOffset();return Math.round((r-o)/864e5)}},function(e,t,n){var a=n(1),s=n(16),l=n(15);e.exports=function(e,t){var n=a(e),i=a(t),r=l(n,i),o=Math.abs(s(n,i));return n.setDate(n.getDate()-r*o),r*(o-(l(n,i)===-r))}},function(e,t,n){var i=n(5);e.exports=function(e,t){var n=i(e,t)/6e4;return 0<n?Math.floor(n):Math.ceil(n)}},function(e,t,n){var i=n(5);e.exports=function(e,t){var n=i(e,t)/1e3;return 0<n?Math.floor(n):Math.ceil(n)}},function(e,t,n){var i=n(1);e.exports=function(e){var t=i(e);return t.setHours(23,59,59,999),t}},function(e,t,n){var i=n(1);e.exports=function(e){var t=i(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}},function(e,t,n){var a=n(1);e.exports=function(e,t){var n=t&&Number(t.weekStartsOn)||0,i=a(e),r=i.getDay(),o=6+(r<n?-7:0)-(r-n);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}},function(e,t,n){var i=n(1);e.exports=function(e){return i(e).getDay()}},function(e,t){e.exports=function(e){return e instanceof Date}},function(e,t,n){var r=n(3);e.exports=function(e,t){var n=r(e),i=r(t);return n.getTime()===i.getTime()}},function(e,t,n){var r=n(1);e.exports=function(e,t){var n=r(e),i=r(t);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()}},function(e,t,n){var r=n(34);e.exports=function(e,t){var n=r(e),i=r(t);return n.getTime()===i.getTime()}},function(e,t,n){var i=n(1);e.exports=function(){var e=Array.prototype.slice.call(arguments).map(function(e){return i(e)}),t=Math.max.apply(null,e);return new Date(t)}},function(e,t,n){var i=n(1);e.exports=function(){var e=Array.prototype.slice.call(arguments).map(function(e){return i(e)}),t=Math.min.apply(null,e);return new Date(t)}},function(e,t,n){var r=n(1);e.exports=function(e,t){var n=r(e),i=Number(t);return n.setHours(i),n}},function(e,t,n){var r=n(1);e.exports=function(e,t){var n=r(e),i=Number(t);return n.setMinutes(i),n}},function(e,t,n){var i=n(1);e.exports=function(e){var t=i(e);return t.setSeconds(0,0),t}},function(e,t,n){var i=n(1);e.exports=function(e){var t=i(e);return t.setDate(1),t.setHours(0,0,0,0),t}},function(e,t,n){var i=n(1);e.exports=function(e){var t=i(e);return t.setMilliseconds(0),t}},function(e,t,n){var a=n(1);e.exports=function(e,t){var n=t&&Number(t.weekStartsOn)||0,i=a(e),r=i.getDay(),o=(r<n?7:0)+r-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}},function(e,t){e.exports="<div class=cal-context ng-switch=vm.view ng-if=vm.templatesLoaded> <div class=\"alert alert-danger\" ng-switch-default>The value passed to the view attribute of the calendar is not set</div> <div class=\"alert alert-danger\" ng-hide=vm.viewDate>The value passed to view-date attribute of the calendar is not set</div> <mwl-calendar-year events=vm.events view-date=vm.viewDate on-event-click=vm.onEventClick on-event-times-changed=vm.onEventTimesChanged on-timespan-click=vm.onTimespanClick cell-is-open=vm.cellIsOpen cell-modifier=vm.cellModifier slide-box-disabled=vm.slideBoxDisabled custom-template-urls=vm.customTemplateUrls template-scope=vm.templateScope cell-auto-open-disabled=vm.cellAutoOpenDisabled ng-switch-when=year> </mwl-calendar-year> <mwl-calendar-month events=vm.events view-date=vm.viewDate excluded-days=vm.excludedDays on-event-click=vm.onEventClick on-event-times-changed=vm.onEventTimesChanged on-timespan-click=vm.onTimespanClick on-date-range-select=vm.onDateRangeSelect cell-is-open=vm.cellIsOpen cell-modifier=vm.cellModifier slide-box-disabled=vm.slideBoxDisabled custom-template-urls=vm.customTemplateUrls template-scope=vm.templateScope cell-auto-open-disabled=vm.cellAutoOpenDisabled draggable-auto-scroll=vm.draggableAutoScroll ng-switch-when=month> </mwl-calendar-month> <mwl-calendar-week events=vm.events view-date=vm.viewDate excluded-days=vm.excludedDays on-event-click=vm.onEventClick on-event-times-changed=vm.onEventTimesChanged day-view-start=vm.dayViewStart day-view-end=vm.dayViewEnd day-view-split=vm.dayViewSplit day-view-event-chunk-size=vm.dayViewEventChunkSize on-timespan-click=vm.onTimespanClick on-date-range-select=vm.onDateRangeSelect custom-template-urls=vm.customTemplateUrls cell-modifier=vm.cellModifier template-scope=vm.templateScope draggable-auto-scroll=vm.draggableAutoScroll ng-switch-when=week> </mwl-calendar-week> <mwl-calendar-day events=vm.events view-date=vm.viewDate on-event-click=vm.onEventClick on-event-times-changed=vm.onEventTimesChanged on-timespan-click=vm.onTimespanClick on-date-range-select=vm.onDateRangeSelect day-view-start=vm.dayViewStart day-view-end=vm.dayViewEnd day-view-split=vm.dayViewSplit day-view-event-chunk-size=vm.dayViewEventChunkSize day-view-event-width=vm.dayViewEventWidth custom-template-urls=vm.customTemplateUrls cell-modifier=vm.cellModifier template-scope=vm.templateScope day-view-time-position=\"vm.dayViewTimePosition || 'default'\" draggable-auto-scroll=vm.draggableAutoScroll ng-class=\"{\n      'time-on-side' : vm.dayViewTimePosition === 'side',\n      'time-hidden' : vm.dayViewTimePosition === 'hidden'\n    }\" ng-switch-when=day> </mwl-calendar-day> </div> "},function(e,t){e.exports='<div class="cal-week-box cal-all-day-events-box" ng-if="vm.allDayEvents.length > 0"> <div class="cal-day-panel clearfix"> <div class=row> <div class=col-xs-12> <div class=cal-row-fluid> <div class="cal-cell-6 day-highlight" ng-style="{backgroundColor: event.color.secondary}" data-event-class ng-repeat="event in vm.allDayEvents track by event.calendarEventId"> <strong> <span ng-bind="event.startsAt | calendarDate:\'datetime\':true"></span> <span ng-if=event.endsAt> - <span ng-bind="event.endsAt | calendarDate:\'datetime\':true"></span> </span> </strong> <a href=javascript:; class=event-item ng-bind-html="vm.calendarEventTitle.dayView(event) | calendarTrustAsHtml"> </a> </div> </div> </div> </div> </div> </div> <div class=cal-day-box> <div class="cal-day-panel clearfix" ng-style="{height: vm.dayViewHeight + \'px\', minWidth: vm.viewWidth + \'px\'}"> <mwl-calendar-hour-list day-view-start=vm.dayViewStart day-view-end=vm.dayViewEnd day-view-split=vm.dayViewSplit on-timespan-click=vm.onTimespanClick on-date-range-select=vm.onDateRangeSelect on-event-times-changed=vm.onEventTimesChanged view-date=vm.viewDate custom-template-urls=vm.customTemplateUrls template-scope=vm.templateScope cell-modifier=vm.cellModifier view=day> </mwl-calendar-hour-list> <div class="pull-left day-event day-highlight" ng-repeat="dayEvent in vm.nonAllDayEvents track by dayEvent.event.calendarEventId" ng-class=dayEvent.event.cssClass ng-style="{\n        top: dayEvent.top - 1 + \'px\',\n        left: dayEvent.left +  vm.dayViewTimePositionOffset + \'px\',\n        height: dayEvent.height + \'px\',\n        width: dayEvent.width + \'px\',\n        backgroundColor: dayEvent.event.color.secondary,\n        borderColor: dayEvent.event.color.primary\n      }" mwl-draggable="dayEvent.event.draggable === true" axis="\'xy\'" snap-grid="{y: vm.dayViewEventChunkSize || 30, x: 50}" on-drag="vm.eventDragged(dayEvent.event, y / 30)" on-drag-end="vm.eventDragComplete(dayEvent.event, y / 30)" auto-scroll=vm.draggableAutoScroll mwl-resizable="dayEvent.event.resizable === true && dayEvent.event.endsAt" resize-edges="{top: true, bottom: true}" on-resize="vm.eventResized(dayEvent.event, edge, y / 30)" on-resize-end="vm.eventResizeComplete(dayEvent.event, edge, y / 30)" uib-tooltip-html="vm.calendarEventTitle.dayViewTooltip(dayEvent.event) | calendarTrustAsHtml" tooltip-append-to-body=true> <span class=cal-hours> <span ng-show="dayEvent.top == 0"><span ng-bind="(dayEvent.event.tempStartsAt || dayEvent.event.startsAt) | calendarDate:\'day\':true"></span>, </span> <span ng-bind="(dayEvent.event.tempStartsAt || dayEvent.event.startsAt) | calendarDate:\'time\':true"></span> </span> <a href=javascript:; class=event-item ng-click="vm.onEventClick({calendarEvent: dayEvent.event})"> <span ng-bind-html="vm.calendarEventTitle.dayView(dayEvent.event) | calendarTrustAsHtml"></span> </a> <a href=javascript:; class=event-item-action ng-repeat="action in dayEvent.event.actions track by $index" ng-class=action.cssClass ng-bind-html="action.label | calendarTrustAsHtml" ng-click="action.onClick({calendarEvent: dayEvent.event})"> </a> </div> </div> </div> '},function(e,t){e.exports='<div class=cal-day-panel-hour> <div class=cal-day-hour ng-repeat="hour in vm.hourGrid track by $index"> <div class=cal-day-hour-part ng-repeat="segment in hour.segments track by $index" ng-class="[{ \'cal-day-hour-part-selected\': vm.dateRangeSelect &&\n                vm.dateRangeSelect.startDate <= segment.date &&\n                segment.date < vm.dateRangeSelect.endDate }, segment.cssClass]" ng-click="vm.onTimespanClick({calendarDate: segment.date})" mwl-droppable on-drop="vm.eventDropped(dropData.event, segment.date)" mwl-drag-select=!!vm.onDateRangeSelect on-drag-select-start=vm.onDragSelectStart(segment.date) on-drag-select-move=vm.onDragSelectMove(segment.nextSegmentDate) on-drag-select-end=vm.onDragSelectEnd(segment.nextSegmentDate) ng-if=!vm.dayWidth> <div class=cal-day-hour-part-time> <strong ng-bind="segment.date | calendarDate:\'hour\':true" ng-show=segment.isStart></strong> </div> </div> <div class=cal-day-hour-part ng-repeat="segment in hour.segments track by $index" ng-if=vm.dayWidth> <div class=cal-day-hour-part-time> <strong ng-bind="segment.date | calendarDate:\'hour\':true" ng-show=segment.isStart></strong> &nbsp; </div> <div class=cal-day-hour-part-spacer ng-repeat="day in segment.days track by $index" ng-style="{width: (vm.dayWidth - ($last ? vm.scrollBarWidth : 0)) + \'px\'}" ng-class="[{ \'cal-day-hour-part-selected\': vm.dateRangeSelect &&\n                vm.dateRangeSelect.startDate <= day.date &&\n                day.date < vm.dateRangeSelect.endDate }, day.cssClass]" ng-click="vm.onTimespanClick({calendarDate: day.date})" mwl-droppable on-drop="vm.eventDropped(dropData.event, day.date)" mwl-drag-select=!!vm.onDateRangeSelect on-drag-select-start=vm.onDragSelectStart(day.date) on-drag-select-move=vm.onDragSelectMove(day.nextSegmentDate) on-drag-select-end=vm.onDragSelectEnd(day.nextSegmentDate)> </div> </div> </div> </div> '},function(e,t){e.exports='<div mwl-droppable on-drop="vm.handleEventDrop(dropData.event, day.date, dropData.draggedFromDate)" mwl-drag-select=!!vm.onDateRangeSelect on-drag-select-start=vm.onDragSelectStart(day) on-drag-select-move=vm.onDragSelectMove(day) on-drag-select-end=vm.onDragSelectEnd(day) class="cal-month-day {{ day.cssClass }}" ng-class="{\n    \'cal-day-outmonth\': !day.inMonth,\n    \'cal-day-inmonth\': day.inMonth,\n    \'cal-day-weekend\': day.isWeekend,\n    \'cal-day-past\': day.isPast,\n    \'cal-day-today\': day.isToday,\n    \'cal-day-future\': day.isFuture,\n    \'cal-day-selected\': vm.dateRangeSelect && vm.dateRangeSelect.startDate <= day.date && day.date <= vm.dateRangeSelect.endDate,\n    \'cal-day-open\': dayIndex === vm.openDayIndex\n  }"> <small class="cal-events-num badge badge-important pull-left" ng-show="day.badgeTotal > 0 && (vm.calendarConfig.displayAllMonthEvents || day.inMonth)" ng-bind=day.badgeTotal> </small> <span class=pull-right data-cal-date ng-click=vm.calendarCtrl.dateClicked(day.date) ng-bind=day.label> </span> <div class=cal-day-tick ng-show="dayIndex === vm.openDayIndex && (vm.cellAutoOpenDisabled || vm.view[vm.openDayIndex].events.length > 0) && !vm.slideBoxDisabled"> <i class="glyphicon glyphicon-chevron-up"></i> <i class="fa fa-chevron-up"></i> </div> <ng-include src="vm.customTemplateUrls.calendarMonthCellEvents || vm.calendarConfig.templates.calendarMonthCellEvents"></ng-include> <div class=cal-week-box-cell ng-if="$first && rowHovered"> <span ng-bind=vm.getWeekNumberLabel(day)></span> </div> </div> '},function(e,t){e.exports='<div class=events-list ng-show="day.events.length > 0"> <a ng-repeat="event in day.events | orderBy:\'startsAt\' track by event.calendarEventId" href=javascript:; ng-click="$event.stopPropagation(); vm.onEventClick({calendarEvent: event})" class="pull-left event" ng-class=event.cssClass ng-style="{backgroundColor: event.color.primary}" ng-mousedown=$event.stopPropagation() ng-mouseenter="vm.highlightEvent(event, true)" ng-mouseleave="vm.highlightEvent(event, false)" tooltip-append-to-body=true uib-tooltip-html="vm.calendarEventTitle.monthViewTooltip(event) | calendarTrustAsHtml" mwl-draggable="event.draggable === true" drop-data="{event: event, draggedFromDate: day.date.toDate()}" auto-scroll=vm.draggableAutoScroll> </a> </div> '},function(e,t){e.exports='<div class=cal-month-box ng-class="[\'cal-grid-\' + vm.weekDays.length]"> <div class="cal-row-fluid cal-row-head"> <div class=cal-cell1 ng-repeat="day in vm.weekDays track by $index" ng-bind=day></div> </div> <div ng-repeat="rowOffset in vm.monthOffsets track by rowOffset" ng-mouseenter="rowHovered = true" ng-mouseleave="rowHovered = false"> <div class="cal-row-fluid cal-before-eventlist"> <div ng-repeat="day in vm.view | calendarLimitTo:vm.weekDays.length:rowOffset track by $index" ng-init="dayIndex = vm.view.indexOf(day)" class="cal-cell1 cal-cell {{ day.highlightClass }}" ng-style="{backgroundColor: day.backgroundColor}" ng-click="vm.dayClicked(day, false, $event)" ng-class="{pointer: day.events.length > 0}"> <ng-include src="vm.customTemplateUrls.calendarMonthCell || vm.calendarConfig.templates.calendarMonthCell"></ng-include> </div> </div> <mwl-calendar-slide-box is-open="vm.openRowIndex === $index && (vm.cellAutoOpenDisabled || vm.view[vm.openDayIndex].events.length > 0) && !vm.slideBoxDisabled" events=vm.view[vm.openDayIndex].events on-event-click=vm.onEventClick cell=vm.view[vm.openDayIndex] custom-template-urls=vm.customTemplateUrls template-scope=vm.templateScope draggable-auto-scroll=vm.draggableAutoScroll> </mwl-calendar-slide-box> </div> </div> '},function(e,t){e.exports='<div class=cal-slide-box uib-collapse=vm.isCollapsed mwl-collapse-fallback=vm.isCollapsed> <div class="cal-slide-content cal-event-list"> <ul class="unstyled list-unstyled"> <li ng-repeat="event in vm.events | orderBy:\'startsAt\' track by event.calendarEventId" ng-class=event.cssClass ng-mousedown=$event.stopPropagation() mwl-draggable="event.draggable === true" drop-data="{event: event}" auto-scroll=vm.draggableAutoScroll> <span class="pull-left event" ng-style="{backgroundColor: event.color.primary}"></span> &nbsp; <a href=javascript:; class=event-item ng-click="vm.onEventClick({calendarEvent: event})"> <span ng-bind-html="isMonthView ? vm.calendarEventTitle.monthView(event) : vm.calendarEventTitle.yearView(event) | calendarTrustAsHtml"></span> </a> <a href=javascript:; class=event-item-action ng-class=action.cssClass ng-repeat="action in event.actions track by $index" ng-bind-html="action.label | calendarTrustAsHtml" ng-click="action.onClick({calendarEvent: event})"> </a> </li> </ul> </div> </div> '},function(e,t){e.exports='<div class=cal-week-box ng-class="[{\'cal-day-box\': vm.showTimes}, \'cal-grid-\' + vm.view.days.length]"> <div class="cal-row-fluid cal-row-head" mwl-element-dimensions=vm.dayColumnDimensions> <div class=cal-cell1 ng-repeat="day in vm.view.days track by $index" ng-class="{\n        \'cal-day-weekend\': day.isWeekend,\n        \'cal-day-past\': day.isPast,\n        \'cal-day-today\': day.isToday,\n        \'cal-day-future\': day.isFuture}" mwl-droppable on-drop="vm.eventDropped(dropData.event, day.date)"> <span ng-bind=day.weekDayLabel></span> <br> <small> <span data-cal-date ng-click=vm.calendarCtrl.dateClicked(day.date) class=pointer ng-bind=day.dayLabel> </span> </small> </div> </div> <div class="cal-day-panel clearfix" ng-style="{height: vm.showTimes ? (vm.dayViewHeight + \'px\') : \'auto\'}"> <mwl-calendar-hour-list day-view-start=vm.dayViewStart day-view-end=vm.dayViewEnd day-view-split=vm.dayViewSplit day-width="(vm.dayColumnDimensions.width - 60) / vm.view.days.length" view-date=vm.viewDate on-timespan-click=vm.onTimespanClick on-date-range-select=vm.onDateRangeSelect custom-template-urls=vm.customTemplateUrls cell-modifier=vm.cellModifier template-scope=vm.templateScope view=week ng-if=vm.showTimes> </mwl-calendar-hour-list> <div class=row ng-repeat="row in vm.view.eventRows track by $index"> <div class=col-xs-12> <div class=cal-row-fluid> <div ng-repeat="eventRow in row.row track by eventRow.event.calendarEventId" ng-class="\'cal-cell\' + (vm.showTimes ? 1 : eventRow.span) + (vm.showTimes ? \'\' : \' cal-offset\' + eventRow.offset)" ng-style="{\n              top: vm.showTimes ? ((eventRow.top) + \'px\') : \'auto\',\n              position: vm.showTimes ? \'absolute\' : \'inherit\',\n              width: vm.showTimes ? ((vm.dayColumnDimensions.width - 60) / vm.view.days.length + \'px\') : \'\',\n              left: vm.showTimes ? (((vm.dayColumnDimensions.width - 60) / vm.view.days.length) * eventRow.offset) + 15 + \'px\' : \'\'\n            }"> <div class=day-highlight ng-class="[eventRow.event.cssClass, !vm.showTimes && eventRow.startsBeforeWeek ? \'\' : \'border-left-rounded\', !vm.showTimes && eventRow.endsAfterWeek ? \'\' : \'border-right-rounded\']" ng-style="{backgroundColor: eventRow.event.color.secondary}" data-event-class mwl-draggable="eventRow.event.draggable === true" axis="vm.showTimes ? \'xy\' : \'x\'" snap-grid="vm.showTimes ? {x: (vm.dayColumnDimensions.width - 60) / vm.view.days.length, y: vm.dayViewEventChunkSize || 30} : {x: vm.dayColumnDimensions.width / vm.view.days.length}" auto-scroll=vm.draggableAutoScroll on-drag="vm.tempTimeChanged(eventRow.event, y / 30)" on-drag-end="vm.weekDragged(eventRow.event, x / ((vm.dayColumnDimensions.width - (vm.showTimes ? 60 : 0)) / vm.view.days.length), y / 30)" mwl-resizable="eventRow.event.resizable === true && eventRow.event.endsAt && !vm.showTimes" resize-edges="{left: true, right: true}" on-resize-end="vm.weekResized(eventRow.event, edge, x / ((vm.dayColumnDimensions.width - (vm.showTimes ? 60 : 0)) / vm.view.days.length))"> <strong ng-bind="(eventRow.event.tempStartsAt || eventRow.event.startsAt) | calendarDate:\'time\':true" ng-show=vm.showTimes></strong> <a href=javascript:; ng-click="vm.onEventClick({calendarEvent: eventRow.event})" class=event-item ng-bind-html="vm.calendarEventTitle.weekView(eventRow.event) | calendarTrustAsHtml" uib-tooltip-html="vm.calendarEventTitle.weekViewTooltip(eventRow.event) | calendarTrustAsHtml" tooltip-placement=left tooltip-append-to-body=true> </a> <a href=javascript:; class=event-item-action ng-class=action.cssClass ng-repeat="action in eventRow.event.actions track by $index" ng-bind-html="action.label | calendarTrustAsHtml" ng-click="action.onClick({calendarEvent: eventRow.event})"> </a> </div> </div> </div> </div> </div> </div> </div> '},function(e,t){e.exports='<div class=cal-year-box> <div ng-repeat="rowOffset in [0, 4, 8] track by rowOffset"> <div class="row cal-before-eventlist"> <div class="span3 col-md-3 col-xs-6 cal-cell {{ day.cssClass }}" ng-repeat="month in vm.view | calendarLimitTo:4:rowOffset track by $index" ng-init="monthIndex = vm.view.indexOf(month)" ng-click="vm.monthClicked(month, false, $event)" ng-class="{pointer: month.events.length > 0, \'cal-day-today\': month.isToday}" mwl-droppable on-drop="vm.handleEventDrop(dropData.event, month.date)"> <span class=pull-right data-cal-date ng-click=vm.calendarCtrl.dateClicked(month.date) ng-bind=month.label> </span> <small class="cal-events-num badge badge-important pull-left" ng-show="month.badgeTotal > 0" ng-bind=month.badgeTotal> </small> <div class=cal-day-tick ng-show="monthIndex === vm.openMonthIndex && (vm.cellAutoOpenDisabled || vm.view[vm.openMonthIndex].events.length > 0) && !vm.slideBoxDisabled"> <i class="glyphicon glyphicon-chevron-up"></i> <i class="fa fa-chevron-up"></i> </div> </div> </div> <mwl-calendar-slide-box is-open="vm.openRowIndex === $index && (vm.cellAutoOpenDisabled || vm.view[vm.openMonthIndex].events.length > 0) && !vm.slideBoxDisabled" events=vm.view[vm.openMonthIndex].events on-event-click=vm.onEventClick cell=vm.view[vm.openMonthIndex] custom-template-urls=vm.customTemplateUrls template-scope=vm.templateScope> </mwl-calendar-slide-box> </div> </div> '},function(e,t,n){"use strict";var h=n(0),p="Bootstrap calendar:";h.module("mwl.calendar").controller("MwlCalendarCtrl",["$scope","$log","$timeout","$attrs","$locale","moment","calendarTitle","calendarHelper",function(r,o,a,s,l,c,u,e){var d=this;d.changeView=function(e,t){d.view=e,d.viewDate=t},d.dateClicked=function(e){var t=c(e).toDate(),n={year:"month",month:"day",week:"day"};!1!==d.onViewChangeClick({calendarDate:t,calendarNextView:n[d.view]})&&d.changeView(n[d.view],t)},d.$onInit=function(){function t(){u[d.view]&&h.isDefined(s.viewTitle)&&(d.viewTitle=u[d.view](d.viewDate)),d.events.forEach(function(e,t){(function(e){e.startsAt?h.isDate(e.startsAt)||o.warn(p,"Event startsAt should be a javascript date object. Do `new Date(event.startsAt)` to fix it.",e):o.warn(p,"Event is missing the startsAt field",e),e.endsAt&&(h.isDate(e.endsAt)||o.warn(p,"Event endsAt should be a javascript date object. Do `new Date(event.endsAt)` to fix it.",e),c(e.startsAt).isAfter(c(e.endsAt))&&o.warn(p,"Event cannot start after it finishes",e))})(e),e.calendarEventId=t});var e=c(d.viewDate),t=!0;n.clone().startOf(d.view).isSame(e.clone().startOf(d.view))&&!n.isSame(e)&&d.view===i&&(t=!1),n=e,i=d.view,t&&a(function(){r.$broadcast("calendar.refreshView")})}d.slideBoxDisabled&&o.warn(p,"The `slide-box-disabled` option is deprecated and will be removed in the next release. Instead set `cell-auto-open-disabled` to true"),d.events=d.events||[],d.excludedDays=d.excludedDays||[];var n=c(d.viewDate),i=d.view;e.loadTemplates().then(function(){var e=!(d.templatesLoaded=!0);r.$watchGroup(["vm.viewDate","vm.view","vm.cellIsOpen",function(){return c.locale()+l.id}],function(){e?t():(e=!0,r.$watch("vm.events",t,!0))})}).catch(function(e){o.error("Could not load all calendar templates",e)})},h.version.minor<5&&d.$onInit()}]).directive("mwlCalendar",function(){return{template:'<div mwl-dynamic-directive-template name="calendar" overrides="vm.customTemplateUrls"></div>',restrict:"E",scope:{events:"=",view:"=",viewTitle:"=?",viewDate:"=",cellIsOpen:"=?",cellAutoOpenDisabled:"=?",excludedDays:"=?",slideBoxDisabled:"=?",customTemplateUrls:"=?",draggableAutoScroll:"=?",onEventClick:"&",onEventTimesChanged:"&",onTimespanClick:"&",onDateRangeSelect:"&?",onViewChangeClick:"&",cellModifier:"&",dayViewStart:"@",dayViewEnd:"@",dayViewSplit:"@",dayViewEventChunkSize:"@",dayViewEventWidth:"@",templateScope:"=?",dayViewTimePosition:"@"},controller:"MwlCalendarCtrl as vm",bindToController:!0}})},function(e,t,n){"use strict";n(0).module("mwl.calendar").controller("MwlCalendarDayCtrl",["$scope","moment","calendarHelper","calendarEventTitle",function(e,a,t,n){function i(){s.timeHidden="hidden"===s.dayViewTimePosition,s.dayViewTimePositionOffset="default"!==s.dayViewTimePosition?0:60,s.dayViewSplit=s.dayViewSplit||30,s.dayViewHeight=t.getDayViewHeight(s.dayViewStart,s.dayViewEnd,s.dayViewSplit);var e=t.getDayView(s.events,s.viewDate,s.dayViewStart,s.dayViewEnd,s.dayViewSplit,s.dayViewEventWidth);s.allDayEvents=e.allDayEvents,s.nonAllDayEvents=e.events,s.viewWidth=e.width+62}var s=this;s.calendarEventTitle=n,e.$on("calendar.refreshView",i),e.$watchGroup(["vm.dayViewStart","vm.dayViewEnd","vm.dayViewSplit"],i),s.eventDragComplete=function(e,t){var n=t*s.dayViewSplit,i=a(e.startsAt).add(n,"minutes"),r=a(e.endsAt).add(n,"minutes");delete e.tempStartsAt,s.onEventTimesChanged({calendarEvent:e,calendarNewEventStart:i.toDate(),calendarNewEventEnd:e.endsAt?r.toDate():null})},s.eventDragged=function(e,t){var n=t*s.dayViewSplit;e.tempStartsAt=a(e.startsAt).add(n,"minutes").toDate()},s.eventResizeComplete=function(e,t,n){var i=n*s.dayViewSplit,r=a(e.startsAt),o=a(e.endsAt);"start"===t?r.add(i,"minutes"):o.add(i,"minutes"),delete e.tempStartsAt,s.onEventTimesChanged({calendarEvent:e,calendarNewEventStart:r.toDate(),calendarNewEventEnd:o.toDate()})},s.eventResized=function(e,t,n){var i=n*s.dayViewSplit;"start"===t&&(e.tempStartsAt=a(e.startsAt).add(i,"minutes").toDate())}}]).directive("mwlCalendarDay",function(){return{template:'<div mwl-dynamic-directive-template name="calendarDayView" overrides="vm.customTemplateUrls"></div>',restrict:"E",require:"^mwlCalendar",scope:{events:"=",viewDate:"=",onEventClick:"=",onEventTimesChanged:"=",onTimespanClick:"=",onDateRangeSelect:"=",dayViewStart:"=",dayViewEnd:"=",dayViewSplit:"=",dayViewEventChunkSize:"=",dayViewEventWidth:"=",customTemplateUrls:"=?",cellModifier:"=",templateScope:"=",dayViewTimePosition:"=",draggableAutoScroll:"="},controller:"MwlCalendarDayCtrl as vm",bindToController:!0}})},function(e,t,n){"use strict";var i=n(0),l=n(4);i.module("mwl.calendar").controller("MwlCalendarHourListCtrl",["$scope","$document","moment","calendarHelper",function(e,r,o,a){function t(){s.dayViewSplit=parseInt(s.dayViewSplit);var e=(s.dayViewStart||"00:00").split(":"),t=(s.dayViewEnd||"23:59").split(":");s.hourGrid=l.getDayViewHourGrid({viewDate:"week"===s.view?o(s.viewDate).startOf("week").toDate():o(s.viewDate).toDate(),hourSegments:60/s.dayViewSplit,dayStart:{hour:e[0],minute:e[1]},dayEnd:{hour:t[0],minute:t[1]}}),s.hourGrid.forEach(function(e){e.segments.forEach(function(e){if(e.date=o(e.date),e.nextSegmentDate=e.date.clone().add(s.dayViewSplit,"minutes"),"week"===s.view){e.days=[];for(var t=0;t<7;t++){var n={date:o(e.date).add(t,"days")};n.nextSegmentDate=n.date.clone().add(s.dayViewSplit,"minutes"),s.cellModifier({calendarCell:n}),e.days.push(n)}}else s.cellModifier({calendarCell:e})})})}var s=this;s.scrollBarWidth=function(){var e=r[0].createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",r[0].body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var n=r[0].createElement("div");n.style.width="100%",e.appendChild(n);var i=n.offsetWidth;return e.parentNode.removeChild(e),t-i}();var n=o.locale();e.$on("calendar.refreshView",function(){n!==o.locale()&&(n=o.locale(),t())}),e.$watchGroup(["vm.dayViewStart","vm.dayViewEnd","vm.dayViewSplit","vm.viewDate"],function(){t()}),s.eventDropped=function(e,t){var n=o(t),i=a.adjustEndDateFromStartDiff(e.startsAt,n,e.endsAt);s.onEventTimesChanged({calendarEvent:e,calendarDate:t,calendarNewEventStart:n.toDate(),calendarNewEventEnd:i?i.toDate():null})},s.onDragSelectStart=function(e,t){s.dateRangeSelect||(s.dateRangeSelect={active:!0,startDate:e,endDate:e,dayIndex:t})},s.onDragSelectMove=function(e){s.dateRangeSelect&&(s.dateRangeSelect.endDate=e)},s.onDragSelectEnd=function(e){s.dateRangeSelect&&(s.dateRangeSelect.endDate=e,s.dateRangeSelect.endDate>s.dateRangeSelect.startDate&&s.onDateRangeSelect({calendarRangeStartDate:s.dateRangeSelect.startDate.toDate(),calendarRangeEndDate:s.dateRangeSelect.endDate.toDate()}),delete s.dateRangeSelect)}}]).directive("mwlCalendarHourList",function(){return{restrict:"E",template:'<div mwl-dynamic-directive-template name="calendarHourList" overrides="vm.customTemplateUrls"></div>',controller:"MwlCalendarHourListCtrl as vm",scope:{viewDate:"=",dayViewStart:"=",dayViewEnd:"=",dayViewSplit:"=",dayWidth:"=?",onTimespanClick:"=",onDateRangeSelect:"=",onEventTimesChanged:"=",customTemplateUrls:"=?",cellModifier:"=",templateScope:"=",view:"@"},bindToController:!0}})},function(e,t,n){"use strict";var r=n(0);r.module("mwl.calendar").controller("MwlCalendarMonthCtrl",["$scope","moment","calendarHelper","calendarConfig","calendarEventTitle",function(e,o,a,n,t){function i(){s.openRowIndex=null,s.openDayIndex=null,s.cellIsOpen&&s.view&&s.weekDays&&s.view.forEach(function(e,t){o(s.viewDate).startOf("day").isSame(e.date)&&(s.openDayIndex=t,s.openRowIndex=Math.floor(t/s.weekDays.length))})}var s=this;s.calendarConfig=n,s.calendarEventTitle=t,s.openRowIndex=null,e.$on("calendar.refreshView",function(){s.weekDays=a.getWeekDayNames(s.excludedDays);var e=a.getMonthView(s.events,s.viewDate,s.cellModifier,s.excludedDays);s.view=e.days,s.monthOffsets=e.rowOffsets,s.cellAutoOpenDisabled?i():!s.cellAutoOpenDisabled&&s.cellIsOpen&&null===s.openRowIndex&&(s.openDayIndex=null,s.view.forEach(function(e){e.inMonth&&o(s.viewDate).startOf("day").isSame(e.date)&&s.dayClicked(e,!0)}))}),s.dayClicked=function(e,t,n){if((t||(s.onTimespanClick({calendarDate:e.date.toDate(),calendarCell:e,$event:n}),!n||!n.defaultPrevented))&&!s.cellAutoOpenDisabled){s.openRowIndex=null;var i=s.view.indexOf(e);i===s.openDayIndex?(s.openDayIndex=null,s.cellIsOpen=!1):(s.openDayIndex=i,s.openRowIndex=Math.floor(i/s.weekDays.length),s.cellIsOpen=!0)}},s.highlightEvent=function(t,n){s.view.forEach(function(e){delete e.highlightClass,delete e.backgroundColor,!n||-1<e.events.indexOf(t)&&(e.backgroundColor=t.color?t.color.secondary:"")})},s.handleEventDrop=function(e,t,n){var i=o(e.startsAt).year(o(t).year()).month(o(t).month()).date(o(t).date()),r=a.adjustEndDateFromStartDiff(e.startsAt,i,e.endsAt);s.onEventTimesChanged({calendarEvent:e,calendarDate:t,calendarNewEventStart:i.toDate(),calendarNewEventEnd:r?r.toDate():null,calendarDraggedFromDate:n})},s.getWeekNumberLabel=function(e){var t=e.date.clone().add(1,"day").isoWeek();return"function"==typeof n.i18nStrings.weekNumber?n.i18nStrings.weekNumber({weekNumber:t}):n.i18nStrings.weekNumber.replace("{week}",t)},s.onDragSelectStart=function(e){s.dateRangeSelect||(s.dateRangeSelect={startDate:e.date,endDate:e.date})},s.onDragSelectMove=function(e){s.dateRangeSelect&&(s.dateRangeSelect.endDate=e.date)},s.onDragSelectEnd=function(e){s.dateRangeSelect&&(s.dateRangeSelect.endDate=e.date,s.dateRangeSelect.endDate>s.dateRangeSelect.startDate&&s.onDateRangeSelect({calendarRangeStartDate:s.dateRangeSelect.startDate.clone().startOf("day").toDate(),calendarRangeEndDate:s.dateRangeSelect.endDate.clone().endOf("day").toDate()}),delete s.dateRangeSelect)},s.$onInit=function(){s.cellAutoOpenDisabled&&e.$watchGroup(["vm.cellIsOpen","vm.viewDate"],i)},r.version.minor<5&&s.$onInit()}]).directive("mwlCalendarMonth",function(){return{template:'<div mwl-dynamic-directive-template name="calendarMonthView" overrides="vm.customTemplateUrls"></div>',restrict:"E",require:"^mwlCalendar",scope:{events:"=",viewDate:"=",excludedDays:"=",onEventClick:"=",onEventTimesChanged:"=",onDateRangeSelect:"=",cellIsOpen:"=",cellAutoOpenDisabled:"=",onTimespanClick:"=",cellModifier:"=",slideBoxDisabled:"=",customTemplateUrls:"=?",templateScope:"=",draggableAutoScroll:"="},controller:"MwlCalendarMonthCtrl as vm",link:function(e,t,n,i){e.vm.calendarCtrl=i},bindToController:!0}})},function(e,t,n){"use strict";n(0).module("mwl.calendar").controller("MwlCalendarSlideBoxCtrl",["$scope","$timeout","calendarConfig","calendarEventTitle",function(e,t,n,i){var r=this;r.calendarConfig=n,r.calendarEventTitle=i,r.isCollapsed=!0,e.$watch("vm.isOpen",function(e){t(function(){r.isCollapsed=!e})})}]).directive("mwlCalendarSlideBox",function(){return{restrict:"E",template:'<div mwl-dynamic-directive-template name="calendarSlideBox" overrides="vm.customTemplateUrls"></div>',replace:!0,controller:"MwlCalendarSlideBoxCtrl as vm",require:["^?mwlCalendarMonth","^?mwlCalendarYear"],link:function(e,t,n,i){e.isMonthView=!!i[0],e.isYearView=!!i[1]},scope:{isOpen:"=",events:"=",onEventClick:"=",cell:"=",customTemplateUrls:"=?",templateScope:"=",draggableAutoScroll:"="},bindToController:!0}})},function(e,t,n){"use strict";n(0).module("mwl.calendar").controller("MwlCalendarWeekCtrl",["$scope","moment","calendarHelper","calendarConfig","calendarEventTitle",function(e,a,t,n,i){var s=this;s.showTimes=n.showTimesOnWeekView,s.calendarEventTitle=i,e.$on("calendar.refreshView",function(){s.dayViewSplit=s.dayViewSplit||30,s.dayViewHeight=t.getDayViewHeight(s.dayViewStart,s.dayViewEnd,s.dayViewSplit),s.showTimes?s.view=t.getWeekViewWithTimes(s.events,s.viewDate,s.dayViewStart,s.dayViewEnd,s.dayViewSplit):s.view=t.getWeekView(s.events,s.viewDate,s.excludedDays)}),s.weekDragged=function(e,t,n){var i=a(e.startsAt).add(t,"days"),r=a(e.endsAt).add(t,"days");if(n){var o=n*s.dayViewSplit;i=i.add(o,"minutes"),r=r.add(o,"minutes")}delete e.tempStartsAt,s.onEventTimesChanged({calendarEvent:e,calendarNewEventStart:i.toDate(),calendarNewEventEnd:e.endsAt?r.toDate():null})},s.eventDropped=function(e,t){var n=a(t).diff(a(e.startsAt),"days");s.weekDragged(e,n)},s.weekResized=function(e,t,n){var i=a(e.startsAt),r=a(e.endsAt);"start"===t?i.add(n,"days"):r.add(n,"days"),s.onEventTimesChanged({calendarEvent:e,calendarNewEventStart:i.toDate(),calendarNewEventEnd:r.toDate()})},s.tempTimeChanged=function(e,t){var n=t*s.dayViewSplit;e.tempStartsAt=a(e.startsAt).add(n,"minutes").toDate()}}]).directive("mwlCalendarWeek",function(){return{template:'<div mwl-dynamic-directive-template name="calendarWeekView" overrides="vm.customTemplateUrls"></div>',restrict:"E",require:"^mwlCalendar",scope:{events:"=",viewDate:"=",excludedDays:"=",onEventClick:"=",onEventTimesChanged:"=",dayViewStart:"=",dayViewEnd:"=",dayViewSplit:"=",dayViewEventChunkSize:"=",onTimespanClick:"=",onDateRangeSelect:"=",customTemplateUrls:"=?",cellModifier:"=",templateScope:"=",draggableAutoScroll:"="},controller:"MwlCalendarWeekCtrl as vm",link:function(e,t,n,i){e.vm.calendarCtrl=i},bindToController:!0}})},function(e,t,n){"use strict";var i=n(0);i.module("mwl.calendar").controller("MwlCalendarYearCtrl",["$scope","moment","calendarHelper",function(e,r,o){function t(){a.openRowIndex=null,a.openMonthIndex=null,a.cellIsOpen&&a.view&&a.view.forEach(function(e,t){r(a.viewDate).startOf("month").isSame(e.date)&&(a.openMonthIndex=t,a.openRowIndex=Math.floor(t/4))})}var a=this;a.openMonthIndex=null,e.$on("calendar.refreshView",function(){a.view=o.getYearView(a.events,a.viewDate,a.cellModifier),a.cellAutoOpenDisabled?t():!a.cellAutoOpenDisabled&&a.cellIsOpen&&null===a.openMonthIndex&&(a.openMonthIndex=null,a.view.forEach(function(e){r(a.viewDate).startOf("month").isSame(e.date)&&a.monthClicked(e,!0)}))}),a.monthClicked=function(e,t,n){if((t||(a.onTimespanClick({calendarDate:e.date.toDate(),calendarCell:e,$event:n}),!n||!n.defaultPrevented))&&!a.cellAutoOpenDisabled){a.openRowIndex=null;var i=a.view.indexOf(e);i===a.openMonthIndex?(a.openMonthIndex=null,a.cellIsOpen=!1):(a.openMonthIndex=i,a.openRowIndex=Math.floor(i/4),a.cellIsOpen=!0)}},a.handleEventDrop=function(e,t){var n=r(e.startsAt).year(r(t).year()).month(r(t).month()),i=o.adjustEndDateFromStartDiff(e.startsAt,n,e.endsAt);a.onEventTimesChanged({calendarEvent:e,calendarDate:t,calendarNewEventStart:n.toDate(),calendarNewEventEnd:i?i.toDate():null})},a.$onInit=function(){a.cellAutoOpenDisabled&&e.$watchGroup(["vm.cellIsOpen","vm.viewDate"],t)},i.version.minor<5&&a.$onInit()}]).directive("mwlCalendarYear",function(){return{template:'<div mwl-dynamic-directive-template name="calendarYearView" overrides="vm.customTemplateUrls"></div>',restrict:"E",require:"^mwlCalendar",scope:{events:"=",viewDate:"=",onEventClick:"=",onEventTimesChanged:"=",cellIsOpen:"=",cellAutoOpenDisabled:"=",onTimespanClick:"=",cellModifier:"=",slideBoxDisabled:"=",customTemplateUrls:"=?",templateScope:"="},controller:"MwlCalendarYearCtrl as vm",link:function(e,t,n,i){e.vm.calendarCtrl=i},bindToController:!0}})},function(e,t,n){"use strict";n(0).module("mwl.calendar").controller("MwlCollapseFallbackCtrl",["$scope","$attrs","$element",function(e,t,n){e.$watch(t.mwlCollapseFallback,function(e){e?n.addClass("ng-hide"):n.removeClass("ng-hide")})}]).directive("mwlCollapseFallback",["$injector",function(e){return e.has("uibCollapseDirective")?{}:{restrict:"A",controller:"MwlCollapseFallbackCtrl"}}])},function(e,t,n){"use strict";var a=n(0);a.module("mwl.calendar").controller("MwlDateModifierCtrl",["$element","$attrs","$scope","moment",function(e,t,n,i){function r(){if(a.isDefined(t.setToToday))o.date=new Date;else if(a.isDefined(t.increment)){if(o.date=i(o.date).add(1,o.increment),o.excludedDays&&-1<o.increment.indexOf("day"))for(;-1<o.excludedDays.indexOf(o.date.day());)o.date.add(1,o.increment);o.date=o.date.toDate()}else if(a.isDefined(t.decrement)){if(o.date=i(o.date).subtract(1,o.decrement),o.excludedDays&&-1<o.decrement.indexOf("day"))for(;-1<o.excludedDays.indexOf(o.date.day());)o.date.subtract(1,o.decrement);o.date=o.date.toDate()}n.$apply()}var o=this;e.bind("click",r),n.$on("$destroy",function(){e.unbind("click",r)})}]).directive("mwlDateModifier",function(){return{restrict:"A",controller:"MwlDateModifierCtrl as vm",scope:{date:"=",increment:"=",decrement:"=",excludedDays:"=?"},bindToController:!0}})},function(e,t,n){"use strict";n(0).module("mwl.calendar").controller("MwlDragSelectCtrl",["$scope","$element","$parse","$attrs",function(n,t,i,e){function r(t){return function(e){t&&2!==e.button&&(i(t)(n),n.$apply()),e.preventDefault()}}function o(){t.off("mousedown",a),t.off("mousemove",s),t.off("mouseup",l)}var a=r(e.onDragSelectStart),s=r(e.onDragSelectMove),l=r(e.onDragSelectEnd);n.$watch(e.mwlDragSelect,function(e){e?(t.on("mousedown",a),t.on("mousemove",s),t.on("mouseup",l)):o()}),n.$on("$destroy",function(){o()})}]).directive("mwlDragSelect",function(){return{restrict:"A",controller:"MwlDragSelectCtrl"}})},function(e,t,n){"use strict";var d=n(0);d.module("mwl.calendar").controller("MwlDraggableCtrl",["$element","$scope","$window","$parse","$attrs","$timeout","interact",function(t,r,o,a,s,l,n){function c(e,t){return e.css("-ms-transform",t).css("-webkit-transform",t).css("transform",t)}if(n){var e,i;s.snapGrid&&(i=a(s.snapGrid)(r),e={targets:[n.createSnapGrid(i)]});var u=a(s.autoScroll)(r);void 0===u&&(u=!0),n(t[0]).draggable({autoScroll:u,snap:e,onstart:function(e){d.element(e.target).addClass("dragging-active"),e.target.dropData=a(s.dropData)(r),e.target.style.pointerEvents="none",s.onDragStart&&(a(s.onDragStart)(r),r.$apply())},onmove:function(e){var t=d.element(e.target),n=(parseFloat(t.attr("data-x"))||0)+(e.dx||0),i=(parseFloat(t.attr("data-y"))||0)+(e.dy||0);switch(a(s.axis)(r)){case"x":i=0;break;case"y":n=0}"static"===o.getComputedStyle(t[0]).position&&t.css("position","relative"),c(t,"translate("+n+"px, "+i+"px)").css("z-index",50).attr("data-x",n).attr("data-y",i),s.onDrag&&(a(s.onDrag)(r,{x:n,y:i}),r.$apply())},onend:function(e){var t=d.element(e.target),n=t.attr("data-x"),i=t.attr("data-y");e.target.style.pointerEvents="auto",s.onDragEnd&&(a(s.onDragEnd)(r,{x:n,y:i}),r.$apply()),l(function(){c(t,"").css("z-index","auto").removeAttr("data-x").removeAttr("data-y").removeClass("dragging-active")})}}),r.$watch(s.mwlDraggable,function(e){n(t[0]).draggable({enabled:e})}),r.$on("$destroy",function(){n(t[0]).unset()})}}]).directive("mwlDraggable",function(){return{restrict:"A",controller:"MwlDraggableCtrl"}})},function(e,t,n){"use strict";var a=n(0);a.module("mwl.calendar").controller("MwlDroppableCtrl",["$element","$scope","$parse","$attrs","interact",function(e,t,n,i,r){if(r){var o=i.dropActiveClass||"drop-active";r(e[0]).dropzone({ondragenter:function(e){a.element(e.target).addClass(o)},ondragleave:function(e){a.element(e.target).removeClass(o)},ondropdeactivate:function(e){a.element(e.target).removeClass(o)},ondrop:function(e){e.relatedTarget.dropData&&(n(i.onDrop)(t,{dropData:e.relatedTarget.dropData}),t.$apply())}}),t.$on("$destroy",function(){r(e[0]).unset()})}}]).directive("mwlDroppable",function(){return{restrict:"A",controller:"MwlDroppableCtrl"}})},function(e,t,n){"use strict";var u=n(0);u.module("mwl.calendar").controller("MwlDynamicDirectiveTemplateCtrl",["$compile","$scope","$attrs","$element","$templateCache","$log","calendarConfig",function(i,r,o,a,s,l,c){r.$watch(o.overrides,function(e){var t=c.templates[o.name];e&&u.isObject(e)&&e[o.name]&&(s.get(e[o.name])?t=e[o.name]:l.warn("Bootstrap Calendar","The custom template for "+e[o.name]+' was not found in the template cache. Please ensure it is pre-loaded via a script tag <script type="text/ng-template" id="'+e[o.name]+'">Custom template content<\/script> or via a tool such as https://www.npmjs.com/package/gulp-angular-templatecache'));var n=s.get(t);a.html(n),i(a.contents())(r)})}]).directive("mwlDynamicDirectiveTemplate",function(){return{restrict:"A",controller:"MwlDynamicDirectiveTemplateCtrl"}})},function(e,t,n){"use strict";var s=n(0);s.module("mwl.calendar").controller("MwlElementDimensionsCtrl",["$element","$scope","$parse","$attrs","$window",function(e,t,n,i,r){function o(){n(i.mwlElementDimensions).assign(t,{width:e[0].offsetWidth-1,height:e[0].offsetHeight}),t.$applyAsync()}var a=s.element(r);a.bind("resize",o),o(),t.$on("$destroy",function(){a.unbind("resize",o)})}]).directive("mwlElementDimensions",function(){return{restrict:"A",controller:"MwlElementDimensionsCtrl"}})},function(e,t,n){"use strict";var h=n(0);h.module("mwl.calendar").controller("MwlResizableCtrl",["$element","$scope","$parse","$attrs","$timeout","interact",function(t,r,o,a,i,n){function s(e,t){var n={};return"start"===(n.edge=e)?(n.x=t.data("x"),n.y=t.data("y")):"end"===e&&(n.x=parseFloat(t.css("width").replace("px",""))-u.width,n.y=parseFloat(t.css("height").replace("px",""))-u.height),n}if(n){var e,l;a.snapGrid&&(l=o(a.snapGrid)(r),e={targets:[n.createSnapGrid(l)]});var c,u={},d={};n(t[0]).resizable({edges:o(a.resizeEdges)(r),snap:e,onstart:function(e){c="end";var t=h.element(e.target);u.height=t[0].offsetHeight,u.width=t[0].offsetWidth,d.height=t.css("height"),d.width=t.css("width")},onmove:function(e){if(0<e.rect.width&&0<e.rect.height){var t=h.element(e.target),n=parseFloat(t.data("x")||0),i=parseFloat(t.data("y")||0);t.css({width:e.rect.width+"px",height:e.rect.height+"px"}),n+=e.deltaRect.left,i+=e.deltaRect.top,t.css("transform","translate("+n+"px,"+i+"px)"),t.data("x",n),t.data("y",i),0===e.deltaRect.left&&0===e.deltaRect.top||(c="start"),a.onResize&&(o(a.onResize)(r,s(c,t)),r.$apply())}},onend:function(e){var t=h.element(e.target),n=s(c,t);i(function(){t.data("x",null).data("y",null).css({transform:"",width:d.width,height:d.height})}),a.onResizeEnd&&(o(a.onResizeEnd)(r,n),r.$apply())}}),r.$watch(a.mwlResizable,function(e){n(t[0]).resizable({enabled:e})}),r.$on("$destroy",function(){n(t[0]).unset()})}}]).directive("mwlResizable",function(){return{restrict:"A",controller:"MwlResizableCtrl"}})},function(e,t,n){"use strict";function i(e){e.keys().forEach(e)}n(6);var r=n(0),o={},a=n(10);a.keys().forEach(function(e){var t=e.replace("./",""),n="mwl/"+t,i=t.replace(".html","");o[i]={cacheTemplateName:n,template:a(e)}}),e.exports=r.module("mwl.calendar",[]).config(["calendarConfig",function(n){r.forEach(o,function(e,t){n.templates[t]||(n.templates[t]=e.cacheTemplateName)})}]).run(["$templateCache","$interpolate",function(n,i){r.forEach(o,function(e){if(!n.get(e.cacheTemplateName)){var t=e.template.replace("{{",i.startSymbol()).replace("}}",i.endSymbol());n.put(e.cacheTemplateName,t)}})}]).name,i(n(7)),i(n(8)),i(n(9))},function(e,t,n){"use strict";n(0).module("mwl.calendar").filter("calendarDate",["calendarHelper","calendarConfig",function(i,r){function e(e,t,n){return!0===n&&(t=r.dateFormats[t]),i.formatDate(e,t)}return e.$stateful=!0,e}])},function(e,t,n){"use strict";var i=n(0);i.module("mwl.calendar").filter("calendarLimitTo",["limitToFilter",function(e){return 4<=i.version.minor?e:function(e,t,n){return t=Math.abs(Number(t))===1/0?Number(t):parseInt(t),isNaN(t)?e:(i.isNumber(e)&&(e=e.toString()),i.isArray(e)||i.isString(e)?(n=(n=!n||isNaN(n)?0:parseInt(n))<0&&n>=-e.length?e.length+n:n,0<=t?e.slice(n,n+t):0===n?e.slice(t,e.length):e.slice(Math.max(0,n+t),n)):e)}}])},function(e,t,n){"use strict";n(0).module("mwl.calendar").filter("calendarTruncateEventTitle",function(){return function(e,t,n){return e?e.length>=t&&e.length/20>n/30?e.substr(0,t)+"...":e:""}})},function(e,t,n){"use strict";n(0).module("mwl.calendar").filter("calendarTrustAsHtml",["$sce",function(t){return function(e){return t.trustAsHtml(e)}}])},function(e,t,n){"use strict";n(0).module("mwl.calendar").constant("calendarConfig",{allDateFormats:{angular:{date:{hour:"ha",day:"d MMM",month:"MMMM",weekDay:"EEEE",time:"HH:mm",datetime:"MMM d, h:mm a"},title:{day:"EEEE d MMMM, yyyy",week:"Week {week} of {year}",month:"MMMM yyyy",year:"yyyy"}},moment:{date:{hour:"ha",day:"D MMM",month:"MMMM",weekDay:"dddd",time:"HH:mm",datetime:"MMM D, h:mm a"},title:{day:"dddd D MMMM, YYYY",week:"Week {week} of {year}",month:"MMMM YYYY",year:"YYYY"}}},get dateFormats(){return this.allDateFormats[this.dateFormatter].date},get titleFormats(){return this.allDateFormats[this.dateFormatter].title},dateFormatter:"angular",showTimesOnWeekView:!1,displayAllMonthEvents:!1,i18nStrings:{weekNumber:"Week {week}"},templates:{},colorTypes:{info:{primary:"#1e90ff",secondary:"#d1e8ff"},important:{primary:"#ad2121",secondary:"#fae3e3"},warning:{primary:"#e3bc08",secondary:"#fdf1ba"},inverse:{primary:"#1b1b1b",secondary:"#c1c1c1"},special:{primary:"#800080",secondary:"#ffe6ff"},success:{primary:"#006400",secondary:"#caffca"}}})},function(e,t,n){"use strict";n(0).module("mwl.calendar").factory("calendarEventTitle",["calendarDateFilter","calendarTruncateEventTitleFilter",function(t,n){return{yearView:function(e){return e.title+" ("+t(e.startsAt,"datetime",!0)+")"},monthView:function(e){return e.title+" ("+t(e.startsAt,"time",!0)+")"},monthViewTooltip:function(e){return t(e.startsAt,"time",!0)+" - "+e.title},weekView:function(e){return e.title},weekViewTooltip:function(e){return e.title},dayView:function(e){return e.allDay?e.title:n(e.title,20,e.height)},dayViewTooltip:function(e){return e.title}}}])},function(e,t,n){"use strict";var i=n(0),v=n(4);i.module("mwl.calendar").factory("calendarHelper",["$q","$templateRequest","dateFilter","moment","calendarConfig",function(t,n,i,d,h){function p(e,t){if("angular"===h.dateFormatter)return i(d(e).toDate(),t);if("moment"===h.dateFormatter)return d(e).format(t);throw new Error("Unknown date formatter: "+h.dateFormatter)}function a(e,t,n){if(!n)return n;var i=d(t).diff(d(e));return d(n).add(i)}function c(e,t,n){var i=d(e.start),r=d(e.end),o=d(n);if(t){switch(t){case"year":i.set({year:o.year()});break;case"month":i.set({year:o.year(),month:o.month()});break;default:throw new Error("Invalid value ("+t+") given for recurs on. Can only be year or month.")}r=a(e.start,i,r)}return{start:i,end:r}}function r(e,t,n){t=d(t),n=d(n);var i=c({start:e.startsAt,end:e.endsAt||e.startsAt},e.recursOn,t),r=i.start,o=i.end;return r.isAfter(t)&&r.isBefore(n)||o.isAfter(t)&&o.isBefore(n)||r.isBefore(t)&&o.isAfter(n)||r.isSame(t)||o.isSame(n)}function f(e,t,n){return e.filter(function(e){return r(e,t,n)})}function g(e){return e.filter(function(e){return!1!==e.incrementsBadgeTotal}).length}function u(e,t){return e.start=t.start.toDate(),e.endsAt&&(e.end=t.end.toDate()),e}function l(e,t,n){var i=v.getWeekViewHeader({viewDate:t,excluded:n,weekStartsOn:d().startOf("week").day()}).map(function(e){return e.date=d(e.date),e.weekDayLabel=p(e.date,h.dateFormats.weekDay),e.dayLabel=p(e.date,h.dateFormats.day),e}),r=d(t).startOf("week"),o=d(t).endOf("week");return{days:i,eventRows:v.getWeekView({viewDate:t,weekStartsOn:d().startOf("week").day(),excluded:n,events:f(e,r,o).map(function(e){var t=d(r).startOf("day"),n=c({start:d(e.startsAt),end:d(e.endsAt||e.startsAt)},e.recursOn,t),i={originalEvent:e,start:n.start.toDate()};return e.endsAt&&(i.end=n.end.toDate()),i})}).map(function(e){return e.row=e.row.map(function(e){return e.event=e.event.originalEvent,e}),e})}}function m(e,t,n,i,r,o){var a=(n||"00:00").split(":"),s=(i||"23:59").split(":"),l=v.getDayView({events:e.map(function(e){return u(e,c({start:d(e.startsAt),end:d(e.endsAt||e.startsAt)},e.recursOn,d(t).startOf("day")))}),viewDate:t,hourSegments:60/r,dayStart:{hour:a[0],minute:a[1]},dayEnd:{hour:s[0],minute:s[1]},eventWidth:o?+o:150,segmentHeight:30});return e.forEach(function(e){delete e.start,delete e.end}),l}return{getWeekDayNames:function(e){return[0,1,2,3,4,5,6].filter(function(t){return!(e||[]).some(function(e){return e===t})}).map(function(e){return p(d().weekday(e),h.dateFormats.weekDay)})},getYearView:function(e,t,n){for(var i=[],r=function(e,t,n){return f(n,d(e).startOf(t),d(e).endOf(t))}(t,"year",e),o=d(t).startOf("year"),a=0;a<12;){var s=o.clone(),l=s.clone().endOf("month"),c=f(r,s,l),u={label:p(s,h.dateFormats.month),isToday:s.isSame(d().startOf("month")),events:c,date:s,badgeTotal:g(c)};n({calendarCell:u}),i.push(u),o.add(1,"month"),a++}return i},getMonthView:function(e,t,n,i){e.forEach(function(e){u(e,c({start:d(e.startsAt),end:d(e.endsAt||e.startsAt)},e.recursOn,d(t).startOf("month")))});var r=v.getMonthView({events:e,viewDate:t,excluded:i,weekStartsOn:d().startOf("week").day()});return r.days=r.days.map(function(e){return e.date=d(e.date),e.label=e.date.date(),e.badgeTotal=g(e.events),h.displayAllMonthEvents||e.inMonth||(e.events=[]),n({calendarCell:e}),e}),e.forEach(function(e){delete e.start,delete e.end}),r},getWeekView:l,getDayView:m,getWeekViewWithTimes:function(e,n,i,r,o){var t=l(e,n),a=[],s=[];return t.eventRows.forEach(function(e){e.row.forEach(function(e){s.push(e.event)})}),t.days.forEach(function(t){var e=m(s.filter(function(e){return d(e.startsAt).startOf("day").isSame(d(t.date).startOf("day"))}),t.date,i,r,o).events;a=a.concat(e)}),t.eventRows=[{row:a.map(function(e){var t=e.event;return{event:t,top:e.top,offset:v.getWeekViewEventOffset({event:{start:t.startsAt,end:t.endsAt},startOfWeek:d(n).startOf("week").toDate()})}})}],t},getDayViewHeight:function(e,t,n){var i=d(e||"00:00","HH:mm"),r=60/n*30;return d(t||"23:59","HH:mm").diff(i,"minutes")/60*r+3},adjustEndDateFromStartDiff:a,formatDate:p,loadTemplates:function(){var e=Object.keys(h.templates).map(function(e){var t=h.templates[e];return n(t)});return t.all(e)},eventIsInPeriod:r}}])},function(e,t,n){"use strict";n(0).module("mwl.calendar").factory("calendarTitle",["moment","calendarConfig","calendarHelper",function(t,n,i){return{day:function(e){return i.formatDate(e,n.titleFormats.day)},week:function(e){return n.titleFormats.week.replace("{week}",t(e).isoWeek()).replace("{year}",t(e).startOf("isoweek").format("YYYY"))},month:function(e){return i.formatDate(e,n.titleFormats.month)},year:function(e){return i.formatDate(e,n.titleFormats.year)}}}])},function(e,t,n){"use strict";var i,r=n(0);try{i=n(72)}catch(e){i=null}r.module("mwl.calendar").constant("interact",i)},function(e,t,n){"use strict";var i=n(0),r=n(71);i.module("mwl.calendar").constant("moment",r)},function(e,t){e.exports=i},function(e,t){if(void 0===r){var n=new Error('Cannot find module "undefined"');throw n.code="MODULE_NOT_FOUND",n}e.exports=r}],o.c=s,o.i=function(e){return e},o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=60);function o(e){if(s[e])return s[e].exports;var t=s[e]={i:e,l:!1,exports:{}};return a[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}var a,s});