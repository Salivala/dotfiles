(window.webpackJsonp=window.webpackJsonp||[]).push([[209,1,5,249,288,300,301,435,438],{1334:function(t,e,n){var i,r;i=[n(25),n(59)],void 0===(r=function(t,e){var n;if(null==window._mediaDependency)throw new Error("Media object must be defined in the document head");return t.extend(window._mediaDependency,e.Events),n=window._mediaDependency.detect,window._mediaDependency.detect=function(){var t;return(t=n())&&window._mediaDependency.trigger("change"),t},window._mediaDependency}.apply(e,i))||(t.exports=r)},1344:function(t,e,n){var i,r=[].slice;void 0===(i=function(){var t,e,n,i,o,s,a;if(t=window._alConfig["segment/analytics"],null!=window.analytics)return{track:function(t,e,n,i){var r;return r=!0===(e=this.addPageviewArg(e)).send_to_intercom,n=this.addIntercomIntegrationFlag(n,r),delete e.send_to_intercom,window.analytics.track.apply(window.analytics,[t,e,n,i])},page:function(t,e,n,i,r){return null!=window._pageviewId&&(window._pageviewId=window._pageviewId.substring(0,32)+Math.random().toString(36).substring(0,16)+Math.random().toString(36).substring(0,16)),n=this.addPageviewArg(n),window.analytics.page.apply(window.analytics,[t,e,n,i,r])},addPageviewArg:function(t){return null==window._pageviewId?t:(t||(t={}),t.pageviewId=window._pageviewId,t)},addIntercomIntegrationFlag:function(e,n){return e||(e={}),e.integrations={Intercom:t.send_to_intercom&&n},e},showIntercomWidget:function(){return window.analytics.page({},{Intercom:{hideDefaultLauncher:!1}})}};for(e={},s=t.logging_enabled,n=function(t){return e[t]=function(){var t;if(t=1<=arguments.length?r.call(arguments,0):[],s)return"undefined"!=typeof console&&null!==console?console.log(t):void 0}},i=0,o=(a=["track","page"]).length;i<o;i++)n(a[i]);return e}.apply(e,[]))||(t.exports=i)},1345:function(t,e,n){var i,r,o;o=n(1402),i=n(25),r={h:"about 1 hour"},o.locale("en.custom",{relativeTime:i.defaults(r,o.localeData()._relativeTime)}),t.exports=o},1354:function(t,e,n){var i,r,o={}.hasOwnProperty;i=[n(151),n(152)],void 0===(r=function(t,e){return function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return function(t,e){for(var n in e)o.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(i,t("Degree")),i.prototype.autocomplete=function(t){return new e(t,{selectCallback:function(e){return function(n){return t.val(n.item.display_name),e.set("new_tag_id",n.id),e.trigger("autocomplete")}}(this),queryOptions:{tag_type:"CollegeTag"},tags:!0})},i}()}.apply(e,i))||(t.exports=r)},1355:function(t,e,n){var i,r;i=[n(2),n(52)],void 0===(r=function(t,e){return function(n,i){return e.with(t(e.selector("layouts/flashes")),function(t){return t.flash(n,i)})}}.apply(e,i))||(t.exports=r)},1357:function(t,e,n){var i,r,o={}.hasOwnProperty;i=[n(151),n(152),n(1354)],void 0===(r=function(t,e,n){return function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return function(t,e){for(var n in e)o.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(r,t("NewTagging")),r.prototype.sync=function(t,e,i){var o;if("tags_colleges"!==e.get("new_taggable_field"))return r.__super__.sync.call(this,t,e,i);switch(t){case"delete":return i||(i={}),i.url="/degrees/"+e.id,i.contentType="application/json",r.__super__.sync.call(this,t,e,i);case"create":return i||(i={}),i.url="/degrees",i.contentType="application/json",o=new n({user_id:e.get("new_taggable_id"),new_tag_id:e.get("new_tag").id}),i.data=JSON.stringify({degree:o.toJSON()}),r.__super__.sync.call(this,"create",e,i);default:throw new Error("Degrees can only be created and deleted via NewTagging logic")}},r.prototype.autocomplete=function(t,n){return new e(t,{selectCallback:function(e){return function(n){return t.val(n.item.display_name),e.set("new_tag_id",n.id),e.trigger("autocomplete")}}(this),queryOptions:{new_taggable_field:this.get("new_taggable_field"),new_taggable_type:this.get("new_taggable_type"),tag_type:n},tags:!0})},r}()}.apply(e,i))||(t.exports=r)},1358:function(t,e,n){var i,r,o=function(t,e){return function(){return t.apply(e,arguments)}};i=[n(2),n(59),n(25)],void 0===(r=function(t,e,n){var i;return i=function(){function e(e,n,i){var r;this.toggle=e,this.menu=null!=n?n:t(".menu",this.toggle),this.options=null!=i?i:{},this._position_inner_menu=o(this._position_inner_menu,this),this._position_menu=o(this._position_menu,this),this._respond_to_menu_clicked=o(this._respond_to_menu_clicked,this),this._respond_to_toggle_clicked=o(this._respond_to_toggle_clicked,this),this._hide_menu=o(this._hide_menu,this),r={left:!0,opened_class:"opened",top:!1,over:!1,offset_top:0},this.options=t.extend({},r,this.options)}return e.prototype.bind=function(){if(this.menu.length&&this.toggle.length)return this.toggle.on("click",this._respond_to_toggle_clicked),this.menu.on("click",this._respond_to_menu_clicked),this.options.top&&(t(this.menu).find(".dropdown-nub-wrapper").addClass("flipped"),t(this.menu).find(".dropdown-nub").addClass("flipped")),t(window).on("resize",this._position_menu),this._position_menu(),this},e.prototype.unbind=function(){return this.prevent_hide_once=!1,this.toggle.off("click",this._respond_to_toggle_clicked),this.menu.off("click",this._respond_to_menu_clicked),t(window).off("resize",this._position_menu),this._hide_menu(),this},e.hideAll=function(){return this.trigger("hide")},e.prototype._hide_menu=function(){return this.prevent_hide_once||(this.menu.hide(),this.toggle.removeClass(this.options.opened_class),t("body").off("click",this._hide_menu),e.off("hide",this._hide_menu)),this.prevent_hide_once=!1,!0},e.prototype._respond_to_toggle_clicked=function(){return this.toggle.hasClass(this.options.opened_class)||(e.hideAll(),this._position_menu(),this.menu.show(),this.options.inner_menu&&this._position_inner_menu(),this.toggle.addClass(this.options.opened_class),this.prevent_hide_once=!0,t("body").on("click",this._hide_menu),e.on("hide",this._hide_menu),e.trigger("show",this)),!0},e.prototype._respond_to_menu_clicked=function(t){return"A"===t.target.tagName||"A"===t.target.parentNode.tagName||"A"===t.target.parentNode.parentNode.tagName?this._hide_menu():this.prevent_hide_once=!0},e.prototype._position_menu=function(){var t,e,n,i,r;return e=this.toggle.position(),r=this.options.top?e.top-this.menu.outerHeight()+(this.options.over?this.toggle.outerHeight():0):e.top+this.options.offset_top+(this.options.over?0:this.toggle.outerHeight()),t=this.options.center?e.left-this.menu.outerWidth()/2+this.toggle.outerWidth()/2:this.options.left?e.left:e.left-this.menu.outerWidth()+this.toggle.outerWidth(),r+=null!=(n=this.options.adjust_top)?n:0,t+=null!=(i=this.options.adjust_left)?i:0,this.menu.css({position:"absolute",top:r,left:t})},e.prototype._position_inner_menu=function(){var e,n;if(t(".dropdown-inner-menu").css({"margin-left":0}),n=this.options.inner_menu.offset().left+this.menu.outerWidth(),(e=t(window).width()-n-10)<0)return t(".dropdown-inner-menu").css({"margin-left":e+"px"})},e}(),n.extend(i,e.Events)}.apply(e,i))||(t.exports=r)},1361:function(t,e,n){var i,r,o=function(t,e){return function(){return t.apply(e,arguments)}},s=function(t,e){for(var n in e)a.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},a={}.hasOwnProperty,u=[].slice;i=[n(2),n(59),n(25),n(1357),n(53),n(52),n(1376)],void 0===(r=function(t,e,n,i,r,a){var c,l,p,h;return l=a.classNames("coffeescripts/lib/transitional_autocomplete"),h=n.template("<div class='"+l.join(" ")+' list_item <%- typeof containing_class === \'undefined\' ? \'\' : containing_class %>\'>\n  <div class="g-lockup small container">\n    <% if (typeof(image) !== \'undefined\' && image) { %>\n    <div class="photo">\n      <img src="<%- image %>" alt="<%- main_text %>"/>\n    </div>\n    <% } %>\n    <div class="text">\n      <div class="main"><%= main_text %></div>\n      <% if (typeof(detail_text) !== \'undefined\' && detail_text) { %>\n      <div class=\'detail\'><%= detail_text %></div>\n      <% } %>\n    </div>\n  </div>\n</div>'),p=function(t){return n.template("<div class='"+l.join(" ")+" add_item'>"+t+" <span class='matched_substring'><%- '\"' + term + '\"'%></span></div>")},{BaseAutocomplete:c=function(e){function i(){return this.open=o(this.open,this),this.select=o(this.select,this),this.source=o(this.source,this),this.update_model=o(this.update_model,this),i.__super__.constructor.apply(this,arguments)}return s(i,e),i.prototype.request_options=function(t){throw new Error("Subclasses must override")},i.prototype.render_item=function(t,e){throw new Error("Subclasses must override")},i.prototype.update_model=function(t){var e,n;return"function"==typeof(null!=(e=this.model)?e.set_autocomplete_data:void 0)&&this.model.set_autocomplete_data(t),null!=(n=this.model)?n.trigger("autocomplete",t,this):void 0},i.prototype.initialize=function(t){return this.options=t},i.prototype.search=function(){return this.$el.autocomplete("search")},i.prototype.events=function(){return{click:"search"}},i.prototype.autocomplete_options=function(){return{autoFocus:!0,html:!0,delay:r.isDevelopment()?300:50,source:this.source,select:this.select,open:this.open,focus:this.focus}},i.prototype.widget_class=function(){return l.join(" ")+" container"},i.prototype.source=function(e,n){var i,r,o,s;return r=this.request_options(e.term),s=this,i=t.extend({},r,{success:function(){var t,i,o;if(t=1<=arguments.length?u.call(arguments,0):[],null!=(i=r.success)&&i.apply(this,t),o=t[2],s.$el.is(":focus")&&s.__last_xhr===o&&s.$el.val()===e.term)return n(s.process_response(t[0],e.term))}}),null!=(o=this.__last_xhr)&&o.abort(),this.__last_xhr=t.ajax(i)},i.prototype.focus=function(){return!1},i.prototype.select=function(t,e){return this.update_model(e.item.value),this.trigger("select",e.item.value,this,t),!1},i.prototype.open=function(t,e){return this.$el.autocomplete("widget").find(".ui-menu-item").attr("aria-label"," "),this.trigger("open",this,t,e)},i.prototype.process_response=function(t,e){var n;return function(){var i,r,o;for(o=[],i=0,r=t.length;i<r;i++)n=t[i],o.push(function(t){return function(n){return{value:n,label:t.render_item(n,e)}}}(this)(n));return o}.call(this)},i.prototype.delegateEvents=function(e){return i.__super__.delegateEvents.call(this,e),this.$el.autocomplete(this.autocomplete_options()),this.__autocomplete_initialized=!0,t(this.$el.autocomplete("widget")).addClass(this.widget_class())},i.prototype.undelegateEvents=function(t){return i.__super__.undelegateEvents.call(this,t),this.__autocomplete_initialized&&this.$el.autocomplete("destroy"),this.__autocomplete_initialized=!1},i.prototype.highlighted_text=function(e,i){var r,o,s,a,u;for(e=n.escape(e),u=[i=i.trim().toLowerCase()].concat(i.split(/\s+/)).concat(i.replace(/[^a-z0-9\ ]/,"").split(/\s+/)),r=0,o=(u=n.uniq(u.sort().reverse())).length;r<o;r++)""!==(a=u[r])&&(s=new RegExp("\\b("+t.ui.autocomplete(a)+")(?![^<]*?>)","gi"),e=e.replace(s,"<span class='matched_substring'>$1</span>"));return e},i}(e.View),render_item:h,SearchAutocomplete:function(t){function e(){return this.select=o(this.select,this),e.__super__.constructor.apply(this,arguments)}return s(e,c),e.prototype.request_options=function(t){return{url:"/autocomplete/search",data:{query:t},dataType:"json",type:"get"}},e.prototype.select=function(t,n){return e.__super__.select.call(this,t,n),window.location=n.item.value.url,!1},e.prototype.more_template=function(t){return this._more_template||(this._more_template=p("Search for ")),this._more_template({term:t})},e.prototype.process_response=function(t,n){var i;return(i=e.__super__.process_response.call(this,t.results,n)).push({label:this.more_template(n),value:{url:"/search?q="+n}}),i},e.prototype.render_item=function(t,e){return h({image:null!=t.pic&&t.pic.length>0?t.pic:null,main_text:this.highlighted_text(t.name,e),detail_text:t.type,containing_class:"search"})},e}(),TypedAutocomplete:function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return s(e,c),e.prototype.more_template=function(t){return this._more_template||(this._more_template=p("Add new ")),this._more_template({term:t})},e.prototype.request_options=function(t){return{url:"/autocomplete/search",data:{query:t,types:this.options.types,include_exact_match:this.options.include_exact_match,limit:this.options.limit,contain_ids:this.options.contain_ids},dataType:"json",type:"get"}},e.prototype.process_response=function(t,n){var i;return i=e.__super__.process_response.call(this,t.results,n),this.options.canSelectUnmatchedQuery&&i.push({label:this.more_template(n),value:{unmatched:!0,query:n}}),i},e.prototype.render_item=function(t,e){return h({image:null!=t.pic&&t.pic.length>0?t.pic:null,main_text:this.highlighted_text(t.name,e),detail_text:t.type,containing_class:"search"})},e}(),PeopleAndTagsAutocomplete:function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return s(e,c),e.prototype.request_options=function(t){return{url:"/autocomplete/people_and_tags",data:{query:t,tag_types:this.options.tag_types},dataType:"json",type:"get"}},e.prototype.widget_class=function(){return e.__super__.widget_class.call(this)+" search"},e.prototype.render_item=function(t,e){return h({image:null!=t.pic&&t.pic.length>0?t.pic:null,main_text:this.highlighted_text(t.name,e),detail_text:t.type,containing_class:"search"})},e}(),TagAutocomplete:function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return s(n,c),n.prototype.request_options=function(t){return{url:"/autocomplete/new_tags",data:this.request_data(t),dataType:"json",type:"get"}},n.prototype.render_item=function(t,e){return h({image:null!=t.tag.pic&&t.tag.pic.length>0?t.tag.pic:null,main_text:this.main_text(t,e),detail_text:this.options.hide_detail_text?void 0:this.detail_text(t,e)})},n.prototype.request_data=function(e){var n,i;if(n={query:e},"function"==typeof(null!=(i=this.model)?i.autocomplete_parameters:void 0)&&t.extend(n,this.model.autocomplete_parameters()),null!=this.options.tag_type&&t.extend(n,{tag_type:this.options.tag_type}),null!=this.options.parameters&&t.extend(n,this.options.parameters),null==n.tag_type)throw new Error("Must provide a tag type. This can either come from the model, or be provided as an explicit tag_type parameter");return n},n.prototype.main_text=function(t,e){return this.highlighted_text(t.tag.display_name,e)},n.prototype.detail_text=function(t,e){return null!=t.tag.description?t.tag.description:null!=t.counts.User?1===t.counts.User?"1 follower":t.counts.User+" followers":null},n}(),more_template:p}}.apply(e,i))||(t.exports=r)},1376:function(t,e,n){},1380:function(t,e,n){"use strict";var i=n(1335),r=n(1438);if(void 0===i)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var o=(new i.Component).updater;t.exports=r(i.Component,i.isValidElement,o)},1388:function(t,e,n){var i,r,o={}.hasOwnProperty;i=[n(25),n(1345),n(151)],void 0===(r=function(t,e,n){return function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return function(t,e){for(var n in e)o.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(r,n("Startup")),r.prototype.initialize=function(){var n;return r.__super__.initialize.apply(this,arguments),n=function(n){return function(){var i,r;if(t.all(["1i","2i","3i"],function(t){return n.has("fixed_traction_launched_at("+t+")")}))return i={year:n.get("fixed_traction_launched_at(1i)"),month:n.get("fixed_traction_launched_at(2i)")-1,day:n.get("fixed_traction_launched_at(3i)")},r=e(i),t.each(["1i","2i","3i"],function(t){return n.unset("fixed_traction_launched_at("+t+")")}),n.set("fixed_traction_launched_at",r.isValid()?r.toISOString():null)}}(this),this.listenTo(this,"change",n),n()},r.prototype.screenshots=function(e,n){var i,r,o,s,a,u,c,l,p,h;for(null==n&&(n={}),c=[],this.has(n.locationProperty)&&(c=this.get(n.locationProperty).split(",")),h=[],r=0,a=c.length;r<a;r++)o=c[r],null!=(p=e.get(o))&&h.push(p);for(s=0,u=(l=e.where({startup_id:this.id})).length;s<u;s++)i=l[s],t.contains(c,""+i.id)||h.push(i);return h},r.prototype.toSyncData=function(e,n,i){var o;return o=r.__super__.toSyncData.call(this,e,n,i),t.extend({},o,{new_startup_profile:1})},r.prototype.autocomplete_parameters=function(){return{tag_type:"CompanyTag"}},r.prototype.set_autocomplete_data=function(t){return this.set({id:t.tag.follower_id,company_name:t.tag.display_name,logo_url:t.tag.pic,slug_url:t.tag.slug_url})},r}()}.apply(e,i))||(t.exports=r)},1394:function(t,e,n){(function(i){var r,o;r=[n(25)],void 0===(o=function(t){var e,n;return{simple_format:n=function(t){return t=t.replace(/\r\n?/,"\n"),(t=i.trim(t)).length>0&&(t="<p>"+(t=(t=t.replace(/\n\n+/g,"</p><p>")).replace(/\n/g,"<br />"))+"</p>"),t},auto_link:e=function(e,n){var i,r,o,s;for(i in null==n&&(n={}),o=/(?:([\w+.:-]+:)(?:\/|\&#x2F\;)(?:\/|\&#x2F\;)|(www\.))([^\s<]+)/gi,r="",n)s=n[i],r+=" "+t.escape(i)+"='"+t.escape(s)+"'";return e.replace(o,function(t,e,n,i){var o,s;return i=i.replace(/&#x2F;/g,"/"),(s=/([^\w]*)$/.exec(i))[0],o=s[1],i=i.substring(0,i.length-o.length),"/",0===o.indexOf("/")&&(o=o.substring("/".length),i+="/"),o=o.replace(/\//g,"&#x2F;"),t=t.substring(0,t.length-o.length),"<a href='"+(e||"http:")+"//"+(n||"")+i+"'"+r+">"+t+"</a>"+o})},link_and_format:function(i){return e(n(t.escape(i)),{target:"_blank"})},truncate_on_word_boundary:function(t,e,n){var i;return null==e&&(e=30),null==n&&(n="..."),t.length>e?(i=e-n.length,(i=t.substr(0,i+1).lastIndexOf(" "))<0&&(i=0),t.substr(0,i)+"..."):t.toString()},number_to_human:function(t,e){var n,i,r,o;for(null==e&&(e={}),r=e.precision||0,i=(o=["K","M","B","T"]).length-1;i>=0;){if(t<=-(n=Math.pow(1e3,i+1))||t>=n)return+(t/n).toFixed(r)+o[i];i--}return t.toString()},number_with_delimiter:function(t,e){var n;return null==e&&(e={}),(n=t.toString().split("."))[0]=n[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),n.join(".")},capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},pluralize:function(t,e,n){return null==n&&(n=""),1===t?e:n||e+"s"}}}.apply(e,r))||(t.exports=o)}).call(this,n(2))},1438:function(t,e,n){"use strict";var i=n(1411),r=n(1430),o=n(1429),s="mixins";t.exports=function(t,e,n){var a=[],u={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},c={displayName:function(t,e){t.displayName=e},mixins:function(t,e){if(e)for(var n=0;n<e.length;n++)p(t,e[n])},childContextTypes:function(t,e){t.childContextTypes=i({},t.childContextTypes,e)},contextTypes:function(t,e){t.contextTypes=i({},t.contextTypes,e)},getDefaultProps:function(t,e){t.getDefaultProps?t.getDefaultProps=d(t.getDefaultProps,e):t.getDefaultProps=e},propTypes:function(t,e){t.propTypes=i({},t.propTypes,e)},statics:function(t,e){!function(t,e){if(e)for(var n in e){var i=e[n];if(e.hasOwnProperty(n)){var r=n in c;o(!r,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n);var s=n in t;o(!s,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),t[n]=i}}}(t,e)},autobind:function(){}};function l(t,e){var n=u.hasOwnProperty(e)?u[e]:null;y.hasOwnProperty(e)&&o("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",e),t&&o("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",e)}function p(t,n){if(n){o("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),o(!e(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var i=t.prototype,r=i.__reactAutoBindPairs;for(var a in n.hasOwnProperty(s)&&c.mixins(t,n.mixins),n)if(n.hasOwnProperty(a)&&a!==s){var p=n[a],h=i.hasOwnProperty(a);if(l(h,a),c.hasOwnProperty(a))c[a](t,p);else{var g=u.hasOwnProperty(a);if("function"!=typeof p||g||h||!1===n.autobind)if(h){var _=u[a];o(g&&("DEFINE_MANY_MERGED"===_||"DEFINE_MANY"===_),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",_,a),"DEFINE_MANY_MERGED"===_?i[a]=d(i[a],p):"DEFINE_MANY"===_&&(i[a]=f(i[a],p))}else i[a]=p;else r.push(a,p),i[a]=p}}}}function h(t,e){for(var n in o(t&&e&&"object"==typeof t&&"object"==typeof e,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),e)e.hasOwnProperty(n)&&(o(void 0===t[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),t[n]=e[n]);return t}function d(t,e){return function(){var n=t.apply(this,arguments),i=e.apply(this,arguments);if(null==n)return i;if(null==i)return n;var r={};return h(r,n),h(r,i),r}}function f(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function g(t,e){return e.bind(t)}var _={componentDidMount:function(){this.__isMounted=!0}},m={componentWillUnmount:function(){this.__isMounted=!1}},y={replaceState:function(t,e){this.updater.enqueueReplaceState(this,t,e)},isMounted:function(){return!!this.__isMounted}},v=function(){};return i(v.prototype,t.prototype,y),function(t){var e=function(t){return t}(function(t,i,s){this.__reactAutoBindPairs.length&&function(t){for(var e=t.__reactAutoBindPairs,n=0;n<e.length;n+=2){var i=e[n],r=e[n+1];t[i]=g(t,r)}}(this),this.props=t,this.context=i,this.refs=r,this.updater=s||n,this.state=null;var a=this.getInitialState?this.getInitialState():null;o("object"==typeof a&&!Array.isArray(a),"%s.getInitialState(): must return an object or null",e.displayName||"ReactCompositeComponent"),this.state=a});for(var i in e.prototype=new v,e.prototype.constructor=e,e.prototype.__reactAutoBindPairs=[],a.forEach(p.bind(null,e)),p(e,_),p(e,t),p(e,m),e.getDefaultProps&&(e.defaultProps=e.getDefaultProps()),o(e.prototype.render,"createClass(...): Class specification must implement a `render` method."),u)e.prototype[i]||(e.prototype[i]=null);return e}}},1439:function(t,e,n){var i,r;i=[n(2),n(25)],void 0===(r=function(t,e){return{render:function(t,n){var i;return i={interpolate:/\{\{(.+?)\}\}/g,evaluate:/\{\-(.+?)\-\}/g,escape:/\{\{\-(.+?)\-\}\}/g},e.template(t,n,i)}}}.apply(e,i))||(t.exports=r)},1447:function(t,e,n){var i,r;i=[n(1449)],void 0===(r=function(){return window.Waypoint}.apply(e,i))||(t.exports=r)},1449:function(t,e){
/*!
Waypoints - 3.1.1
Copyright Â© 2011-2015 Caleb Troughton
Licensed under the MIT license.
https://github.com/imakewebthings/waypoints/blog/master/licenses.txt
*/
!function(){"use strict";var t=0,e={};function n(i){if(!i)throw new Error("No options passed to Waypoint constructor");if(!i.element)throw new Error("No element option passed to Waypoint constructor");if(!i.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+t,this.options=n.Adapter.extend({},n.defaults,i),this.element=this.options.element,this.adapter=new n.Adapter(this.element),this.callback=i.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=n.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=n.Context.findOrCreateByElement(this.options.context),n.offsetAliases[this.options.offset]&&(this.options.offset=n.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),e[this.key]=this,t+=1}n.prototype.queueTrigger=function(t){this.group.queueTrigger(this,t)},n.prototype.trigger=function(t){this.enabled&&this.callback&&this.callback.apply(this,t)},n.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete e[this.key]},n.prototype.disable=function(){return this.enabled=!1,this},n.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},n.prototype.next=function(){return this.group.next(this)},n.prototype.previous=function(){return this.group.previous(this)},n.invokeAll=function(t){var n=[];for(var i in e)n.push(e[i]);for(var r=0,o=n.length;r<o;r++)n[r][t]()},n.destroyAll=function(){n.invokeAll("destroy")},n.disableAll=function(){n.invokeAll("disable")},n.enableAll=function(){n.invokeAll("enable")},n.refreshAll=function(){n.Context.refreshAll()},n.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},n.viewportWidth=function(){return document.documentElement.clientWidth},n.adapters=[],n.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},n.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=n}(),function(){"use strict";function t(t){window.setTimeout(t,1e3/60)}var e=0,n={},i=window.Waypoint,r=window.onload;function o(t){this.element=t,this.Adapter=i.Adapter,this.adapter=new this.Adapter(t),this.key="waypoint-context-"+e,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},t.waypointContextKey=this.key,n[t.waypointContextKey]=this,e+=1,this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}o.prototype.add=function(t){var e=t.options.horizontal?"horizontal":"vertical";this.waypoints[e][t.key]=t,this.refresh()},o.prototype.checkEmpty=function(){var t=this.Adapter.isEmptyObject(this.waypoints.horizontal),e=this.Adapter.isEmptyObject(this.waypoints.vertical);t&&e&&(this.adapter.off(".waypoints"),delete n[this.key])},o.prototype.createThrottledResizeHandler=function(){var t=this;function e(){t.handleResize(),t.didResize=!1}this.adapter.on("resize.waypoints",function(){t.didResize||(t.didResize=!0,i.requestAnimationFrame(e))})},o.prototype.createThrottledScrollHandler=function(){var t=this;function e(){t.handleScroll(),t.didScroll=!1}this.adapter.on("scroll.waypoints",function(){t.didScroll&&!i.isTouch||(t.didScroll=!0,i.requestAnimationFrame(e))})},o.prototype.handleResize=function(){i.Context.refreshAll()},o.prototype.handleScroll=function(){var t={},e={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var n in e){var i=e[n],r=i.newScroll>i.oldScroll?i.forward:i.backward;for(var o in this.waypoints[n]){var s=this.waypoints[n][o],a=i.oldScroll<s.triggerPoint,u=i.newScroll>=s.triggerPoint;(a&&u||!a&&!u)&&(s.queueTrigger(r),t[s.group.id]=s.group)}}for(var c in t)t[c].flushTriggers();this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},o.prototype.innerHeight=function(){return this.element==this.element.window?i.viewportHeight():this.adapter.innerHeight()},o.prototype.remove=function(t){delete this.waypoints[t.axis][t.key],this.checkEmpty()},o.prototype.innerWidth=function(){return this.element==this.element.window?i.viewportWidth():this.adapter.innerWidth()},o.prototype.destroy=function(){var t=[];for(var e in this.waypoints)for(var n in this.waypoints[e])t.push(this.waypoints[e][n]);for(var i=0,r=t.length;i<r;i++)t[i].destroy()},o.prototype.refresh=function(){var t,e=this.element==this.element.window,n=this.adapter.offset(),i={};for(var r in this.handleScroll(),t={horizontal:{contextOffset:e?0:n.left,contextScroll:e?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:e?0:n.top,contextScroll:e?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}}){var o=t[r];for(var s in this.waypoints[r]){var a,u,c,l,p=this.waypoints[r][s],h=p.options.offset,d=p.triggerPoint,f=0,g=null==d;p.element!==p.element.window&&(f=p.adapter.offset()[o.offsetProp]),"function"==typeof h?h=h.apply(p):"string"==typeof h&&(h=parseFloat(h),p.options.offset.indexOf("%")>-1&&(h=Math.ceil(o.contextDimension*h/100))),a=o.contextScroll-o.contextOffset,p.triggerPoint=f+a-h,u=d<o.oldScroll,c=p.triggerPoint>=o.oldScroll,l=!u&&!c,!g&&(u&&c)?(p.queueTrigger(o.backward),i[p.group.id]=p.group):!g&&l?(p.queueTrigger(o.forward),i[p.group.id]=p.group):g&&o.oldScroll>=p.triggerPoint&&(p.queueTrigger(o.forward),i[p.group.id]=p.group)}}for(var _ in i)i[_].flushTriggers();return this},o.findOrCreateByElement=function(t){return o.findByElement(t)||new o(t)},o.refreshAll=function(){for(var t in n)n[t].refresh()},o.findByElement=function(t){return n[t.waypointContextKey]},window.onload=function(){r&&r(),o.refreshAll()},i.requestAnimationFrame=function(e){(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||t).call(window,e)},i.Context=o}(),function(){"use strict";function t(t,e){return t.triggerPoint-e.triggerPoint}function e(t,e){return e.triggerPoint-t.triggerPoint}var n={vertical:{},horizontal:{}},i=window.Waypoint;function r(t){this.name=t.name,this.axis=t.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),n[this.axis][this.name]=this}r.prototype.add=function(t){this.waypoints.push(t)},r.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},r.prototype.flushTriggers=function(){for(var n in this.triggerQueues){var i=this.triggerQueues[n],r="up"===n||"left"===n;i.sort(r?e:t);for(var o=0,s=i.length;o<s;o+=1){var a=i[o];(a.options.continuous||o===i.length-1)&&a.trigger([n])}}this.clearTriggerQueues()},r.prototype.next=function(e){this.waypoints.sort(t);var n=i.Adapter.inArray(e,this.waypoints);return n===this.waypoints.length-1?null:this.waypoints[n+1]},r.prototype.previous=function(e){this.waypoints.sort(t);var n=i.Adapter.inArray(e,this.waypoints);return n?this.waypoints[n-1]:null},r.prototype.queueTrigger=function(t,e){this.triggerQueues[e].push(t)},r.prototype.remove=function(t){var e=i.Adapter.inArray(t,this.waypoints);e>-1&&this.waypoints.splice(e,1)},r.prototype.first=function(){return this.waypoints[0]},r.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},r.findOrCreate=function(t){return n[t.axis][t.name]||new r(t)},i.Group=r}(),function(){"use strict";var t=window.Waypoint;function e(t){return t===t.window}function n(t){return e(t)?t:t.defaultView}function i(t){this.element=t,this.handlers={}}i.prototype.innerHeight=function(){return e(this.element)?this.element.innerHeight:this.element.clientHeight},i.prototype.innerWidth=function(){return e(this.element)?this.element.innerWidth:this.element.clientWidth},i.prototype.off=function(t,e){function n(t,e,n){for(var i=0,r=e.length-1;i<r;i++){var o=e[i];n&&n!==o||t.removeEventListener(o)}}var i=t.split("."),r=i[0],o=i[1],s=this.element;if(o&&this.handlers[o]&&r)n(s,this.handlers[o][r],e),this.handlers[o][r]=[];else if(r)for(var a in this.handlers)n(s,this.handlers[a][r]||[],e),this.handlers[a][r]=[];else if(o&&this.handlers[o]){for(var u in this.handlers[o])n(s,this.handlers[o][u],e);this.handlers[o]={}}},i.prototype.offset=function(){if(!this.element.ownerDocument)return null;var t=this.element.ownerDocument.documentElement,e=n(this.element.ownerDocument),i={top:0,left:0};return this.element.getBoundingClientRect&&(i=this.element.getBoundingClientRect()),{top:i.top+e.pageYOffset-t.clientTop,left:i.left+e.pageXOffset-t.clientLeft}},i.prototype.on=function(t,e){var n=t.split("."),i=n[0],r=n[1]||"__default",o=this.handlers[r]=this.handlers[r]||{};(o[i]=o[i]||[]).push(e),this.element.addEventListener(i,e)},i.prototype.outerHeight=function(t){var n,i=this.innerHeight();return t&&!e(this.element)&&(n=window.getComputedStyle(this.element),i+=parseInt(n.marginTop,10),i+=parseInt(n.marginBottom,10)),i},i.prototype.outerWidth=function(t){var n,i=this.innerWidth();return t&&!e(this.element)&&(n=window.getComputedStyle(this.element),i+=parseInt(n.marginLeft,10),i+=parseInt(n.marginRight,10)),i},i.prototype.scrollLeft=function(){var t=n(this.element);return t?t.pageXOffset:this.element.scrollLeft},i.prototype.scrollTop=function(){var t=n(this.element);return t?t.pageYOffset:this.element.scrollTop},i.extend=function(){var t=Array.prototype.slice.call(arguments);function e(t,e){if("object"==typeof t&&"object"==typeof e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}for(var n=1,i=t.length;n<i;n++)e(t[0],t[n]);return t[0]},i.inArray=function(t,e,n){return null==e?-1:e.indexOf(t,n)},i.isEmptyObject=function(t){for(var e in t)return!1;return!0},t.adapters.push({name:"noframework",Adapter:i}),t.Adapter=i}()},1481:function(t,e,n){var i,r,o=function(t,e){return function(){return t.apply(e,arguments)}},s=function(t,e){for(var n in e)a.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},a={}.hasOwnProperty,u=[].slice;i=[n(2),n(59),n(25),n(1355),n(52),n(1361),n(1354),n(1357),n(1619),n(1801),n(1706),n(1844),n(109),n(159),n(1388),n(1490),n(1634),n(1687),n(2081)],void 0===(r=function(t,e,n,i,r,a,c,l,p,h,d,f,g,_,m,y,v,w){var b,x,k;return x=n.template("<div class='"+r.classNames("coffeescripts/lib/associations").join(" ")+" association'>\n  <% if (typeof url === 'undefined') { %>\n    <span class='association_name'><%- name %></span>\n  <% } else { %>\n    <a class='association_name' href='<%- url %>' target='_blank'><%- name %></a>\n  <% } %>\n  <% if (typeof allowDelete === 'undefined' || allowDelete) { %>\n    <span class='destroy'>&times;</span>\n  <% } %>\n</div>"),k=n.template("<div class='g-lockup medium'>\n  <div class='photo'><img src='<%- photo %>' /></div>\n    <div class='text'>\n      <div class='name'>\n        <a href='<%- url %>' target='_blank'><%- name %></a>\n        <% if (typeof allowDelete === 'undefined' || allowDelete) { %>\n          <span class='destroy'>&times;</span>\n        <% } %>\n      </div>\n    </div>\n  </div>\n</div>"),{AssociationField:b=function(e){function i(){return this.associations=o(this.associations,this),this._submit=o(this._submit,this),this._keypress=o(this._keypress,this),this._click_destroy=o(this._click_destroy,this),this._select=o(this._select,this),i.__super__.constructor.apply(this,arguments)}return s(i,e),i.prototype.associationFromSelect=function(t,e,n){throw new Error("Subclasses must override")},i.prototype.associationFromSubmit=function(t,e){throw new Error("Subclasses must override")},i.prototype.renderInnerContainer=function(){return t("<div class='"+r.classNames("coffeescripts/lib/associations").join(" ")+" container' />")},i.prototype.renderAssociation=function(t){throw new Error("Subclasses must override")},i.prototype.renderEmpty=function(t){return this.$container.toggle(!t)},i.prototype.initializeAutocomplete=function(){throw new Error("Subclasses must override")},i.prototype.destroySelector=".destroy",i.prototype.submitSelector=".submit",i.prototype.input=function(){return this.$("input[type=text]")[0]},i.prototype.isEditable=function(){return this._editable||(this._editable=null!=this.input()),this._editable},i.prototype.render=function(){var e,i,r;return i=this.$container,null==this.$container?this:(e=this.associations(),i.empty(),this.renderEmpty(0===e.length),e.length>0?(r=this.renderInnerContainer(),i.append(r),n.each(e,function(e){return function(n){var i;return(i=t(e.renderAssociation(n))).data("association",n),i.addClass("association_parent",!0),i.appendTo(r)}}(this))):void 0)},i.prototype.initialize=function(e){if(this.options=e,null==this.collection)throw new Error("Collection must be provided");if(null==e.container)throw new Error("Association container must be provided, (or you can pass container: false if no container exists)");return e.container?this.$container=t(e.container):this.$container=null,this.listenTo(this.collection,"add remove change reset",n.throttle(function(t){return function(){return t.render(),t.trigger("change",t)}}(this),100)),this.autocomplete=this.initializeAutocomplete(),this.listenTo(this.autocomplete,"select",this._select),this.render()},i.prototype.events=function(){var t;return(t={})["click "+n.result(this,"destroySelector")]="_click_destroy",t["click "+n.result(this,"submitSelector")]="_submit",t.keypress="_keypress",t},i.prototype._select=function(){var e,n;return e=1<=arguments.length?u.call(arguments,0):[],n=this.associationFromSelect.apply(this,e),this.addAssociation(n),t(this.input()).val(""),!0},i.prototype._click_destroy=function(e){var n;return(n=t(e.currentTarget).closest(".association_parent")).fadeOut("fast",function(t){return function(){return t.removeAssociation(n.data("association"))}}(this)),!0},i.prototype._keypress=function(e){return 13===e.keyCode&&t(this.input()).is(e.srcElement)&&this._submit(e),!0},i.prototype._submit=function(e){var n;return e.preventDefault(),(n=this.associationFromSubmit(t(this.input()).val(),e))&&(this.addAssociation(n),t(this.input()).val("")),!0},i.prototype.associations=function(){return this.collection.models},i.prototype.addAssociation=function(t){return t.save(),this.collection.add(t)},i.prototype.removeAssociation=function(t){return t.destroy()},i}(e.View),BaseField:function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return s(n,b),n.prototype.associationFromSelect=function(t){return new e.Model(t)},n.prototype.renderAssociation=function(t){return x({name:t.get("name"),url:t.get("url"),allowDelete:this.isEditable()})},n.prototype.addAssociation=function(t){return this.collection.add(t)},n.prototype.removeAssociation=function(t){return this.collection.remove(t)},n.prototype.associationFromSubmit=function(t){return new e.Model({name:t})},n}(),StartupField:function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return s(e,b),e.prototype.initialize=function(t){return this.collection||(this.collection=t.collection||g.get(m)),e.__super__.initialize.apply(this,arguments)},e.prototype.associationFromSubmit=function(){return null},e.prototype.associationFromSelect=function(t,e){return e.model},e.prototype.renderAssociation=function(t){return k({name:t.get("company_name"),url:t.get("slug_url"),photo:t.get("logo_url"),allowDelete:this.isEditable()})},e.prototype.addAssociation=function(t){return this.collection.add(t)},e.prototype.removeAssociation=function(t){return this.collection.remove(t)},e.prototype.initializeAutocomplete=function(){var t;return t={el:this.input(),model:new m},new a.TagAutocomplete(t)},e}(),UserField:function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return s(e,b),e.prototype.initialize=function(t){return this.collection||(this.collection=t.collection||g.get(_)),e.__super__.initialize.apply(this,arguments)},e.prototype.associationFromSubmit=function(){return null},e.prototype.associationFromSelect=function(t){return new _({id:t.id,display_name:t.name,slug_url:t.url,pic:t.pic})},e.prototype.renderAssociation=function(t){return x({name:t.get("display_name"),url:t.get("slug_url"),allowDelete:this.isEditable()})},e.prototype.addAssociation=function(t){return this.collection.add(t)},e.prototype.removeAssociation=function(t){return this.collection.remove(t)},e}(),NewTaggingField:function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return s(r,b),r.prototype.initialize=function(){return this.collection||(this.collection=g.get(l)),r.__super__.initialize.apply(this,arguments)},r.prototype.associations=function(){return this.collection.where({new_taggable_type:this.options.new_taggable_type,new_taggable_id:this.options.new_taggable_id,new_taggable_field:this.options.new_taggable_field})},r.prototype.baseAttributes=function(){var t,e,n,i,r;for(t={},n=0,i=(r=["new_taggable_field","new_taggable_type","new_taggable_id"]).length;n<i;n++){if(e=r[n],null==this.options[e])throw new Error("Option '"+e+"' is required");t[e]=this.options[e]}return t},r.prototype.associationFromSelect=function(e,n,i){return e.new_tagging_field_unmatched?this.associationFromSubmit(e.term,i):new l(t.extend({},this.baseAttributes(),{new_tag_id:n.model.id,new_tag:n.model.toJSON()}))},r.prototype.associationFromSubmit=function(e,n){if("LocationTag"!==this.options.tag_type)return new l(t.extend({},this.baseAttributes(),{new_tag:{name:e,tag_type:this.options.tag_type,display_name:e.toTitleCase()}}))},r.prototype.renderAssociation=function(t){return x({name:t.get("new_tag").display_name,url:t.get("new_tag").slug_url,allowDelete:this.isEditable()})},r.prototype.initializeAutocomplete=function(){var t,e;return e={el:this.input(),parameters:{tag_type:this.options.tag_type||function(){throw new Error("Option 'tag_type' is required")}(),new_taggable_field:this.options.new_taggable_field||function(){throw new Error("Option 'new_taggable_field' is required")}(),new_taggable_type:this.options.new_taggable_type||function(){throw new Error("Option 'new_taggable_type' is required")}(),new_taggable_id:this.options.new_taggable_id},model:new p({tag_type:this.options.tag_type})},t=this.options.allowUnmatched,new(function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return s(n,e),n.prototype.process_response=function(e,i){var r;return r=n.__super__.process_response.apply(this,arguments),t&&r.push({value:{new_tagging_field_unmatched:!0,term:i},label:a.more_template("Add")({term:i})}),r},n}(a.TagAutocomplete))(e)},r.prototype.addAssociation=function(e){return e.save(null,{error:function(r){return function(o,s){var a;return(a=t.parseJSON(s.responseText)).errors&&i(n.values(a.errors).join("; "),4e3),r.collection.remove(e)}}(this)}),this.collection.add(e)},r}(),CollegeField:function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return s(r,b),r.prototype.initialize=function(){return this.collection||(this.collection=g.get(c)),r.__super__.initialize.apply(this,arguments)},r.prototype.associations=function(){return n.uniq(this.collection.models,!1,function(t){return t.get("new_tag_id")})},r.prototype.removeAssociation=function(t){var e;return e=n.filter(this.collection.models,function(e){return e.get("new_tag_id")===t.get("new_tag_id")}),n.each(e,function(t){return t.destroy()})},r.prototype.associationFromSelect=function(t,e,n){return t.new_tagging_field_unmatched?this.associationFromSubmit(t.term,n):new c({user_id:this.options.user_id,new_tag_id:t.tag.id,new_tag:t.tag})},r.prototype.associationFromSubmit=function(t){return new c({user_id:this.options.user_id,new_tag:{name:t,tag_type:"CollegeTag",display_name:t.toTitleCase()}})},r.prototype.renderAssociation=function(t){return x({name:t.get("new_tag").display_name,url:t.get("new_tag").slug_url,allowDelete:this.isEditable()})},r.prototype.initializeAutocomplete=function(){return new a.TagAutocomplete({el:this.input(),parameters:{tag_type:"CollegeTag"},model:new c})},r.prototype.addAssociation=function(e){return e.save(null,{error:function(r){return function(o,s){var a;return(a=t.parseJSON(s.responseText)).errors&&i(n.values(a.errors).join("; "),4e3),r.collection.remove(e)}}(this)}),this.collection.add(e)},r}(),NewTagField:function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return s(e,b),e.prototype.associationFromSubmit=function(){return null},e.prototype.associationFromSelect=function(t){return new p(t.tag)},e.prototype.initialize=function(t){if(this.tagType||(this.tagType=null!=t?t.tagType:void 0),null==this.tagType)throw new Error("Tag type is required");return e.__super__.initialize.apply(this,arguments)},e.prototype.renderAssociation=function(t){return x({name:t.get("display_name"),url:t.get("slug_url"),allowDelete:this.isEditable()})},e.prototype.addAssociation=function(t){return this.collection.add(t)},e.prototype.removeAssociation=function(t){return this.collection.remove(t)},e.prototype.initializeAutocomplete=function(){var t;return t={el:this.input(),tag_type:this.tagType},new a.TagAutocomplete(t)},e}(),StartupRoleField:function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return s(n,b),n.prototype.initialize=function(){return this.collection||(this.collection=g.get(y)),n.__super__.initialize.apply(this,arguments)},n.prototype.associations=function(){return this.collection.where({tagged_id:this.options.tagged_id,tagged_type:this.options.tagged_type,role:this._role()})},n.prototype.baseAttributes=function(){var t,e,n,i,r;for(t={},n=0,i=(r=["tagged_id","tagged_type"]).length;n<i;n++){if(e=r[n],null==this.options[e])throw new Error("Option '"+e+" is required");t[e]=this.options[e]}return t.role=this._role(),t},n.prototype._role=function(){if(null==this.options.role)throw new Error("Option 'role' is required");return this.options.role},n.prototype.initializeAutocomplete=function(){return new a.TagAutocomplete({el:this.input(),model:new m})},n.prototype.associationFromSelect=function(e,n,i){return new y(t.extend({},this.baseAttributes(),{startup_id:n.model.id,startup_company_name:n.model.get("company_name"),startup_slug_url:n.model.get("slug_url"),startup_avatar:n.model.get("avatar"),startup_high_concept:n.model.get("high_concept")}))},n.prototype.associationFromSubmit=function(e,n){if(e)return new y(t.extend({},this.baseAttributes(),{company_name:e,startup_company_name:e}))},n.prototype.renderAssociation=function(t){return x({name:t.get("startup_company_name"),url:t.get("startup_slug_url")})},n}(),StartupRoundParticipantField:function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return s(e,b),e.prototype.initialize=function(){if(!(null!=this.model&&this.model instanceof v))throw new Error("Must provide a StartupRound model");if(!this.model.has("startup_id"))throw new Error("Must provide a startup ID");return e.__super__.initialize.apply(this,arguments)},e.prototype.renderAssociation=function(t){return x({url:t.get("participant_slug_url"),name:t.get("participant_to_s")})},e.prototype.initializeAutocomplete=function(){return new a.TagAutocomplete({el:this.input(),tag_type:["User","Startup"]})},e.prototype.associationFromSubmit=function(){return!1},e.prototype.associationFromSelect=function(t){return new w({participant_id:t.tag.id,participant_type:t.tag.model,startup_round_id:this.model.id,participant_slug_url:t.tag.slug_url,participant_to_s:t.tag.display_name})},e.prototype.addAssociation=function(t){return this.collection.add(t)},e.prototype.associations=function(){return this.model.isNew()?this.collection.models:this.collection.where({startup_round_id:this.model.id})},e}(),CollaboratorTaggingField:function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return s(i,b),i.prototype.initialize=function(){if(null==this.model)throw new Error("Must provide a model");return i.__super__.initialize.apply(this,arguments)},i.prototype.collaborationType=function(){switch(!1){case!(this.model instanceof h):return"Project";case!(this.model instanceof f):return"JobListing";case!(this.model instanceof l):return"NewTagging";case!(this.model instanceof c):return"Degree";default:throw new Error("Collaboration type not allowed")}},i.prototype.renderAssociation=function(t){return x({url:t.get("collaborator_slug_url")||void 0,name:t.get("collaborator_to_s")})},i.prototype.initializeAutocomplete=function(){return new a.TypedAutocomplete({el:this.input(),types:["User"],canSelectUnmatchedQuery:this.options.unmatched})},i.prototype.associationFromSubmit=function(t,e){return new d({collaboration_id:this.model.id,collaboration_type:this.collaborationType(),invited_name:t,collaborator_to_s:t})},i.prototype.associationFromSelect=function(t){return new d({collaboration_id:this.model.id,collaboration_type:this.collaborationType(),collaborator_id:t.id,collaborator_type:"User",collaborator_slug_url:t.url,collaborator_to_s:t.name,collaborator_avatar:t.pic})},i.prototype.addAssociation=function(e){return e.save(null,{error:function(i){return function(r,o){var s;return(s=t.parseJSON(o.responseText)).errors&&i.$(".error").html(n.values(s.errors)[0]).fadeIn().delay(4e3).fadeOut(),i.collection.remove(e)}}(this)}),this.collection.add(e)},i.prototype.associations=function(){return this.collection.models},i}()}}.apply(e,i))||(t.exports=r)},1490:function(t,e,n){(function(i){var r,o,s={}.hasOwnProperty;r=[n(2),n(151),n(152)],void 0===(o=function(t,e,n){return function(r){function o(){return o.__super__.constructor.apply(this,arguments)}return function(t,e){for(var n in e)s.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(o,e("StartupRole")),o.prototype.direction="outbound",o.prototype.idAttribute="token",o.prototype.toSyncData=function(t,e,n){var r;return r=o.__super__.toSyncData.call(this,t,e,n),"create"!==e&&"update"!==e&&"patch"!==e?r:(null!=this.get("company_name")&&(r.startup||(r.startup={}),r.startup.company_name=this.get("company_name"),delete r.startup_role.company_name),null!=this.get("metadata_id")&&(r.metadata_id||(r.metadata_id=null),r.metadata_id=this.get("metadata_id"),delete r.startup_role.metadata_id),delete r.startup_role.startup,r.startup_role=i.omit(r.startup_role,i.filter(i.keys(r.startup_role),function(t){return"startup_id"!==t&&0===t.indexOf("startup_")})),delete r.startup_role.token,r)},o.prototype.getName=function(){switch(this.direction){case"outbound":return this.get("company_name");case"inbound":return this.get("invited_name")}},o.prototype.setName=function(t){switch(this.direction){case"outbound":return this.set("company_name",t);case"inbound":return this.set("invited_name",t)}},o.prototype.reset=function(){switch(this.direction){case"outbound":return this.set("startup_id",null);case"inbound":return this.set({tagged_type:null,tagged_id:null})}},o.prototype.confirm=function(){return t.ajax({url:"/startup_roles/approve",type:"post",dataType:"json",data:{token:this.id,show_reference:!0},success:function(t){return function(e){return t.processResponse(e)}}(this)})},o.prototype.parse=function(t){return t.role},o.prototype.autocomplete=function(t){return new n(t,{selectCallback:function(e){return function(n){switch(t.val(n.name),e.direction){case"outbound":e.set("company_name",n.name),e.set("startup_id",n.id);break;case"inbound":e.shell=n.shell,e.set("invited_name",n.name),e.set("tagged_id",n.id),e.set("tagged_type",n.model)}return e.trigger(n.id?"autocomplete":"noautocomplete")}}(this),queryOptions:{klasses:t.parent().data("klasses")},roles:!0})},o.prototype.processResponse=function(e){if(e.popover)return e.popover.html?t.facybox(e.popover.html):e.popover.url?t.facybox({ajax:e.popover.url}):t.facybox(e.popover)},o}()}.apply(e,r))||(t.exports=o)}).call(this,n(25))},1533:function(t,e,n){var i,r,o=function(t,e){for(var n in e)s.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty,a=function(t,e){return function(){return t.apply(e,arguments)}};i=[n(2),n(59),n(25),n(1481),n(52),n(1361),n(1619),n(1357),n(1388),n(159),n(1354)],void 0===(r=function(t,e,n,i,r,s,u,c,l,p,h){var d,f,g,_,m,y,v,w,b,x,k;return _={initializeInput:function(){return this.$(this.input()).attr("autocomplete","country chromehack"),this._onAssociationChange(),this.listenTo(this.collection,"add remove",function(t){return function(){return t._onAssociationChange(!0)}}(this))},idField:function(){return this.$(".js-tagger-ids")},_onAssociationChange:function(t){return this._updateIdField(),this._hideInputIfGreaterThanMax(t)},_updateIdField:function(){var t,e;return t=function(){var t,n,i,r;for(r=[],t=0,n=(i=this.collection.models).length;t<n;t++)e=i[t],r.push(e.id);return r}.call(this),this.idField().val(t.join())},_hideInputIfGreaterThanMax:function(t){var e,n;if(n=this.$el.data("max"))return e=this.$(this.input()),this.collection.length<n?(e.show(),t?e.focus():void 0):(e.hide(),this.trigger("filled"))}},m=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return o(i,t),i.prototype.initialize=function(t){var r;return this.collection=new e.Collection(function(){var t,e,n,i;for(i=[],t=0,e=(n=this.$el.data("existing")).length;t<e;t++)r=n[t],i.push(new u(r));return i}.call(this)),i.__super__.initialize.call(this,n.extend({tagType:this.$el.data("type")+"Tag",container:this.$(".js-association-container")},t)),this.initializeInput()},i}(i.NewTagField),n.extend(m.prototype,_),y=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return o(i,t),i.prototype.initialize=function(t){var r;return this.collection=new e.Collection(function(){var t,e,n,i;for(i=[],t=0,e=(n=this.$el.data("existing")).length;t<e;t++)r=n[t],i.push(new c(r));return i}.call(this)),i.__super__.initialize.call(this,n.extend({tag_type:this.$el.data("type")+"Tag",new_taggable_field:"tags_"+this.$el.data("field"),new_taggable_type:""+this.$el.data("taggable-type"),new_taggable_id:this.$el.data("id"),container:this.$(".js-association-container")},t)),this.initializeInput()},i}(i.NewTaggingField),n.extend(y.prototype,_),v=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return o(i,t),i.prototype.initialize=function(t){var r;return this.collection=new e.Collection(function(){var t,e,n,i;for(i=[],t=0,e=(n=this.$el.data("existing")).length;t<e;t++)r=n[t],i.push(new l(r));return i}.call(this)),i.__super__.initialize.call(this,n.extend({container:this.$(".js-association-container")},t)),this.initializeInput()},i}(i.StartupField),n.extend(v.prototype,_),x=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return o(i,t),i.prototype.initialize=function(t){var r;return this.collection=new e.Collection(function(){var t,e,n,i;for(i=[],t=0,e=(n=this.$el.data("existing")).length;t<e;t++)r=n[t],i.push(new p(r));return i}.call(this)),i.__super__.initialize.call(this,n.extend({container:this.$(".js-association-container")},t)),this.initializeInput()},i}(i.UserField),n.extend(x.prototype,_),k=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return o(i,e),i.prototype.removeSubView=function(t){return this.stopListening(t),t.remove()},i.prototype.renderTemplate=function(e,i){var r;return r={interpolate:/\{\{(.+?)\}\}/g,evaluate:/\{\-(.+?)\-\}/g,escape:/\{\{\-(.+?)\-\}\}/g},n.template(t(e).html(),i,r)},i}(e.View),d=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.events={"click .js-add":"add","click .js-cancel":"cancel"},e.prototype.add=function(){if(!this.$(".js-add").hasClass("c-button--loading"))return this.$(".js-add").addClass("c-button--loading"),this.$(".js-cancel").addClass("c-button--disabled"),this.trigger("add")},e.prototype.cancel=function(){return this.reset(),this.trigger("cancel")},e.prototype.reset=function(){return this.$(".js-add").removeClass("c-button--loading"),this.$(".js-cancel").removeClass("c-button--disabled")},e}(e.View),f=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.initialize=function(){return this.controlGroup=new d({el:this.$(".js-add-cancel-group")}),this.listenTo(this.controlGroup,"cancel",function(t){return function(){return t.trigger("cancel")}}(this)),this.listenTo(this.controlGroup,"add",function(t){return function(){return t.add()}}(this))},e.prototype.add=function(){var t;if(!(t=this.create()).isValid())return this.showErrors(t.validationError)},e.prototype.create=function(){return this.collection.create(this.attributes())},e.prototype.showErrors=function(t){return this.show({clear:!1}),this.$(".js-errors").show().html(t.join("<br>"))},e.prototype.show=function(t){var e,i;return null==t&&(t={}),i=n.extend({focus:!0,clear:!0},t),this.controlGroup.reset(),t.doNotShowElement||this.$el.show(),e=this.$("input[type='text'],select,textarea").not("[name='user_id']"),i.clear&&e.val(""),i.clearId&&this.$("input[type='hidden'][name='id']").val(""),i.focus&&e.filter(":visible").first().focus(),this.$(".js-errors").hide()},e.prototype.attributes=function(){var t,e,n,i,r;for(t={},n=0,i=(r=this.fields).length;n<i;n++)t[e=r[n]]=this.$("[name='"+e+"']").val();return t},e}(e.View),b=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,k),e.prototype.events={"click .js-add-new-tagging":"showNewTaggingView"},e.prototype.initialize=function(){return this.collection=new this.collectionClass,this.listenTo(this.collection,"reset",function(t){return function(){return t.collectionReset()}}(this)),this.listenTo(this.collection,"remove",function(t){return function(e){return t.collectionRemove(e)}}(this)),this.collection.reset(this.$el.data("taggings")),this.addNewTaggingView=new this.newTaggingViewClass({el:this.$(".js-new-form"),collection:this.collection}),this.listenTo(this.addNewTaggingView,"cancel",function(t){return function(){return t.hideTaggingView()}}(this))},e.prototype.collectionRemove=function(t){var e;if(e=n.find(this.rowViews,function(e){return e.model.id===t.id}))return this.removeSubView(e),this.rowViews.splice(n.indexOf(this.rowViews,e),1)},e.prototype.collectionReset=function(){var t,e,i,r,o,s,a,u,c,l;if(!n.isEmpty(this.rowViews))for(e=0,r=(a=this.rowViews).length;e<r;e++)(l=a[e]).remove();for(this.rowViews=[],t=this.$(".js-list-container"),c=[],i=0,o=(u=this.collection.models).length;i<o;i++)s=u[i],l=new this.rowViewClass({model:s}),this.rowViews.push(l),c.push(t.append(l.el));return c},e.prototype.showNewTaggingView=function(t){return this.$(".js-add-new-tagging").hide(),this.addNewTaggingView.show(t)},e.prototype.hideTaggingView=function(){return this.$(".js-add-new-tagging").show(),this.addNewTaggingView.$el.hide()},e}(),g=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,b),e.prototype.collectionReset=function(){var t,n,i,r;for(e.__super__.collectionReset.apply(this,arguments),t=0,n=(i=this.rowViews).length;t<n;t++)r=i[t],this.listenTo(r,"edit",function(t){return function(e){return t.editTagging(e)}}(this));if(this.addNewTaggingView)return this.isEditing?this.hideTaggingView():this.showNewTaggingView()},e.prototype.editTagging=function(t){return this.isEditing=!0,this.$(".js-add-new-tagging").hide(),this.addNewTaggingView.edit(t)},e.prototype.hideTaggingView=function(){return this.isEditing=!1,e.__super__.hideTaggingView.apply(this,arguments)},e}(),w=function(e){function n(){return this.save_tagging=a(this.save_tagging,this),n.__super__.constructor.apply(this,arguments)}return o(n,e),n.prototype.save_tagging=function(e){return t.ajax({url:this.createURL,type:"post",data:e.attributes,success:function(t){return function(e){return t.reset(e.taggings)}}(this)})},n.prototype.create=function(e){var n;return(n=new this.model(e)).isValid()&&(t.isFunction(n.createPopover)?t.when(n.createPopover(this.save_tagging)).then(function(t){return function(e){if(e.proceed)return t.save_tagging(n)}}(this)):this.save_tagging(n)),n},n}(e.Collection),{LimitAssociationMixin:_,NewTagField:m,NewTaggingField:y,StartupField:v,UserField:x,View:k,TaggingView:function(e){function n(){return this.render=a(this.render,this),this.delete_tag=a(this.delete_tag,this),this.initialize=a(this.initialize,this),n.__super__.constructor.apply(this,arguments)}return o(n,e),n.prototype.initialize=function(){return this.$(".delete > a",this).removeAttr("onClick")},n.prototype.events={"click img.delete":"delete_tag"},n.prototype.delete_tag=function(t){return this.$el.css("opacity","0.7"),t.preventDefault(),this.model.isNew()?(this.model.destroy(),this.$el.fadeOut(function(t){return function(){return t.remove()}}(this))):this.model.destroy({wait:!0,success:function(t){return function(){return t.$el.fadeOut(function(){return t.remove()})}}(this)})},n.prototype.render=function(){var e;return e='<div data-tag_id="'+this.model.get("new_tag").id+'" class="new_taggings tag_edit">\n  <a href="'+this.model.get("new_tag").slug_url+'" target="_blank">'+this.model.get("new_tag").display_name+'</a>\n  <img class="delete" src="/images/tag-field/close-tag.png" title="Remove"/>\n  </div>',this.$el=t(e).data("new_tagging",this.model.toJSON()),this.el=this.$el.get()[0],this.delegateEvents(),this},n}(e.View),TaggingList:b,TaggingCollection:w,AddTaggingView:f,EditableTaggingList:g,DegreeCollection:function(e){function n(){return this.save_degree=a(this.save_degree,this),n.__super__.constructor.apply(this,arguments)}return o(n,e),n.prototype.model=h,n.prototype.save_degree=function(t){return t.save(t.attributes,{success:function(t){return function(e,n){return t.reset(n.all_degrees)}}(this)})},n.prototype.create=function(e){var n;return(n=new this.model(e)).isValid()&&t.when(this.createPopover(n,this.save_degree)).then(function(t){return function(e){if(e.proceed)return t.save_degree(n)}}(this)),n},n.prototype.createPopover=function(e,n){var i;return i="new_tags/create_popover",t.ajax({url:"/"+i,data:{name:e.get("name"),tag_type:"CollegeTag"},success:function(o){var s;return o.proceed||(s=t(o.create_popover_html),t.facybox(s),setTimeout(function(){return r.with(t(r.selector(i)),function(t){return t.set({model:e,callback:n})})},100)),o}})},n}(e.Collection),CollegeRow:function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,k),e.prototype.className="college-row-view",e.prototype.events=function(){return{"click .js-edit":function(t){return function(){return t.trigger("edit",t.model)}}(this),"click .js-delete":function(t){return function(){return t.model.destroy()}}(this)}},e.prototype.initialize=function(){return this.render()},e.prototype.metaData=function(){var t,e,i,r,o,s,a,u;return t=(a=[this.model.get("majors")||[],this.model.get("degree_name"),this.model.get("graduation_month_name"),this.model.get("graduation_year"),this.model.get("gpa"),this.model.get("max_gpa")])[1],i=a[2],r=a[3],e=a[4],s=a[5],o=a[0].join(", "),u="",(t||o)&&(u="&middot; "),u+=n.compact([t,o]).join(", "),r&&(i&&(u+=" "+i),u+=" "+r),e&&(u+=", "+e.toPrecision(3)+" ",s&&(u+="/ "+s.toPrecision(3)),u+=" GPA"),u},e.prototype.render=function(){var t;return t=n.extend(this.model.toJSON(),{meta_data:this.metaData()}),this.$el.html(this.renderTemplate("#college-row-template",t))},e}(),AddEditDegreeView:function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return o(i,f),i.prototype.fields=["name","new_tag_id","user_id","majors","degree_type","full_degree_name","graduation_year","graduation_month","id","description","gpa","max_gpa"],i.prototype.nullable_fields=["gpa","max_gpa"],i.prototype.initialize=function(){var t;return i.__super__.initialize.apply(this,arguments),t=new s.TagAutocomplete({el:this.$("input[name='name']"),tag_type:"CollegeTag"}),this.listenTo(t,"select",function(t){return function(e){return t.$("input[name='name']").attr("value",e.tag.display_name),t.$("input[name='new_tag_id']").attr("value",e.tag.id),t._focusLastMajorInput()}}(this)),this.$(".js-add-major").click(function(t){return function(){return t.addMajorRow()}}(this)),this.$("select[name='degree_type']").change(function(t){return function(){return t.degreeSelectionChanged()}}(this))},i.prototype.show=function(t){return i.__super__.show.call(this,t),this.degreeSelectionChanged(),this.renderMajorTextFields((null!=t?t.majors:void 0)||[])},i.prototype.degreeSelectionChanged=function(){var t,e,i,r;if(r=this.$el.data("degree_types_to_show_other_input"),e=parseInt(this.$("select[name='degree_type']").val()),i=n.contains(r,e),(t=this.$("input[name='full_degree_name']")).toggle(i),!i)return t.val("")},i.prototype.renderMajorTextFields=function(e){var i,r,o;return o=Math.max(e.length,1),r=this.$(".js-major-row:first")[0].outerHTML,this.$(".js-major-row").remove(),i=this.$(".js-add-major-row"),n(o).times(function(){return i.before(r)}),n.each(n.zip(this.$(".js-major-input"),e),function(e){var n,i;if(n=e[0],i=e[1])return t(n).val(i)})},i.prototype.addMajorRow=function(){var t;return t=this.$(".js-major-row:last")[0].outerHTML,this.$(".js-add-major-row").before(t),this._focusLastMajorInput()},i.prototype.add=function(){var t,e;if(this.$("input, a").blur(),null!=(e=this.attributes().id)?e.length:void 0)t=this.update();else if((t=this.create()).isValid())return;if(t.validationError)return this.showErrors(t.validationError)},i.prototype.update=function(){var t;return(t=this.collection.find(function(t){return function(e){return parseInt(e.get("id"))===parseInt(t.attributes().id)}}(this))).save(this.attributes(),{success:function(t){return function(e,n){return t.collection.reset(n.all_degrees)}}(this)}),t},i.prototype.edit=function(t){var e,n,i,r;for(n=0,i=(r=this.fields).length;n<i;n++)"user_id"!==(e=r[n])&&"majors"!==e&&this.$("[name='"+e+"']").attr("value",t.get(e)||"");return this.show({clear:!1,majors:t.get("majors")})},i.prototype.attributes=function(){var e,r,o,s,a,u,c;for(c=i.__super__.attributes.call(this),e=n.inject(n.keys(c),function(t,e){return c[e]&&(t[e]=c[e]),t},{}),r=0,s=(u=this.nullable_fields).length;r<s;r++)(o=u[r])in e||(e[o]=null);return a=n.map(this.$(".js-major-input"),function(e){return t(e).val()}),a=n.compact(a),e.majors=a,e},i.prototype._focusLastMajorInput=function(){return this.$(".js-major-input:last").focus()},i}()}}.apply(e,i))||(t.exports=r)},1539:function(t,e,n){var i,r;
/*!
 * jQuery.scrollTo
 * Copyright (c) 2007-2014 Ariel Flesler - aflesler<a>gmail<d>com | http://flesler.blogspot.com
 * Licensed under MIT
 * http://flesler.blogspot.com/2007/10/jqueryscrollto.html
 * @projectDescription Easy element scrolling using jQuery.
 * @author Ariel Flesler
 * @version 1.4.14
 */!function(o){"use strict";i=[n(2)],void 0===(r=function(t){var e=t.scrollTo=function(e,n,i){return t(window).scrollTo(e,n,i)};function n(e){return t.isFunction(e)||t.isPlainObject(e)?e:{top:e,left:e}}return e.defaults={axis:"xy",duration:0,limit:!0},e.window=function(e){return t(window)._scrollable()},t.fn._scrollable=function(){return this.map(function(){if(!(!this.nodeName||-1!=t.inArray(this.nodeName.toLowerCase(),["iframe","#document","html","body"])))return this;var e=(this.contentWindow||this).document||this.ownerDocument||this;return/webkit/i.test(navigator.userAgent)||"BackCompat"==e.compatMode?e.body:e.documentElement})},t.fn.scrollTo=function(i,r,o){return"object"==typeof r&&(o=r,r=0),"function"==typeof o&&(o={onAfter:o}),"max"==i&&(i=9e9),o=t.extend({},e.defaults,o),r=r||o.duration,o.queue=o.queue&&o.axis.length>1,o.queue&&(r/=2),o.offset=n(o.offset),o.over=n(o.over),this._scrollable().each(function(){if(null!=i){var s,a=this,u=t(a),c=i,l={},p=u.is("html,body");switch(typeof c){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(c)){c=n(c);break}if(!(c=p?t(c):t(c,this)).length)return;case"object":(c.is||c.style)&&(s=(c=t(c)).offset())}var h=t.isFunction(o.offset)&&o.offset(a,c)||o.offset;t.each(o.axis.split(""),function(t,n){var i="x"==n?"Left":"Top",r=i.toLowerCase(),f="scroll"+i,g=a[f],_=e.max(a,n);if(s)l[f]=s[r]+(p?0:g-u.offset()[r]),o.margin&&(l[f]-=parseInt(c.css("margin"+i))||0,l[f]-=parseInt(c.css("border"+i+"Width"))||0),l[f]+=h[r]||0,o.over[r]&&(l[f]+=c["x"==n?"width":"height"]()*o.over[r]);else{var m=c[r];l[f]=m.slice&&"%"==m.slice(-1)?parseFloat(m)/100*_:m}o.limit&&/^\d+$/.test(l[f])&&(l[f]=l[f]<=0?0:Math.min(l[f],_)),!t&&o.queue&&(g!=l[f]&&d(o.onAfterFirst),delete l[f])}),d(o.onAfter)}function d(t){u.animate(l,r,o.easing,t&&function(){t.call(this,c,o)})}}).end()},e.max=function(e,n){var i="x"==n?"Width":"Height",r="scroll"+i;if(!t(e).is("html,body"))return e[r]-t(e)[i.toLowerCase()]();var o="client"+i,s=e.ownerDocument.documentElement,a=e.ownerDocument.body;return Math.max(s[r],a[r])-Math.min(s[o],a[o])},e}.apply(e,i))||(t.exports=r)}(n(1540))},1540:function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},1560:function(t,e,n){var i;void 0===(i=function(){return window.Modernizr}.apply(e,[]))||(t.exports=i)},158:function(t,e,n){var i,r,o=function(t,e){return function(){return t.apply(e,arguments)}},s=function(t,e){for(var n in e)a.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},a={}.hasOwnProperty;i=[n(2),n(59),n(1439),n(25),n(1358),n(1344),n(1355),n(1361),n(60),n(153)],void 0===(r=function(t,e,n,i,r,a,u,c,l){var p;return p=i.extend({},e.Events),{show_edge:function(r,u){return new(function(e){function u(){return this._onClose=o(this._onClose,this),this._onRequestIntro=o(this._onRequestIntro,this),u.__super__.constructor.apply(this,arguments)}return s(u,e),u.prototype.tpl=r(".js-metadata-row-template").html(),u.prototype.events={"change .js-context-select":"_onContextSelect","change .js-relationship-select":"_onRelationshipSelect","click .js-add-metadatas":"_onAddMetadatas","click .js-remove-metadata":"_onRemoveMetadata","click .js-confirm-metadata":"_onConfirmMetadata","click .js-unconfirm-metadata":"_onRemoveMetadata","click .js-request-intro":"_onRequestIntro","click .js-close":"_onClose","click .js-undo":"_onUndo","click .js-disconnect":"_onDisconnect","click .js-cancel-metadata":"_onCancelMetadata","click .js-next":"_onClickNext"},u.prototype.initialize=function(){var t,e,n,i,r,o,s,u;for(this.source=this.$el.data("source"),this.neighbor_id=this.$el.data("neighborId"),this.neighbor_first_name=this.$el.data("neighborFirstName"),this.user_graph_request_id=this.$el.data("userGraphRequestId"),a.track("UserGraph.MetadataShow",{source:this.source,neighbor_id:this.neighbor_id}),this.$el.data("track_guesses")&&a.track("UserGraph.NumGuesses",{source:this.source,neighbor_id:this.neighbor_id,num_guesses:this.$el.data("metadata").length}),this.metadata={},t=0,n=(o=this.$el.data("metadata")).length;t<n;t++)r=o[t],this._addMetadataRow(r);for(this.context_map=this.$(".js-add-metadata-container").data("context_map"),this.$(".js-loading-container").hide(),this.$(".js-show-edge-container").show(),this.$(".js-disconnect").magnificPopup({type:"ajax"}),this.freeform_relationships=["co-worker","collaborator","classmate","mentor","mentee","advisor","advisee","manager","employee"],e=0,i=(s=this.freeform_relationships).length;e<i;e++)u=s[e],this.context_map[u]||(this.context_map[u]=[]);return this.context_free_relationships=["family","friend","acquaintance"],this.$(".tiptip, .js-pending-button").qtip()},u.prototype._addMetadataRow=function(t){return this.metadata[t.id]=t,this.$(".js-existing-metadata-container").append(n.render(this.tpl,t))},u.prototype._onAddMetadatas=function(){return this.$(".js-add-metadatas-button-container").hide(),this.$(".js-add-metadatas-container").show(),a.track("UserGraph.ShowAddMetadata",{source:this.source,neighbor_id:this.neighbor_id})},u.prototype._onRelationshipSelect=function(){var t;return t=this.$(".js-relationship-select").val(),this.context_free_relationships.indexOf(t)>-1?(this.$(".js-context-autocomplete-container").empty().hide(),this.$(".js-context-select-container").addClass("u-hidden"),this.$(".js-context-select-at").addClass("u-hidden"),void this._onAddMetadata()):(0===this.$(".js-context-select-container").length?this._showAutocompleteContext():(this._refreshContextSelect(t),this.$(".js-context-select-container").removeClass("u-hidden"),this.$(".js-context-select-at").removeClass("u-hidden")),a.track("UserGraph.SelectRelationship",{source:this.source,neighbor_id:this.neighbor_id,relationship:t}))},u.prototype._onContextSelect=function(){var t;return t=this.$(".js-context-select").val(),a.track("UserGraph.SelectContext",{source:this.source,neighbor_id:this.neighbor_id,context:t}),"other"===t?this._showAutocompleteContext():(this.$(".js-context-autocomplete-container").empty().hide(),this._onAddMetadata())},u.prototype._showAutocompleteContext=function(){var e,n,i,r;return this.$(".js-context-autocomplete-container").empty().removeClass("u-hidden"),i=t("<input>",{type:"text",class:"js-context-autocomplete context-autocomplete"}),this.$(".js-context-autocomplete-container").append(i),"classmate"!==(r=this.$(".js-relationship-select").val())?(n="Startup",i.attr("placeholder","Type company name"),e=new c.TypedAutocomplete({el:i,types:["Startup"]})):"classmate"===r&&(n="NewTag",i.attr("placeholder","Type college name"),e=new c.TagAutocomplete({el:i,tag_type:"CollegeTag"})),this.listenTo(e,"select",function(t){return function(e){var i;return i="NewTag"===n?e.tag.id:e.id,t._onAddMetadata(i,n)}}(this)),this.$(".js-context-autocomplete").focus()},u.prototype._refreshContextSelect=function(e){var n,i,r,o,s;if(this.$(".js-context-select").empty(),this.context_map[e].length>0){for(this.$(".js-context-select").append(t("<option>",{value:"",disabled:!0}).text("Choose One")),i=0,r=(s=this.context_map[e]).length;i<r;i++)o=(n=s[i]).name.length>25?n.name.slice(0,23)+"...":n.name,this.$(".js-context-select").append(t("<option>",{value:n.id,title:n.name}).text(o));this.$(".js-context-select").val("")}if(!(this.freeform_relationships.indexOf(e)>-1&&(this.$(".js-context-select").append(t("<option>",{value:"other"}).text("Other")),0===this.context_map[e].length)))return this.$(".js-context-autocomplete-container").empty().addClass("u-hidden");this._showAutocompleteContext()},u.prototype._refreshRelationshipSelect=function(){if(i.keys(this.context_map).length)return this.$(".js-relationship-select").val(i.keys(this.context_map)[0]),this._onRelationshipSelect()},u.prototype._onAddMetadata=function(e,n){var i,o,s;if(o=this.$(".js-relationship-select").val()){if(this.context_free_relationships.indexOf(o)>-1)e=null,n=null;else if(!n){if("other"===(i=this.$(".js-context-select").val()))return;if(!i)return;s=i.indexOf("_"),e=i.slice(0,s),n=i.slice(s+1)}if(e&&n||this.context_free_relationships.indexOf(o)>-1)return r(".js-errors-container").slideUp(),this.$(".js-add-metadata-container").hide(),this.$(".js-add-metadata-loading-container").show(),t.ajax({url:this.$(".js-add-metadata-container").data("add_url"),type:"POST",data:{"user_graph_edge_metadata[context_id]":e,"user_graph_edge_metadata[context_type]":n,"user_graph_edge_metadata[relationship]":o,"user_graph_edge_metadata[user_graph_edge_id]":this.$(".js-add-metadata-container").data("user_graph_edge_id")},success:function(t){return function(e){return t.metadata[e.id]||t._addMetadataRow(e),t.$(".js-existing-metadata-container").animate({scrollTop:t.$(".js-metadata-container").last().offset().top}),t.$(".js-add-metadata-loading-container").hide(),t.$(".js-add-metadata-container").show(),t.$(".js-context-autocomplete-container").empty().addClass("u-hidden"),t.$(".js-context-select-container").addClass("u-hidden"),t.$(".js-context-select-at").addClass("u-hidden"),t.$(".js-relationship-select").val(""),a.track("UserGraph.AddMetadata",{source:t.source,neighbor_id:t.neighbor_id,relationship:o,context_type:n})}}(this)})}},u.prototype._onRemoveMetadata=function(e){var n,i;return(i=t(e.target).parents(".js-metadata-container")).find(".js-metadata-content").empty().append(t(this.$(".js-loading-container")[0]).clone().show()),n=this.metadata[i.data("id")],r(".js-errors-container").slideUp(),t.ajax({url:i.data("remove_url"),type:"POST",success:function(t){return function(e){return i.slideUp(300,function(){return i.remove()}),delete t.metadata[n.id],a.track("UserGraph.RemoveMetadata",{source:t.source,neighbor_id:n.neighbor_id,relationship:n.relationship,context_type:n.context_type,guessed:n.guessed,is_inviter:n.is_inviter})}}(this)})},u.prototype._onConfirmMetadata=function(e,i){var r;return i||(i=t(e.target).parents(".js-metadata-container")),i.find(".js-metadata-content").empty().append(t(this.$(".js-loading-container")[0]).clone().show()),r=this.metadata[i.data("id")],t.ajax({url:i.data("confirm_url"),type:"POST",success:function(t){return function(e){return i.empty().append(n.render(t.tpl,e.metadata))}}(this)},a.track("UserGraph.ConfirmMetadata",{source:this.source,neighbor_id:r.neighbor_id,relationship:r.relationship,context_type:r.context_type,guessed:r.guessed,is_inviter:r.is_inviter}))},u.prototype._onCancelMetadata=function(){return this.$(".js-context-select-container").addClass("u-hidden"),this.$(".js-context-select-at").addClass("u-hidden"),this.$(".js-relationship-select").val("")},u.prototype._onRequestIntro=function(e){return this.$(".js-undo").length>0&&this.$(".js-undo").click(),t.magnificPopup.close()},u.prototype._onClose=function(e){var n;return this._onAddMetadata(),this.$(".js-close").data("modal")?(t.magnificPopup.close(),n=!0,p.trigger("close_graph_modal",{neighbor_id:this.neighbor_id,connected:n}),p.trigger("user_graph_update")):window.location=this.$(".js-close").data("url")},u.prototype._onUndo=function(e){return t.post(t(e.target).data("href")),a.track("UserGraph.ConnectUndo",{source:this.source,neighbor_id:this.neighbor_id}),p.trigger("user_graph_update"),!1,p.trigger("close_graph_modal",{neighbor_id:this.neighbor_id,connected:!1}),t.magnificPopup.close()},u.prototype._onClickNext=function(){var e;if(p.trigger("intro_clicked_next"),p.trigger("close_graph_modal",{neighbor_id:this.neighbor_id}),t.magnificPopup.close(),e=this.$(".js-metadata-container[data-show_confirm=false]").length>0,("message_button"===this.source||"people_message_button"===this.source)&&e)return t.facybox({ajax:r(".js-next").data("href")})},u}(e.View))({el:u})},disconnect_edge:function(n,i){return new(function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return s(i,e),i.prototype.events={"click .js-disconnect":"_onDisconnect","click .js-cancel":"_onCancel"},i.prototype.initialize=function(){return this.neighbor_id=this.$el.data("neighborId"),this.source=this.$el.data("source"),this.modal=this.$el.data("modal")},i.prototype._onCancel=function(e){return a.track("UserGraph.DisconnectCancel",{source:this.source,neighbor_id:this.neighbor_id}),t.magnificPopup.close()},i.prototype._onDisconnect=function(e){if(t.ajax({url:n(".js-disconnect").data("href"),method:"DELETE",success:function(t){return function(e){return a.track("UserGraph.Disconnect",{source:t.source,neighbor_id:t.neighbor_id}),p.trigger("user_graph_update")}}(this)}),t.magnificPopup.close(),u("You are now disconnected."),!this.modal)return window.location.href="/"},i}(e.View))({el:i})},connections_index:function(e,n){return e(".js-more-button").click(function(){return t(this).hide(),e(".js-card-row").show()})},events:function(){return p}}}.apply(e,i))||(t.exports=r)},1585:function(t,e,n){var i,r,o={}.hasOwnProperty;i=[n(151)],void 0===(r=function(t){return function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return function(t,e){for(var n in e)o.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(n,t("Slug")),n}()}.apply(e,i))||(t.exports=r)},1590:function(t,e,n){var i,r,o=function(t,e){return function(){return t.apply(e,arguments)}},s=function(t,e){for(var n in e)a.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},a={}.hasOwnProperty;i=[n(2),n(59),n(25),n(52),n(1394),n(1361),n(109),n(1585),n(1807),n(157),n(1808),n(1591)],void 0===(r=function(t,e,n,i,r,a,u,c){var l,p,h,d,f,g,_;return d=n.uniqueId("lib_mentions"),p=n.template("<span\nclass='"+i.classNames("coffeescripts/lib/mentions").join(" ")+" autocomplete_mention'>@<%- displayName || slug %></span>"),_=n.template('<a class="at_mention_link" data-type="<%- sluggable_type %>" data-id="<%- sluggable_id %>" href="<%- name %>">\n  <span class="at_mention_symbol">@</span><span class="at_mention_slug"><%- sluggable_to_s %></span>\n</a>'),l={},h=function(e){return l[e]||(l[e]=t.get("/mentions/search",{mention:e},null,"json"),n.delay(function(){return l[e]=null},6e4)),l[e]},g="\\s<>&\\(\\)\\?!,.:;'\"",f=function(t,e,i){var r;return r=new RegExp("(?=["+g+"\\"+e+"])","g"),n.map(t.split(r),function(t){return t[0]===e&&t.length>1?i(t.slice(1)):t}).join("")},{Autocomplete:function(e){function r(){return this._search=o(this._search,this),this._transformTokens=o(this._transformTokens,this),this.updateTarget=o(this.updateTarget,this),this.render=o(this.render,this),r.__super__.constructor.apply(this,arguments)}return s(r,e),r.prototype.results=function(e){return 0===e.length?[]:t.when(h(e))},r.prototype.renderMention=function(t){var e,n;if(n=t.get("name"),null==(e=t.get("sluggable_to_s")))throw new Error("No display name loaded for slug");return p({slug:n,displayName:e})},r.prototype.renderSelect=function(t){return a.render_item({image:t.pic,main_text:t.highlighed_name,detail_text:t.desc})},r.prototype.resultToSlug=function(t){return(this.collection.findWhere({name:t.slug})||new c).set({name:t.slug,sluggable_to_s:n.unescape(t.name),sluggable_id:t.id,sluggable_type:t.type})},r.prototype.initialize=function(e){if(this.collection||(this.collection=u.get(c)),this.$el.is(":input"))throw new Error("Must be applied to a container element, not to an input directly");if(this.$target=t(e.target),!this.$target.is(":input"))throw new Error("Must provide a target input (generally hidden) to contain the value to submit to the server");return this._initializeElement(),this.$editable=this._initializeEditable(),this.$highlighter=this._initializeHighlighter(),this._$intermediary=t('<input type="hidden" value=""/>'),this.render()},r.prototype.render=function(){if(!this._nestedRender)return this._nestedRender=!0,this._$intermediary.val(this.$target.val().replace(new RegExp("\\"+this._at+"(?=[^\\s])","g"),this._atReplacement)),this._renderEditable(),this._renderHighlighter(),this._nestedRender=!1},r.prototype.updateTarget=function(){if(!this._nestedUpdateTarget)return this._nestedUpdateTarget=!0,this._$intermediary.val(this.$editable.val().replace(new RegExp("\\"+this._marker+"[^\\"+this._marker+"]+(?=\\"+this._marker+"(["+g+"]|$))","g"),function(t){return function(e){var n,i;return n=e.slice(1),null!=(i=(t._slugNamesByRenderedText||{})[n])?""+t._atReplacement+i:e}}(this)).replace(new RegExp("\\"+this._marker,"g"),"")),this.$target.val(this._$intermediary.val().replace(new RegExp("\\"+this._atReplacement,"g"),this._at)).trigger("change"),this._renderEditable(),this._renderHighlighter(),this._nestedUpdateTarget=!1},r.prototype.events={change:"updateTarget",input:"updateTarget",keyup:"updateTarget"},r.prototype.delegateEvents=function(){var e,n;return r.__super__.delegateEvents.apply(this,arguments),this.$target.on("change",function(t){return function(){if(!t._nestedUpdateTarget)return t.render()}}(this)),this.$editable.atwho({at:this._at,alias:"mentions",displayTpl:function(e){return function(n){var i;return i=e.resultToSlug(n),t(e._renderMentionWithMetadata(i)).text(),t(e.renderSelect(n)).wrap("<li>").parent().attr("data-"+d+"_slug",JSON.stringify(i.toJSON())).wrap("<p>").parent().html()}}(this),insertTpl:function(e){return function(n){var i;return i=e.resultToSlug(n),t(e._renderMentionWithMetadata(i)).text()}}(this),callbacks:{highlighter:function(t,e){return t},remoteFilter:this._search,tplEval:function(t,e){return t(e)},sorter:function(t,e,n){return e},matcher:function(t,e,n){var i;return t=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),n&&(t="(?:^|\\s)"+t),(i=new RegExp(t+"([ A-Za-z0-9_+-]*)$|"+t+"([^\\x00-\\xff]*)$","gi").exec(e))?i[2]||i[1]:null}}}),e=this.$editable.data("atwho").controllers["@"],n=e.insert,e.insert=function(t){return function(i,r){var o;if(null==(o=r.data(d+"_slug")).name)throw new Error("Slug name expected in attributes");return t.collection.findWhere({name:o.name})||t.collection.add(o),n.call(e,""+t._marker+i+t._marker,r)}}(this)},r.prototype.undelegateEvents=function(){return r.__super__.undelegateEvents.apply(this,arguments),this.$target.off("change",this.render),this.$editable.atwho("destroy")},r.prototype._at="@",r.prototype._marker=String.fromCharCode(8203),r.prototype._atReplacement=String.fromCharCode(8205),r.prototype._initializeElement=function(){if(this.$el.css({position:"relative"}),"auto"===this.$el.css("z-index"))return this.$el.css("z-index",0)},r.prototype._initializeEditable=function(){var e;return(e=this.$("textarea")[0])||(e=t("<textarea />")).appendTo(this.$el),(e=t(e)).autosize(),e.css("background-color","transparent"),e},r.prototype._initializeHighlighter=function(){var e,n,r,o,s,a,u,c,l;for(n=t("<div class='"+i.classNames("coffeescripts/lib/mentions").join(" ")+" highlighter' />").insertBefore(this.$editable),l=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent","lineHeight","minHeight","borderRadius"],r=0,s=(u=["Left","Right","Top","Bottom"]).length;r<s;r++)e=u[r],l.push("padding"+e),l.push("margin"+e),l.push("border"+e+"Width");for(o=0,a=l.length;o<a;o++)c=l[o],n.css(c,this.$editable.css(c));return n},r.prototype._renderEditable=function(){var e,n,i,r,o,s,a;if(a=this._transformTokens(!1,function(e){return function(n){var i;return i=e._renderMentionWithMetadata(n),e._marker+t(i).text()+e._marker}}(this)),(e=this.$editable.val())!==a){if(s=0,n=this.$editable.is(":focus"))for(s=0,i=r=0,o=this.$editable.caret("pos")-1;0<=o?r<=o:r>=o;i=0<=o?++r:--r)a[s]===e[i]&&s++;if(this.$editable.val(a),this.$editable.trigger("autosize.resize"),n)return this.$editable.caret("pos",s)}},r.prototype._renderHighlighter=function(){return this.$highlighter.html(this._transformTokens(!0,function(t){return function(e){return t._renderMentionWithMetadata(e)}}(this)))},r.prototype._transformTokens=function(t,e){var i;return i=this._$intermediary.val(),t&&(i=n.escape(i)),f(i,this._atReplacement,function(t){return function(n){var i;return null!=(i=t.collection.findWhere({name:n}))?e(i):(t._loadData(),""+t._at+n)}}(this))},r.prototype._renderMentionWithMetadata=function(e){var n,i;if(!e.has("name"))throw new Error("Slug name expected in model");if(this._renderedMentions||(this._renderedMentions={}),this._slugNamesByRenderedText||(this._slugNamesByRenderedText={}),!this._renderedMentions[e.get("name")]){for(i=t(this.renderMention(e)).attr("data-marker",this._marker),n=!0;null!=this._slugNamesByRenderedText[i.text()];)i.html(i.html()+(n?"&nbsp;":" ")),n=!n;this._renderedMentions[e.get("name")]=i.wrap("<p>").parent().html(),this._slugNamesByRenderedText[i.text()]=e.get("name")}return this._renderedMentions[e.get("name")]},r.prototype._search=function(e,n){var i;return this._searchId||(this._searchId=0),this._searchId++,i=this._searchId,t.when(this.results(e)).done(function(t){return function(e){if(t._searchId===i)return n(e)}}(this))},r.prototype._loadData=n.once(function(){return t.get("/mentions/init_mentions",{text:this.$target.val()},function(t){return function(e){var n,i,r,o,s;for(i in o=e.active_mentions||{})r=(n=o[i]).slug.replace(/^@/,""),(s=t.collection.findWhere({name:r})||new c).set({name:r,sluggable_to_s:i.replace(/^@/,""),sluggable_type:n.type,sluggable_id:n.id}),t.collection.add(s);return t.render()}}(this),"json")}),r}(e.View),UpdatingField:function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return s(n,e),n.prototype.initialize=function(t){if(this.collection||(this.collection=u.get(c)),this.field=t.field,null==this.field)throw new Error("Must provide a field to listen to");return this.listenTo(this.model,"change:"+this.field,this.render)},n.prototype.render=function(){var e,n,i;return n=this._preprocessText(),i=this,e=function(){var n;return t(this).contents().length>0?t(this).contents().each(e):(n=f(t(this).text(),"@",function(t){var e;return null!=(e=i.collection.findWhere({name:t}))?i.renderMention(e):"@"+t}),null!=t(this).html()?t(this).html(n):t(this).replaceWith(n))},this.$el.empty().append(t(n).each(e)),this},n.prototype.renderMention=function(t){return _(t.toJSON())},n.prototype._preprocessText=function(){return r.link_and_format(this.model.escape(this.field))},n}(e.View)}}.apply(e,i))||(t.exports=r)},1591:function(t,e,n){},1594:function(t,e,n){var i,r,o=function(t,e){for(var n in e)s.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty,a=[].slice,u=function(t,e){return function(){return t.apply(e,arguments)}};i=[n(2),n(25),n(59),n(108),n(52),n(157),n(60)],void 0===(r=function(t,e,n,i,r){var s,c;return{initializeEditableRegions:function(t,e){return e.each(function(){return t("> .edit",this).each(function(){var e;return e=t(this).is(":visible"),t(this).show(),c(t(":input",this)),t(this).toggle(e)})})},initializeInputs:c=function(n){return t(n).each(function(){var n;if(t(this).is("textarea")&&t(this).autosize(),e.isUndefined(t(this).attr("title"))||t(this).qtip({defaultPosition:"right",activation:"focus"}),null!=t(this).data("max"))return(n=t('<div class="character_counter"/>')).insertAfter(t(this)),new i.CharacterCounter({el:this,container:n,max:parseInt(t(this).data("max"))})})},EditableRegion:s=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return o(n,e),n.prototype.initialize=function(){return this.listenTo(this,"error",function(t){return function(){return t.edit()}}(this)),this.listenTo(this,"edit",function(e){return function(n,i){return i.done(function(){return t(e.$("> .edit :input")[0]).focus()})}}(this))},n.prototype.edit=function(){var e;return e=t.when(this._transition(this.$("> .show"),this.$("> .edit"))),this.trigger("edit",this,e),e},n.prototype.show=function(){var e;return e=t.when(this._transition(this.$("> .edit"),this.$("> .show"))),this.trigger("show",this,e),e},n.prototype.error=function(){var t;return t=1<=arguments.length?a.call(arguments,0):[],this.trigger.apply(this,["error",this].concat(t)),this.edit()},n.prototype.save=function(){throw new Error("Subclasses must override")},n.prototype._transition=function(e,n){var i;return i=t.Deferred(),e.fadeOut("fast",function(){return n.fadeIn("fast"),i.resolve()}),i.promise()},n}(n.View),ModelEditableRegion:function(n){function r(){return this._inputForErrorAttribute=u(this._inputForErrorAttribute,this),this._handleErrorResponse=u(this._handleErrorResponse,this),r.__super__.constructor.apply(this,arguments)}return o(r,s),r.prototype.events=function(){return{"submit .edit form":"_submitForm","input .edit form :input":"_changeInput"}},r.prototype.error=function(t){var e,n,o,s;for(n in e=!1,t)s=t[n],e=!0,o=this._inputForErrorAttribute(n),i.setInputError(o,s);return e||(o=this.$("> .edit :input:visible").first(),i.setInputError(o,"An unknown error occurred")),r.__super__.error.apply(this,arguments)},r.prototype.matchesErrors=function(t){var e,n;for(e in n=!1,t)t[e],this._inputForErrorAttribute(e).length>0&&(n=!0);return n},r.prototype.save=function(){var e;return this.$("> .edit :input").each(function(){return i.setInputError(this,null)}),e=t.Deferred(),this.model.save(i.attributes(this.$("> .edit"),this.model.prefix()),{patch:!0,wait:!0,success:function(t,n,i){return e.resolve(t,n,i)},error:function(t){return function(n,i,r){return t._handleErrorResponse(n,i,r),e.reject(n,i,r)}}(this)}),e.promise()},r.prototype._submitForm=function(t){return t.preventDefault(),this.save()},r.prototype._changeInput=function(e){return i.setInputError(e.currentTarget,null),t(e.currentTarget).focus()},r.prototype._handleErrorResponse=function(e,n,i){return this.error(t.parseJSON(n.responseText).errors)},r.prototype._inputForErrorAttribute=function(t){return t=t.replace(/\./,"_attributes]["),this.$("> .edit").find(":input[name='"+e.result(this.model,"prefix")+"["+t+"]']")},r}(),EditableRegionControls:function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return o(i,n),i.prototype.initialize=function(t){var n,i,r,o,s,a;for(this.editableRegion=t.editableRegion,o=0,s=(a=["edit","show","save"]).length;o<s;o++)if(r=a[o],!this.editableRegion||!e.isFunction(this.editableRegion[r]))throw new Error("Must provide an EditableRegion, or something which implements the same API");return i=t.hideEditParent?this.$(this.editSelector()).parent():this.$(this.editSelector()),n=this.$(this.controlSelector()),this.listenTo(this.editableRegion,"edit",function(t){return function(){return t._transition(i,n)}}(this)),this.listenTo(this.editableRegion,"show",function(t){return function(){return t._transition(n,i)}}(this))},i.prototype.editSelector=function(){return".edit"},i.prototype.cancelSelector=function(){return".cancel"},i.prototype.saveSelector=function(){return".save"},i.prototype.controlSelector=function(){return".control"},i.prototype.events=function(){var e;return(e={})["click "+this.editSelector()]=function(){return this.editableRegion.edit()},e["click "+this.cancelSelector()]=function(){return this.editableRegion.show()},e["click "+this.saveSelector()]=function(){var e;return(e=this.$(this.saveSelector())).addClass("loading"),t.when(this.editableRegion.save()).done(function(t){return function(){return t.editableRegion.show()}}(this)).always(function(){return e.removeClass("loading")})},e},i.prototype._transition=function(t,e){return t.fadeOut("fast",function(){return e.fadeIn("fast")})},i}(n.View)}}.apply(e,i))||(t.exports=r)},1619:function(t,e,n){var i,r,o={}.hasOwnProperty;i=[n(151)],void 0===(r=function(t){return function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return function(t,e){for(var n in e)o.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(n,t("NewTag")),n.prototype.autocomplete_parameters=function(){return{tag_type:this.get("tag_type")}},n.prototype.set_autocomplete_data=function(t){return this.set(t.tag)},n}()}.apply(e,i))||(t.exports=r)},1622:function(t,e,n){var i,r,o={}.hasOwnProperty;i=[n(151)],void 0===(r=function(t){return function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return function(t,e){for(var n in e)o.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(n,t("Follow")),n.prototype.idAttribute="token",n.prototype.parse=function(t){return{followed_type:t.type,followed_token:t.token,token:t.follow_token,error:t.error,via:t.via}},n.prototype.toSyncData=function(t,e,i){var r,o,s,a,u;if(r=n.__super__.toSyncData.apply(this,arguments),"create"===e)for(s=0,a=(u=["followed_token","followed_type"]).length;s<a;s++){if(o=u[s],!this.has(o))throw new Error("follow#create requires field "+o);r[o]=""+this.get(o)}return r},n}()}.apply(e,i))||(t.exports=r)},1634:function(t,e,n){(function(i){var r,o,s={}.hasOwnProperty;r=[n(151)],void 0===(o=function(t){return function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return function(t,e){for(var n in e)s.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(n,t("StartupRound")),n.prototype.toJSON=function(t){return i.omit(n.__super__.toJSON.apply(this,arguments),["html"])},n}()}.apply(e,r))||(t.exports=o)}).call(this,n(25))},1640:function(t,e,n){var i,r,o={}.hasOwnProperty;i=[n(2),n(59),n(52)],void 0===(r=function(t,e,n){return{Completeness:function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return function(t,e){for(var n in e)o.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(i,e.View),i.prototype.events=function(){return{"click .tips_link":"openPopover"}},i.prototype.initialize=function(t){return this.completenessUrl=t.completenessUrl,this.profileType=t.profileType,this.loading=!1,this.load()},i.prototype.trackViews=function(){return{pct_complete:this.$el.data("pct-complete"),startup:this.$el.data("slug"),source:"completeness_unit"}},i.prototype.openPopover=function(e){return e.preventDefault(),t.facybox({ajax:this.$(".tips_link").data("popover-url")}),this.trackViews()},i.prototype.updatePercent=function(t,e){var n;return t.removeClass("u-colorSuccess u-colorWarning u-colorGray3"),n="u-colorGray3",e>=80?n="u-colorSuccess":e>=50&&(n="u-colorWarning"),t.addClass(n).text(e+"%"),this.$el.data("pct-complete",e)},i.prototype._success=function(t,e){return null},i.prototype.load=function(){if(!this.loading)return this.loading=!0,t.ajax({url:this.completenessUrl,type:"get",success:function(t){return function(e){var n;return n=parseInt(e.pct,10),t.updatePercent(t.$(".pct"),n),t._success(e,n)}}(this),complete:function(t){return function(){return t.loading=!1}}(this)})},i}(),handle_click:function(e,i){var r,o,s,a,u,c;return e.stopPropagation(),(c=t(e.target).attr("href")).indexOf("edit_profile")>=0?(t.facybox.close(),u="user"===i.toLowerCase()?"profile":"startup",n.with(t(n.selector(u+"s/show/header")),function(t){return t.edit()})):c.indexOf("#")>=0?(r=400,o=20,u=c.slice(c.indexOf("#")+1),(a=t('[data-tips_selector="'+u+'"]')).length&&a.offset()?((s=a.offset().top)>=o&&(s-=o),t.facybox.close(),t("html, body").animate({scrollTop:s},r,"linear",function(){return a.find(".edit").click()})):window.location.href=c):(c.indexOf("/press")>0&&(c=c.slice(0,c.indexOf("/press"))+"/updates#press"),e.metaKey?open(c):window.location.href=c),!1}}}.apply(e,i))||(t.exports=r)},1687:function(t,e,n){var i,r;i=[n(151)],void 0===(r=function(t){return t("StartupRoundParticipant")}.apply(e,i))||(t.exports=r)},1706:function(t,e,n){var i,r;i=[n(151)],void 0===(r=function(t){return t("CollaboratorTagging")}.apply(e,i))||(t.exports=r)},1801:function(t,e,n){(function(i){var r,o,s={}.hasOwnProperty;r=[n(151)],void 0===(o=function(t){return function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return function(t,e){for(var n in e)s.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(n,t("Project")),n.prototype.screenshots=function(t,e){var n,r,o,s,a,u,c,l,p,h;for(null==e&&(e={}),c=[],this.has(e.locationProperty)&&(c=this.get(e.locationProperty).split(",")),h=[],r=0,a=c.length;r<a;r++)o=c[r],null!=(p=t.get(o))&&h.push(p);for(s=0,u=(l=t.where({model_id:this.id})).length;s<u;s++)n=l[s],i.contains(c,""+n.id)||h.push(n);return h},n}()}.apply(e,r))||(t.exports=o)}).call(this,n(25))},1805:function(t,e,n){var i,r;i=[n(25)],void 0===(r=function(t){return{componentDidMount:function(){return this._backboneReactivityBind()},componentWillUnmount:function(){return this._backboneReactivityUnbind()},componentWillReceiveProps:function(){return this._backboneReactivityHadNewProps=!0,this._backboneReactivityUnbind()},componentDidUpdate:function(){if(this._backboneReactivityHadNewProps)return this._backboneReactivityHadNewProps=!1,this._backboneReactivityBind()},_backboneReactivityBind:function(){return this._backboneReactivityModels=this.reactToBackboneModels(),t.each(this._backboneReactivityModels,function(t){return function(e){if(e)return e.on("all",function(){return t._forceUpdateFromBackbone()},t)}}(this))},_backboneReactivityUnbind:function(){if(null!=this._backboneReactivityModels&&this._backboneReactivityModels.length>0)return t.each(this._backboneReactivityModels,function(t){return function(e){if(e)return e.off("all",function(){return t._forceUpdateFromBackbone()},t)}}(this)),this._backboneReactivityModels=null},_forceUpdateFromBackbone:function(){return(window.setImmediate||function(t){return setTimeout(t,1)})(function(t){return function(){if(t.isMounted())return t.forceUpdate()}}(this))}}}.apply(e,i))||(t.exports=r)},1806:function(t,e,n){var i,r;i=[n(1335),n(1380),n(1336)],void 0===(r=function(t,e,n){var i;return(i={}).Picture=e({displayName:"ProfileUtils.Picture",propTypes:{profile:n.object,size:n.number,innerSizesize:n.number,containerClass:n.string,imageStyle:n.object},render:function(){var e,n,i,r,o,s,a,u,c;return r=this.props.profile.avatar||this.props.profile.logo_url,e=this.props.profile.name,c={width:u=(this.props.size||37)-2,height:u},s={maxWidth:o=this.props.innerSize||u,maxHeight:o},a=Object.assign(s,this.props.imageStyle),i="g-photo_container "+(this.props.className||""),n=this.props.containerClass||i,t.createElement("div",{className:n,style:c},t.createElement("a",{href:this.props.profile.slug_url,"data-type":this.props.profile.klass,"data-id":this.props.profile.id},t.createElement("img",{className:"angel_image",src:r,alt:e,style:a})))}}),i.Link=e({displayName:"ProfileUtils.Link",propTypes:{profile:n.object},render:function(){var e;return e=this.props.className||"u-fontWeightBold u-uncoloredLink",t.createElement("a",{className:e,href:this.props.profile.slug_url,"data-type":this.props.profile.klass,"data-id":this.props.profile.id},this.props.profile.name)}}),i}.apply(e,i))||(t.exports=r)},1844:function(t,e,n){var i,r;i=[n(151)],void 0===(r=function(t){return t("JobListing")}.apply(e,i))||(t.exports=r)},1851:function(t,e,n){var i,r,o={}.hasOwnProperty;i=[n(59),n(25),n(1622),n(109)],void 0===(r=function(t,e,n,i){return{FollowToggleView:function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return function(t,e){for(var n in e)o.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(r,t.View),r.REQUIRED_ATTRIBUTES=["follower_id","followed_type","followed_token"],r.prototype.renderCreated=function(){throw new Error("Subclasses must override")},r.prototype.renderDestroyed=function(){throw new Error("Subclasses must override")},r.prototype.render=function(){return null!=this.model?this.renderCreated():this.renderDestroyed()},r.prototype.initialize=function(t){var e,o,s,a,u;if(this.attributes=t.attributes,null==this.attributes)throw new Error("Must provide base follow attributes");for(o=0,s=(a=r.REQUIRED_ATTRIBUTES).length;o<s;o++)if(e=a[o],!this.attributes[e])throw new Error("Missing required attribute: "+e);return this.collection||(this.collection=i.get(n)),u=function(t){return function(){return null!=t.model&&t.stopListening(t.model),t.model=t.collection.findWhere(t.attributes),null!=t.model&&t.listenTo(t.model,"request",function(e,n,i){var r;return r=function(){return t._destroyModel(t.model)},t._currentXhr=n,n.always(function(){if(t._currentXhr===n)return t._currentXhr=null}),n.done(function(t){if(!t.success)return r()}),n.error(r),t.trigger("request",e,n,i)}),t.render()}}(this),this.listenTo(this.collection,"add remove",u),u()},r.prototype.currentXhr=function(){return this._currentXhr},r.prototype.click=function(){var t;return null!=this.currentXhr()||(null!=this.model?this._destroyModel(this.model):(t=this.collection.add(new n(this.attributes)),this._saveModel(t)))},r.prototype.events={click:"click"},r.prototype._destroyModel=function(t){return t.destroy()},r.prototype._saveModel=function(t){return t.save()},r}()}}.apply(e,i))||(t.exports=r)},2081:function(t,e,n){},2114:function(t,e,n){var i,r,o={}.hasOwnProperty;i=[n(25),n(151),n(109),n(159)],void 0===(r=function(t,e,n,i){return function(r){function s(){return s.__super__.constructor.apply(this,arguments)}return function(t,e){for(var n in e)o.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(s,e("Profile")),s.prototype.initialize=function(){return s.__super__.initialize.apply(this,arguments),this._listenToUser()},s.prototype.sync=function(){throw new Error("Please fetch/save using the associated user model.")},s.prototype._listenToUser=t.once(function(){var e;return e=t.once(function(t){return function(){var e;return(e=n.get(i).bootstrap(t.get("user_id"))).has("profile_attributes")&&t.set(e.get("profile_attributes")),t.listenTo(e,"change:profile_attributes",function(e,n){return t.set(n)}),e.has("cover_photo_url")&&t.set("cover_photo_url",e.get("cover_photo_url")),t.listenTo(e,"change:cover_photo_url",function(e,n){return t.set("cover_photo_url",n)})}}(this)),this.has("user_id")?e():this.on("change:user_id",e)}),s}()}.apply(e,i))||(t.exports=r)},2115:function(t,e,n){var i,r,o=function(t,e){return function(){return t.apply(e,arguments)}},s={}.hasOwnProperty;i=[n(2),n(25),n(152),n(151),n(109),n(1490)],void 0===(r=function(t,e,n,i,r,a){var u;return(u=function(e){function n(){return this.toggleFeatured=o(this.toggleFeatured,this),this.confirm=o(this.confirm,this),n.__super__.constructor.apply(this,arguments)}return function(t,e){for(var n in e)s.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(n,i("StartupInvestment")),n.prototype.idAttribute="token",n.prototype.urlRoot=function(){return"/startup_roles"},n.prototype.hasInvestments=function(){return this.get("investments").length>0},n.prototype.firstInvestment=function(){return this.get("investments")[0]},n.prototype.isPrivate=function(){return this.get("private")},n.prototype.confirmedByTagged=function(){return this.get("confirmed").tagged},n.prototype.confirm=function(){return this.set("confirmed",!0),t.ajax({url:"/startup_roles/approve.js",method:"POST",data:{token:this.id}})},n.prototype.toggleFeatured=function(){return this.set("featured",!this.get("featured")),new a({token:this.id}).save({featured:this.get("featured")})},n.prototype.madeOnline=function(){return null!=this.firstInvestment()&&null!=this.firstInvestment().online},n.prototype.submit=function(t,e){var n;return n=new a,this.get("startup_id")&&(t.startup_id=this.get("startup_id")),t.source="user_profile",n.save(t,{success:function(t,n){var i;return(i=new u(n.investments[0])).set({addedAt:Date.now()}),u.repository.add(i),e.call()},error:function(t,n){return e.call(null,n.responseJSON.error)}})},n}()).repository=r.get(u),u.repository.comparator=function(t){return t.get("company").company_name.toLowerCase()},u.repository.resetAddedAt=function(){return this.each(function(t){return t.set("addedAt",null)})},u.repository.groupForDisplay=function(){var t;return t=this.groupBy(function(t){return null!=t.get("addedAt")?"new":"existing"}),{new:e.sortBy(t.new||[],function(t){return-t.get("addedAt")}),featured:this.getFeatured(t.existing,!0),collapsed:this.getFeatured(t.existing,!1)}},u.repository.getFeatured=function(t,n){return null==t?[]:0===e.filter(t,function(t){return t.get("featured")}).length?n?t.slice(0,9):t.slice(9):e.filter(t,function(t){return t.get("featured")===n})},u}.apply(e,i))||(t.exports=r)},2116:function(t,e,n){var i,r,o={}.hasOwnProperty;i=[n(151)],void 0===(r=function(t){return function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return function(t,e){for(var n in e)o.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(n,t("reference")),n}()}.apply(e,i))||(t.exports=r)},2117:function(t,e,n){var i,r,o={}.hasOwnProperty;i=[n(151)],void 0===(r=function(t){return function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return function(t,e){for(var n in e)o.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(n,t("Review")),n}()}.apply(e,i))||(t.exports=r)},2829:function(t,e,n){var i,r;i=[n(59),n(2),n(1335),n(1380),n(1383),n(25),n(1805),n(1806),n(152),n(108),n(52),n(2115),n(153)],void 0===(r=function(t,e,n,i,r,o,s,a,u,c,l,p){var h,d,f,g,_,m;return _=i({displayName:"InvestmentsSection",investments:p.repository,getInitialState:function(){return{editing:!1,loaded:!1}},componentDidMount:function(){return e.getJSON(this.props.load_url,function(t){return function(e){return t.investments.bootstrap(e),t.props.placeholder.hide().parent().removeClass("loaded_section"),t.setState({loaded:!0})}}(this))},componentDidUpdate:function(t,e){if(!e.loaded&&this.state.loaded)return this.investments.on("add remove",function(t){return function(){return t.forceUpdate()}}(this))},exitCount:function(){return this.investments.filter(function(t){return null!=t.get("exit")}).length},toggleEdit:function(){return this.setState({editing:!this.state.editing})},renderEditControl:function(){return n.createElement("div",{className:"u-inlineBlock controls u-floatRight u-fontSize14 s-vgPadTop2"},n.createElement("a",{onClick:this.toggleEdit,href:"javascript:void(0);"},this.state.editing?"Done":"Edit"))},renderEditTips:function(){return n.createElement("div",{className:"featured c-inset u-bgGray s-vgBottom2 u-textAlignCenter"},"Featured investments ",n.createElement("i",{className:"fontello-heart"})," will always display before other investments.")},render:function(){return this.state.loaded?n.createElement("div",null,n.createElement("div",{className:"js-sortable-handle sortable-handle"},this.props.editable&&this.investments.length?this.renderEditControl():void 0,n.createElement("div",{className:"u-inlineBlock title"},"InvestmentsÂ ",n.createElement(f,{onlineCount:this.props.investments_count,exitCount:this.exitCount()}))),n.createElement("div",{className:"c-inset u-clearfix investment_list profile-module"},this.props.editable&&!this.state.editing?n.createElement(h,{tagged_id:this.props.tagged_id,syndicate_slug:this.props.syndicate_slug}):void 0,this.state.editing?this.renderEditTips():void 0,n.createElement(g,{editing:this.state.editing,editable:this.props.editable,investments:this.investments}))):n.createElement("div",null)}}),f=i({displayName:"InvestmentsHeader",renderOnlineCount:function(){if(this.props.onlineCount>0)return n.createElement("span",null,"Â· ",n.createElement("span",null,this.props.onlineCount," via AngelList"))},renderExitCount:function(){var t;if((t=this.props.exitCount)>0)return n.createElement("span",null,"Â· ",n.createElement("span",null,t," Exit",t>1?"s":void 0))},render:function(){return n.createElement("div",{className:"u-fontSize12 u-colorGray9 u-inlineBlock"},n.createElement("span",null,this.renderOnlineCount()," ",this.renderExitCount()))}}),g=i({displayName:"InvestmentsList",getInitialState:function(){return{expanded:this.props.editing}},componentWillReceiveProps:function(t){return this.setState({expanded:t.editing})},componentDidUpdate:function(t){if(!t.editing&&this.props.editing)return this.props.investments.resetAddedAt()},handleClick:function(){return this.setState({expanded:!0})},nodeProps:function(t){return{editing:this.props.editing,editable:this.props.editable,investment:t,key:t.get("token")}},render:function(){var t,e,i,r,s,a;if(0===this.props.investments.length)return n.createElement("div",null);for(i=this.props.investments.groupForDisplay(),r=o.map(i.new,function(t){return function(e){return n.createElement(d,Object.assign({},t.nodeProps(e)))}}(this)),e=o.map(i.featured,function(t){return function(e){return n.createElement(d,Object.assign({},t.nodeProps(e)))}}(this)),i.collapsed.length>0&&!this.state.expanded&&e.push(n.createElement(m,{key:"more",moreCount:i.collapsed.length,onClick:this.handleClick})),t=o.map(i.collapsed,function(t){return function(e){return n.createElement(d,Object.assign({collapsed:!t.state.expanded},t.nodeProps(e)))}}(this)),s=r.concat(e.concat(t)),a=5;!(a>=s.length);)s.splice(a,0,n.createElement("div",{key:a,className:"s-grid-break"})),a+=6;return s.splice(a,0,n.createElement("div",{key:"break",className:"s-grid-break"})),n.createElement("div",{className:"pull-grid"},s)}}),m=i({displayName:"MoreButton",componentWillLeave:function(t){return e(r.findDOMNode(this)).hide(),setTimeout(t,0)},render:function(){return n.createElement("div",{className:"u-textAlignCenter s-grid0-colMd4 s-grid--preMd1 s-grid0-colSm12 investment"},n.createElement("div",{onClick:this.props.onClick,className:"more_button u-inlineBlock u-bgGray s-vgPadTop2 s-vgPadRight1 s-vgPadLeft1"},"+",this.props.moreCount,n.createElement("br",null),"MORE"))}}),d=i({displayName:"IndividualInvestment",componentDidMount:function(){return this.props.investment.on("change",function(t){return function(){return t.forceUpdate()}}(this))},componentWillEnter:function(t){if(!e(r.findDOMNode(this)).hasClass("hidden"))return e(r.findDOMNode(this)).hide().fadeIn({complete:function(){return e(this).removeAttr("style"),t()}})},componentWillLeave:function(t){return e(r.findDOMNode(this)).fadeOut({complete:t})},toggleFeatured:function(){return this.props.investment.toggleFeatured()},handleConfirm:function(){return this.props.investment.confirm()},handleDestroy:function(){if(confirm("Are you sure you want to remove this investment?"))return this.props.investment.destroy()},handleEdit:function(){return e.ajax({url:"/startup_roles/"+this.props.investment.id+"/metadata_popover",success:function(t){return e.magnificPopup.open({items:{src:e("<div>"+t+"</div>")}})}})},renderConfirmButtons:function(){return n.createElement("div",null,n.createElement("div",{className:"u-colorGray9 u-fontSize12"},"Unconfirmed"),n.createElement("div",{className:"s-vgTop0_5"},n.createElement("div",{onClick:this.handleConfirm,className:"c-button c-button--blue c-button--sm s-vgRight0_5"},"Confirm"),n.createElement("div",{onClick:this.handleDestroy,className:"c-button c-button--gray c-button--sm"},"Delete")))},renderDateAndRound:function(){var t;return this.props.investment.firstInvestment()?(t=[this.props.investment.firstInvestment().year,this.props.investment.firstInvestment().round].join(" "),n.createElement("div",{className:"u-colorGray6 date-round"},t)):""},renderExit:function(){if(this.props.investment.get("exit"))return n.createElement("div",{className:"u-colorSuccess"},this.props.investment.get("exit"))},renderVia:function(){return this.props.investment.madeOnline()?n.createElement("div",null,"via AngelList"):""},renderEditDeleteControls:function(){return n.createElement("div",null,n.createElement("a",{onClick:this.toggleFeatured,href:"javascript:void(0);",className:"u-unstyledLink fontello-heart"}),"Â·Â ",n.createElement("a",{onClick:this.handleEdit,href:"javascript:void(0);",className:"u-unstyledLink"},"Edit"),"Â·Â ",n.createElement("a",{onClick:this.handleDestroy,href:"javascript:void(0);",className:"u-unstyledLink"},"Delete"))},renderMetadata:function(){return this.props.editing?n.createElement("div",{className:"u-colorMuted u-fontSize12"},void 0,this.renderEditDeleteControls()):this.props.investment.get("confirmed")?n.createElement("div",{className:"investment_details u-fontSize12 u-colorGray9"},this.renderDateAndRound(),this.renderVia(),this.renderExit()):this.renderConfirmButtons()},render:function(){var t,e,i;return i={klass:"Startup",name:this.props.investment.get("company").company_name,id:this.props.investment.get("company").id,logo_url:this.props.investment.get("company").logo_thumb_url,slug_url:this.props.investment.get("company").slug_url},e="",this.props.collapsed&&(e+="hidden"),this.props.investment.get("featured")&&(e+="featured"),this.props.investment.get("exit")||(t="hidden"),n.createElement("div",{className:"investment s-vgBottom2 u-textAlignCenter s-grid0-colMd4 s-grid--preMd1 s-grid0-colSm12 "+e},n.createElement("div",{className:"photo-outer"},n.createElement(a.Picture,{profile:i,className:"photo larger",size:100,innerSize:70}),n.createElement("div",{className:"g-sash "+t},n.createElement("div",{className:"copy"},"Exit"))),n.createElement("div",{className:"text"},n.createElement("div",{className:"company-link"},n.createElement(a.Link,{profile:i})),this.renderMetadata()))}}),h=i({displayName:"AddInvestmentForm",getInitialState:function(){return{error:null,submitting:!1,autocomplete:{},company_name:""}},componentDidMount:function(){return this.investment=new p,this.$input=e(this.refs.companyName),new u(this.$input,{queryOptions:{klasses:["Startup"]},roles:!0,selectCallback:function(t){return function(e){return t.setState({autocompleted_name:e.name,company_name:e.name}),t.investment.set("startup_id",e.id)}}(this)})},handleChange:function(t){if(this.setState({company_name:t.target.value}),null!=this.state.autocompleted_name&&this.state.autocompleted_name!==t.target.value)return this.setState({autocompleted_name:null}),this.investment.set("startup_id",null)},handleSubmit:function(t){return t.stopPropagation(),t.preventDefault(),""===this.$input.val()?this.setState({error:"Please provide a company name"}):(this.setState({submitting:!0,error:null}),this.investment.submit(c.attributes(this.refs.form,"role"),this.postSubmit))},postSubmit:function(t){var n;return this.setState({submitting:!1,company_name:""}),null!=t?this.setState({error:t}):(this.refs.form.reset(),(n=e(l.selector("profiles/show/completeness"))).length?l.with(n,function(t){return t.reload("portfolio")}):void 0)},renderSubmitButton:function(){var t;return t="c-button c-button--gray quick-add-btn"+(this.state.submitting?" c-button--loading":""),n.createElement("input",{type:"submit",disabled:this.state.submitting,className:t,value:"Add"})},renderErrors:function(){return null!=this.state.error?n.createElement("div",{className:"u-colorError u-textAlignCenter s-vgBottom1"},this.state.error):""},render:function(){var t,e,i;return t=(new Date).getFullYear(),i=o.map(function(){e=[];for(var n=t;t<=1960?n<=1960:n>=1960;t<=1960?n++:n--)e.push(n);return e}.apply(this),function(t){return n.createElement("option",{key:t,value:t},t)}),n.createElement("div",{className:"c-inset u-bgGray s-vgBottom2"},this.props.syndicate_slug&&n.createElement("div",{className:"syndicate_banner s-vgBottom1 s-vgBottom1_5"},n.createElement("div",{class:"g-tag"},"Update"),n.createElement("span",{class:"s-vgPadLeft1",style:{verticalAlign:"middle"}},"Want to feature an investment on your syndicate? Please visit yourÂ ",n.createElement("a",{href:"https://angel.co/"+this.props.syndicate_slug+"/syndicate#investments"},"syndicate page"),".")),n.createElement("form",{className:"s-form add_investment",ref:"form",onSubmit:this.handleSubmit},this.renderErrors(),n.createElement("span",{className:"u-colorGray9"},"ADD AN INVESTMENT"),n.createElement("input",{type:"hidden",name:"role[role]",value:"past_investor"}),n.createElement("input",{type:"hidden",name:"role[tagged_type]",value:"User"}),n.createElement("input",{type:"hidden",name:"role[tagged_id]",value:this.props.tagged_id}),n.createElement("input",{size:"35",type:"text",placeholder:"Company",name:"role[company_name]",className:"s-vgRight1 s-vgLeft1",ref:"companyName",onChange:this.handleChange,value:this.state.company_name}),n.createElement("select",{name:"role[started_at_year]",defaultValue:"none",className:"s-vgRight1 u-hiddenSmOnly"},n.createElement("option",{value:"none",disabled:!0,style:{display:"none"}},"Year"),i),n.createElement("select",{name:"role[round_stage]",defaultValue:"none",className:"s-vgRight1 u-hiddenSmOnly"},n.createElement("option",{value:"none",disabled:!0,style:{display:"none"}},"Stage"),n.createElement("option",{value:"Seed"},"Seed"),n.createElement("option",{value:"Series A"},"Series A"),n.createElement("option",{value:"Series B"},"Series B"),n.createElement("option",{value:"Series C"},"Series C"),n.createElement("option",{value:"Series D"},"Series D"),n.createElement("option",{value:""},"Other")),this.renderSubmitButton()))}}),{mount:function(t,e,i){return r.render(n.createElement(_,Object.assign({},e,{placeholder:i})),t)}}}.apply(e,i))||(t.exports=r)},2830:function(t,e,n){var i,r;
/**
 * @license jquery.panzoom.js v2.0.5
 * Updated: Mon Feb 01 2016
 * Add pan and zoom functionality to any element
 * Copyright (c) timmy willison
 * Released under the MIT license
 * https://github.com/timmywil/jquery.panzoom/blob/master/MIT-License.txt
 */
/**
 * @license jquery.panzoom.js v2.0.5
 * Updated: Mon Feb 01 2016
 * Add pan and zoom functionality to any element
 * Copyright (c) timmy willison
 * Released under the MIT license
 * https://github.com/timmywil/jquery.panzoom/blob/master/MIT-License.txt
 */
!function(o,s){i=[n(2)],void 0===(r=function(t){return function(t,e){"use strict";var n="over out down up move enter leave cancel".split(" "),i=e.extend({},e.event.mouseHooks),r={};if(t.PointerEvent)e.each(n,function(t,n){e.event.fixHooks[r[n]="pointer"+n]=i});else{var o=i.props;i.props=o.concat(["touches","changedTouches","targetTouches","altKey","ctrlKey","metaKey","shiftKey"]),i.filter=function(t,e){var n,i=o.length;if(!e.pageX&&e.touches&&(n=e.touches[0]))for(;i--;)t[o[i]]=n[o[i]];return t},e.each(n,function(t,n){if(t<2)r[n]="mouse"+n;else{var o="touch"+("down"===n?"start":"up"===n?"end":n);e.event.fixHooks[o]=i,r[n]=o+" mouse"+n}})}e.pointertouch=r;var s=t.document,a="__pz__",u=Array.prototype.slice,c=!!t.PointerEvent,l=function(){var t=s.createElement("input");return t.setAttribute("oninput","return"),"function"==typeof t.oninput}(),p=/([A-Z])/g,h=/^http:[\w\.\/]+svg$/,d=/^inline/,f="(\\-?[\\d\\.e]+)",g=new RegExp("^matrix\\("+f+"\\,?\\s*"+f+"\\,?\\s*"+f+"\\,?\\s*"+f+"\\,?\\s*"+f+"\\,?\\s*"+f+"\\)$");function _(t){var n={range:!0,animate:!0};return"boolean"==typeof t?n.animate=t:e.extend(n,t),n}function m(t,n,i,r,o,s,a,u,c){"array"===e.type(t)?this.elements=[+t[0],+t[2],+t[4],+t[1],+t[3],+t[5],0,0,1]:this.elements=[t,n,i,r,o,s,a||0,u||0,c||1]}function y(t,e,n){this.elements=[t,e,n]}function v(t,n){if(!(this instanceof v))return new v(t,n);1!==t.nodeType&&e.error("Panzoom called on non-Element node"),e.contains(s,t)||e.error("Panzoom element must be attached to the document");var i=e.data(t,a);if(i)return i;this.options=n=e.extend({},v.defaults,n),this.elem=t;var r=this.$elem=e(t);this.$set=n.$set&&n.$set.length?n.$set:r,this.$doc=e(t.ownerDocument||s),this.$parent=r.parent(),this.isSVG=h.test(t.namespaceURI)&&"svg"!==t.nodeName.toLowerCase(),this.panning=!1,this._buildTransform(),this._transform=!this.isSVG&&e.cssProps.transform.replace(p,"-$1").toLowerCase(),this._buildTransition(),this.resetDimensions();var o=e(),u=this;e.each(["$zoomIn","$zoomOut","$zoomRange","$reset"],function(t,e){u[e]=n[e]||o}),this.enable(),e.data(t,a,this)}return m.prototype={x:function(t){var e=t instanceof y,n=this.elements,i=t.elements;return e&&3===i.length?new y(n[0]*i[0]+n[1]*i[1]+n[2]*i[2],n[3]*i[0]+n[4]*i[1]+n[5]*i[2],n[6]*i[0]+n[7]*i[1]+n[8]*i[2]):i.length===n.length&&new m(n[0]*i[0]+n[1]*i[3]+n[2]*i[6],n[0]*i[1]+n[1]*i[4]+n[2]*i[7],n[0]*i[2]+n[1]*i[5]+n[2]*i[8],n[3]*i[0]+n[4]*i[3]+n[5]*i[6],n[3]*i[1]+n[4]*i[4]+n[5]*i[7],n[3]*i[2]+n[4]*i[5]+n[5]*i[8],n[6]*i[0]+n[7]*i[3]+n[8]*i[6],n[6]*i[1]+n[7]*i[4]+n[8]*i[7],n[6]*i[2]+n[7]*i[5]+n[8]*i[8])},inverse:function(){var t=1/this.determinant(),e=this.elements;return new m(t*(e[8]*e[4]-e[7]*e[5]),t*-(e[8]*e[1]-e[7]*e[2]),t*(e[5]*e[1]-e[4]*e[2]),t*-(e[8]*e[3]-e[6]*e[5]),t*(e[8]*e[0]-e[6]*e[2]),t*-(e[5]*e[0]-e[3]*e[2]),t*(e[7]*e[3]-e[6]*e[4]),t*-(e[7]*e[0]-e[6]*e[1]),t*(e[4]*e[0]-e[3]*e[1]))},determinant:function(){var t=this.elements;return t[0]*(t[8]*t[4]-t[7]*t[5])-t[3]*(t[8]*t[1]-t[7]*t[2])+t[6]*(t[5]*t[1]-t[4]*t[2])}},y.prototype.e=m.prototype.e=function(t){return this.elements[t]},v.rmatrix=g,v.events=e.pointertouch,v.defaults={eventNamespace:".panzoom",transition:!0,cursor:"move",disablePan:!1,disableZoom:!1,increment:.3,minScale:.4,maxScale:5,rangeStep:.05,duration:200,easing:"ease-in-out",contain:!1},v.prototype={constructor:v,instance:function(){return this},enable:function(){this._initStyle(),this._bind(),this.disabled=!1},disable:function(){this.disabled=!0,this._resetStyle(),this._unbind()},isDisabled:function(){return this.disabled},destroy:function(){this.disable(),e.removeData(this.elem,a)},resetDimensions:function(){var t=this.$parent;this.container={width:t.innerWidth(),height:t.innerHeight()};var n,i=t.offset(),r=this.elem,o=this.$elem;(n=this.isSVG?{left:(n=r.getBoundingClientRect()).left-i.left,top:n.top-i.top,width:n.width,height:n.height,margin:{left:0,top:0}}:{left:e.css(r,"left",!0)||0,top:e.css(r,"top",!0)||0,width:o.innerWidth(),height:o.innerHeight(),margin:{top:e.css(r,"marginTop",!0)||0,left:e.css(r,"marginLeft",!0)||0}}).widthBorder=e.css(r,"borderLeftWidth",!0)+e.css(r,"borderRightWidth",!0)||0,n.heightBorder=e.css(r,"borderTopWidth",!0)+e.css(r,"borderBottomWidth",!0)||0,this.dimensions=n},reset:function(t){t=_(t);var e=this.setMatrix(this._origTransform,t);t.silent||this._trigger("reset",e)},resetZoom:function(t){t=_(t);var e=this.getMatrix(this._origTransform);t.dValue=e[3],this.zoom(e[0],t)},resetPan:function(t){var e=this.getMatrix(this._origTransform);this.pan(e[4],e[5],_(t))},setTransform:function(t){for(var n=this.isSVG?"attr":"style",i=this.$set,r=i.length;r--;)e[n](i[r],"transform",t)},getTransform:function(t){var n=this.$set[0];return t?this.setTransform(t):t=e[this.isSVG?"attr":"style"](n,"transform"),"none"===t||g.test(t)||this.setTransform(t=e.css(n,"transform")),t||"none"},getMatrix:function(t){var e=g.exec(t||this.getTransform());return e&&e.shift(),e||[1,0,0,1,0,0]},setMatrix:function(t,n){if(!this.disabled){var i,r,o,s,a,u,c,l,p,h;n||(n={}),"string"==typeof t&&(t=this.getMatrix(t));var f=+t[0],g=this.$parent,_=void 0!==n.contain?n.contain:this.options.contain;return _&&(i=this._checkDims(),r=this.container,p=i.width+i.widthBorder,h=i.height+i.heightBorder,o=p*Math.abs(f)>r.width?(p*Math.abs(f)-r.width)/2:0,s=h*Math.abs(f)>r.height?(h*Math.abs(f)-r.height)/2:0,c=i.left+i.margin.left,l=i.top+i.margin.top,"invert"===_?(a=p>r.width?p-r.width:0,u=h>r.height?h-r.height:0,o+=(r.width-p)/2,s+=(r.height-h)/2,t[4]=Math.max(Math.min(t[4],o-c),-o-c-a),t[5]=Math.max(Math.min(t[5],s-l),-s-l-u+i.heightBorder)):(s+=i.heightBorder/2,a=r.width>p?r.width-p:0,u=r.height>h?r.height-h:0,"center"===g.css("textAlign")&&d.test(e.css(this.elem,"display"))?a=0:o=s=0,t[4]=Math.min(Math.max(t[4],o-c),-o-c+a),t[5]=Math.min(Math.max(t[5],s-l),-s-l+u))),"skip"!==n.animate&&this.transition(!n.animate),n.range&&this.$zoomRange.val(f),this.setTransform("matrix("+t.join(",")+")"),n.silent||this._trigger("change",t),t}},isPanning:function(){return this.panning},transition:function(t){if(this._transition)for(var n=t||!this.options.transition?"none":this._transition,i=this.$set,r=i.length;r--;)e.style(i[r],"transition")!==n&&e.style(i[r],"transition",n)},pan:function(t,e,n){if(!this.options.disablePan){n||(n={});var i=n.matrix;i||(i=this.getMatrix()),n.relative&&(t+=+i[4],e+=+i[5]),i[4]=t,i[5]=e,this.setMatrix(i,n),n.silent||this._trigger("pan",i[4],i[5])}},zoom:function(t,n){"object"==typeof t?(n=t,t=null):n||(n={});var i=e.extend({},this.options,n);if(!i.disableZoom){var r=!1,o=i.matrix||this.getMatrix();"number"!=typeof t&&(t=+o[0]+i.increment*(t?-1:1),r=!0),t>i.maxScale?t=i.maxScale:t<i.minScale&&(t=i.minScale);var s=i.focal;if(s&&!i.disablePan){var a=this._checkDims(),u=s.clientX,c=s.clientY;this.isSVG||(u-=(a.width+a.widthBorder)/2,c-=(a.height+a.heightBorder)/2);var l=new y(u,c,1),p=new m(o),h=this.parentOffset||this.$parent.offset(),d=new m(1,0,h.left-this.$doc.scrollLeft(),0,1,h.top-this.$doc.scrollTop()),f=p.inverse().x(d.inverse().x(l)),g=t/o[0];p=p.x(new m([g,0,0,g,0,0])),l=d.x(p.x(f)),o[4]=+o[4]+(u-l.e(0)),o[5]=+o[5]+(c-l.e(1))}o[0]=t,o[3]="number"==typeof i.dValue?i.dValue:t,this.setMatrix(o,{animate:"boolean"==typeof i.animate?i.animate:r,range:!i.noSetRange}),i.silent||this._trigger("zoom",o[0],i)}},option:function(t,n){var i;if(!t)return e.extend({},this.options);if("string"==typeof t){if(1===arguments.length)return void 0!==this.options[t]?this.options[t]:null;(i={})[t]=n}else i=t;this._setOptions(i)},_setOptions:function(t){e.each(t,e.proxy(function(t,n){switch(t){case"disablePan":this._resetStyle();case"$zoomIn":case"$zoomOut":case"$zoomRange":case"$reset":case"disableZoom":case"onStart":case"onChange":case"onZoom":case"onPan":case"onEnd":case"onReset":case"eventNamespace":this._unbind()}switch(this.options[t]=n,t){case"disablePan":this._initStyle();case"$zoomIn":case"$zoomOut":case"$zoomRange":case"$reset":this[t]=n;case"disableZoom":case"onStart":case"onChange":case"onZoom":case"onPan":case"onEnd":case"onReset":case"eventNamespace":this._bind();break;case"cursor":e.style(this.elem,"cursor",n);break;case"minScale":this.$zoomRange.attr("min",n);break;case"maxScale":this.$zoomRange.attr("max",n);break;case"rangeStep":this.$zoomRange.attr("step",n);break;case"startTransform":this._buildTransform();break;case"duration":case"easing":this._buildTransition();case"transition":this.transition();break;case"$set":n instanceof e&&n.length&&(this.$set=n,this._initStyle(),this._buildTransform())}},this))},_initStyle:function(){var t={"backface-visibility":"hidden","transform-origin":this.isSVG?"0 0":"50% 50%"};this.options.disablePan||(t.cursor=this.options.cursor),this.$set.css(t);var n=this.$parent;n.length&&!e.nodeName(n[0],"body")&&(t={overflow:"hidden"},"static"===n.css("position")&&(t.position="relative"),n.css(t))},_resetStyle:function(){this.$elem.css({cursor:"",transition:""}),this.$parent.css({overflow:"",position:""})},_bind:function(){var t=this,n=this.options,i=n.eventNamespace,r=c?"pointerdown"+i:"touchstart"+i+" mousedown"+i,o=c?"pointerup"+i:"touchend"+i+" click"+i,s={},a=this.$reset,u=this.$zoomRange;if(e.each(["Start","Change","Zoom","Pan","End","Reset"],function(){var t=n["on"+this];e.isFunction(t)&&(s["panzoom"+this.toLowerCase()+i]=t)}),n.disablePan&&n.disableZoom||(s[r]=function(e){var i;("touchstart"===e.type?!(i=e.touches)||(1!==i.length||n.disablePan)&&2!==i.length:n.disablePan||1!==e.which)||(e.preventDefault(),e.stopPropagation(),t._startMove(e,i))}),this.$elem.on(s),a.length&&a.on(o,function(e){e.preventDefault(),t.reset()}),u.length&&u.attr({step:n.rangeStep===v.defaults.rangeStep&&u.attr("step")||n.rangeStep,min:n.minScale,max:n.maxScale}).prop({value:this.getMatrix()[0]}),!n.disableZoom){var p=this.$zoomIn,h=this.$zoomOut;p.length&&h.length&&(p.on(o,function(e){e.preventDefault(),t.zoom()}),h.on(o,function(e){e.preventDefault(),t.zoom(!0)})),u.length&&((s={})[(c?"pointerdown":"mousedown")+i]=function(){t.transition(!0)},s[(l?"input":"change")+i]=function(){t.zoom(+this.value,{noSetRange:!0})},u.on(s))}},_unbind:function(){this.$elem.add(this.$zoomIn).add(this.$zoomOut).add(this.$reset).off(this.options.eventNamespace)},_buildTransform:function(){return this._origTransform=this.getTransform(this.options.startTransform)},_buildTransition:function(){if(this._transform){var t=this.options;this._transition=this._transform+" "+t.duration+"ms "+t.easing}},_checkDims:function(){var t=this.dimensions;return t.width&&t.height||this.resetDimensions(),this.dimensions},_getDistance:function(t){var e=t[0],n=t[1];return Math.sqrt(Math.pow(Math.abs(n.clientX-e.clientX),2)+Math.pow(Math.abs(n.clientY-e.clientY),2))},_getMiddle:function(t){var e=t[0],n=t[1];return{clientX:(n.clientX-e.clientX)/2+e.clientX,clientY:(n.clientY-e.clientY)/2+e.clientY}},_trigger:function(t){"string"==typeof t&&(t="panzoom"+t),this.$elem.triggerHandler(t,[this].concat(u.call(arguments,1)))},_startMove:function(t,n){var i,r,o,a,u,l,p,h,d=this,f=this.options,g=f.eventNamespace,_=this.getMatrix(),m=_.slice(0),y=+m[4],v=+m[5],w={matrix:_,animate:"skip"};c?(r="pointermove",o="pointerup"):"touchstart"===t.type?(r="touchmove",o="touchend"):(r="mousemove",o="mouseup"),r+=g,o+=g,this.transition(!0),this.panning=!0,this._trigger("start",t,n),n&&2===n.length?(a=this._getDistance(n),u=+_[0],l=this._getMiddle(n),i=function(t){t.preventDefault();var e=d._getMiddle(n=t.touches),i=d._getDistance(n)-a;d.zoom(i*(f.increment/100)+u,{focal:e,matrix:_,animate:!1}),d.pan(+_[4]+e.clientX-l.clientX,+_[5]+e.clientY-l.clientY,w),l=e}):(p=t.pageX,h=t.pageY,i=function(t){t.preventDefault(),d.pan(y+t.pageX-p,v+t.pageY-h,w)}),e(s).off(g).on(r,i).on(o,function(t){t.preventDefault(),e(this).off(g),d.panning=!1,t.type="panzoomend",d._trigger(t,_,!function(t,e){for(var n=t.length;--n;)if(+t[n]!=+e[n])return!1;return!0}(_,m))})}},e.Panzoom=v,e.fn.panzoom=function(t){var n,i,r,o;return"string"==typeof t?(o=[],i=u.call(arguments,1),this.each(function(){(n=e.data(this,a))?"_"!==t.charAt(0)&&"function"==typeof(r=n[t])&&void 0!==(r=r.apply(n,i))&&o.push(r):o.push(void 0)}),o.length?1===o.length?o[0]:o:this):this.each(function(){new v(this,t)})},v}(o,t)}.apply(e,i))||(t.exports=r)}("undefined"!=typeof window?window:this)},363:function(t,e,n){var i,r,o=function(t,e){for(var n in e)s.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty,a=function(t,e){return function(){return t.apply(e,arguments)}},u=[].slice;i=[n(59),n(2),n(1560),n(25),n(1845),n(2829),n(158),n(1481),n(1533),n(1361),n(1358),n(1355),n(1851),n(108),n(1334),n(1590),n(52),n(1594),n(1394),n(1640),n(1354),n(2116),n(1622),n(1357),n(2114),n(109),n(2117),n(1490),n(159),n(1344),n(1447),n(164),n(153),n(2830),n(1539),n(60)],void 0===(r=function(t,e,i,r,s,c,l,p,h,d,f,g,_,m,y,v,w,b,x,k,$,j,E,T,C,S,A,N,D,R,P){var M,z,O,I,F,V;return O=r.extend({},t.Events),F=function(t){return w.with(e(w.selector("profiles/show/completeness")),function(e){return e.reload(t)})},z=function(t,n){var i,r;if(!n.data("userId"))throw new Error("Must provide a user ID");return i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.initialize=function(){return e.__super__.initialize.apply(this,arguments),this.listenTo(this.model,"sync",function(){return F("about")})},e}(b.ModelEditableRegion),r=new i({el:t(".content"),model:S.get(D).bootstrap(n.data("userId"))}),t(".header .controls").each(function(){return new b.EditableRegionControls({editableRegion:r,el:this})}),t(".content .edit").each(function(){return t(this).show(),t("textarea",this).autosize().each(function(){return t(this).qtip({defaultPosition:"right",activation:"focus"}),new m.CharacterCounter({el:this,container:t(this).closest(".item").find(".character_counter"),max:parseInt(t(this).data("max"))})}),t(this).hide()}),w.with(t(w.selector("profiles/show/module_taggings")),function(n){return n.on("edit",function(){return e.when(r.edit()).done(function(){return w.with(t(w.selector("profiles/show/module_taggings_edit")),function(t){if(t.field===n.field)return t.focus()})})})}),r},M=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return o(n,t),n.prototype.render=function(){return this.model.has(this.field)&&e.trim(this.model.get(this.field)).length>0?(this.$(".value").html(x.link_and_format(this.model.get(this.field))),this.$el.removeClass("empty")):(this.$(".value").empty(),this.$el.addClass("empty"))},n.prototype.events=function(){return{"click .filler":function(t){return function(){return t.trigger("edit")}}(this)}},n.prototype.initialize=function(t){return this.field=t.field,this.listenTo(this.model,"change:"+this.field,this.render,this)},n}(t.View),I=function(t){return t.find(".module_placeholder").each(function(){var n,i;return i=e(this).data("url"),n="profiles/modules/"+e(this).data("module"),e.getJSON(i,{render:[n]},function(i){return e.trim(i[n]||"").length>0?t.find(".show").removeClass(".loading").html(i[n]):t.fadeOut("fast")})})},V=function(t){var n,i;return i=e(this).data("url"),n="profiles/show/"+t,e.getJSON(i,{render:[n]},function(t){return w.with(e(w.selector(n)),function(e){return e.replaceContent(t[n])})})},{investments:function(t,e){var n,i;return n=e.find(".js-investments"),i=e.find(".placeholder"),c.mount(n[0],n.data(),i)},about:function(t,n){var i,r,o,s,a,u;for(i=z(t,n),a=S.get(C).bootstrap({id:n.data("profileId"),user_id:n.data("userId")}),r=function(n){return t(".content."+n).each(function(){return new M({el:this,field:n,model:a}).on("edit",function(){return e.when(i.edit()).done(function(){return t(".content .edit ."+n+" :input").focus()})})})},o=0,s=(u=["summary","what_ive_built","criteria"]).length;o<s;o++)r(u[o]);return w.with(t(w.selector("profiles/show/module_taggings")),function(t){return t.on("edit",function(){return i.edit()})})},question_answers:function(n,i){return z(n,i),""!==n("input[name=qid]").val()&&n("> .content > .edit").show(),new(function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return o(i,t),i.prototype.events={"click .answer-submit":function(t){return this.submitAnswer(t,!0)},"click .skip":function(t){return this.submitAnswer(t,!1)},"click .edit-answer":function(t){return this.editAnswer(t)},"click .remove-answer":function(t){return this.removeAnswer(t)},"click .more":"showMore"},i.prototype.submitAnswer=function(t,i){var r;return r=e(t.currentTarget).closest("form"),e.ajax({url:r.attr("action"),data:r.serialize(),type:"POST",dataType:"json",success:function(t){return i&&n(".responses").html(t.answers),t.next_question?(n(".next-question").html(t.next_question.question),n("input[name=qid]").val(t.next_question.next_id),n("textarea[name=answer]").val(t.next_question.answer),n("textarea[name=answer]").focus()):n(".edit").hide()},error:function(t){return alert("Something went wrong. Your answer was not saved.")}})},i.prototype.editAnswer=function(t){return t.preventDefault(),n(".edit").show(),n(".next-question").html(e(t.target).closest(".question-group").find(".question-text")[0].innerHTML),n("#answer").val(e(t.target).closest(".question-group").find("#answer-text")[0].value),n("input[name=qid]").val(e(t.target).closest(".question-group").find("#answer-qid")[0].value)},i.prototype.removeAnswer=function(t){var i;if(t.preventDefault(),i=e(t.target).attr("href"),confirm("Are you sure you want to delete this answer? This can't be undone."))return e.ajax({url:i,type:"DELETE",success:function(t){return n(".responses").html(t.answers)},error:function(t){return alert("Something went wrong. Your answer was not deleted.")}})},i.prototype.showMore=function(){return n(".more").hide(),n(".question_answer").removeClass("extra")},i}(t.View))({el:i})},module_taggings:function(n,i){return n(".tag").each(function(){return S.get(T).bootstrap({id:n(this).data("id"),new_taggable_field:i.data("field"),new_taggable_type:"User",new_taggable_id:i.data("id"),new_tag:{slug_url:n("a",this).attr("href"),display_name:n(this).text()}})}),new(function(t){function s(){return s.__super__.constructor.apply(this,arguments)}return o(s,t),s.prototype.template=r.template('<span class="tag"><% if (typeof slug_url != "undefined") { %><a href="<%- slug_url %>"><% } %><%- display_name %><% if (typeof slug_url != "undefined") { %></a><% } %></span>'),s.prototype.field=i.data("field"),s.prototype.events=function(){return{"click .filler":function(t){return function(){return t.trigger("edit")}}(this)}},s.prototype.render=function(){var t;return t=this.relevantTaggings(),i.toggleClass("empty",0===t.length),r.each(t,function(t){return function(i){var r;if(!(n(".tag").filter(function(){return n(this).data("id")===i.id}).length>0))return(r=e(t.template(i.get("new_tag")))).data("id",i.id),n(".value").append(r)}}(this)),n(".tag").each(function(){if(!r.any(t,function(t){return function(e){return e.id===n(t).data("id")}}(this)))return n(this).remove()})},s.prototype.initialize=function(){return this.listenTo(this.collection,"add remove change",function(t){return function(e){if(e.get("new_taggable_field")===i.data("field"))return t.render()}}(this))},s.prototype.relevantTaggings=function(){return this.collection.where({new_taggable_field:i.data("field"),new_taggable_type:"User",new_taggable_id:i.data("id")})},s}(t.View))({el:this,collection:S.get(T)})},module_taggings_edit:function(e,n){var i;return S.get(T).bootstrap(n.data("newTaggings")),i=x.capitalize(/_([^_]*)s$/.exec(n.data("field"))[1])+"Tag",new p.NewTaggingField({el:this,container:e(".association_container"),new_taggable_id:n.data("userId"),new_taggable_type:"User",new_taggable_field:n.data("field"),tag_type:i,allowUnmatched:r.contains(["tags_roles","tags_skills","tags_needs","tags_interested_markets"],n.data("field"))}),new(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.field=n.data("field"),e.prototype.focus=function(){return this.$(":input").focus()},e}(t.View))({el:this})},cover_photo:function(t,s){var u;return u=e.Deferred(),n.e(492).then(function(){var c=[n(2861),n(164)];(function(n){return function(c){var l,p,h,d;return h=S.get(D).bootstrap({id:s.data("user_id"),cover_photo_url:s.data("cover_photo_url")}),p=S.get(C).bootstrap({id:s.data("id"),user_id:s.data("user_id"),cover_photo_url:s.data("cover_photo_url"),cover_photo_vertical_offset:s.data("cover_photo_vertical_offset")}),l=function(s){function u(){return n.save=a(n.save,this),u.__super__.constructor.apply(this,arguments)}return o(u,s),u.prototype.events=function(){return{"click .cancel":"show","click .save":"save","click .change":"_openFileDialog","click .remove":function(t){return function(){return t.setRemoving(!0)}}(this),"click .undo":function(t){return function(){return t.setRemoving(!1)}}(this),"submit form":function(t){return function(e){return e.preventDefault(),t.save()}}(this),"change :file":function(e){return function(n){var r,o,s;if(!i.filereader)throw new Error("File API not supported for cover photo");if(e._fileProcessId||(e._fileProcessId=0),e._fileProcessId++,n.target.files.length>0)return e.edit(),s=new FileReader,(o=n.target.files[0]).type.match("image.*")?(r=e._fileProcessId,s.onload=function(){if(e._fileProcessId=r)return t(".cover_draggable").attr("src",s.result),e.currentVerticalOffset=.5,e.resetDimensions()},s.readAsDataURL(o)):e.$(".error").show()}}(this)}},u.prototype.render=function(){var t;return 100*(t=Number(this.model.get("cover_photo_vertical_offset")))+"%",this.$(".cover").css({"background-image":this.model.has("cover_photo_url")?"url("+this.model.escape("cover_photo_url")+")":"","background-position":"50% "+100*t+"%"}),this._resetDraggableImage(),this.resetDimensions()},u.prototype.setRemoving=function(e){return t(".links").toggle(!e),t(".removing").toggle(e),t(".remove_cover_photo").val(e)},u.prototype.editOrAdd=function(){return this.model.has("cover_photo_url")?this.edit():this._openFileDialog()},u.prototype.show=function(){return this.currentVerticalOffset=Number(this.model.get("cover_photo_vertical_offset")),this.setRemoving(!1),this.$(":file").replaceWith(this.$fileClone.clone()),this.$(".error").hide(),this._resetDraggableImage(),this.resetDimensions(),u.__super__.show.apply(this,arguments)},u.prototype.save=function(){var t,e;return(t=this.$("form")).find(":input.cover_photo_vertical_offset").val(this.currentVerticalOffset),e=m.attributes(t,h.prefix()),this.$(".error").hide(),t.ajaxSubmit(m.loadingOptions(t,{success:function(t){return function(n){return null!=n.errors?t.$(".error").show():(h.set(n.user),h.set(e),t.show())}}(this),dataType:"json",error:function(t){return function(){return t.$(".error").show()}}(this)}))},u.prototype.resetDimensions=function(){return this.$(".cover_draggable").imagesLoaded(function(t){return function(){var e,n;if(null!=t.$("> .edit").height())return n=t.$("> .edit").is(":visible"),t.$("> .edit").show(),t.$el.removeClass("image_stretch_vertical"),t.$(".cover_draggable").css("height","auto"),t.$(".cover_draggable").height()<t.$("> .edit").height()&&(t.$el.addClass("image_stretch_vertical"),t.$(".cover_draggable").height(t.$("> .edit").height())),t.$(".cover_draggable_container").height(2*t.$(".cover_draggable").height()-t.$("> .edit").height()),e=Math.floor((1-t.currentVerticalOffset)*(t.$(".cover_draggable").height()-t.$("> .edit").height())),t.$(".cover_draggable").css("top",e+"px"),t.$("> .edit").toggle(n);r.delay(t.resetDimensions,150)}}(this))},u.prototype.delegateEvents=function(){var t,n,i;return u.__super__.delegateEvents.apply(this,arguments),i=this,this.$(".cover_draggable").each(function(){return i.draggie||(i.draggie=new c(this,{axis:"y",containment:!0}))}),null!=(t=this.draggie)&&t.enable(),null!=(n=this.draggie)&&n.on("dragEnd",function(t){return function(){var e,n;return n=t.$(".cover_draggable").height()-t.$("> .edit").height(),e=parseInt(t.$(".cover_draggable").css("top")),t.currentVerticalOffset=1-e/n,t.currentVerticalOffset<0&&(t.currentVerticalOffset=0,t.resetDimensions()),t.currentVerticalOffset>1&&(t.currentVerticalOffset=1,t.resetDimensions()),!1}}(this)),e(window).on("resize.profiles_show_cover_photo",this.resetDimensions)},u.prototype.undelegateEvents=function(){var t,n;return u.__super__.undelegateEvents.apply(this,arguments),null!=(t=this.draggie)&&t.disable(),null!=(n=this.draggie)&&n.removeAllListeners(),e(window).off("resize.profiles_show_cover_photo")},u.prototype.initialize=function(){return this.$fileClone=t(":file").clone(),this.resetDimensions=r.throttle(r.bind(this.resetDimensions,this),150),this.currentVerticalOffset=Number(this.model.get("cover_photo_vertical_offset")),this.listenTo(this.model,"change:cover_photo_url change:cover_photo_vertical_offset",this.render,this),this.render()},u.prototype._transition=function(t,n){return t.hide(),n.show(),e.when(!0)},u.prototype._openFileDialog=function(){var t;return t=this.$("> .edit").is(":visible"),this.$("> .edit").show(),this.$("> .edit .hidden").show(),this.$(":file").focus().click(),this.$("> .edit .hidden").hide(),this.$("> .edit").toggle(t)},u.prototype._resetDraggableImage=function(){return this.$(".cover_draggable").attr("src",this.model.get("cover_photo_url")||"//:0")},u}(b.EditableRegion),d=new l({model:p,el:n}),u.resolve(d)}})(this).apply(null,c)}.bind(this)).catch(n.oe),u.promise()},header:function(t,n){var i,r,s,a,c,l,p,h;for(i={},s=0,c=(p=["id","user_id","cover_photo_url"]).length;s<c;s++)i[a=p[s]]=n.data(a);if(null==i.user_id)throw new Error("Must provide a user ID so the profile can listen for changes on its associated user model");return l=S.get(C).bootstrap(i),h=S.get(D).bootstrap(n.data("user_id")),t(".js-remove-photo").click(function(){if(confirm("Are you sure you want to remove your profile photo?"))return t(".js-remove-profile-photo-form").ajaxSubmit({type:"PUT",complete:function(t){return window.location.reload()}})}),t(".edit_link_container").removeClass("preload"),t("> .container > .show").each(function(){return l.on("change:cover_photo_url",function(e,i){return n.toggleClass("with_cover",null!=i),t(".edit_cover_photo").text(null!=i?"Edit Cover":"Add Cover"),w.with(t(w.selector("profiles/show/cover_photo")),function(t){return t.resetDimensions()})}),t(this).on("webkitTransitionEnd transitionend msTransitionEnd oTransitionEnd",function(){return w.with(t(w.selector("profiles/show/cover_photo")),function(t){return t.resetDimensions()})}),w.with(t(w.selector("profiles/show/cover_photo")),function(e){return t(".edit_cover_photo").removeClass("loading").on("click",function(){return e.editOrAdd()}),e.on("edit",function(){return n.addClass("with_cover"),w.with(t(w.selector("profiles/show/cover_photo")),function(t){return t.resetDimensions()}),t("> .container").fadeTo("fast",0,function(){return t("> .cover").addClass("editing")})}),e.on("show",function(){return n.toggleClass("with_cover",l.has("cover_photo_url")),t("> .cover").removeClass("editing"),t("> .container").fadeTo("fast",1)})})}),r=new(function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return o(r,i),r.prototype.save=function(){var n,i,r,o,s;return r=e.Deferred(),i=m.attributes(this.$("> .edit"),h.prefix()),o=!(null==(s=this.$("> .edit form .photo :input").val())||!s.length),m.clearInputErrors(t("> .edit form :input")),n=this.$(".save_link"),this.$("> .edit form").ajaxSubmit({data:{use_status_codes:1,section:"profiles/show/tags"},dataType:"json",beforeSend:function(){return n.addClass("c-button--loading")},success:function(){var t,n;return t=1<=arguments.length?u.call(arguments,0):[],n=t[0],o&&h.set("avatar",null),h.set(i),h.set(n.user),w.with(e(w.selector("profiles/show/tags")),function(t){return t.render(n.html)}),F("header"),r.resolveWith(this,t)},error:function(t){return function(){var n,i;return n=1<=arguments.length?u.call(arguments,0):[],t.error(null!=(i=e.parseJSON(n[0].responseText))?i.errors:void 0),r.rejectWith(t,n)}}(this),complete:function(){return n.removeClass("c-button--loading")}}),r.promise()},r.prototype._transition=function(t,i){return n.toggleClass("editing",t.hasClass("show")),n.hasClass("editing")?(e(w.selector("profiles/show/subheader")).hide(),this.$("> .edit .name input").focus().each(function(){return e(this).val(e(this).val())}),this.$("textarea").trigger("autosize.resize")):e(w.selector("profiles/show/subheader")).show(),!0},r.prototype.changeButtonOpacity=function(t){return this.$(".edit_link_container").css("opacity",t)},r}(b.ModelEditableRegion))({el:t("> .container"),model:h}),new(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.saveSelector=function(){return".save_link"},e.prototype.editSelector=function(){return".edit_link"},e.prototype.cancelSelector=function(){return".cancel_link"},e.prototype.controlSelector=function(){return".edit .controls"},e.prototype._transition=function(t,e){return!0},e}(b.EditableRegionControls))({el:this,editableRegion:r}),t(".edit .bio").each(function(){return new v.Autocomplete({el:t(".editable",this),target:t(":input.bio_target",this)}),new m.CharacterCounter({el:t(":input.bio_target",this),max:t(":input.bio_target").data("max"),container:t(".character_counter",this)})}),r},subheader:function(t,n){var i;if(null==n.data("userId"))throw new Error("Must provide a user ID");return t(".tiptip").qtip({defaultPosition:"left"}),(i=S.get(D).bootstrap(n.data("userId"))).on("change:name",function(e){return function(n,i){return t(".js-name",e).text(i)}}(this)),i.on("change:avatar",function(e){return function(n,i){return t(".js-avatar-img",e).attr("src",i),t(".js-add-photo").removeClass("js-add-photo")}}(this)),t(".js-add-headline").click(function(){return w.with(e(w.selector("profiles/show/header")),function(t){return t.edit()})}),t(".flag-profile").magnificPopup({type:"ajax"}),t(".js-largePhotoModal").removeClass("u-hidden"),t(".js-launchLargePhotoModal").magnificPopup({items:{src:t(".js-largePhotoModal"),type:"inline"},callbacks:{open:function(){return e(".mfp-content").css({background:"none","-webkit-box-shadow":"none","box-shadow":"none"})}}}),t(".js-add-photo").click(function(){return window.location.href="/onboarding/photo?from_profile=1"}),t(".js-launchLargePhotoModal").css("cursor","pointer")},structure:function(t,e){var n;return n=t(w.selector("profiles/show/header")),t(".js-header-complete").on("mouseover",function(){return w.with(n,function(t){return t.changeButtonOpacity(.9)})}),t(".js-header-complete").on("mouseleave",function(){return w.with(n,function(t){return t.changeButtonOpacity(.5)})})},tags:function(t,n){var i;return t(".tiptip").qtip({defaultPostion:"top"}),i=n.data("profile-id"),{render:function(t){return t?n.replaceWith(t):e.ajax({url:"profiles/"+i+"/header_tags",type:"GET",success:function(t){return n.replaceWith(t.html)}})}}},links:function(t,n){var i,o,a,u,c,l,p,h;if(i=n.data("id")){for(u=S.get(C).bootstrap(i),t("a").each(function(){if(null!=t(this).data("field"))return u.set(t(this).data("field"),t(this).attr("href"))}),l=r.debounce(function(t){return function(){var i,r,o,a;for(n.empty(),i=0,r=(o=n.data("linkOrder")).length;i<r;i++)a=o[i],u.get(a+"_url")&&e("<a>").addClass("icon link_el").addClass("fontello-"+(n.data("fontelloOverrides")[a]||a)).attr("href",u.get(a+"_url")).attr("target","_blank").wrap("<span>").parent().addClass("link").appendTo(e(t));if(u.get("online_bio_url"))return e("<a>").addClass("link_el").attr("href",u.get("online_bio_url")).attr("target","_blank").text(new s(u.get("online_bio_url")).domain()).wrap("<span>").parent().addClass("link").appendTo(n)}}(this),10),p=[],o=0,a=(c=e(this).data("linkOrder")).length;o<a;o++)h=c[o],p.push(u.on("change:"+h+"_url",l));return p}},notifications:function(t,e){return t("a.claim").magnificPopup({type:"inline"})},reviews:function(n,i){return n(".js-reference_form")&&new(function(t){function n(){return this._success=a(this._success,this),n.__super__.constructor.apply(this,arguments)}return o(n,t),n.prototype.initialize=function(){return n.__super__.initialize.apply(this,arguments),S.get(N).on("saved",this.addStartup,this),this.$("textarea").autosize(),this.on("sync",this.addPending),this.pending_template=r.template("<div class='ref s-vgBottom0_5'> <span class='u-fontWeight300'><%- name %> (<%- email %>) sent just now</span> </div>")},n.prototype.events=function(){return{"focus .js-focus":"showForm","click .js-cancel":"hideForm","click .js-add_details":"showDetails","click .js-delete_reference":"deleteReference","change .js-startup_selector":"toggleRole","change .js-reference_name":"updateName","submit form":function(t){return function(){return t.save(),!1}}(this)}},n.prototype.toggleRole=function(t){return""===e(t.currentTarget).val()?e(".js-role_selector").slideUp("fast"):e(".js-role_selector").slideDown("fast")},n.prototype.addStartup=function(t){var e;if((e=this.$(".js-startup_selector")).is(":visible")||e.closest(".hidden").removeClass("hidden"),!(e.find("option[value='"+t.get("startup_id")+"']").length>0))return e.append("<option value='"+t.get("startup_id")+"'>"+t.get("startup_company_name")+"</option>")},n.prototype.clearName=function(){return this.$(".js-name").each(function(){return e(this).text(e(this).data("default"))}),this.$(".js-name_placeholder").attr("placeholder","Michael is the best boss anyone can ask for...")},n.prototype.updateName=function(t){var e;return""===(e=this.$(t.currentTarget).val().split(" ")[0])?this.clearName():(this.$(".js-name").text(e),this.$(".js-name_placeholder").attr("placeholder",e+" is the best boss anyone can ask for..."))},n.prototype.deleteReference=function(t){return e.ajax({method:"DELETE",url:e(t.currentTarget).data("url"),dataType:"json"}),e(t.currentTarget).closest(".ref").fadeOut()},n.prototype.showDetails=function(){return e(".js-add_details").parent().hide(),e(".js-details_container").slideDown("fast")},n.prototype.addPending=function(){var t;return t=this.pending_template({name:this.model.get("confirmer_name"),email:this.model.get("confirmer_email")}),this.$(".js-pending_references_view").removeClass("hidden"),this.$(".js-pending_references_container").prepend(t)},n.prototype.showForm=function(){return this.$(".js-hidden_fields").slideDown("fast")},n.prototype.hideForm=function(){return this.$("form")[0].reset(),this.$(".js-hidden_fields").slideUp("fast")},n.prototype._success=function(){return this.$("form")[0].reset(),this.$("input:visible:first").focus(),this.clearName(),F("references"),n.__super__._success.apply(this,arguments)},n}(m.StandardForm))({el:n(".js-reference_form"),model:new j}),new(function(t){function i(){return this.edit=a(this.edit,this),i.__super__.constructor.apply(this,arguments)}return o(i,t),i.prototype.events={"click .more":"showMore"},i.prototype.initialize=function(){return this.collection.on("destroy",this.destroy,this),this.original_action=this.$("form").attr("action"),w.with(n(w.selector("reviews/form")),function(t){return function(i){return i.on("save",function(i){return n(".review_form, .form-divider.non-admin").addClass("hidden").find("form")[0].reset(),t.editing_review?t.editing_review.view.update(i):n("ul").removeClass("hidden").append(e('<li class="review">').html(i))})}}(this))},i.prototype.showMore=function(){return this.$(".more").hide(),this.$(".review").removeClass("extra")},i.prototype.destroy=function(){return this.$(".review_form").removeClass("hidden"),this.$("form").prop({action:this.original_action})[0].reset(),this.$('form input[name="_method"]').remove(),n("li.review:visible").length?this.$("ul, .form-divider.non-admin").removeClass("hidden"):this.$("ul, .form-divider.non-admin").addClass("hidden"),this.editing_review=null},i.prototype.edit=function(t){return this.editing_review=t,this.$("form").prop({action:t.url()}).find('[name="review[note]"]').val(t.get("note")),this.$("form").append(e('<input type="hidden" name="_method" value="PUT" />')),e.scrollTo(this.$(".review_form").removeClass("hidden"),{duration:500}),this.$(".form-divider.non-admin").removeClass("hidden")},i}(t.View))({el:i,collection:S.get(A)})},social:function(n,i){var r,s,a;return n(".tiptip").qtip({defaultPosition:"top"}),null!=i.data("follow")&&((s=new E(i.data("follow"))).isNew()||(s=S.get(E).bootstrap(s.toJSON())),a={},new(r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.renderCreated=function(){return this.$el.addClass("following").removeClass("faded").removeClass("not_following").text("Following")},e.prototype.renderDestroyed=function(){return this.$el.addClass("not_following").addClass("faded").removeClass("following").text("Follow")},e.prototype.initialize=function(){return e.__super__.initialize.apply(this,arguments),this.listenTo(this,"request",function(t){return function(){return t.currentXhr().always(function(){return t.$el.removeClass("active")})}}(this))},e.prototype.click=function(){return null!=this.currentXhr()&&this.$el.addClass("active"),e.__super__.click.apply(this,arguments)},e.prototype._destroyModel=function(t){return t.destroy({parameters:a})},e.prototype._saveModel=function(t){return t.save(null,{parameters:a})},e}(_.FollowToggleView))({el:n(".action.follow"),attributes:s.pick(r.REQUIRED_ATTRIBUTES)})),y.isHandheld()||i.data("no-sticky-header")||new P({element:i[0],handler:function(t){return"down"===t?e(this.element).addClass("fixed-top").fadeIn(400):e(this.element).removeClass("fixed-top").css("display","")},offset:function(){return-e(this.element).height()}}),new(function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return o(i,t),i.prototype.events=function(){return{"click .js-profile-dropdown-button a":"loadProfileSettings"}},i.prototype.initialize=function(t){return this.reloadingBar=!1,O.on("user_graph_update",function(t){return function(){return t.onReloadBar()}}(this)),l.events().on("user_graph_update",function(t){return function(){return t.onReloadBar()}}(this)),n(".js-magnific").magnificPopup({type:"ajax"}),this.dropdown=new f(this.$(".js-profile-dropdown-button"),this.$(".js-profile-dropdown-menu"),{left:!1,over:!0,offset_top:20}).bind()},i.prototype.onReloadBar=function(){if(!this.reloadingBar)return this.reloadingBar=!0,this.$(".js-social-container").hide(),V("social"),this.reload},i.prototype.replaceContent=function(t){return this.$el.replaceWith(t),this.reloadingBar=!1},i.prototype.loadProfileSettings=function(t){if(this.$(".loading").length)return e.ajax({url:e(t.currentTarget).data("href"),type:"GET",dataType:"json",success:function(t){return function(e){return t.$(".js-message-settings-container").html(e.html)}}(this),error:function(t){return function(){return t.$(".js-message-settings-container").html("There was an error loading this content.")}}(this)})},i}(t.View))({el:i})},social_subheader:function(t,n){return t(".js-mutual-connections").click(function(n){return n.preventDefault(),e.ajax({url:t(this).data("url"),data:"json",success:function(t){return e.magnificPopup.open({items:{src:t.html},type:"inline"})}})})},social_dropdown:function(n,i){return new(function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return o(i,t),i.prototype.events={"click .js-edit-connection":"_onTrackAction","click .js-disconnect-connection":"_onTrackAction","click .js-cancel-request":"_onTrackAction","click .js-block":"_onTrackAction","click .js-unblock":"_onTrackAction","click .js-expand-metadata":"_onClickExpand"},i.prototype._initializeDropdown=function(){return this.dropdown=new f(n(".js-dropdown-button"),n(".js-dropdown-menu"),{left:!1,over:!0,offset_top:10}).bind()},i.prototype.initialize=function(t){return this._initializeDropdown(),n(".js-magnific").magnificPopup({type:"ajax"}),this.track_params={source:"neighbor_profile",neighbor_id:this.$el.data("neighbor-id")},this.vent=t.vent},i.prototype._onTrackAction=function(t){var n;return(n=e(t.target)).hasClass("js-edit-connection")?R.track("UserGraph.Edit",this.track_params):n.hasClass("js-disconnect-connection")?R.track("UserGraph.DisconnectShow",this.track_params):n.hasClass("js-cancel-request")?R.track("UserGraph.Cancel",this.track_params):n.hasClass("js-unblock")?R.track("UserGraph.Unblock",this.track_params):n.hasClass("js-block")?R.track("UserGraph.Block",this.track_params):void 0},i.prototype._onClickExpand=function(t){return t.preventDefault(),n(".js-expand-metadata").hide(),n(".js-hidden-metadata").show()},i}(t.View))({el:i,vent:O})},connect_button:function(n,i){return new(function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return o(i,t),i.prototype.events={"click .js-request-connection":"requestConnection","click .js-accept-connection":"acceptConnection","click .js-ignore-connection":"ignoreConnection","click .js-disconnect":"disconnectConnection","click .js-verify":"verifyConnection"},i.prototype.initialize=function(t){return this.source=this.$el.data("source"),this.$(".tiptip").qtip({defaultPosition:"top",show:{effect:!1,delay:0},hide:{effect:!1}})},i.prototype.requestConnection=function(t){var n,i;return e.facybox.close(),e.magnificPopup.close(),(i=e(t.currentTarget)).removeClass("js-request-connection"),i.addClass("c-button--loading"),n=i.data("invited-id"),e.ajax({url:i.data("href"),type:"POST",data:{invited_id:n},success:function(t){return function(n){return O.trigger("user_graph_update"),e.magnificPopup.open({closeOnBgClick:!1,showCloseBtn:!1,enableEscapeKey:!1,items:{src:"/user_graph_edges/"+n.edge_id+"?post_request=true&source="+t.source+"&request_id="+n.request_id},type:"ajax"}),i.addClass("js-request-connection"),i.removeClass("c-button--loading")}}(this),error:function(t){var e;return g(null!=(null!=t&&null!=(e=t.responseJSON)?e.error:void 0)?t.responseJSON.error:"An error occurred, please try reloading the page.")}})},i.prototype.acceptConnection=function(t){var i,r;return e.facybox.close(),(i=e(t.currentTarget)).hide(),n(".js-show-connections-button").show(),n(".js-ignore-connection").hide(),r=i.data("neighbor-id"),e.ajax({url:i.data("href"),type:"POST",success:function(t){return function(n){return R.track("UserGraph.Accept",{source:t.source,neighbor_id:r}),O.trigger("user_graph_update"),e.magnificPopup.open({items:{src:"/user_graph_edges/"+n.edge_id+"?source=neighbor_profile"},type:"ajax"})}}(this),error:function(t){return g(t.error?t.error:"An error occurred, please try reloading the page.")}})},i.prototype.ignoreConnection=function(t){var i,r;return e.facybox.close(),(i=e(t.currentTarget)).hide(),n(".js-accept-connection").hide(),n(".js-block-link").show(),r=i.data("neighbor-id"),e.ajax({url:i.data("href"),type:"POST",success:function(t){return function(e){return R.track("UserGraph.Ignore",{source:t.source,neighbor_id:r}),O.trigger("user_graph_update")}}(this),error:function(t){return g(t.error?t.error:"An error occurred, please try reloading the page.")}})},i.prototype.disconnectConnection=function(t){return e.facybox.close(),e.magnificPopup.open({items:{src:e(t.currentTarget).data("href")},type:"ajax"})},i.prototype.verifyConnection=function(t){return e.facybox.close(),e.magnificPopup.open({items:{src:e(t.currentTarget).data("href")},type:"ajax"}),l.events().on("close_graph_modal",function(t){if(t.connected)return n(".js-verify").hide(),n(".js-show-connections-button").show()})},i}(t.View))(r.extend(i.data(),{el:i}))},review:function(n,i){var r,s;return r=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return o(n,t),n.prototype.events={"click .toggle":"toggle","click .destroy":"destroy","click .edit":"edit"},n.prototype.initialize=function(){return this.listenTo(this.model,"change:hidden",this.render,this)},n.prototype.toggle=function(t){return t.preventDefault(),this.model.save({hidden:!this.model.get("hidden")},{url:this.$(".toggle").attr("href")})},n.prototype.edit=function(){return w.with(w.selector("profiles/show/reviews"),function(t){return t.edit(s)})},n.prototype.render=function(){return this.$(".review").toggleClass("hidden_review",this.model.get("hidden")),this.$(".toggle").text(this.model.get("hidden")?"Show":"Hide")},n.prototype.update=function(t){var n;return n=e("<li class='review'>").html(t),this.$el.replaceWith(n),this.el=n},n.prototype.destroy=function(t){if(t.preventDefault(),confirm("Are you sure you want to delete this review? This can't be undone."))return this.$el.hide(),this.model.destroy()},n}(t.View),(s=S.get(A).bootstrap(i.data("review"))).view=new r({el:i.parent(),model:s})},admin:function(t,n){return t("> .header .toggle").on("click",function(){return n.children().hide(),t("> .header").show(),t(this).hide(),t("> .header .loading").show(),e.get(t(this).attr("href"),{},function(t){return n.replaceWith(t)},"html"),!1}),n.on("click",".delete_email",function(n){return n.preventDefault(),e.ajax({url:t(this).attr("href"),method:"DELETE"}),t(this).closest(".info").fadeOut()}),t(".merge").on("click",function(){return t(".merge_content").show()}),t(".talent_decline").on("click",function(){var t;return null!==(t=prompt("Why are you banning them? (Optional, but recommended)"))&&(e(this).attr("href",e(this).attr("href")+"&message="+t),!0)}),t(".js-action").click(function(t){return t.preventDefault(),confirm("Are you sure you want to "+e(this).data("title"))&&(e.post(e(this).attr("href")),e(this).replaceWith("Done")),!1}),t(".js-blacklist").on("click",function(){var t;return null!==(t=prompt("Why are you blacklisting them? (Optional, but recommended -- please include documentation if possible)"))&&(e(this).attr("href",e(this).attr("href")+"&message="+t),!0)}),t(".js-new-microfund").click(function(t){return e.facybox({ajax:e(t.currentTarget).data("url")})}),t(".js-delete-investment-entity").click(function(t,n){var i;if(t.preventDefault(),i=e(t.target),confirm("Are you sure you want to delete this investment entity?"))return e.ajax({url:e(this).data("url"),method:"DELETE",success:function(t){return t.success?window.location.reload():(alert("Unable to delete investment entity"),i.html("Unable to delete"))}})})},message_button:function(t,e){return t("a",this).magnificPopup({type:"ajax"})},recommended_people:function(t,n){return e.get(n.data("load_url"),{},function(i){return 0===e.trim(i).length?n.fadeOut("fast"):t(".content .show").removeClass("loading").html(i)})},connections:function(t,e){return I(e)},follow_button:function(n,i){return new(function(t){function n(){return this.destroy_follow=a(this.destroy_follow,this),this.create_follow=a(this.create_follow,this),this.error=a(this.error,this),n.__super__.constructor.apply(this,arguments)}return o(n,t),n.prototype.initialize=function(){return this.follow=this.$(".js-follow"),this.unfollow=this.$(".js-unfollow"),this.follow_token=this.$el.data("follow_token"),this.followed_token=this.$el.data("followed_token")},n.prototype.events=function(){return{"click .js-follow":function(t){return function(){return t.create_follow()}}(this),"click .js-unfollow":function(t){return function(){return t.destroy_follow()}}(this)}},n.prototype.error=function(){return g("An error occured while saving the data, please try to reload the page.")},n.prototype.create_follow=function(){if(!this.follow.hasClass("u-hidden"))return e.ajax({url:"/follows.js",data:{followed_token:this.followed_token,followed_type:"User"},type:"post",dataType:"json",success:function(t){return function(e){return e.success?(t.follow_token=e.follow_token,O.trigger("user_graph_update")):t.error()}}(this),error:function(t){return function(){return t.error()}}(this)})},n.prototype.destroy_follow=function(){if(!this.unfollow.hasClass("u-hidden"))return e.ajax({url:"/follows/"+this.follow_token+".js",data:{_method:"delete"},type:"post",dataType:"json",success:function(t){return function(e){return e.success?O.trigger("user_graph_update"):t.error()}}(this),error:function(t){return function(){return t.error()}}(this)})},n}(t.View))({el:i})},experience:function(e,n){return new(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.events={"click .js-control-links a":"_onControlLinkClick"},e.prototype.focus=function(){return this.$("input:visible").first().focus()},e.prototype._onControlLinkClick=function(t){return w.with(this.$(w.selector("startup_roles/portfolio")),function(e){return e.controlsClick(t)})},e}(t.View))({el:n})},profile_college_tagger:function(n,i){var s,u,c,l,p,f,g;return s=function(t){function n(){return this.destroyTagging=a(this.destroyTagging,this),this.confirmTagging=a(this.confirmTagging,this),n.__super__.constructor.apply(this,arguments)}return o(n,t),n.prototype.events={"click .js-confirm-tagging":"confirmTagging","click .js-delete-tagging":"destroyTagging"},n.prototype.removeRow=function(t){if(t.remove(),!this.$(".classmate-tagging-row").length)return this.$(".js-classmate-confirm").remove()},n.prototype.confirmTagging=function(t){var n,i,r;return n=e(t.target),i=n.parents(".classmate-tagging-row"),n.data("name"),r=n.data("id"),e.ajax({url:"collaborator_taggings/"+r+"/confirm_classmate",type:"post",data:{id:r},beforeSend:function(){return n.addClass("c-button--loading"),i.find(".error").empty()},success:function(t){return function(e){return t.removeRow(i),t.collection.reset(e.data)}}(this),error:function(){return i.find(".error").text("An error occurred while confirming classmates.")},complete:function(){return n.removeClass("c-button--loading")}})},n.prototype.destroyTagging=function(t){var n,i,r;return n=e(t.target),i=n.parents(".classmate-tagging-row"),r=n.data("id"),e.ajax({url:"collaborator_taggings/"+r,type:"post",data:{_method:"delete",id:r},beforeSend:function(){return n.addClass("c-button--loading")},success:function(t){return function(e){return t.removeRow(i)}}(this),complete:function(){return n.removeClass("c-button--loading")}})},n}(t.View),g=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.events={"click .js-add":"quickAdd",keypress:"submit"},e.prototype.initialize=function(){var t,e,n,i,r;for(this.fields=["name","graduation_year","user_id"],this.input={},n=0,i=(r=this.fields).length;n<i;n++)e=r[n],this.input[e]=this.$("input[name='"+e+"']");return t=new d.TagAutocomplete({el:this.input.name,tag_type:"CollegeTag"}),this.listenTo(t,"select",function(t){return function(e){return t.input.name.attr("value",e.tag.display_name),t.input.graduation_year.focus()}}(this))},e.prototype.resetInput=function(){return this.$("input:visible").val("")},e.prototype.quickAdd=function(){var t;if(""!==this.input.name.val().trim())return this.$("input, a").blur(),(t=this.create()).isValid()?this.trigger("quickAdd"):this.showErrors(t.validationError)},e.prototype.submit=function(t){if(13===t.keyCode&&(this.input.graduation_year.is(":focus")||this.input.name.is(":focus"))){if(this.input.graduation_year.is(":focus"))return this.quickAdd();if(""!==this.input.name.val().trim())return this.input.graduation_year.focus()}},e}(h.AddTaggingView),f=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return o(n,t),n.prototype.initialize=function(){return n.__super__.initialize.apply(this,arguments),this.showEditView=!1,this.quickAddView=new this.quickTaggingViewClass({el:this.$(".js-quick-add"),collection:this.collection}),new this.confirmClassmatesViewClass({el:this.$el,collection:this.collection}),this.listenTo(this.quickAddView,"quickAdd",function(t){return function(){return t.showEditView=!0}}(this))},n.prototype.resetControls=function(){var t,e,n,i,r;if(this.rowViews){for(i=[],t=0,e=(n=this.rowViews).length;t<e;t++)r=n[t],i.push(r.resetRow());return i}},n.prototype.editTagging=function(t){var e,n;return this.addNewTaggingView.edit(t),this.isEditing=!0,this.resetControls(),r.find(this.rowViews,function(e){return e.model.id===t.id}).showEditForm(this.$(".js-new-form")),n=(e=this.$("textarea")).siblings().find(".character-counter"),new m.CharacterCounter({el:e,max:e.data("max"),container:n})},n.prototype.renderProfileTags=function(){return w.with(e(w.selector("profiles/show/tags")),function(t){return t.render()})},n.prototype.collectionRemove=function(){return n.__super__.collectionRemove.apply(this,arguments),this.renderProfileTags()},n.prototype.collectionReset=function(){var t,e,i,o,s,a;for(this.hideTaggingView(),n.__super__.collectionReset.apply(this,arguments),t=0,e=(o=this.rowViews).length;t<e;t++)s=o[t],this.listenTo(s,"cancelEdit",function(t){return function(){return t.hideTaggingView()}}(this));return this.showEditView&&((i=(a=r.sortBy(this.rowViews,function(t){return t.model.get("id")}))[a.length-1]).trigger("edit",i.model),this.showEditView=!1,this.quickAddView.resetInput()),this.renderProfileTags(),F("education")},n.prototype.hideTaggingView=function(){return this.isEditing=!1,this.addNewTaggingView&&e(".js-form-template").append(this.addNewTaggingView.$el.hide()),this.resetControls()},n}(h.EditableTaggingList),c=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.events=function(){return{"click .js-edit":function(t){return function(){return t.trigger("edit",t.model)}}(this),"click .js-delete":function(t){return function(){return t.removeCollege()}}(this),"click .control.js-cancel":function(t){return function(){return t.trigger("cancelEdit")}}(this)}},e.prototype.removeCollege=function(){if(confirm("Are you sure you want to remove this entry?"))return this.model.destroy()},e.prototype.resetRow=function(){return this.$(".js-college-details, .js-edit").show(),this.$(".control.js-cancel").hide()},e.prototype.showEditForm=function(t){return this.$(".js-new-form-container").append(t.show()),this.$(".js-college-details").hide(),this.$('input:visible[value=""], textarea[value=""]').first().focus(),this.$(".js-edit, .control.js-cancel").toggle()},e.prototype.cta=function(){switch(!1){case 0!==(this.model.get("majors")||[]).length:return"Add major";case!!this.model.get("graduation_year"):return"Add graduation year";case!!this.model.get("degree_name"):return"Add details";case!!this.model.get("gpa"):return"Add GPA"}},e.prototype.degree_description=function(){var t,e,n;return e=(n=[(this.model.get("majors")||[]).join(", "),this.model.get("degree_name")])[0],t=n[1],r.compact([t,e]).join(", ")},e.prototype.formatted_gpa=function(){var t,e,n;return e=(n=[this.model.get("gpa"),this.model.get("max_gpa")])[1],(t=n[0])?r.compact([t,e]).map(function(t){return t.toPrecision(3)}).join(" / ")+" GPA":null},e.prototype.metadata=function(){return{degree_description:this.degree_description(),has_classmates:this.model.get("classmates")&&this.model.get("classmates").length,formatted_gpa:this.formatted_gpa()}},e.prototype.renderClassmate=function(t,e){return t?"<a class='u-uncoloredLink' href='"+t+"' target='_blank'>"+e+"</a>":"<span>"+e+"</span>"},e.prototype.render=function(){var t,e,n,i,o,s;if(i=r.extend(this.model.toJSON(),{metadata:this.metadata(),cta:this.cta()}),this.$el.html(this.renderTemplate("#college-row-template",i)),n=this.model.get("classmates")){for(e=[],o=0,s=n.length;o<s;o++)t=n[o],e.push(this.renderClassmate(t.collaborator_slug_url,t.collaborator_to_s));return this.$(".js-classmates").html(e.join(", "))}},e}(h.CollegeRow),u=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.events={keypress:"submit"},e.prototype.submit=function(t){if(13===t.keyCode&&!this.$("textarea").is(":focus"))return this.add()},e.prototype.show=function(t){var n;return null==t&&(t={}),n=r.extend({doNotShowElement:!0},t),e.__super__.show.call(this,n)},e.prototype.edit=function(t){var n;return(n=this.$(w.selector("projects/collaborator_form"))).data("collaboration-id",t.get("id")),n.data("collaboration-type","Degree"),n.data("collaborator-taggings",t.get("classmates")),w.with(n,function(t){return t.initialize({el:n})}),e.__super__.edit.apply(this,arguments)},e}(h.AddEditDegreeView),l=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,$),e.prototype.validate=function(t,e){var n,i;if(n=[],r.isEmpty(t.name)&&n.push("Please enter a college name"),(null!=(i=t.description)?i.length:void 0)>300&&n.push("Description is too long"),t.gpa&&Number(t.gpa)<0&&n.push("GPA cannot be negative"),t.gpa&&isNaN(Number(t.gpa))&&n.push("Invalid number entered for GPA"),t.max_gpa&&isNaN(Number(t.max_gpa))&&n.push("Invalid number entered for max GPA"),t.max_gpa&&Number(t.max_gpa)<0&&n.push("Max GPA cannot be negative"),t.max_gpa&&Number(t.max_gpa)>100&&n.push("Max GPA cannot exceed 100"),t.gpa&&Number(t.gpa)>100&&n.push("GPA cannot exceed 100"),t.max_gpa&&t.gpa&&Number(t.gpa)>Number(t.max_gpa)&&n.push("GPA cannot exceed max GPA"),n.length>0)return n},e}(),p=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.model=l,e.prototype.comparator=function(t){return-t.get("graduation_year")},e}(h.DegreeCollection),new(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,f),e.prototype.collectionClass=p,e.prototype.rowViewClass=c,e.prototype.newTaggingViewClass=u,e.prototype.quickTaggingViewClass=g,e.prototype.confirmClassmatesViewClass=s,e}())({el:i})},completeness:function(t,n){return new(function(t){function n(){return this._success=a(this._success,this),n.__super__.constructor.apply(this,arguments)}return o(n,t),n.prototype.events=function(){return r.extend(n.__super__.events.apply(this,arguments),{"click .tip_link":function(t){return k.handle_click(t,this.profileType)},"click .js-dismiss":"_onDismissClick"})},n.prototype._onDismissClick=function(t){return t.preventDefault(),this.$el.slideUp(400,function(t){return function(){return t.remove()}}(this)),e.post(this.$(t.target).attr("href"))},n.prototype.updatePercent=function(t,e){if(t.text(e+"%"),this.$el.data("pct-complete",e),e<50)return this.$(".js-autocomplete").show()},n.prototype.showNextStep=function(t){return t?(this.$(".js-next-tip").attr("href",t.link),this.$(".js-next-tip").html(t.title+" &raquo"),this.$(".next").show()):(this.$(".next").hide(),this.$(".share").show())},n.prototype._success=function(t){return this.showNextStep(t.next_tip),this.$el.data("pct-complete")<35?(this.$(".js-large-font-section").addClass("u-fontSize20"),this.$(".js-small-font-section").addClass("u-fontSize16")):(this.$(".js-large-font-section").removeClass("u-fontSize20"),this.$(".js-small-font-section").removeClass("u-fontSize16")),this.$el.data("pct-complete")>35&&this.$(".js-onesignal-section").length>0?(this.$(".js-completeness-section").hide(),this.$(".js-onesignal-section").show()):(this.$(".js-onesignal-section").hide(),this.$(".js-completeness-section").show().css("visibility","visible")),this.$el.data("completed-sections",t.completed_sections||{})},n.prototype.reload=function(t){var e;if(!(e=this.$el.data("completed-sections"))||!e[t])return this.load()},n}(k.Completeness))({el:n,profileType:"user",completenessUrl:n.data("completeness-url")})},projects:function(n,i){return new(function(t){function i(){return this._hideReorder=a(this._hideReorder,this),this._showReorder=a(this._showReorder,this),i.__super__.constructor.apply(this,arguments)}return o(i,t),i.prototype.events={"click .js-start-reorder":"_showReorder","click .js-stop-reorder":"_hideReorder"},i.prototype._showReorder=function(){var t,e,n;if(e=this.$el.find(".js-start-reorder"),t=this._container(),n=this._projects(),!(e.length<1||n.length<2))return n.addClass("reorder"),e.removeClass("js-start-reorder").addClass("js-stop-reorder").html("Done"),t.sortable({axis:"y",cursor:"move",containment:"parent",tolerance:"pointer"}),t.sortable({disabled:!1});this._hideReorder()},i.prototype._hideReorder=function(t){var i,r,o;return t=this.$el.find(".js-stop-reorder"),i=this._container(),(o=this._projects()).removeClass("reorder"),t.removeClass("js-stop-reorder").addClass("js-start-reorder").html("Reorder"),i.sortable({disabled:!0}),r=[],o.each(function(t,e){return r.push(n(e).data("id"))}),e.ajax({url:i.data("orderUrl"),data:{ids:r},type:"PUT",error:function(t){return alert("Something went wrong. Could not reorder your projects.")}})},i.prototype._container=function(){return this.$(".js-projects-container > *")},i.prototype._projects=function(){return this._container().find("> *")},i}(t.View))({el:i,vent:O})}}}.apply(e,i))||(t.exports=r)}}]);